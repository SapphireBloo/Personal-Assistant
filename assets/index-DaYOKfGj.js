(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function SA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oy={exports:{}},Rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function mO(){if(qE)return Rc;qE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var f in r)f!=="key"&&(a[f]=r[f])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Rc.Fragment=e,Rc.jsx=t,Rc.jsxs=t,Rc}var HE;function pO(){return HE||(HE=1,oy.exports=mO()),oy.exports}var Q=pO(),ay={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function gO(){if($E)return De;$E=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function I(M,ie,de){this.props=M,this.context=ie,this.refs=P,this.updater=de||S}I.prototype.isReactComponent={},I.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},I.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=I.prototype;function H(M,ie,de){this.props=M,this.context=ie,this.refs=P,this.updater=de||S}var G=H.prototype=new B;G.constructor=H,R(G,I.prototype),G.isPureReactComponent=!0;var X=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function k(M,ie,de,ae,we,Ve){return de=Ve.ref,{$$typeof:n,type:M,key:ie,ref:de!==void 0?de:null,props:Ve}}function x(M,ie){return k(M.type,ie,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function N(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return ie[de]})}var z=/\/+/g;function L(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):ie.toString(36)}function D(){}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ct(M,ie,de,ae,we){var Ve=typeof M;(Ve==="undefined"||Ve==="boolean")&&(M=null);var Ie=!1;if(M===null)Ie=!0;else switch(Ve){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(M.$$typeof){case n:case e:Ie=!0;break;case y:return Ie=M._init,ct(Ie(M._payload),ie,de,ae,we)}}if(Ie)return we=we(M),Ie=ae===""?"."+L(M,0):ae,X(we)?(de="",Ie!=null&&(de=Ie.replace(z,"$&/")+"/"),ct(we,ie,de,"",function(Di){return Di})):we!=null&&(C(we)&&(we=x(we,de+(we.key==null||M&&M.key===we.key?"":(""+we.key).replace(z,"$&/")+"/")+Ie)),ie.push(we)),1;Ie=0;var jt=ae===""?".":ae+":";if(X(M))for(var at=0;at<M.length;at++)ae=M[at],Ve=jt+L(ae,at),Ie+=ct(ae,ie,de,Ve,we);else if(at=b(M),typeof at=="function")for(M=at.call(M),at=0;!(ae=M.next()).done;)ae=ae.value,Ve=jt+L(ae,at++),Ie+=ct(ae,ie,de,Ve,we);else if(Ve==="object"){if(typeof M.then=="function")return ct(bt(M),ie,de,ae,we);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function W(M,ie,de){if(M==null)return M;var ae=[],we=0;return ct(M,ae,"","",function(Ve){return ie.call(de,Ve,we++)}),ae}function he(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ce(){}return De.Children={map:W,forEach:function(M,ie,de){W(M,function(){ie.apply(this,arguments)},de)},count:function(M){var ie=0;return W(M,function(){ie++}),ie},toArray:function(M){return W(M,function(ie){return ie})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=I,De.Fragment=t,De.Profiler=r,De.PureComponent=H,De.StrictMode=i,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,De.__COMPILER_RUNTIME={__proto__:null,c:function(M){return re.H.useMemoCache(M)}},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cloneElement=function(M,ie,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=R({},M.props),we=M.key,Ve=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(we=""+ie.key),ie)!se.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(ae[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)ae.children=de;else if(1<Ie){for(var jt=Array(Ie),at=0;at<Ie;at++)jt[at]=arguments[at+2];ae.children=jt}return k(M.type,we,void 0,void 0,Ve,ae)},De.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},De.createElement=function(M,ie,de){var ae,we={},Ve=null;if(ie!=null)for(ae in ie.key!==void 0&&(Ve=""+ie.key),ie)se.call(ie,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(we[ae]=ie[ae]);var Ie=arguments.length-2;if(Ie===1)we.children=de;else if(1<Ie){for(var jt=Array(Ie),at=0;at<Ie;at++)jt[at]=arguments[at+2];we.children=jt}if(M&&M.defaultProps)for(ae in Ie=M.defaultProps,Ie)we[ae]===void 0&&(we[ae]=Ie[ae]);return k(M,Ve,void 0,void 0,null,we)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:f,render:M}},De.isValidElement=C,De.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:he}},De.memo=function(M,ie){return{$$typeof:p,type:M,compare:ie===void 0?null:ie}},De.startTransition=function(M){var ie=re.T,de={};re.T=de;try{var ae=M(),we=re.S;we!==null&&we(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ce,ce)}catch(Ve){ce(Ve)}finally{re.T=ie}},De.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},De.use=function(M){return re.H.use(M)},De.useActionState=function(M,ie,de){return re.H.useActionState(M,ie,de)},De.useCallback=function(M,ie){return re.H.useCallback(M,ie)},De.useContext=function(M){return re.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,ie){return re.H.useDeferredValue(M,ie)},De.useEffect=function(M,ie,de){var ae=re.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(M,ie)},De.useId=function(){return re.H.useId()},De.useImperativeHandle=function(M,ie,de){return re.H.useImperativeHandle(M,ie,de)},De.useInsertionEffect=function(M,ie){return re.H.useInsertionEffect(M,ie)},De.useLayoutEffect=function(M,ie){return re.H.useLayoutEffect(M,ie)},De.useMemo=function(M,ie){return re.H.useMemo(M,ie)},De.useOptimistic=function(M,ie){return re.H.useOptimistic(M,ie)},De.useReducer=function(M,ie,de){return re.H.useReducer(M,ie,de)},De.useRef=function(M){return re.H.useRef(M)},De.useState=function(M){return re.H.useState(M)},De.useSyncExternalStore=function(M,ie,de){return re.H.useSyncExternalStore(M,ie,de)},De.useTransition=function(){return re.H.useTransition()},De.version="19.1.0",De}var GE;function d_(){return GE||(GE=1,ay.exports=gO()),ay.exports}var le=d_();const Bd=SA(le);var ly={exports:{}},Cc={},uy={exports:{}},cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function yO(){return YE||(YE=1,function(n){function e(W,he){var ce=W.length;W.push(he);e:for(;0<ce;){var Ce=ce-1>>>1,M=W[Ce];if(0<r(M,he))W[Ce]=he,W[ce]=M,ce=Ce;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var he=W[0],ce=W.pop();if(ce!==he){W[0]=ce;e:for(var Ce=0,M=W.length,ie=M>>>1;Ce<ie;){var de=2*(Ce+1)-1,ae=W[de],we=de+1,Ve=W[we];if(0>r(ae,ce))we<M&&0>r(Ve,ae)?(W[Ce]=Ve,W[we]=ce,Ce=we):(W[Ce]=ae,W[de]=ce,Ce=de);else if(we<M&&0>r(Ve,ce))W[Ce]=Ve,W[we]=ce,Ce=we;else break e}}return he}function r(W,he){var ce=W.sortIndex-he.sortIndex;return ce!==0?ce:W.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],p=[],y=1,_=null,b=3,S=!1,R=!1,P=!1,I=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function X(W){for(var he=t(p);he!==null;){if(he.callback===null)i(p);else if(he.startTime<=W)i(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(p)}}function re(W){if(P=!1,X(W),!R)if(t(d)!==null)R=!0,se||(se=!0,L());else{var he=t(p);he!==null&&ct(re,he.startTime-W)}}var se=!1,k=-1,x=5,C=-1;function N(){return I?!0:!(n.unstable_now()-C<x)}function z(){if(I=!1,se){var W=n.unstable_now();C=W;var he=!0;try{e:{R=!1,P&&(P=!1,H(k),k=-1),S=!0;var ce=b;try{t:{for(X(W),_=t(d);_!==null&&!(_.expirationTime>W&&N());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,b=_.priorityLevel;var M=Ce(_.expirationTime<=W);if(W=n.unstable_now(),typeof M=="function"){_.callback=M,X(W),he=!0;break t}_===t(d)&&i(d),X(W)}else i(d);_=t(d)}if(_!==null)he=!0;else{var ie=t(p);ie!==null&&ct(re,ie.startTime-W),he=!1}}break e}finally{_=null,b=ce,S=!1}he=void 0}}finally{he?L():se=!1}}}var L;if(typeof G=="function")L=function(){G(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,bt=D.port2;D.port1.onmessage=z,L=function(){bt.postMessage(null)}}else L=function(){B(z,0)};function ct(W,he){k=B(function(){W(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var ce=b;b=he;try{return W()}finally{b=ce}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=b;b=W;try{return he()}finally{b=ce}},n.unstable_scheduleCallback=function(W,he,ce){var Ce=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,W={id:y++,callback:he,priorityLevel:W,startTime:ce,expirationTime:M,sortIndex:-1},ce>Ce?(W.sortIndex=ce,e(p,W),t(d)===null&&W===t(p)&&(P?(H(k),k=-1):P=!0,ct(re,ce-Ce))):(W.sortIndex=M,e(d,W),R||S||(R=!0,se||(se=!0,L()))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var he=b;return function(){var ce=b;b=he;try{return W.apply(this,arguments)}finally{b=ce}}}}(cy)),cy}var QE;function vO(){return QE||(QE=1,uy.exports=yO()),uy.exports}var fy={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function _O(){if(KE)return cn;KE=1;var n=d_();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,y)},cn.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},cn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},cn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},cn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},cn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},cn.requestFormReset=function(d){i.d.r(d)},cn.unstable_batchedUpdates=function(d,p){return d(p)},cn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var XE;function bO(){if(XE)return fy.exports;XE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fy.exports=_O(),fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function wO(){if(WE)return Cc;WE=1;var n=vO(),e=d_(),t=bO();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(i(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return f(m),s;if(g===c)return f(m),o;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=g;else{for(var E=!1,T=m.child;T;){if(T===l){E=!0,l=m,c=g;break}if(T===c){E=!0,c=m,l=g;break}T=T.sibling}if(!E){for(T=g.child;T;){if(T===l){E=!0,l=g,c=m;break}if(T===c){E=!0,c=g,l=m;break}T=T.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function bt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case I:return"Profiler";case P:return"StrictMode";case re:return"Suspense";case se:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case G:return(s.displayName||"Context")+".Provider";case H:return(s._context.displayName||"Context")+".Consumer";case X:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return o=s.displayName||null,o!==null?o:bt(s.type)||"Memo";case x:o=s._payload,s=s._init;try{return bt(s(o))}catch{}}return null}var ct=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ce=[],M=-1;function ie(s){return{current:s}}function de(s){0>M||(s.current=Ce[M],Ce[M]=null,M--)}function ae(s,o){M++,Ce[M]=s.current,s.current=o}var we=ie(null),Ve=ie(null),Ie=ie(null),jt=ie(null);function at(s,o){switch(ae(Ie,o),ae(Ve,s),ae(we,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?yE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=yE(o),s=vE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}de(we),ae(we,s)}function Di(){de(we),de(Ve),de(Ie)}function tr(s){s.memoizedState!==null&&ae(jt,s);var o=we.current,l=vE(o,s.type);o!==l&&(ae(Ve,s),ae(we,l))}function fs(s){Ve.current===s&&(de(we),de(Ve)),jt.current===s&&(de(jt),Ec._currentValue=ce)}var go=Object.prototype.hasOwnProperty,yo=n.unstable_scheduleCallback,vo=n.unstable_cancelCallback,_u=n.unstable_shouldYield,Mf=n.unstable_requestPaint,Zn=n.unstable_now,op=n.unstable_getCurrentPriorityLevel,bu=n.unstable_ImmediatePriority,Oa=n.unstable_UserBlockingPriority,_o=n.unstable_NormalPriority,ap=n.unstable_LowPriority,ka=n.unstable_IdlePriority,wu=n.log,Pf=n.unstable_setDisableYieldValue,wt=null,Je=null;function Un(s){if(typeof wu=="function"&&Pf(s),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(wt,s)}catch{}}var ln=Math.clz32?Math.clz32:bo,Nf=Math.log,lp=Math.LN2;function bo(s){return s>>>=0,s===0?32:31-(Nf(s)/lp|0)|0}var wo=256,Eo=4194304;function gi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Da(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?m=gi(c):(E&=T,E!==0?m=gi(E):l||(l=T&~s,l!==0&&(m=gi(l))))):(T=c&~g,T!==0?m=gi(T):E!==0?m=gi(E):l||(l=c&~s,l!==0&&(m=gi(l)))),m===0?0:o!==0&&o!==m&&(o&g)===0&&(g=m&-m,l=o&-o,g>=l||g===32&&(l&4194048)!==0)?o:m}function To(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Eu(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var s=wo;return wo<<=1,(wo&4194048)===0&&(wo=256),s}function Su(){var s=Eo;return Eo<<=1,(Eo&62914560)===0&&(Eo=4194304),s}function hs(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function ds(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Au(s,o,l,c,m,g){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,O=s.expirationTimes,q=s.hiddenUpdates;for(l=E&~l;0<l;){var Z=31-ln(l),ee=1<<Z;T[Z]=0,O[Z]=-1;var $=q[Z];if($!==null)for(q[Z]=null,Z=0;Z<$.length;Z++){var Y=$[Z];Y!==null&&(Y.lane&=-536870913)}l&=~ee}c!==0&&Mi(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(E&~o))}function Mi(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-ln(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function xu(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-ln(l),m=1<<c;m&o|s[c]&o&&(s[c]|=o),l&=~m}}function nr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ma(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ir(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:zE(s.type))}function Vf(s,o){var l=he.p;try{return he.p=s,o()}finally{he.p=l}}var mt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+mt,It="__reactProps$"+mt,Jn="__reactContainer$"+mt,Ru="__reactEvents$"+mt,up="__reactListeners$"+mt,sr="__reactHandles$"+mt,zf="__reactResources$"+mt,So="__reactMarker$"+mt;function rr(s){delete s[Nt],delete s[It],delete s[Ru],delete s[up],delete s[sr]}function ms(s){var o=s[Nt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Jn]||l[Nt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=EE(s);s!==null;){if(l=s[Nt])return l;s=EE(s)}return o}s=l,l=s.parentNode}return null}function Pi(s){if(s=s[Nt]||s[Jn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Ni(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Tn(s){var o=s[zf];return o||(o=s[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function At(s){s[So]=!0}var Cu=new Set,Pa={};function yi(s,o){ps(s,o),ps(s+"Capture",o)}function ps(s,o){for(Pa[s]=o,s=0;s<o.length;s++)Cu.add(o[s])}var Lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uf={},Ao={};function Bf(s){return go.call(Ao,s)?!0:go.call(Uf,s)?!1:Lf.test(s)?Ao[s]=!0:(Uf[s]=!0,!1)}function or(s,o,l){if(Bf(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Vi(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Zt(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}var xo,Ff;function gs(s){if(xo===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);xo=o&&o[1]||"",Ff=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xo+s+Ff}var Na=!1;function Va(s,o){if(!s||Na)return"";Na=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var $=Y}Reflect.construct(s,[],ee)}else{try{ee.call()}catch(Y){$=Y}s.call(ee.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ee=s())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],T=g[1];if(E&&T){var O=E.split(`
`),q=T.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===q.length)for(c=O.length-1,m=q.length-1;1<=c&&0<=m&&O[c]!==q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==q[m]){var Z=`
`+O[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=m);break}}}finally{Na=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?gs(l):""}function Iu(s){switch(s.tag){case 26:case 27:case 5:return gs(s.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 15:return Va(s.type,!1);case 11:return Va(s.type.render,!1);case 1:return Va(s.type,!0);case 31:return gs("Activity");default:return""}}function za(s){try{var o="";do o+=Iu(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ou(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function cp(s){var o=Ou(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),c=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function La(s){s._valueTracker||(s._valueTracker=cp(s))}function ku(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=Ou(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function Ro(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var fp=/[\n"\\]/g;function Ot(s){return s.replace(fp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Bn(s,o,l,c,m,g,E,T){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),o!=null?E==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Sn(o)):s.value!==""+Sn(o)&&(s.value=""+Sn(o)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),o!=null?ar(s,E,Sn(o)):l!=null?ar(s,E,Sn(l)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+Sn(T):s.removeAttribute("name")}function Co(s,o,l,c,m,g,E,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),o!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||o!=null))return;l=l!=null?""+Sn(l):"",o=o!=null?""+Sn(o):l,T||o===s.value||(s.value=o),s.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=T?s.checked:!!c,s.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function ar(s,o,l){o==="number"&&Ro(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ys(s,o,l,c){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Sn(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function nt(s,o,l){if(o!=null&&(o=""+Sn(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+Sn(l):""}function Io(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(ct(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Sn(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function ei(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||Oo.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function Du(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&jf(s,m,c)}else for(var g in o)o.hasOwnProperty(g)&&jf(s,g,o[g])}function Mu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(s){return dp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var vs=null;function ti(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _s=null,bs=null;function Pu(s){var o=Pi(s);if(o&&(s=o.stateNode)){var l=s[It]||null;e:switch(s=o.stateNode,o.type){case"input":if(Bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var m=c[It]||null;if(!m)throw Error(i(90));Bn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&ku(c)}break e;case"textarea":nt(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&ys(s,!!l.multiple,o,!1)}}}var zi=!1;function qf(s,o,l){if(zi)return s(o,l);zi=!0;try{var c=s(o);return c}finally{if(zi=!1,(_s!==null||bs!==null)&&(Vh(),_s&&(o=_s,s=bs,bs=_s=null,Pu(o),s)))for(o=0;o<s.length;o++)Pu(s[o])}}function ko(s,o){var l=s.stateNode;if(l===null)return null;var c=l[It]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=!1;if(vi)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{ni=!1}var Li=null,lr=null,ws=null;function Nu(){if(ws)return ws;var s,o=lr,l=o.length,c,m="value"in Li?Li.value:Li.textContent,g=m.length;for(s=0;s<l&&o[s]===m[s];s++);var E=l-s;for(c=1;c<=E&&o[l-c]===m[g-c];c++);return ws=m.slice(s,1<c?1-c:void 0)}function Ui(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Bi(){return!0}function Vu(){return!1}function qt(s){function o(l,c,m,g,E){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bi:Vu,this.isPropagationStopped=Vu,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),o}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=qt(We),Mo=y({},We,{view:0,detail:0}),Hf=qt(Mo),Fa,ja,Fi,Po=y({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fi&&(Fi&&s.type==="mousemove"?(Fa=s.screenX-Fi.screenX,ja=s.screenY-Fi.screenY):ja=Fa=0,Fi=s),Fa)},movementY:function(s){return"movementY"in s?s.movementY:ja}}),ii=qt(Po),$f=y({},Po,{dataTransfer:0}),mp=qt($f),No=y({},Mo,{relatedTarget:0}),qa=qt(No),zu=y({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=qt(zu),Gf=y({},We,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$a=qt(Gf),pp=y({},We,{data:0}),Lu=qt(pp),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Qf[s])?!!o[s]:!1}function zo(){return Uu}var Kf=y({},Mo,{key:function(s){if(s.key){var o=Vo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ui(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(s){return s.type==="keypress"?Ui(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ui(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ga=qt(Kf),Xf=y({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=qt(Xf),Es=y({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),Wf=qt(Es),Zf=y({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=qt(Zf),eh=y({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=qt(eh),An=y({},We,{newState:0,oldState:0}),th=qt(An),nh=[9,13,27,32],ji=vi&&"CompositionEvent"in window,h=null;vi&&"documentMode"in document&&(h=document.documentMode);var v=vi&&"TextEvent"in window&&!h,w=vi&&(!ji||h&&8<h&&11>=h),A=" ",F=!1;function K(s,o){switch(s){case"keyup":return nh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var He=!1;function Vt(s,o){switch(s){case"compositionend":return ue(o);case"keypress":return o.which!==32?null:(F=!0,A);case"textInput":return s=o.data,s===A&&F?null:s;default:return null}}function $e(s,o){if(He)return s==="compositionend"||!ji&&K(s,o)?(s=Nu(),ws=lr=Li=null,He=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w&&o.locale!=="ko"?null:o.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ht[s.type]:o==="textarea"}function Ts(s,o,l,c){_s?bs?bs.push(c):bs=[c]:_s=c,o=jh(o,"onChange"),0<o.length&&(l=new Ba("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var Jt=null,qi=null;function Fu(s){hE(s,0)}function ih(s){var o=Ni(s);if(ku(o))return s}function Mb(s,o){if(s==="change")return o}var Pb=!1;if(vi){var gp;if(vi){var yp="oninput"in document;if(!yp){var Nb=document.createElement("div");Nb.setAttribute("oninput","return;"),yp=typeof Nb.oninput=="function"}gp=yp}else gp=!1;Pb=gp&&(!document.documentMode||9<document.documentMode)}function Vb(){Jt&&(Jt.detachEvent("onpropertychange",zb),qi=Jt=null)}function zb(s){if(s.propertyName==="value"&&ih(qi)){var o=[];Ts(o,qi,s,ti(s)),qf(Fu,o)}}function HI(s,o,l){s==="focusin"?(Vb(),Jt=o,qi=l,Jt.attachEvent("onpropertychange",zb)):s==="focusout"&&Vb()}function $I(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ih(qi)}function GI(s,o){if(s==="click")return ih(o)}function YI(s,o){if(s==="input"||s==="change")return ih(o)}function QI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Fn=typeof Object.is=="function"?Object.is:QI;function ju(s,o){if(Fn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!go.call(o,m)||!Fn(s[m],o[m]))return!1}return!0}function Lb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ub(s,o){var l=Lb(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lb(l)}}function Bb(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Bb(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Fb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ro(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ro(s.document)}return o}function vp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var KI=vi&&"documentMode"in document&&11>=document.documentMode,Qa=null,_p=null,qu=null,bp=!1;function jb(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bp||Qa==null||Qa!==Ro(c)||(c=Qa,"selectionStart"in c&&vp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qu&&ju(qu,c)||(qu=c,c=jh(_p,"onSelect"),0<c.length&&(o=new Ba("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=Qa)))}function Lo(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Ka={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},wp={},qb={};vi&&(qb=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Uo(s){if(wp[s])return wp[s];if(!Ka[s])return s;var o=Ka[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in qb)return wp[s]=o[l];return s}var Hb=Uo("animationend"),$b=Uo("animationiteration"),Gb=Uo("animationstart"),XI=Uo("transitionrun"),WI=Uo("transitionstart"),ZI=Uo("transitioncancel"),Yb=Uo("transitionend"),Qb=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function _i(s,o){Qb.set(s,o),yi(o,[s])}var Kb=new WeakMap;function si(s,o){if(typeof s=="object"&&s!==null){var l=Kb.get(s);return l!==void 0?l:(o={value:s,source:o,stack:za(o)},Kb.set(s,o),o)}return{value:s,source:o,stack:za(o)}}var ri=[],Xa=0,Tp=0;function sh(){for(var s=Xa,o=Tp=Xa=0;o<s;){var l=ri[o];ri[o++]=null;var c=ri[o];ri[o++]=null;var m=ri[o];ri[o++]=null;var g=ri[o];if(ri[o++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&Xb(l,m,g)}}function rh(s,o,l,c){ri[Xa++]=s,ri[Xa++]=o,ri[Xa++]=l,ri[Xa++]=c,Tp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Sp(s,o,l,c){return rh(s,o,l,c),oh(s)}function Wa(s,o){return rh(s,null,null,o),oh(s)}function Xb(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=s.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&o!==null&&(m=31-ln(l),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[o]:c.push(o),o.lane=l|536870912),g):null}function oh(s){if(50<mc)throw mc=0,Og=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Za={};function JI(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,o,l,c){return new JI(s,o,l,c)}function Ap(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ss(s,o){var l=s.alternate;return l===null?(l=jn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Wb(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function ah(s,o,l,c,m,g){var E=0;if(c=s,typeof s=="function")Ap(s)&&(E=1);else if(typeof s=="string")E=tO(s,l,we.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=jn(31,l,o,m),s.elementType=C,s.lanes=g,s;case R:return Bo(l.children,m,g,o);case P:E=8,m|=24;break;case I:return s=jn(12,l,o,m|2),s.elementType=I,s.lanes=g,s;case re:return s=jn(13,l,o,m),s.elementType=re,s.lanes=g,s;case se:return s=jn(19,l,o,m),s.elementType=se,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:case G:E=10;break e;case H:E=9;break e;case X:E=11;break e;case k:E=14;break e;case x:E=16,c=null;break e}E=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=jn(E,l,o,m),o.elementType=s,o.type=c,o.lanes=g,o}function Bo(s,o,l,c){return s=jn(7,s,c,o),s.lanes=l,s}function xp(s,o,l){return s=jn(6,s,null,o),s.lanes=l,s}function Rp(s,o,l){return o=jn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ja=[],el=0,lh=null,uh=0,oi=[],ai=0,Fo=null,As=1,xs="";function jo(s,o){Ja[el++]=uh,Ja[el++]=lh,lh=s,uh=o}function Zb(s,o,l){oi[ai++]=As,oi[ai++]=xs,oi[ai++]=Fo,Fo=s;var c=As;s=xs;var m=32-ln(c)-1;c&=~(1<<m),l+=1;var g=32-ln(o)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,As=1<<32-ln(o)+m|l<<m|c,xs=g+s}else As=1<<g|l<<m|c,xs=s}function Cp(s){s.return!==null&&(jo(s,1),Zb(s,1,0))}function Ip(s){for(;s===lh;)lh=Ja[--el],Ja[el]=null,uh=Ja[--el],Ja[el]=null;for(;s===Fo;)Fo=oi[--ai],oi[ai]=null,xs=oi[--ai],oi[ai]=null,As=oi[--ai],oi[ai]=null}var xn=null,Et=null,Xe=!1,qo=null,Hi=!1,Op=Error(i(519));function Ho(s){var o=Error(i(418,""));throw Gu(si(o,s)),Op}function Jb(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[Nt]=s,o[It]=c,l){case"dialog":Ue("cancel",o),Ue("close",o);break;case"iframe":case"object":case"embed":Ue("load",o);break;case"video":case"audio":for(l=0;l<gc.length;l++)Ue(gc[l],o);break;case"source":Ue("error",o);break;case"img":case"image":case"link":Ue("error",o),Ue("load",o);break;case"details":Ue("toggle",o);break;case"input":Ue("invalid",o),Co(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),La(o);break;case"select":Ue("invalid",o);break;case"textarea":Ue("invalid",o),Io(o,c.value,c.defaultValue,c.children),La(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||gE(o.textContent,l)?(c.popover!=null&&(Ue("beforetoggle",o),Ue("toggle",o)),c.onScroll!=null&&Ue("scroll",o),c.onScrollEnd!=null&&Ue("scrollend",o),c.onClick!=null&&(o.onclick=qh),o=!0):o=!1,o||Ho(s)}function e0(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:xn=xn.return}}function Hu(s){if(s!==xn)return!1;if(!Xe)return e0(s),Xe=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Gg(s.type,s.memoizedProps)),l=!l),l&&Et&&Ho(s),e0(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){Et=wi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}Et=null}}else o===27?(o=Et,Sr(s.type)?(s=Xg,Xg=null,Et=s):Et=o):Et=xn?wi(s.stateNode.nextSibling):null;return!0}function $u(){Et=xn=null,Xe=!1}function t0(){var s=qo;return s!==null&&(Dn===null?Dn=s:Dn.push.apply(Dn,s),qo=null),s}function Gu(s){qo===null?qo=[s]:qo.push(s)}var kp=ie(null),$o=null,Rs=null;function ur(s,o,l){ae(kp,o._currentValue),o._currentValue=l}function Cs(s){s._currentValue=kp.current,de(kp)}function Dp(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function Mp(s,o,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=m;for(var O=0;O<o.length;O++)if(T.context===o[O]){g.lanes|=l,T=g.alternate,T!==null&&(T.lanes|=l),Dp(g.return,l,s),c||(E=null);break e}g=T.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=l,g=E.alternate,g!==null&&(g.lanes|=l),Dp(E,l,s),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Yu(s,o,l,c){s=null;for(var m=o,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var T=m.type;Fn(m.pendingProps.value,E.value)||(s!==null?s.push(T):s=[T])}}else if(m===jt.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Ec):s=[Ec])}m=m.return}s!==null&&Mp(o,s,l,c),o.flags|=262144}function ch(s){for(s=s.firstContext;s!==null;){if(!Fn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Go(s){$o=s,Rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function un(s){return n0($o,s)}function fh(s,o){return $o===null&&Go(s),n0(s,o)}function n0(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Rs===null){if(s===null)throw Error(i(308));Rs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Rs=Rs.next=o;return l}var e2=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},t2=n.unstable_scheduleCallback,n2=n.unstable_NormalPriority,Lt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new e2,data:new Map,refCount:0}}function Qu(s){s.refCount--,s.refCount===0&&t2(n2,function(){s.controller.abort()})}var Ku=null,Np=0,tl=0,nl=null;function i2(s,o){if(Ku===null){var l=Ku=[];Np=0,tl=zg(),nl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Np++,o.then(i0,i0),o}function i0(){if(--Np===0&&Ku!==null){nl!==null&&(nl.status="fulfilled");var s=Ku;Ku=null,tl=0,nl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function s2(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var s0=W.S;W.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&i2(s,o),s0!==null&&s0(s,o)};var Yo=ie(null);function Vp(){var s=Yo.current;return s!==null?s:lt.pooledCache}function hh(s,o){o===null?ae(Yo,Yo.current):ae(Yo,o.pool)}function r0(){var s=Vp();return s===null?null:{parent:Lt._currentValue,pool:s}}var Xu=Error(i(460)),o0=Error(i(474)),dh=Error(i(542)),zp={then:function(){}};function a0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function mh(){}function l0(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(mh,mh),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,c0(s),s;default:if(typeof o.status=="string")o.then(mh,mh);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,c0(s),s}throw Wu=o,Xu}}var Wu=null;function u0(){if(Wu===null)throw Error(i(459));var s=Wu;return Wu=null,s}function c0(s){if(s===Xu||s===dh)throw Error(i(483))}var cr=!1;function Lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hr(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=oh(s),Xb(s,null,l),o}return rh(s,c,o,l),oh(s)}function Zu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,xu(s,l)}}function Bp(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?m=g=o:g=g.next=o}else m=g=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var Fp=!1;function Ju(){if(Fp){var s=nl;if(s!==null)throw s}}function ec(s,o,l,c){Fp=!1;var m=s.updateQueue;cr=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var O=T,q=O.next;O.next=null,E===null?g=q:E.next=q,E=O;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=O))}if(g!==null){var ee=m.baseState;E=0,Z=q=O=null,T=g;do{var $=T.lane&-536870913,Y=$!==T.lane;if(Y?(Ge&$)===$:(c&$)===$){$!==0&&$===tl&&(Fp=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Re=s,Ee=T;$=o;var rt=l;switch(Ee.tag){case 1:if(Re=Ee.payload,typeof Re=="function"){ee=Re.call(rt,ee,$);break e}ee=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ee.payload,$=typeof Re=="function"?Re.call(rt,ee,$):Re,$==null)break e;ee=y({},ee,$);break e;case 2:cr=!0}}$=T.callback,$!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[$]:Y.push($))}else Y={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=Y,O=ee):Z=Z.next=Y,E|=$;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);Z===null&&(O=ee),m.baseState=O,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,g===null&&(m.shared.lanes=0),br|=E,s.lanes=E,s.memoizedState=ee}}function f0(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function h0(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)f0(l[s],o)}var il=ie(null),ph=ie(0);function d0(s,o){s=Ns,ae(ph,s),ae(il,o),Ns=s|o.baseLanes}function jp(){ae(ph,Ns),ae(il,il.current)}function qp(){Ns=ph.current,de(il),de(ph)}var dr=0,Me=null,it=null,kt=null,gh=!1,sl=!1,Qo=!1,yh=0,tc=0,rl=null,r2=0;function xt(){throw Error(i(321))}function Hp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Fn(s[l],o[l]))return!1;return!0}function $p(s,o,l,c,m,g){return dr=g,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?X0:W0,Qo=!1,g=l(c,m),Qo=!1,sl&&(g=p0(o,l,c,m)),m0(s),g}function m0(s){W.H=Th;var o=it!==null&&it.next!==null;if(dr=0,kt=it=Me=null,gh=!1,tc=0,rl=null,o)throw Error(i(300));s===null||$t||(s=s.dependencies,s!==null&&ch(s)&&($t=!0))}function p0(s,o,l,c){Me=s;var m=0;do{if(sl&&(rl=null),tc=0,sl=!1,25<=m)throw Error(i(301));if(m+=1,kt=it=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=h2,g=o(l,c)}while(sl);return g}function o2(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?nc(o):o,s=s.useState()[0],(it!==null?it.memoizedState:null)!==s&&(Me.flags|=1024),o}function Gp(){var s=yh!==0;return yh=0,s}function Yp(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function Qp(s){if(gh){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}gh=!1}dr=0,kt=it=Me=null,sl=!1,tc=yh=0,rl=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Me.memoizedState=kt=s:kt=kt.next=s,kt}function Dt(){if(it===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var o=kt===null?Me.memoizedState:kt.next;if(o!==null)kt=o,it=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?Me.memoizedState=kt=s:kt=kt.next=s}return kt}function Kp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(s){var o=tc;return tc+=1,rl===null&&(rl=[]),s=l0(rl,s,o),o=Me,(kt===null?o.memoizedState:kt.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?X0:W0),s}function vh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return nc(s);if(s.$$typeof===G)return un(s)}throw Error(i(438,String(s)))}function Xp(s){var o=null,l=Me.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Kp(),Me.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=N;return o.index++,l}function Is(s,o){return typeof o=="function"?o(s):o}function _h(s){var o=Dt();return Wp(o,it,s)}function Wp(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}o.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{o=m.next;var T=E=null,O=null,q=o,Z=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Ge&ee)===ee:(dr&ee)===ee){var $=q.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===tl&&(Z=!0);else if((dr&$)===$){q=q.next,$===tl&&(Z=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=ee,E=g):O=O.next=ee,Me.lanes|=$,br|=$;ee=q.action,Qo&&l(g,ee),g=q.hasEagerState?q.eagerState:l(g,ee)}else $={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=$,E=g):O=O.next=$,Me.lanes|=ee,br|=ee;q=q.next}while(q!==null&&q!==o);if(O===null?E=g:O.next=T,!Fn(g,s.memoizedState)&&($t=!0,Z&&(l=nl,l!==null)))throw l;s.memoizedState=g,s.baseState=E,s.baseQueue=O,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Zp(s){var o=Dt(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,g=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do g=s(g,E.action),E=E.next;while(E!==m);Fn(g,o.memoizedState)||($t=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,c]}function g0(s,o,l){var c=Me,m=Dt(),g=Xe;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=o();var E=!Fn((it||m).memoizedState,l);E&&(m.memoizedState=l,$t=!0),m=m.queue;var T=_0.bind(null,c,m,s);if(ic(2048,8,T,[s]),m.getSnapshot!==o||E||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,ol(9,bh(),v0.bind(null,c,m,l,o),null),lt===null)throw Error(i(349));g||(dr&124)!==0||y0(c,o,l)}return l}function y0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Me.updateQueue,o===null?(o=Kp(),Me.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function v0(s,o,l,c){o.value=l,o.getSnapshot=c,b0(o)&&w0(s)}function _0(s,o,l){return l(function(){b0(o)&&w0(s)})}function b0(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Fn(s,l)}catch{return!0}}function w0(s){var o=Wa(s,2);o!==null&&Yn(o,s,2)}function Jp(s){var o=On();if(typeof s=="function"){var l=s;if(s=l(),Qo){Un(!0);try{l()}finally{Un(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:s},o}function E0(s,o,l,c){return s.baseState=l,Wp(s,it,typeof c=="function"?c:Is)}function a2(s,o,l,c,m){if(Eh(s))throw Error(i(485));if(s=o.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?l(!0):g.isTransition=!1,c(g),l=o.pending,l===null?(g.next=o.pending=g,T0(o,g)):(g.next=l.next,o.pending=l.next=g)}}function T0(s,o){var l=o.action,c=o.payload,m=s.state;if(o.isTransition){var g=W.T,E={};W.T=E;try{var T=l(m,c),O=W.S;O!==null&&O(E,T),S0(s,o,T)}catch(q){eg(s,o,q)}finally{W.T=g}}else try{g=l(m,c),S0(s,o,g)}catch(q){eg(s,o,q)}}function S0(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){A0(s,o,c)},function(c){return eg(s,o,c)}):A0(s,o,l)}function A0(s,o,l){o.status="fulfilled",o.value=l,x0(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,T0(s,l)))}function eg(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,x0(o),o=o.next;while(o!==c)}s.action=null}function x0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function R0(s,o){return o}function C0(s,o){if(Xe){var l=lt.formState;if(l!==null){e:{var c=Me;if(Xe){if(Et){t:{for(var m=Et,g=Hi;m.nodeType!==8;){if(!g){m=null;break t}if(m=wi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Et=wi(m.nextSibling),c=m.data==="F!";break e}}Ho(c)}c=!1}c&&(o=l[0])}}return l=On(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:o},l.queue=c,l=Y0.bind(null,Me,c),c.dispatch=l,c=Jp(!1),g=rg.bind(null,Me,!1,c.queue),c=On(),m={state:o,dispatch:null,action:s,pending:null},c.queue=m,l=a2.bind(null,Me,m,g,l),m.dispatch=l,c.memoizedState=s,[o,l,!1]}function I0(s){var o=Dt();return O0(o,it,s)}function O0(s,o,l){if(o=Wp(s,o,R0)[0],s=_h(Is)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=nc(o)}catch(E){throw E===Xu?dh:E}else c=o;o=Dt();var m=o.queue,g=m.dispatch;return l!==o.memoizedState&&(Me.flags|=2048,ol(9,bh(),l2.bind(null,m,l),null)),[c,g,s]}function l2(s,o){s.action=o}function k0(s){var o=Dt(),l=it;if(l!==null)return O0(o,l,s);Dt(),o=o.memoizedState,l=Dt();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function ol(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=Me.updateQueue,o===null&&(o=Kp(),Me.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function bh(){return{destroy:void 0,resource:void 0}}function D0(){return Dt().memoizedState}function wh(s,o,l,c){var m=On();c=c===void 0?null:c,Me.flags|=s,m.memoizedState=ol(1|o,bh(),l,c)}function ic(s,o,l,c){var m=Dt();c=c===void 0?null:c;var g=m.memoizedState.inst;it!==null&&c!==null&&Hp(c,it.memoizedState.deps)?m.memoizedState=ol(o,g,l,c):(Me.flags|=s,m.memoizedState=ol(1|o,g,l,c))}function M0(s,o){wh(8390656,8,s,o)}function P0(s,o){ic(2048,8,s,o)}function N0(s,o){return ic(4,2,s,o)}function V0(s,o){return ic(4,4,s,o)}function z0(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function L0(s,o,l){l=l!=null?l.concat([s]):null,ic(4,4,z0.bind(null,o,s),l)}function tg(){}function U0(s,o){var l=Dt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&Hp(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function B0(s,o){var l=Dt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&Hp(o,c[1]))return c[0];if(c=s(),Qo){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[c,o],c}function ng(s,o,l){return l===void 0||(dr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=qw(),Me.lanes|=s,br|=s,l)}function F0(s,o,l,c){return Fn(l,o)?l:il.current!==null?(s=ng(s,l,c),Fn(s,o)||($t=!0),s):(dr&42)===0?($t=!0,s.memoizedState=l):(s=qw(),Me.lanes|=s,br|=s,o)}function j0(s,o,l,c,m){var g=he.p;he.p=g!==0&&8>g?g:8;var E=W.T,T={};W.T=T,rg(s,!1,o,l);try{var O=m(),q=W.S;if(q!==null&&q(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=s2(O,c);sc(s,o,Z,Gn(s))}else sc(s,o,c,Gn(s))}catch(ee){sc(s,o,{then:function(){},status:"rejected",reason:ee},Gn())}finally{he.p=g,W.T=E}}function u2(){}function ig(s,o,l,c){if(s.tag!==5)throw Error(i(476));var m=q0(s).queue;j0(s,m,o,ce,l===null?u2:function(){return H0(s),l(c)})}function q0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:ce},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function H0(s){var o=q0(s).next.queue;sc(s,o,{},Gn())}function sg(){return un(Ec)}function $0(){return Dt().memoizedState}function G0(){return Dt().memoizedState}function c2(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Gn();s=fr(l);var c=hr(o,s,l);c!==null&&(Yn(c,o,l),Zu(c,o,l)),o={cache:Pp()},s.payload=o;return}o=o.return}}function f2(s,o,l){var c=Gn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Eh(s)?Q0(o,l):(l=Sp(s,o,l,c),l!==null&&(Yn(l,s,c),K0(l,o,c)))}function Y0(s,o,l){var c=Gn();sc(s,o,l,c)}function sc(s,o,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Eh(s))Q0(o,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var E=o.lastRenderedState,T=g(E,l);if(m.hasEagerState=!0,m.eagerState=T,Fn(T,E))return rh(s,o,m,0),lt===null&&sh(),!1}catch{}finally{}if(l=Sp(s,o,m,c),l!==null)return Yn(l,s,c),K0(l,o,c),!0}return!1}function rg(s,o,l,c){if(c={lane:2,revertLane:zg(),action:c,hasEagerState:!1,eagerState:null,next:null},Eh(s)){if(o)throw Error(i(479))}else o=Sp(s,l,c,2),o!==null&&Yn(o,s,2)}function Eh(s){var o=s.alternate;return s===Me||o!==null&&o===Me}function Q0(s,o){sl=gh=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function K0(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,xu(s,l)}}var Th={readContext:un,use:vh,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},X0={readContext:un,use:vh,useCallback:function(s,o){return On().memoizedState=[s,o===void 0?null:o],s},useContext:un,useEffect:M0,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,wh(4194308,4,z0.bind(null,o,s),l)},useLayoutEffect:function(s,o){return wh(4194308,4,s,o)},useInsertionEffect:function(s,o){wh(4,2,s,o)},useMemo:function(s,o){var l=On();o=o===void 0?null:o;var c=s();if(Qo){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=On();if(l!==void 0){var m=l(o);if(Qo){Un(!0);try{l(o)}finally{Un(!1)}}}else m=o;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=f2.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var o=On();return s={current:s},o.memoizedState=s},useState:function(s){s=Jp(s);var o=s.queue,l=Y0.bind(null,Me,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:tg,useDeferredValue:function(s,o){var l=On();return ng(l,s,o)},useTransition:function(){var s=Jp(!1);return s=j0.bind(null,Me,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=Me,m=On();if(Xe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),lt===null)throw Error(i(349));(Ge&124)!==0||y0(c,o,l)}m.memoizedState=l;var g={value:l,getSnapshot:o};return m.queue=g,M0(_0.bind(null,c,g,s),[s]),c.flags|=2048,ol(9,bh(),v0.bind(null,c,g,l,o),null),l},useId:function(){var s=On(),o=lt.identifierPrefix;if(Xe){var l=xs,c=As;l=(c&~(1<<32-ln(c)-1)).toString(32)+l,o="«"+o+"R"+l,l=yh++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=r2++,o="«"+o+"r"+l.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:sg,useFormState:C0,useActionState:C0,useOptimistic:function(s){var o=On();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=rg.bind(null,Me,!0,l),l.dispatch=o,[s,o]},useMemoCache:Xp,useCacheRefresh:function(){return On().memoizedState=c2.bind(null,Me)}},W0={readContext:un,use:vh,useCallback:U0,useContext:un,useEffect:P0,useImperativeHandle:L0,useInsertionEffect:N0,useLayoutEffect:V0,useMemo:B0,useReducer:_h,useRef:D0,useState:function(){return _h(Is)},useDebugValue:tg,useDeferredValue:function(s,o){var l=Dt();return F0(l,it.memoizedState,s,o)},useTransition:function(){var s=_h(Is)[0],o=Dt().memoizedState;return[typeof s=="boolean"?s:nc(s),o]},useSyncExternalStore:g0,useId:$0,useHostTransitionStatus:sg,useFormState:I0,useActionState:I0,useOptimistic:function(s,o){var l=Dt();return E0(l,it,s,o)},useMemoCache:Xp,useCacheRefresh:G0},h2={readContext:un,use:vh,useCallback:U0,useContext:un,useEffect:P0,useImperativeHandle:L0,useInsertionEffect:N0,useLayoutEffect:V0,useMemo:B0,useReducer:Zp,useRef:D0,useState:function(){return Zp(Is)},useDebugValue:tg,useDeferredValue:function(s,o){var l=Dt();return it===null?ng(l,s,o):F0(l,it.memoizedState,s,o)},useTransition:function(){var s=Zp(Is)[0],o=Dt().memoizedState;return[typeof s=="boolean"?s:nc(s),o]},useSyncExternalStore:g0,useId:$0,useHostTransitionStatus:sg,useFormState:k0,useActionState:k0,useOptimistic:function(s,o){var l=Dt();return it!==null?E0(l,it,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Xp,useCacheRefresh:G0},al=null,rc=0;function Sh(s){var o=rc;return rc+=1,al===null&&(al=[]),l0(al,s,o)}function oc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Ah(s,o){throw o.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Z0(s){var o=s._init;return o(s._payload)}function J0(s){function o(U,V){if(s){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function l(U,V){if(!s)return null;for(;V!==null;)o(U,V),V=V.sibling;return null}function c(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function m(U,V){return U=Ss(U,V),U.index=0,U.sibling=null,U}function g(U,V,j){return U.index=j,s?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function E(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,j,J){return V===null||V.tag!==6?(V=xp(j,U.mode,J),V.return=U,V):(V=m(V,j),V.return=U,V)}function O(U,V,j,J){var ye=j.type;return ye===R?Z(U,V,j.props.children,J,j.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Z0(ye)===V.type)?(V=m(V,j.props),oc(V,j),V.return=U,V):(V=ah(j.type,j.key,j.props,null,U.mode,J),oc(V,j),V.return=U,V)}function q(U,V,j,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Rp(j,U.mode,J),V.return=U,V):(V=m(V,j.children||[]),V.return=U,V)}function Z(U,V,j,J,ye){return V===null||V.tag!==7?(V=Bo(j,U.mode,J,ye),V.return=U,V):(V=m(V,j),V.return=U,V)}function ee(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=xp(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return j=ah(V.type,V.key,V.props,null,U.mode,j),oc(j,V),j.return=U,j;case S:return V=Rp(V,U.mode,j),V.return=U,V;case x:var J=V._init;return V=J(V._payload),ee(U,V,j)}if(ct(V)||L(V))return V=Bo(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return ee(U,Sh(V),j);if(V.$$typeof===G)return ee(U,fh(U,V),j);Ah(U,V)}return null}function $(U,V,j,J){var ye=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ye!==null?null:T(U,V,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===ye?O(U,V,j,J):null;case S:return j.key===ye?q(U,V,j,J):null;case x:return ye=j._init,j=ye(j._payload),$(U,V,j,J)}if(ct(j)||L(j))return ye!==null?null:Z(U,V,j,J,null);if(typeof j.then=="function")return $(U,V,Sh(j),J);if(j.$$typeof===G)return $(U,V,fh(U,j),J);Ah(U,j)}return null}function Y(U,V,j,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(j)||null,T(V,U,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return U=U.get(J.key===null?j:J.key)||null,O(V,U,J,ye);case S:return U=U.get(J.key===null?j:J.key)||null,q(V,U,J,ye);case x:var ze=J._init;return J=ze(J._payload),Y(U,V,j,J,ye)}if(ct(J)||L(J))return U=U.get(j)||null,Z(V,U,J,ye,null);if(typeof J.then=="function")return Y(U,V,j,Sh(J),ye);if(J.$$typeof===G)return Y(U,V,j,fh(V,J),ye);Ah(V,J)}return null}function Re(U,V,j,J){for(var ye=null,ze=null,_e=V,Se=V=0,Yt=null;_e!==null&&Se<j.length;Se++){_e.index>Se?(Yt=_e,_e=null):Yt=_e.sibling;var Qe=$(U,_e,j[Se],J);if(Qe===null){_e===null&&(_e=Yt);break}s&&_e&&Qe.alternate===null&&o(U,_e),V=g(Qe,V,Se),ze===null?ye=Qe:ze.sibling=Qe,ze=Qe,_e=Yt}if(Se===j.length)return l(U,_e),Xe&&jo(U,Se),ye;if(_e===null){for(;Se<j.length;Se++)_e=ee(U,j[Se],J),_e!==null&&(V=g(_e,V,Se),ze===null?ye=_e:ze.sibling=_e,ze=_e);return Xe&&jo(U,Se),ye}for(_e=c(_e);Se<j.length;Se++)Yt=Y(_e,U,Se,j[Se],J),Yt!==null&&(s&&Yt.alternate!==null&&_e.delete(Yt.key===null?Se:Yt.key),V=g(Yt,V,Se),ze===null?ye=Yt:ze.sibling=Yt,ze=Yt);return s&&_e.forEach(function(Ir){return o(U,Ir)}),Xe&&jo(U,Se),ye}function Ee(U,V,j,J){if(j==null)throw Error(i(151));for(var ye=null,ze=null,_e=V,Se=V=0,Yt=null,Qe=j.next();_e!==null&&!Qe.done;Se++,Qe=j.next()){_e.index>Se?(Yt=_e,_e=null):Yt=_e.sibling;var Ir=$(U,_e,Qe.value,J);if(Ir===null){_e===null&&(_e=Yt);break}s&&_e&&Ir.alternate===null&&o(U,_e),V=g(Ir,V,Se),ze===null?ye=Ir:ze.sibling=Ir,ze=Ir,_e=Yt}if(Qe.done)return l(U,_e),Xe&&jo(U,Se),ye;if(_e===null){for(;!Qe.done;Se++,Qe=j.next())Qe=ee(U,Qe.value,J),Qe!==null&&(V=g(Qe,V,Se),ze===null?ye=Qe:ze.sibling=Qe,ze=Qe);return Xe&&jo(U,Se),ye}for(_e=c(_e);!Qe.done;Se++,Qe=j.next())Qe=Y(_e,U,Se,Qe.value,J),Qe!==null&&(s&&Qe.alternate!==null&&_e.delete(Qe.key===null?Se:Qe.key),V=g(Qe,V,Se),ze===null?ye=Qe:ze.sibling=Qe,ze=Qe);return s&&_e.forEach(function(dO){return o(U,dO)}),Xe&&jo(U,Se),ye}function rt(U,V,j,J){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var ye=j.key;V!==null;){if(V.key===ye){if(ye=j.type,ye===R){if(V.tag===7){l(U,V.sibling),J=m(V,j.props.children),J.return=U,U=J;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Z0(ye)===V.type){l(U,V.sibling),J=m(V,j.props),oc(J,j),J.return=U,U=J;break e}l(U,V);break}else o(U,V);V=V.sibling}j.type===R?(J=Bo(j.props.children,U.mode,J,j.key),J.return=U,U=J):(J=ah(j.type,j.key,j.props,null,U.mode,J),oc(J,j),J.return=U,U=J)}return E(U);case S:e:{for(ye=j.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){l(U,V.sibling),J=m(V,j.children||[]),J.return=U,U=J;break e}else{l(U,V);break}else o(U,V);V=V.sibling}J=Rp(j,U.mode,J),J.return=U,U=J}return E(U);case x:return ye=j._init,j=ye(j._payload),rt(U,V,j,J)}if(ct(j))return Re(U,V,j,J);if(L(j)){if(ye=L(j),typeof ye!="function")throw Error(i(150));return j=ye.call(j),Ee(U,V,j,J)}if(typeof j.then=="function")return rt(U,V,Sh(j),J);if(j.$$typeof===G)return rt(U,V,fh(U,j),J);Ah(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(l(U,V.sibling),J=m(V,j),J.return=U,U=J):(l(U,V),J=xp(j,U.mode,J),J.return=U,U=J),E(U)):l(U,V)}return function(U,V,j,J){try{rc=0;var ye=rt(U,V,j,J);return al=null,ye}catch(_e){if(_e===Xu||_e===dh)throw _e;var ze=jn(29,_e,null,U.mode);return ze.lanes=J,ze.return=U,ze}finally{}}}var ll=J0(!0),ew=J0(!1),li=ie(null),$i=null;function mr(s){var o=s.alternate;ae(Ut,Ut.current&1),ae(li,s),$i===null&&(o===null||il.current!==null||o.memoizedState!==null)&&($i=s)}function tw(s){if(s.tag===22){if(ae(Ut,Ut.current),ae(li,s),$i===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&($i=s)}}else pr()}function pr(){ae(Ut,Ut.current),ae(li,li.current)}function Os(s){de(li),$i===s&&($i=null),de(Ut)}var Ut=ie(0);function xh(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Kg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function og(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:y({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ag={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Gn(),m=fr(c);m.payload=o,l!=null&&(m.callback=l),o=hr(s,m,c),o!==null&&(Yn(o,s,c),Zu(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Gn(),m=fr(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=hr(s,m,c),o!==null&&(Yn(o,s,c),Zu(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Gn(),c=fr(l);c.tag=2,o!=null&&(c.callback=o),o=hr(s,c,l),o!==null&&(Yn(o,s,l),Zu(o,s,l))}};function nw(s,o,l,c,m,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,E):o.prototype&&o.prototype.isPureReactComponent?!ju(l,c)||!ju(m,g):!0}function iw(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&ag.enqueueReplaceState(o,o.state,null)}function Ko(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Rh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function sw(s){Rh(s)}function rw(s){console.error(s)}function ow(s){Rh(s)}function Ch(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function aw(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function lg(s,o,l){return l=fr(l),l.tag=3,l.payload={element:null},l.callback=function(){Ch(s,o)},l}function lw(s){return s=fr(s),s.tag=3,s}function uw(s,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){aw(o,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){aw(o,l,c),typeof m!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function d2(s,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Yu(o,l,m,!0),l=li.current,l!==null){switch(l.tag){case 13:return $i===null?Dg():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===zp?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),Pg(s,c,m)),!1;case 22:return l.flags|=65536,c===zp?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),Pg(s,c,m)),!1}throw Error(i(435,l.tag))}return Pg(s,c,m),Dg(),!1}if(Xe)return o=li.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==Op&&(s=Error(i(422),{cause:c}),Gu(si(s,l)))):(c!==Op&&(o=Error(i(423),{cause:c}),Gu(si(o,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=si(c,l),m=lg(s.stateNode,c,m),Bp(s,m),Tt!==4&&(Tt=2)),!1;var g=Error(i(520),{cause:c});if(g=si(g,l),dc===null?dc=[g]:dc.push(g),Tt!==4&&(Tt=2),o===null)return!0;c=si(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=lg(l.stateNode,c,s),Bp(l,s),!1;case 1:if(o=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wr===null||!wr.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=lw(m),uw(m,s,l,c),Bp(l,m),!1}l=l.return}while(l!==null);return!1}var cw=Error(i(461)),$t=!1;function en(s,o,l,c){o.child=s===null?ew(o,null,l,c):ll(o,s.child,l,c)}function fw(s,o,l,c,m){l=l.render;var g=o.ref;if("ref"in c){var E={};for(var T in c)T!=="ref"&&(E[T]=c[T])}else E=c;return Go(o),c=$p(s,o,l,E,g,m),T=Gp(),s!==null&&!$t?(Yp(s,o,m),ks(s,o,m)):(Xe&&T&&Cp(o),o.flags|=1,en(s,o,c,m),o.child)}function hw(s,o,l,c,m){if(s===null){var g=l.type;return typeof g=="function"&&!Ap(g)&&g.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=g,dw(s,o,g,c,m)):(s=ah(l.type,null,c,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(g=s.child,!gg(s,m)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:ju,l(E,c)&&s.ref===o.ref)return ks(s,o,m)}return o.flags|=1,s=Ss(g,c),s.ref=o.ref,s.return=o,o.child=s}function dw(s,o,l,c,m){if(s!==null){var g=s.memoizedProps;if(ju(g,c)&&s.ref===o.ref)if($t=!1,o.pendingProps=c=g,gg(s,m))(s.flags&131072)!==0&&($t=!0);else return o.lanes=s.lanes,ks(s,o,m)}return ug(s,o,l,c,m)}function mw(s,o,l){var c=o.pendingProps,m=c.children,g=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,s!==null){for(m=o.child=s.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;o.childLanes=g&~c}else o.childLanes=0,o.child=null;return pw(s,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&hh(o,g!==null?g.cachePool:null),g!==null?d0(o,g):jp(),tw(o);else return o.lanes=o.childLanes=536870912,pw(s,o,g!==null?g.baseLanes|l:l,l)}else g!==null?(hh(o,g.cachePool),d0(o,g),pr(),o.memoizedState=null):(s!==null&&hh(o,null),jp(),pr());return en(s,o,m,l),o.child}function pw(s,o,l,c){var m=Vp();return m=m===null?null:{parent:Lt._currentValue,pool:m},o.memoizedState={baseLanes:l,cachePool:m},s!==null&&hh(o,null),jp(),tw(o),s!==null&&Yu(s,o,c,!0),null}function Ih(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function ug(s,o,l,c,m){return Go(o),l=$p(s,o,l,c,void 0,m),c=Gp(),s!==null&&!$t?(Yp(s,o,m),ks(s,o,m)):(Xe&&c&&Cp(o),o.flags|=1,en(s,o,l,m),o.child)}function gw(s,o,l,c,m,g){return Go(o),o.updateQueue=null,l=p0(o,c,l,m),m0(s),c=Gp(),s!==null&&!$t?(Yp(s,o,g),ks(s,o,g)):(Xe&&c&&Cp(o),o.flags|=1,en(s,o,l,g),o.child)}function yw(s,o,l,c,m){if(Go(o),o.stateNode===null){var g=Za,E=l.contextType;typeof E=="object"&&E!==null&&(g=un(E)),g=new l(c,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ag,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=c,g.state=o.memoizedState,g.refs={},Lp(o),E=l.contextType,g.context=typeof E=="object"&&E!==null?un(E):Za,g.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(og(o,l,E,c),g.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&ag.enqueueReplaceState(g,g.state,null),ec(o,c,g,m),Ju(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){g=o.stateNode;var T=o.memoizedProps,O=Ko(l,T);g.props=O;var q=g.context,Z=l.contextType;E=Za,typeof Z=="object"&&Z!==null&&(E=un(Z));var ee=l.getDerivedStateFromProps;Z=typeof ee=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=o.pendingProps!==T,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||q!==E)&&iw(o,g,c,E),cr=!1;var $=o.memoizedState;g.state=$,ec(o,c,g,m),Ju(),q=o.memoizedState,T||$!==q||cr?(typeof ee=="function"&&(og(o,l,ee,c),q=o.memoizedState),(O=cr||nw(o,l,O,c,$,q,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=q),g.props=c,g.state=q,g.context=E,c=O):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{g=o.stateNode,Up(s,o),E=o.memoizedProps,Z=Ko(l,E),g.props=Z,ee=o.pendingProps,$=g.context,q=l.contextType,O=Za,typeof q=="object"&&q!==null&&(O=un(q)),T=l.getDerivedStateFromProps,(q=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ee||$!==O)&&iw(o,g,c,O),cr=!1,$=o.memoizedState,g.state=$,ec(o,c,g,m),Ju();var Y=o.memoizedState;E!==ee||$!==Y||cr||s!==null&&s.dependencies!==null&&ch(s.dependencies)?(typeof T=="function"&&(og(o,l,T,c),Y=o.memoizedState),(Z=cr||nw(o,l,Z,c,$,Y,O)||s!==null&&s.dependencies!==null&&ch(s.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Y,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Y,O)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Y),g.props=c,g.state=Y,g.context=O,c=Z):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(o.flags|=1024),c=!1)}return g=c,Ih(s,o),c=(o.flags&128)!==0,g||c?(g=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,s!==null&&c?(o.child=ll(o,s.child,null,m),o.child=ll(o,null,l,m)):en(s,o,l,m),o.memoizedState=g.state,s=o.child):s=ks(s,o,m),s}function vw(s,o,l,c){return $u(),o.flags|=256,en(s,o,l,c),o.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(s){return{baseLanes:s,cachePool:r0()}}function hg(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=ui),s}function _w(s,o,l){var c=o.pendingProps,m=!1,g=(o.flags&128)!==0,E;if((E=g)||(E=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),E&&(m=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,s===null){if(Xe){if(m?mr(o):pr(),Xe){var T=Et,O;if(O=T){e:{for(O=T,T=Hi;O.nodeType!==8;){if(!T){T=null;break e}if(O=wi(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(o.memoizedState={dehydrated:T,treeContext:Fo!==null?{id:As,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},O=jn(18,null,null,0),O.stateNode=T,O.return=o,o.child=O,xn=o,Et=null,O=!0):O=!1}O||Ho(o)}if(T=o.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Kg(T)?o.lanes=32:o.lanes=536870912,null;Os(o)}return T=c.children,c=c.fallback,m?(pr(),m=o.mode,T=Oh({mode:"hidden",children:T},m),c=Bo(c,m,l,null),T.return=o,c.return=o,T.sibling=c,o.child=T,m=o.child,m.memoizedState=fg(l),m.childLanes=hg(s,E,l),o.memoizedState=cg,c):(mr(o),dg(o,T))}if(O=s.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(g)o.flags&256?(mr(o),o.flags&=-257,o=mg(s,o,l)):o.memoizedState!==null?(pr(),o.child=s.child,o.flags|=128,o=null):(pr(),m=c.fallback,T=o.mode,c=Oh({mode:"visible",children:c.children},T),m=Bo(m,T,l,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,ll(o,s.child,null,l),c=o.child,c.memoizedState=fg(l),c.childLanes=hg(s,E,l),o.memoizedState=cg,o=m);else if(mr(o),Kg(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,c=Error(i(419)),c.stack="",c.digest=E,Gu({value:c,source:null,stack:null}),o=mg(s,o,l)}else if($t||Yu(s,o,l,!1),E=(l&s.childLanes)!==0,$t||E){if(E=lt,E!==null&&(c=l&-l,c=(c&42)!==0?1:nr(c),c=(c&(E.suspendedLanes|l))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,Wa(s,c),Yn(E,s,c),cw;T.data==="$?"||Dg(),o=mg(s,o,l)}else T.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=O.treeContext,Et=wi(T.nextSibling),xn=o,Xe=!0,qo=null,Hi=!1,s!==null&&(oi[ai++]=As,oi[ai++]=xs,oi[ai++]=Fo,As=s.id,xs=s.overflow,Fo=o),o=dg(o,c.children),o.flags|=4096);return o}return m?(pr(),m=c.fallback,T=o.mode,O=s.child,q=O.sibling,c=Ss(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,q!==null?m=Ss(q,m):(m=Bo(m,T,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,T=s.child.memoizedState,T===null?T=fg(l):(O=T.cachePool,O!==null?(q=Lt._currentValue,O=O.parent!==q?{parent:q,pool:q}:O):O=r0(),T={baseLanes:T.baseLanes|l,cachePool:O}),m.memoizedState=T,m.childLanes=hg(s,E,l),o.memoizedState=cg,c):(mr(o),l=s.child,s=l.sibling,l=Ss(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(E=o.deletions,E===null?(o.deletions=[s],o.flags|=16):E.push(s)),o.child=l,o.memoizedState=null,l)}function dg(s,o){return o=Oh({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Oh(s,o){return s=jn(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function mg(s,o,l){return ll(o,s.child,null,l),s=dg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function bw(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),Dp(s.return,o,l)}function pg(s,o,l,c,m){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=m)}function ww(s,o,l){var c=o.pendingProps,m=c.revealOrder,g=c.tail;if(en(s,o,c.children,l),c=Ut.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bw(s,l,o);else if(s.tag===19)bw(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ae(Ut,c),m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&xh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),pg(o,!1,m,l,g);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&xh(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}pg(o,!0,l,null,g);break;case"together":pg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ks(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),br|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(Yu(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=Ss(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Ss(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function gg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&ch(s)))}function m2(s,o,l){switch(o.tag){case 3:at(o,o.stateNode.containerInfo),ur(o,Lt,s.memoizedState.cache),$u();break;case 27:case 5:tr(o);break;case 4:at(o,o.stateNode.containerInfo);break;case 10:ur(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(mr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?_w(s,o,l):(mr(o),s=ks(s,o,l),s!==null?s.sibling:null);mr(o);break;case 19:var m=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Yu(s,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return ww(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(Ut,Ut.current),c)break;return null;case 22:case 23:return o.lanes=0,mw(s,o,l);case 24:ur(o,Lt,s.memoizedState.cache)}return ks(s,o,l)}function Ew(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)$t=!0;else{if(!gg(s,l)&&(o.flags&128)===0)return $t=!1,m2(s,o,l);$t=(s.flags&131072)!==0}else $t=!1,Xe&&(o.flags&1048576)!==0&&Zb(o,uh,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var c=o.elementType,m=c._init;if(c=m(c._payload),o.type=c,typeof c=="function")Ap(c)?(s=Ko(c,s),o.tag=1,o=yw(null,o,c,s,l)):(o.tag=0,o=ug(null,o,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===X){o.tag=11,o=fw(null,o,c,s,l);break e}else if(m===k){o.tag=14,o=hw(null,o,c,s,l);break e}}throw o=bt(c)||c,Error(i(306,o,""))}}return o;case 0:return ug(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=Ko(c,o.pendingProps),yw(s,o,c,m,l);case 3:e:{if(at(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var g=o.memoizedState;m=g.element,Up(s,o),ec(o,c,null,l);var E=o.memoizedState;if(c=E.cache,ur(o,Lt,c),c!==g.cache&&Mp(o,[Lt],l,!0),Ju(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=vw(s,o,c,l);break e}else if(c!==m){m=si(Error(i(424)),o),Gu(m),o=vw(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Et=wi(s.firstChild),xn=o,Xe=!0,qo=null,Hi=!0,l=ew(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($u(),c===m){o=ks(s,o,l);break e}en(s,o,c,l)}o=o.child}return o;case 26:return Ih(s,o),s===null?(l=xE(o.type,null,o.pendingProps,null))?o.memoizedState=l:Xe||(l=o.type,s=o.pendingProps,c=Hh(Ie.current).createElement(l),c[Nt]=o,c[It]=s,nn(c,l,s),At(c),o.stateNode=c):o.memoizedState=xE(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return tr(o),s===null&&Xe&&(c=o.stateNode=TE(o.type,o.pendingProps,Ie.current),xn=o,Hi=!0,m=Et,Sr(o.type)?(Xg=m,Et=wi(c.firstChild)):Et=m),en(s,o,o.pendingProps.children,l),Ih(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Xe&&((m=c=Et)&&(c=j2(c,o.type,o.pendingProps,Hi),c!==null?(o.stateNode=c,xn=o,Et=wi(c.firstChild),Hi=!1,m=!0):m=!1),m||Ho(o)),tr(o),m=o.type,g=o.pendingProps,E=s!==null?s.memoizedProps:null,c=g.children,Gg(m,g)?c=null:E!==null&&Gg(m,E)&&(o.flags|=32),o.memoizedState!==null&&(m=$p(s,o,o2,null,null,l),Ec._currentValue=m),Ih(s,o),en(s,o,c,l),o.child;case 6:return s===null&&Xe&&((s=l=Et)&&(l=q2(l,o.pendingProps,Hi),l!==null?(o.stateNode=l,xn=o,Et=null,s=!0):s=!1),s||Ho(o)),null;case 13:return _w(s,o,l);case 4:return at(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=ll(o,null,c,l):en(s,o,c,l),o.child;case 11:return fw(s,o,o.type,o.pendingProps,l);case 7:return en(s,o,o.pendingProps,l),o.child;case 8:return en(s,o,o.pendingProps.children,l),o.child;case 12:return en(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,ur(o,o.type,c.value),en(s,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,Go(o),m=un(m),c=c(m),o.flags|=1,en(s,o,c,l),o.child;case 14:return hw(s,o,o.type,o.pendingProps,l);case 15:return dw(s,o,o.type,o.pendingProps,l);case 19:return ww(s,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},s===null?(l=Oh(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Ss(s.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return mw(s,o,l);case 24:return Go(o),c=un(Lt),s===null?(m=Vp(),m===null&&(m=lt,g=Pp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),o.memoizedState={parent:c,cache:m},Lp(o),ur(o,Lt,m)):((s.lanes&l)!==0&&(Up(s,o),ec(o,null,null,l),Ju()),m=s.memoizedState,g=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ur(o,Lt,c)):(c=g.cache,ur(o,Lt,c),c!==m.cache&&Mp(o,[Lt],l,!0))),en(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ds(s){s.flags|=4}function Tw(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kE(o)){if(o=li.current,o!==null&&((Ge&4194048)===Ge?$i!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||o!==$i))throw Wu=zp,o0;s.flags|=8192}}function kh(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Su():536870912,s.lanes|=o,hl|=o)}function ac(s,o){if(!Xe)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function yt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function p2(s,o,l){var c=o.pendingProps;switch(Ip(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(o),null;case 1:return yt(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Cs(Lt),Di(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Hu(o)?Ds(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,t0())),yt(o),null;case 26:return l=o.memoizedState,s===null?(Ds(o),l!==null?(yt(o),Tw(o,l)):(yt(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Ds(o),yt(o),Tw(o,l)):(yt(o),o.flags&=-16777217):(s.memoizedProps!==c&&Ds(o),yt(o),o.flags&=-16777217),null;case 27:fs(o),l=Ie.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Ds(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return yt(o),null}s=we.current,Hu(o)?Jb(o):(s=TE(m,c,l),o.stateNode=s,Ds(o))}return yt(o),null;case 5:if(fs(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Ds(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return yt(o),null}if(s=we.current,Hu(o))Jb(o);else{switch(m=Hh(Ie.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Nt]=o,s[It]=c;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(nn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ds(o)}}return yt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&Ds(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=Ie.current,Hu(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,m=xn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Nt]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||gE(s.nodeValue,l)),s||Ho(o)}else s=Hh(s).createTextNode(c),s[Nt]=o,o.stateNode=s}return yt(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Hu(o),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Nt]=o}else $u(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yt(o),m=!1}else m=t0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Os(o),o):(Os(o),null)}if(Os(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),kh(o,o.updateQueue),yt(o),null;case 4:return Di(),s===null&&Fg(o.stateNode.containerInfo),yt(o),null;case 10:return Cs(o.type),yt(o),null;case 19:if(de(Ut),m=o.memoizedState,m===null)return yt(o),null;if(c=(o.flags&128)!==0,g=m.rendering,g===null)if(c)ac(m,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(g=xh(s),g!==null){for(o.flags|=128,ac(m,!1),s=g.updateQueue,o.updateQueue=s,kh(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Wb(l,s),l=l.sibling;return ae(Ut,Ut.current&1|2),o.child}s=s.sibling}m.tail!==null&&Zn()>Ph&&(o.flags|=128,c=!0,ac(m,!1),o.lanes=4194304)}else{if(!c)if(s=xh(g),s!==null){if(o.flags|=128,c=!0,s=s.updateQueue,o.updateQueue=s,kh(o,s),ac(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Xe)return yt(o),null}else 2*Zn()-m.renderingStartTime>Ph&&l!==536870912&&(o.flags|=128,c=!0,ac(m,!1),o.lanes=4194304);m.isBackwards?(g.sibling=o.child,o.child=g):(s=m.last,s!==null?s.sibling=g:o.child=g,m.last=g)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Zn(),o.sibling=null,s=Ut.current,ae(Ut,c?s&1|2:s&1),o):(yt(o),null);case 22:case 23:return Os(o),qp(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(yt(o),o.subtreeFlags&6&&(o.flags|=8192)):yt(o),l=o.updateQueue,l!==null&&kh(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&de(Yo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Cs(Lt),yt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function g2(s,o){switch(Ip(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Cs(Lt),Di(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return fs(o),null;case 13:if(Os(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));$u()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return de(Ut),null;case 4:return Di(),null;case 10:return Cs(o.type),null;case 22:case 23:return Os(o),qp(),s!==null&&de(Yo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Cs(Lt),null;case 25:return null;default:return null}}function Sw(s,o){switch(Ip(o),o.tag){case 3:Cs(Lt),Di();break;case 26:case 27:case 5:fs(o);break;case 4:Di();break;case 13:Os(o);break;case 19:de(Ut);break;case 10:Cs(o.type);break;case 22:case 23:Os(o),qp(),s!==null&&de(Yo);break;case 24:Cs(Lt)}}function lc(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var g=l.create,E=l.inst;c=g(),E.destroy=c}l=l.next}while(l!==m)}}catch(T){ot(o,o.return,T)}}function gr(s,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var E=c.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,m=o;var O=l,q=T;try{q()}catch(Z){ot(m,O,Z)}}}c=c.next}while(c!==g)}}catch(Z){ot(o,o.return,Z)}}function Aw(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{h0(o,l)}catch(c){ot(s,s.return,c)}}}function xw(s,o,l){l.props=Ko(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ot(s,o,c)}}function uc(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ot(s,o,m)}}function Gi(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ot(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ot(s,o,m)}else l.current=null}function Rw(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ot(s,s.return,m)}}function yg(s,o,l){try{var c=s.stateNode;z2(c,s.type,l,o),c[It]=o}catch(m){ot(s,s.return,m)}}function Cw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Sr(s.type)||s.tag===4}function vg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Sr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _g(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=qh));else if(c!==4&&(c===27&&Sr(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(_g(s,o,l),s=s.sibling;s!==null;)_g(s,o,l),s=s.sibling}function Dh(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&Sr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Dh(s,o,l),s=s.sibling;s!==null;)Dh(s,o,l),s=s.sibling}function Iw(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);nn(o,c,l),o[Nt]=s,o[It]=l}catch(g){ot(s,s.return,g)}}var Ms=!1,Rt=!1,bg=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function y2(s,o){if(s=s.containerInfo,Hg=Xh,s=Fb(s),vp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,T=-1,O=-1,q=0,Z=0,ee=s,$=null;t:for(;;){for(var Y;ee!==l||m!==0&&ee.nodeType!==3||(T=E+m),ee!==g||c!==0&&ee.nodeType!==3||(O=E+c),ee.nodeType===3&&(E+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)$=ee,ee=Y;for(;;){if(ee===s)break t;if($===l&&++q===m&&(T=E),$===g&&++Z===c&&(O=E),(Y=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=Y}l=T===-1||O===-1?null:{start:T,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for($g={focusedElem:s,selectionRange:l},Xh=!1,Gt=o;Gt!==null;)if(o=Gt,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Gt=s;else for(;Gt!==null;){switch(o=Gt,g=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=o,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Re=Ko(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Re,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){ot(l,l.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)Qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Gt=s;break}Gt=o.return}}function kw(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:yr(s,l),c&4&&lc(5,l);break;case 1:if(yr(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(E){ot(l,l.return,E)}else{var m=Ko(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(l,l.return,E)}}c&64&&Aw(l),c&512&&uc(l,l.return);break;case 3:if(yr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{h0(s,o)}catch(E){ot(l,l.return,E)}}break;case 27:o===null&&c&4&&Iw(l);case 26:case 5:yr(s,l),o===null&&c&4&&Rw(l),c&512&&uc(l,l.return);break;case 12:yr(s,l);break;case 13:yr(s,l),c&4&&Pw(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=x2.bind(null,l),H2(s,l))));break;case 22:if(c=l.memoizedState!==null||Ms,!c){o=o!==null&&o.memoizedState!==null||Rt,m=Ms;var g=Rt;Ms=c,(Rt=o)&&!g?vr(s,l,(l.subtreeFlags&8772)!==0):yr(s,l),Ms=m,Rt=g}break;case 30:break;default:yr(s,l)}}function Dw(s){var o=s.alternate;o!==null&&(s.alternate=null,Dw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&rr(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var pt=null,kn=!1;function Ps(s,o,l){for(l=l.child;l!==null;)Mw(s,o,l),l=l.sibling}function Mw(s,o,l){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(wt,l)}catch{}switch(l.tag){case 26:Rt||Gi(l,o),Ps(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||Gi(l,o);var c=pt,m=kn;Sr(l.type)&&(pt=l.stateNode,kn=!1),Ps(s,o,l),vc(l.stateNode),pt=c,kn=m;break;case 5:Rt||Gi(l,o);case 6:if(c=pt,m=kn,pt=null,Ps(s,o,l),pt=c,kn=m,pt!==null)if(kn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(l.stateNode)}catch(g){ot(l,o,g)}else try{pt.removeChild(l.stateNode)}catch(g){ot(l,o,g)}break;case 18:pt!==null&&(kn?(s=pt,wE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),xc(s)):wE(pt,l.stateNode));break;case 4:c=pt,m=kn,pt=l.stateNode.containerInfo,kn=!0,Ps(s,o,l),pt=c,kn=m;break;case 0:case 11:case 14:case 15:Rt||gr(2,l,o),Rt||gr(4,l,o),Ps(s,o,l);break;case 1:Rt||(Gi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&xw(l,o,c)),Ps(s,o,l);break;case 21:Ps(s,o,l);break;case 22:Rt=(c=Rt)||l.memoizedState!==null,Ps(s,o,l),Rt=c;break;default:Ps(s,o,l)}}function Pw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xc(s)}catch(l){ot(o,o.return,l)}}function v2(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Ow),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Ow),o;default:throw Error(i(435,s.tag))}}function wg(s,o){var l=v2(s);o.forEach(function(c){var m=R2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function qn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=s,E=o,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Sr(T.type)){pt=T.stateNode,kn=!1;break e}break;case 5:pt=T.stateNode,kn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(pt===null)throw Error(i(160));Mw(g,E,m),pt=null,kn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Nw(o,s),o=o.sibling}var bi=null;function Nw(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qn(o,s),Hn(s),c&4&&(gr(3,s,s.return),lc(3,s),gr(5,s,s.return));break;case 1:qn(o,s),Hn(s),c&512&&(Rt||l===null||Gi(l,l.return)),c&64&&Ms&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=bi;if(qn(o,s),Hn(s),c&512&&(Rt||l===null||Gi(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[So]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),nn(g,c,l),g[Nt]=s,At(g),c=g;break e;case"link":var E=IE("link","href",m).get(c+(l.href||""));if(E){for(var T=0;T<E.length;T++)if(g=E[T],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(T,1);break t}}g=m.createElement(c),nn(g,c,l),m.head.appendChild(g);break;case"meta":if(E=IE("meta","content",m).get(c+(l.content||""))){for(T=0;T<E.length;T++)if(g=E[T],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(T,1);break t}}g=m.createElement(c),nn(g,c,l),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Nt]=s,At(g),c=g}s.stateNode=c}else OE(m,s.type,s.stateNode);else s.stateNode=CE(m,c,s.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?OE(m,s.type,s.stateNode):CE(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&yg(s,s.memoizedProps,l.memoizedProps)}break;case 27:qn(o,s),Hn(s),c&512&&(Rt||l===null||Gi(l,l.return)),l!==null&&c&4&&yg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(qn(o,s),Hn(s),c&512&&(Rt||l===null||Gi(l,l.return)),s.flags&32){m=s.stateNode;try{ei(m,"")}catch(Y){ot(s,s.return,Y)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,yg(s,m,l!==null?l.memoizedProps:m)),c&1024&&(bg=!0);break;case 6:if(qn(o,s),Hn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Y){ot(s,s.return,Y)}}break;case 3:if(Yh=null,m=bi,bi=$h(o.containerInfo),qn(o,s),bi=m,Hn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{xc(o.containerInfo)}catch(Y){ot(s,s.return,Y)}bg&&(bg=!1,Vw(s));break;case 4:c=bi,bi=$h(s.stateNode.containerInfo),qn(o,s),Hn(s),bi=c;break;case 12:qn(o,s),Hn(s);break;case 13:qn(o,s),Hn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rg=Zn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,wg(s,c)));break;case 22:m=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,q=Ms,Z=Rt;if(Ms=q||m,Rt=Z||O,qn(o,s),Rt=Z,Ms=q,Hn(s),c&8192)e:for(o=s.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||O||Ms||Rt||Xo(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){O=l=o;try{if(g=O.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=O.stateNode;var ee=O.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){ot(O,O.return,Y)}}}else if(o.tag===6){if(l===null){O=o;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(Y){ot(O,O.return,Y)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,wg(s,l))));break;case 19:qn(o,s),Hn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,wg(s,c)));break;case 30:break;case 21:break;default:qn(o,s),Hn(s)}}function Hn(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(Cw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,g=vg(s);Dh(s,g,m);break;case 5:var E=l.stateNode;l.flags&32&&(ei(E,""),l.flags&=-33);var T=vg(s);Dh(s,T,E);break;case 3:case 4:var O=l.stateNode.containerInfo,q=vg(s);_g(s,q,O);break;default:throw Error(i(161))}}catch(Z){ot(s,s.return,Z)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Vw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Vw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function yr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kw(s,o.alternate,o),o=o.sibling}function Xo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:gr(4,o,o.return),Xo(o);break;case 1:Gi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&xw(o,o.return,l),Xo(o);break;case 27:vc(o.stateNode);case 26:case 5:Gi(o,o.return),Xo(o);break;case 22:o.memoizedState===null&&Xo(o);break;case 30:Xo(o);break;default:Xo(o)}s=s.sibling}}function vr(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=s,g=o,E=g.flags;switch(g.tag){case 0:case 11:case 15:vr(m,g,l),lc(4,g);break;case 1:if(vr(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ot(c,c.return,q)}if(c=g,m=c.updateQueue,m!==null){var T=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)f0(O[m],T)}catch(q){ot(c,c.return,q)}}l&&E&64&&Aw(g),uc(g,g.return);break;case 27:Iw(g);case 26:case 5:vr(m,g,l),l&&c===null&&E&4&&Rw(g),uc(g,g.return);break;case 12:vr(m,g,l);break;case 13:vr(m,g,l),l&&E&4&&Pw(m,g);break;case 22:g.memoizedState===null&&vr(m,g,l),uc(g,g.return);break;case 30:break;default:vr(m,g,l)}o=o.sibling}}function Eg(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Qu(l))}function Tg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Qu(s))}function Yi(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zw(s,o,l,c),o=o.sibling}function zw(s,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Yi(s,o,l,c),m&2048&&lc(9,o);break;case 1:Yi(s,o,l,c);break;case 3:Yi(s,o,l,c),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Qu(s)));break;case 12:if(m&2048){Yi(s,o,l,c),s=o.stateNode;try{var g=o.memoizedProps,E=g.id,T=g.onPostCommit;typeof T=="function"&&T(E,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){ot(o,o.return,O)}}else Yi(s,o,l,c);break;case 13:Yi(s,o,l,c);break;case 23:break;case 22:g=o.stateNode,E=o.alternate,o.memoizedState!==null?g._visibility&2?Yi(s,o,l,c):cc(s,o):g._visibility&2?Yi(s,o,l,c):(g._visibility|=2,ul(s,o,l,c,(o.subtreeFlags&10256)!==0)),m&2048&&Eg(E,o);break;case 24:Yi(s,o,l,c),m&2048&&Tg(o.alternate,o);break;default:Yi(s,o,l,c)}}function ul(s,o,l,c,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var g=s,E=o,T=l,O=c,q=E.flags;switch(E.tag){case 0:case 11:case 15:ul(g,E,T,O,m),lc(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?ul(g,E,T,O,m):cc(g,E):(Z._visibility|=2,ul(g,E,T,O,m)),m&&q&2048&&Eg(E.alternate,E);break;case 24:ul(g,E,T,O,m),m&&q&2048&&Tg(E.alternate,E);break;default:ul(g,E,T,O,m)}o=o.sibling}}function cc(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,m=c.flags;switch(c.tag){case 22:cc(l,c),m&2048&&Eg(c.alternate,c);break;case 24:cc(l,c),m&2048&&Tg(c.alternate,c);break;default:cc(l,c)}o=o.sibling}}var fc=8192;function cl(s){if(s.subtreeFlags&fc)for(s=s.child;s!==null;)Lw(s),s=s.sibling}function Lw(s){switch(s.tag){case 26:cl(s),s.flags&fc&&s.memoizedState!==null&&iO(bi,s.memoizedState,s.memoizedProps);break;case 5:cl(s);break;case 3:case 4:var o=bi;bi=$h(s.stateNode.containerInfo),cl(s),bi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=fc,fc=16777216,cl(s),fc=o):cl(s));break;default:cl(s)}}function Uw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function hc(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Gt=c,Fw(c,s)}Uw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bw(s),s=s.sibling}function Bw(s){switch(s.tag){case 0:case 11:case 15:hc(s),s.flags&2048&&gr(9,s,s.return);break;case 3:hc(s);break;case 12:hc(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Mh(s)):hc(s);break;default:hc(s)}}function Mh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Gt=c,Fw(c,s)}Uw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:gr(8,o,o.return),Mh(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Mh(o));break;default:Mh(o)}s=s.sibling}}function Fw(s,o){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:gr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Qu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Gt=c;else e:for(l=s;Gt!==null;){c=Gt;var m=c.sibling,g=c.return;if(Dw(c),c===l){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var _2={getCacheForType:function(s){var o=un(Lt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},b2=typeof WeakMap=="function"?WeakMap:Map,et=0,lt=null,Le=null,Ge=0,tt=0,$n=null,_r=!1,fl=!1,Sg=!1,Ns=0,Tt=0,br=0,Wo=0,Ag=0,ui=0,hl=0,dc=null,Dn=null,xg=!1,Rg=0,Ph=1/0,Nh=null,wr=null,tn=0,Er=null,dl=null,ml=0,Cg=0,Ig=null,jw=null,mc=0,Og=null;function Gn(){if((et&2)!==0&&Ge!==0)return Ge&-Ge;if(W.T!==null){var s=tl;return s!==0?s:zg()}return ir()}function qw(){ui===0&&(ui=(Ge&536870912)===0||Xe?Tu():536870912);var s=li.current;return s!==null&&(s.flags|=32),ui}function Yn(s,o,l){(s===lt&&(tt===2||tt===9)||s.cancelPendingCommit!==null)&&(pl(s,0),Tr(s,Ge,ui,!1)),ds(s,l),((et&2)===0||s!==lt)&&(s===lt&&((et&2)===0&&(Wo|=l),Tt===4&&Tr(s,Ge,ui,!1)),Qi(s))}function Hw(s,o,l){if((et&6)!==0)throw Error(i(327));var c=!l&&(o&124)===0&&(o&s.expiredLanes)===0||To(s,o),m=c?T2(s,o):Mg(s,o,!0),g=c;do{if(m===0){fl&&!c&&Tr(s,o,0,!1);break}else{if(l=s.current.alternate,g&&!w2(l)){m=Mg(s,o,!1),g=!1;continue}if(m===2){if(g=o,s.errorRecoveryDisabledLanes&g)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var T=s;m=dc;var O=T.current.memoizedState.isDehydrated;if(O&&(pl(T,E).flags|=256),E=Mg(T,E,!1),E!==2){if(Sg&&!O){T.errorRecoveryDisabledLanes|=g,Wo|=g,m=4;break e}g=Dn,Dn=m,g!==null&&(Dn===null?Dn=g:Dn.push.apply(Dn,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){pl(s,0),Tr(s,o,0,!0);break}e:{switch(c=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Tr(c,o,ui,!_r);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=Rg+300-Zn(),10<m)){if(Tr(c,o,ui,!_r),Da(c,0,!0)!==0)break e;c.timeoutHandle=_E($w.bind(null,c,l,Dn,Nh,xg,o,ui,Wo,hl,_r,g,2,-0,0),m);break e}$w(c,l,Dn,Nh,xg,o,ui,Wo,hl,_r,g,0,-0,0)}}break}while(!0);Qi(s)}function $w(s,o,l,c,m,g,E,T,O,q,Z,ee,$,Y){if(s.timeoutHandle=-1,ee=o.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(wc={stylesheets:null,count:0,unsuspend:nO},Lw(o),ee=sO(),ee!==null)){s.cancelPendingCommit=ee(Zw.bind(null,s,o,g,l,c,m,E,T,O,Z,1,$,Y)),Tr(s,g,E,!q);return}Zw(s,o,g,l,c,m,E,T,O)}function w2(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Fn(g(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Tr(s,o,l,c){o&=~Ag,o&=~Wo,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var m=o;0<m;){var g=31-ln(m),E=1<<g;c[g]=-1,m&=~E}l!==0&&Mi(s,l,o)}function Vh(){return(et&6)===0?(pc(0),!1):!0}function kg(){if(Le!==null){if(tt===0)var s=Le.return;else s=Le,Rs=$o=null,Qp(s),al=null,rc=0,s=Le;for(;s!==null;)Sw(s.alternate,s),s=s.return;Le=null}}function pl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,U2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),kg(),lt=s,Le=l=Ss(s.current,null),Ge=o,tt=0,$n=null,_r=!1,fl=To(s,o),Sg=!1,hl=ui=Ag=Wo=br=Tt=0,Dn=dc=null,xg=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var m=31-ln(c),g=1<<m;o|=s[m],c&=~g}return Ns=o,sh(),l}function Gw(s,o){Me=null,W.H=Th,o===Xu||o===dh?(o=u0(),tt=3):o===o0?(o=u0(),tt=4):tt=o===cw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,$n=o,Le===null&&(Tt=1,Ch(s,si(o,s.current)))}function Yw(){var s=W.H;return W.H=Th,s===null?Th:s}function Qw(){var s=W.A;return W.A=_2,s}function Dg(){Tt=4,_r||(Ge&4194048)!==Ge&&li.current!==null||(fl=!0),(br&134217727)===0&&(Wo&134217727)===0||lt===null||Tr(lt,Ge,ui,!1)}function Mg(s,o,l){var c=et;et|=2;var m=Yw(),g=Qw();(lt!==s||Ge!==o)&&(Nh=null,pl(s,o)),o=!1;var E=Tt;e:do try{if(tt!==0&&Le!==null){var T=Le,O=$n;switch(tt){case 8:kg(),E=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(o=!0);var q=tt;if(tt=0,$n=null,gl(s,T,O,q),l&&fl){E=0;break e}break;default:q=tt,tt=0,$n=null,gl(s,T,O,q)}}E2(),E=Tt;break}catch(Z){Gw(s,Z)}while(!0);return o&&s.shellSuspendCounter++,Rs=$o=null,et=c,W.H=m,W.A=g,Le===null&&(lt=null,Ge=0,sh()),E}function E2(){for(;Le!==null;)Kw(Le)}function T2(s,o){var l=et;et|=2;var c=Yw(),m=Qw();lt!==s||Ge!==o?(Nh=null,Ph=Zn()+500,pl(s,o)):fl=To(s,o);e:do try{if(tt!==0&&Le!==null){o=Le;var g=$n;t:switch(tt){case 1:tt=0,$n=null,gl(s,o,g,1);break;case 2:case 9:if(a0(g)){tt=0,$n=null,Xw(o);break}o=function(){tt!==2&&tt!==9||lt!==s||(tt=7),Qi(s)},g.then(o,o);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:a0(g)?(tt=0,$n=null,Xw(o)):(tt=0,$n=null,gl(s,o,g,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var T=Le;if(!E||kE(E)){tt=0,$n=null;var O=T.sibling;if(O!==null)Le=O;else{var q=T.return;q!==null?(Le=q,zh(q)):Le=null}break t}}tt=0,$n=null,gl(s,o,g,5);break;case 6:tt=0,$n=null,gl(s,o,g,6);break;case 8:kg(),Tt=6;break e;default:throw Error(i(462))}}S2();break}catch(Z){Gw(s,Z)}while(!0);return Rs=$o=null,W.H=c,W.A=m,et=l,Le!==null?0:(lt=null,Ge=0,sh(),Tt)}function S2(){for(;Le!==null&&!_u();)Kw(Le)}function Kw(s){var o=Ew(s.alternate,s,Ns);s.memoizedProps=s.pendingProps,o===null?zh(s):Le=o}function Xw(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=gw(l,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=gw(l,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:Qp(o);default:Sw(l,o),o=Le=Wb(o,Ns),o=Ew(l,o,Ns)}s.memoizedProps=s.pendingProps,o===null?zh(s):Le=o}function gl(s,o,l,c){Rs=$o=null,Qp(o),al=null,rc=0;var m=o.return;try{if(d2(s,m,o,l,Ge)){Tt=1,Ch(s,si(l,s.current)),Le=null;return}}catch(g){if(m!==null)throw Le=m,g;Tt=1,Ch(s,si(l,s.current)),Le=null;return}o.flags&32768?(Xe||c===1?s=!0:fl||(Ge&536870912)!==0?s=!1:(_r=s=!0,(c===2||c===9||c===3||c===6)&&(c=li.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ww(o,s)):zh(o)}function zh(s){var o=s;do{if((o.flags&32768)!==0){Ww(o,_r);return}s=o.return;var l=p2(o.alternate,o,Ns);if(l!==null){Le=l;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=s}while(o!==null);Tt===0&&(Tt=5)}function Ww(s,o){do{var l=g2(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);Tt=6,Le=null}function Zw(s,o,l,c,m,g,E,T,O){s.cancelPendingCommit=null;do Lh();while(tn!==0);if((et&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(g=o.lanes|o.childLanes,g|=Tp,Au(s,l,g,E,T,O),s===lt&&(Le=lt=null,Ge=0),dl=o,Er=s,ml=l,Cg=g,Ig=m,jw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,C2(_o,function(){return iE(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=he.p,he.p=2,E=et,et|=4;try{y2(s,o,l)}finally{et=E,he.p=m,W.T=c}}tn=1,Jw(),eE(),tE()}}function Jw(){if(tn===1){tn=0;var s=Er,o=dl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=he.p;he.p=2;var m=et;et|=4;try{Nw(o,s);var g=$g,E=Fb(s.containerInfo),T=g.focusedElem,O=g.selectionRange;if(E!==T&&T&&T.ownerDocument&&Bb(T.ownerDocument.documentElement,T)){if(O!==null&&vp(T)){var q=O.start,Z=O.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var Y=$.getSelection(),Re=T.textContent.length,Ee=Math.min(O.start,Re),rt=O.end===void 0?Ee:Math.min(O.end,Re);!Y.extend&&Ee>rt&&(E=rt,rt=Ee,Ee=E);var U=Ub(T,Ee),V=Ub(T,rt);if(U&&V&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var j=ee.createRange();j.setStart(U.node,U.offset),Y.removeAllRanges(),Ee>rt?(Y.addRange(j),Y.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),Y.addRange(j))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Xh=!!Hg,$g=Hg=null}finally{et=m,he.p=c,W.T=l}}s.current=o,tn=2}}function eE(){if(tn===2){tn=0;var s=Er,o=dl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=he.p;he.p=2;var m=et;et|=4;try{kw(s,o.alternate,o)}finally{et=m,he.p=c,W.T=l}}tn=3}}function tE(){if(tn===4||tn===3){tn=0,Mf();var s=Er,o=dl,l=ml,c=jw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?tn=5:(tn=0,dl=Er=null,nE(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(wr=null),Ma(l),o=o.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(wt,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=W.T,m=he.p,he.p=2,W.T=null;try{for(var g=s.onRecoverableError,E=0;E<c.length;E++){var T=c[E];g(T.value,{componentStack:T.stack})}}finally{W.T=o,he.p=m}}(ml&3)!==0&&Lh(),Qi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Og?mc++:(mc=0,Og=s):mc=0,pc(0)}}function nE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Qu(o)))}function Lh(s){return Jw(),eE(),tE(),iE()}function iE(){if(tn!==5)return!1;var s=Er,o=Cg;Cg=0;var l=Ma(ml),c=W.T,m=he.p;try{he.p=32>l?32:l,W.T=null,l=Ig,Ig=null;var g=Er,E=ml;if(tn=0,dl=Er=null,ml=0,(et&6)!==0)throw Error(i(331));var T=et;if(et|=4,Bw(g.current),zw(g,g.current,E,l),et=T,pc(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(wt,g)}catch{}return!0}finally{he.p=m,W.T=c,nE(s,o)}}function sE(s,o,l){o=si(l,o),o=lg(s.stateNode,o,2),s=hr(s,o,2),s!==null&&(ds(s,2),Qi(s))}function ot(s,o,l){if(s.tag===3)sE(s,s,l);else for(;o!==null;){if(o.tag===3){sE(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wr===null||!wr.has(c))){s=si(l,s),l=lw(2),c=hr(o,l,2),c!==null&&(uw(l,c,o,s),ds(c,2),Qi(c));break}}o=o.return}}function Pg(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new b2;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(Sg=!0,m.add(l),s=A2.bind(null,s,o,l),o.then(s,s))}function A2(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,lt===s&&(Ge&l)===l&&(Tt===4||Tt===3&&(Ge&62914560)===Ge&&300>Zn()-Rg?(et&2)===0&&pl(s,0):Ag|=l,hl===Ge&&(hl=0)),Qi(s)}function rE(s,o){o===0&&(o=Su()),s=Wa(s,o),s!==null&&(ds(s,o),Qi(s))}function x2(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),rE(s,l)}function R2(s,o){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),rE(s,l)}function C2(s,o){return yo(s,o)}var Uh=null,yl=null,Ng=!1,Bh=!1,Vg=!1,Zo=0;function Qi(s){s!==yl&&s.next===null&&(yl===null?Uh=yl=s:yl=yl.next=s),Bh=!0,Ng||(Ng=!0,O2())}function pc(s,o){if(!Vg&&Bh){Vg=!0;do for(var l=!1,c=Uh;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-ln(42|s)+1)-1,g&=m&~(E&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,uE(c,g))}else g=Ge,g=Da(c,c===lt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||To(c,g)||(l=!0,uE(c,g));c=c.next}while(l);Vg=!1}}function I2(){oE()}function oE(){Bh=Ng=!1;var s=0;Zo!==0&&(L2()&&(s=Zo),Zo=0);for(var o=Zn(),l=null,c=Uh;c!==null;){var m=c.next,g=aE(c,o);g===0?(c.next=null,l===null?Uh=m:l.next=m,m===null&&(yl=l)):(l=c,(s!==0||(g&3)!==0)&&(Bh=!0)),c=m}pc(s)}function aE(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var E=31-ln(g),T=1<<E,O=m[E];O===-1?((T&l)===0||(T&c)!==0)&&(m[E]=Eu(T,o)):O<=o&&(s.expiredLanes|=T),g&=~T}if(o=lt,l=Ge,l=Da(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(tt===2||tt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&vo(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||To(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&vo(c),Ma(l)){case 2:case 8:l=Oa;break;case 32:l=_o;break;case 268435456:l=ka;break;default:l=_o}return c=lE.bind(null,s),l=yo(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&vo(c),s.callbackPriority=2,s.callbackNode=null,2}function lE(s,o){if(tn!==0&&tn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Lh()&&s.callbackNode!==l)return null;var c=Ge;return c=Da(s,s===lt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Hw(s,c,o),aE(s,Zn()),s.callbackNode!=null&&s.callbackNode===l?lE.bind(null,s):null)}function uE(s,o){if(Lh())return null;Hw(s,o,!0)}function O2(){B2(function(){(et&6)!==0?yo(bu,I2):oE()})}function zg(){return Zo===0&&(Zo=Tu()),Zo}function cE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ua(""+s)}function fE(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function k2(s,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var g=cE((m[It]||null).action),E=c.submitter;E&&(o=(o=E[It]||null)?cE(o.formAction):E.getAttribute("formAction"),o!==null&&(g=o,E=null));var T=new Ba("action","action",null,c,m);s.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Zo!==0){var O=E?fE(m,E):new FormData(m);ig(l,{pending:!0,data:O,method:m.method,action:g},null,O)}}else typeof g=="function"&&(T.preventDefault(),O=E?fE(m,E):new FormData(m),ig(l,{pending:!0,data:O,method:m.method,action:g},g,O))},currentTarget:m}]})}}for(var Lg=0;Lg<Ep.length;Lg++){var Ug=Ep[Lg],D2=Ug.toLowerCase(),M2=Ug[0].toUpperCase()+Ug.slice(1);_i(D2,"on"+M2)}_i(Hb,"onAnimationEnd"),_i($b,"onAnimationIteration"),_i(Gb,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(XI,"onTransitionRun"),_i(WI,"onTransitionStart"),_i(ZI,"onTransitionCancel"),_i(Yb,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function hE(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var g=void 0;if(o)for(var E=c.length-1;0<=E;E--){var T=c[E],O=T.instance,q=T.currentTarget;if(T=T.listener,O!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=q;try{g(m)}catch(Z){Rh(Z)}m.currentTarget=null,g=O}else for(E=0;E<c.length;E++){if(T=c[E],O=T.instance,q=T.currentTarget,T=T.listener,O!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=q;try{g(m)}catch(Z){Rh(Z)}m.currentTarget=null,g=O}}}}function Ue(s,o){var l=o[Ru];l===void 0&&(l=o[Ru]=new Set);var c=s+"__bubble";l.has(c)||(dE(o,s,2,!1),l.add(c))}function Bg(s,o,l){var c=0;o&&(c|=4),dE(l,s,c,o)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Fg(s){if(!s[Fh]){s[Fh]=!0,Cu.forEach(function(l){l!=="selectionchange"&&(P2.has(l)||Bg(l,!1,s),Bg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Fh]||(o[Fh]=!0,Bg("selectionchange",!1,o))}}function dE(s,o,l,c){switch(zE(o)){case 2:var m=aO;break;case 8:m=lO;break;default:m=ty}l=m.bind(null,o,l,s),m=void 0,!ni||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function jg(s,o,l,c,m){var g=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var T=c.stateNode.containerInfo;if(T===m)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;T!==null;){if(E=ms(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){c=g=E;continue e}T=T.parentNode}}c=c.return}qf(function(){var q=g,Z=ti(l),ee=[];e:{var $=Qb.get(s);if($!==void 0){var Y=Ba,Re=s;switch(s){case"keypress":if(Ui(l)===0)break e;case"keydown":case"keyup":Y=Ga;break;case"focusin":Re="focus",Y=qa;break;case"focusout":Re="blur",Y=qa;break;case"beforeblur":case"afterblur":Y=qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Wf;break;case Hb:case $b:case Gb:Y=Ha;break;case Yb:Y=Jf;break;case"scroll":case"scrollend":Y=Hf;break;case"wheel":Y=Ya;break;case"copy":case"cut":case"paste":Y=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bu;break;case"toggle":case"beforetoggle":Y=th}var Ee=(o&4)!==0,rt=!Ee&&(s==="scroll"||s==="scrollend"),U=Ee?$!==null?$+"Capture":null:$;Ee=[];for(var V=q,j;V!==null;){var J=V;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||U===null||(J=ko(V,U),J!=null&&Ee.push(yc(V,J,j))),rt)break;V=V.return}0<Ee.length&&($=new Y($,Re,null,l,Z),ee.push({event:$,listeners:Ee}))}}if((o&7)===0){e:{if($=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",$&&l!==vs&&(Re=l.relatedTarget||l.fromElement)&&(ms(Re)||Re[Jn]))break e;if((Y||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Re=l.relatedTarget||l.toElement,Y=q,Re=Re?ms(Re):null,Re!==null&&(rt=a(Re),Ee=Re.tag,Re!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(Re=null)):(Y=null,Re=q),Y!==Re)){if(Ee=ii,J="onMouseLeave",U="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Bu,J="onPointerLeave",U="onPointerEnter",V="pointer"),rt=Y==null?$:Ni(Y),j=Re==null?$:Ni(Re),$=new Ee(J,V+"leave",Y,l,Z),$.target=rt,$.relatedTarget=j,J=null,ms(Z)===q&&(Ee=new Ee(U,V+"enter",Re,l,Z),Ee.target=j,Ee.relatedTarget=rt,J=Ee),rt=J,Y&&Re)t:{for(Ee=Y,U=Re,V=0,j=Ee;j;j=vl(j))V++;for(j=0,J=U;J;J=vl(J))j++;for(;0<V-j;)Ee=vl(Ee),V--;for(;0<j-V;)U=vl(U),j--;for(;V--;){if(Ee===U||U!==null&&Ee===U.alternate)break t;Ee=vl(Ee),U=vl(U)}Ee=null}else Ee=null;Y!==null&&mE(ee,$,Y,Ee,!1),Re!==null&&rt!==null&&mE(ee,rt,Re,Ee,!0)}}e:{if($=q?Ni(q):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var ye=Mb;else if(zt($))if(Pb)ye=YI;else{ye=$I;var ze=HI}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&Mu(q.elementType)&&(ye=Mb):ye=GI;if(ye&&(ye=ye(s,q))){Ts(ee,ye,l,Z);break e}ze&&ze(s,$,q),s==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&ar($,"number",$.value)}switch(ze=q?Ni(q):window,s){case"focusin":(zt(ze)||ze.contentEditable==="true")&&(Qa=ze,_p=q,qu=null);break;case"focusout":qu=_p=Qa=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,jb(ee,l,Z);break;case"selectionchange":if(KI)break;case"keydown":case"keyup":jb(ee,l,Z)}var _e;if(ji)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?K(s,l)&&(Se="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(w&&l.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(_e=Nu()):(Li=Z,lr="value"in Li?Li.value:Li.textContent,He=!0)),ze=jh(q,Se),0<ze.length&&(Se=new Lu(Se,s,null,l,Z),ee.push({event:Se,listeners:ze}),_e?Se.data=_e:(_e=ue(l),_e!==null&&(Se.data=_e)))),(_e=v?Vt(s,l):$e(s,l))&&(Se=jh(q,"onBeforeInput"),0<Se.length&&(ze=new Lu("onBeforeInput","beforeinput",null,l,Z),ee.push({event:ze,listeners:Se}),ze.data=_e)),k2(ee,s,q,l,Z)}hE(ee,o)})}function yc(s,o,l){return{instance:s,listener:o,currentTarget:l}}function jh(s,o){for(var l=o+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ko(s,l),m!=null&&c.unshift(yc(s,m,g)),m=ko(s,o),m!=null&&c.push(yc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function vl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function mE(s,o,l,c,m){for(var g=o._reactName,E=[];l!==null&&l!==c;){var T=l,O=T.alternate,q=T.stateNode;if(T=T.tag,O!==null&&O===c)break;T!==5&&T!==26&&T!==27||q===null||(O=q,m?(q=ko(l,g),q!=null&&E.unshift(yc(l,q,O))):m||(q=ko(l,g),q!=null&&E.push(yc(l,q,O)))),l=l.return}E.length!==0&&s.push({event:o,listeners:E})}var N2=/\r\n?/g,V2=/\u0000|\uFFFD/g;function pE(s){return(typeof s=="string"?s:""+s).replace(N2,`
`).replace(V2,"")}function gE(s,o){return o=pE(o),pE(s)===o}function qh(){}function st(s,o,l,c,m,g){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||ei(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&ei(s,""+c);break;case"className":Vi(s,"class",c);break;case"tabIndex":Vi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(s,l,c);break;case"style":Du(s,c,g);break;case"data":if(o!=="object"){Vi(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ua(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(o!=="input"&&st(s,o,"name",m.name,m,null),st(s,o,"formEncType",m.formEncType,m,null),st(s,o,"formMethod",m.formMethod,m,null),st(s,o,"formTarget",m.formTarget,m,null)):(st(s,o,"encType",m.encType,m,null),st(s,o,"method",m.method,m,null),st(s,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ua(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=qh);break;case"onScroll":c!=null&&Ue("scroll",s);break;case"onScrollEnd":c!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ua(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),or(s,"popover",c);break;case"xlinkActuate":Zt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":or(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=hp.get(l)||l,or(s,l,c))}}function qg(s,o,l,c,m,g){switch(l){case"style":Du(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?ei(s,c):(typeof c=="number"||typeof c=="bigint")&&ei(s,""+c);break;case"onScroll":c!=null&&Ue("scroll",s);break;case"onScrollEnd":c!=null&&Ue("scrollend",s);break;case"onClick":c!=null&&(s.onclick=qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),g=s[It]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(o,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):or(s,l,c)}}}function nn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var E=l[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:st(s,o,g,E,l,null)}}m&&st(s,o,"srcSet",l.srcSet,l,null),c&&st(s,o,"src",l.src,l,null);return;case"input":Ue("invalid",s);var T=g=E=m=null,O=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":E=Z;break;case"checked":O=Z;break;case"defaultChecked":q=Z;break;case"value":g=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:st(s,o,c,Z,l,null)}}Co(s,g,T,O,q,E,m,!1),La(s);return;case"select":Ue("invalid",s),c=E=g=null;for(m in l)if(l.hasOwnProperty(m)&&(T=l[m],T!=null))switch(m){case"value":g=T;break;case"defaultValue":E=T;break;case"multiple":c=T;default:st(s,o,m,T,l,null)}o=g,l=E,s.multiple=!!c,o!=null?ys(s,!!c,o,!1):l!=null&&ys(s,!!c,l,!0);return;case"textarea":Ue("invalid",s),g=m=c=null;for(E in l)if(l.hasOwnProperty(E)&&(T=l[E],T!=null))switch(E){case"value":c=T;break;case"defaultValue":m=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:st(s,o,E,T,l,null)}Io(s,c,m,g),La(s);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:st(s,o,O,c,l,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(c=0;c<gc.length;c++)Ue(gc[c],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:st(s,o,q,c,l,null)}return;default:if(Mu(o)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&qg(s,o,Z,c,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(c=l[T],c!=null&&st(s,o,T,c,l,null))}function z2(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,T=null,O=null,q=null,Z=null;for(Y in l){var ee=l[Y];if(l.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ee;default:c.hasOwnProperty(Y)||st(s,o,Y,null,c,ee)}}for(var $ in c){var Y=c[$];if(ee=l[$],c.hasOwnProperty($)&&(Y!=null||ee!=null))switch($){case"type":g=Y;break;case"name":m=Y;break;case"checked":q=Y;break;case"defaultChecked":Z=Y;break;case"value":E=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,o));break;default:Y!==ee&&st(s,o,$,Y,c,ee)}}Bn(s,E,T,O,q,Z,g,m);return;case"select":Y=E=T=$=null;for(g in l)if(O=l[g],l.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Y=O;default:c.hasOwnProperty(g)||st(s,o,g,null,c,O)}for(m in c)if(g=c[m],O=l[m],c.hasOwnProperty(m)&&(g!=null||O!=null))switch(m){case"value":$=g;break;case"defaultValue":T=g;break;case"multiple":E=g;default:g!==O&&st(s,o,m,g,c,O)}o=T,l=E,c=Y,$!=null?ys(s,!!l,$,!1):!!c!=!!l&&(o!=null?ys(s,!!l,o,!0):ys(s,!!l,l?[]:"",!1));return;case"textarea":Y=$=null;for(T in l)if(m=l[T],l.hasOwnProperty(T)&&m!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(s,o,T,null,c,m)}for(E in c)if(m=c[E],g=l[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":$=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&st(s,o,E,m,c,g)}nt(s,$,Y);return;case"option":for(var Re in l)if($=l[Re],l.hasOwnProperty(Re)&&$!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":s.selected=!1;break;default:st(s,o,Re,null,c,$)}for(O in c)if($=c[O],Y=l[O],c.hasOwnProperty(O)&&$!==Y&&($!=null||Y!=null))switch(O){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:st(s,o,O,$,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)$=l[Ee],l.hasOwnProperty(Ee)&&$!=null&&!c.hasOwnProperty(Ee)&&st(s,o,Ee,null,c,$);for(q in c)if($=c[q],Y=l[q],c.hasOwnProperty(q)&&$!==Y&&($!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,o));break;default:st(s,o,q,$,c,Y)}return;default:if(Mu(o)){for(var rt in l)$=l[rt],l.hasOwnProperty(rt)&&$!==void 0&&!c.hasOwnProperty(rt)&&qg(s,o,rt,void 0,c,$);for(Z in c)$=c[Z],Y=l[Z],!c.hasOwnProperty(Z)||$===Y||$===void 0&&Y===void 0||qg(s,o,Z,$,c,Y);return}}for(var U in l)$=l[U],l.hasOwnProperty(U)&&$!=null&&!c.hasOwnProperty(U)&&st(s,o,U,null,c,$);for(ee in c)$=c[ee],Y=l[ee],!c.hasOwnProperty(ee)||$===Y||$==null&&Y==null||st(s,o,ee,$,c,Y)}var Hg=null,$g=null;function Hh(s){return s.nodeType===9?s:s.ownerDocument}function yE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Gg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yg=null;function L2(){var s=window.event;return s&&s.type==="popstate"?s===Yg?!1:(Yg=s,!0):(Yg=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,U2=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,B2=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(s){return bE.resolve(null).then(s).catch(F2)}:_E;function F2(s){setTimeout(function(){throw s})}function Sr(s){return s==="head"}function wE(s,o){var l=o,c=0,m=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var E=s.ownerDocument;if(l&1&&vc(E.documentElement),l&2&&vc(E.body),l&4)for(l=E.head,vc(l),E=l.firstChild;E;){var T=E.nextSibling,O=E.nodeName;E[So]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=T}}if(m===0){s.removeChild(g),xc(o);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);xc(o)}function Qg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qg(l),rr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function j2(s,o,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[So])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=wi(s.nextSibling),s===null)break}return null}function q2(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=wi(s.nextSibling),s===null))return null;return s}function Kg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function H2(s,o){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function wi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Xg=null;function EE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function TE(s,o,l){switch(o=Hh(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function vc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);rr(s)}var ci=new Map,SE=new Set;function $h(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vs=he.d;he.d={f:$2,r:G2,D:Y2,C:Q2,L:K2,m:X2,X:Z2,S:W2,M:J2};function $2(){var s=Vs.f(),o=Vh();return s||o}function G2(s){var o=Pi(s);o!==null&&o.tag===5&&o.type==="form"?H0(o):Vs.r(s)}var _l=typeof document>"u"?null:document;function AE(s,o,l){var c=_l;if(c&&typeof o=="string"&&o){var m=Ot(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),SE.has(m)||(SE.add(m),s={rel:s,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),nn(o,"link",s),At(o),c.head.appendChild(o)))}}function Y2(s){Vs.D(s),AE("dns-prefetch",s,null)}function Q2(s,o){Vs.C(s,o),AE("preconnect",s,o)}function K2(s,o,l){Vs.L(s,o,l);var c=_l;if(c&&s&&o){var m='link[rel="preload"][as="'+Ot(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Ot(l.imageSizes)+'"]')):m+='[href="'+Ot(s)+'"]';var g=m;switch(o){case"style":g=bl(s);break;case"script":g=wl(s)}ci.has(g)||(s=y({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ci.set(g,s),c.querySelector(m)!==null||o==="style"&&c.querySelector(_c(g))||o==="script"&&c.querySelector(bc(g))||(o=c.createElement("link"),nn(o,"link",s),At(o),c.head.appendChild(o)))}}function X2(s,o){Vs.m(s,o);var l=_l;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Ot(c)+'"][href="'+Ot(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wl(s)}if(!ci.has(g)&&(s=y({rel:"modulepreload",href:s},o),ci.set(g,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bc(g)))return}c=l.createElement("link"),nn(c,"link",s),At(c),l.head.appendChild(c)}}}function W2(s,o,l){Vs.S(s,o,l);var c=_l;if(c&&s){var m=Tn(c).hoistableStyles,g=bl(s);o=o||"default";var E=m.get(g);if(!E){var T={loading:0,preload:null};if(E=c.querySelector(_c(g)))T.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ci.get(g))&&Wg(s,l);var O=E=c.createElement("link");At(O),nn(O,"link",s),O._p=new Promise(function(q,Z){O.onload=q,O.onerror=Z}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gh(E,o,c)}E={type:"stylesheet",instance:E,count:1,state:T},m.set(g,E)}}}function Z2(s,o){Vs.X(s,o);var l=_l;if(l&&s){var c=Tn(l).hoistableScripts,m=wl(s),g=c.get(m);g||(g=l.querySelector(bc(m)),g||(s=y({src:s,async:!0},o),(o=ci.get(m))&&Zg(s,o),g=l.createElement("script"),At(g),nn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function J2(s,o){Vs.M(s,o);var l=_l;if(l&&s){var c=Tn(l).hoistableScripts,m=wl(s),g=c.get(m);g||(g=l.querySelector(bc(m)),g||(s=y({src:s,async:!0,type:"module"},o),(o=ci.get(m))&&Zg(s,o),g=l.createElement("script"),At(g),nn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function xE(s,o,l,c){var m=(m=Ie.current)?$h(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=bl(l.href),l=Tn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=bl(l.href);var g=Tn(m).hoistableStyles,E=g.get(s);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,E),(g=m.querySelector(_c(s)))&&!g._p&&(E.instance=g,E.state.loading=5),ci.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(s,l),g||eO(m,s,l,E.state))),o&&c===null)throw Error(i(528,""));return E}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wl(l),l=Tn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function bl(s){return'href="'+Ot(s)+'"'}function _c(s){return'link[rel="stylesheet"]['+s+"]"}function RE(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function eO(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),nn(o,"link",l),At(o),s.head.appendChild(o))}function wl(s){return'[src="'+Ot(s)+'"]'}function bc(s){return"script[async]"+s}function CE(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(c)return o.instance=c,At(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),At(c),nn(c,"style",m),Gh(c,l.precedence,s),o.instance=c;case"stylesheet":m=bl(l.href);var g=s.querySelector(_c(m));if(g)return o.state.loading|=4,o.instance=g,At(g),g;c=RE(l),(m=ci.get(m))&&Wg(c,m),g=(s.ownerDocument||s).createElement("link"),At(g);var E=g;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),nn(g,"link",c),o.state.loading|=4,Gh(g,l.precedence,s),o.instance=g;case"script":return g=wl(l.src),(m=s.querySelector(bc(g)))?(o.instance=m,At(m),m):(c=l,(m=ci.get(g))&&(c=y({},l),Zg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),At(m),nn(m,"link",c),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Gh(c,l.precedence,s));return o.instance}function Gh(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var T=c[E];if(T.dataset.precedence===o)g=T;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Wg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Zg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Yh=null;function IE(s,o,l){if(Yh===null){var c=new Map,m=Yh=new Map;m.set(l,c)}else m=Yh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var g=l[m];if(!(g[So]||g[Nt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(o)||"";E=s+E;var T=c.get(E);T?T.push(g):c.set(E,[g])}}return c}function OE(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function tO(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var wc=null;function nO(){}function iO(s,o,l){if(wc===null)throw Error(i(475));var c=wc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=bl(l.href),g=s.querySelector(_c(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Qh.bind(c),s.then(c,c)),o.state.loading|=4,o.instance=g,At(g);return}g=s.ownerDocument||s,l=RE(l),(m=ci.get(m))&&Wg(l,m),g=g.createElement("link"),At(g);var E=g;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),nn(g,"link",l),o.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Qh.bind(c),s.addEventListener("load",o),s.addEventListener("error",o))}}function sO(){if(wc===null)throw Error(i(475));var s=wc;return s.stylesheets&&s.count===0&&Jg(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Jg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Jg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kh=null;function Jg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kh=new Map,o.forEach(rO,s),Kh=null,Qh.call(s))}function rO(s,o){if(!(o.state.loading&4)){var l=Kh.get(s);if(l)var c=l.get(null);else{l=new Map,Kh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}m=o.instance,E=m.getAttribute("data-precedence"),g=l.get(E)||c,g===c&&l.set(null,m),l.set(E,m),this.count++,c=Qh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var Ec={$$typeof:G,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function oO(s,o,l,c,m,g,E,T){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function DE(s,o,l,c,m,g,E,T,O,q,Z,ee){return s=new oO(s,o,l,E,T,O,q,ee),o=1,g===!0&&(o|=24),g=jn(3,null,null,o),s.current=g,g.stateNode=s,o=Pp(),o.refCount++,s.pooledCache=o,o.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:o},Lp(g),s}function ME(s){return s?(s=Za,s):Za}function PE(s,o,l,c,m,g){m=ME(m),c.context===null?c.context=m:c.pendingContext=m,c=fr(o),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=hr(s,c,o),l!==null&&(Yn(l,s,o),Zu(l,s,o))}function NE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function ey(s,o){NE(s,o),(s=s.alternate)&&NE(s,o)}function VE(s){if(s.tag===13){var o=Wa(s,67108864);o!==null&&Yn(o,s,67108864),ey(s,67108864)}}var Xh=!0;function aO(s,o,l,c){var m=W.T;W.T=null;var g=he.p;try{he.p=2,ty(s,o,l,c)}finally{he.p=g,W.T=m}}function lO(s,o,l,c){var m=W.T;W.T=null;var g=he.p;try{he.p=8,ty(s,o,l,c)}finally{he.p=g,W.T=m}}function ty(s,o,l,c){if(Xh){var m=ny(c);if(m===null)jg(s,o,c,Wh,l),LE(s,c);else if(cO(m,s,o,l,c))c.stopPropagation();else if(LE(s,c),o&4&&-1<uO.indexOf(s)){for(;m!==null;){var g=Pi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=gi(g.pendingLanes);if(E!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-ln(E);T.entanglements[1]|=O,E&=~O}Qi(g),(et&6)===0&&(Ph=Zn()+500,pc(0))}}break;case 13:T=Wa(g,2),T!==null&&Yn(T,g,2),Vh(),ey(g,2)}if(g=ny(c),g===null&&jg(s,o,c,Wh,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else jg(s,o,c,null,l)}}function ny(s){return s=ti(s),iy(s)}var Wh=null;function iy(s){if(Wh=null,s=ms(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Wh=s,null}function zE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(op()){case bu:return 2;case Oa:return 8;case _o:case ap:return 32;case ka:return 268435456;default:return 32}default:return 32}}var sy=!1,Ar=null,xr=null,Rr=null,Tc=new Map,Sc=new Map,Cr=[],uO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LE(s,o){switch(s){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Tc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(o.pointerId)}}function Ac(s,o,l,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},o!==null&&(o=Pi(o),o!==null&&VE(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function cO(s,o,l,c,m){switch(o){case"focusin":return Ar=Ac(Ar,s,o,l,c,m),!0;case"dragenter":return xr=Ac(xr,s,o,l,c,m),!0;case"mouseover":return Rr=Ac(Rr,s,o,l,c,m),!0;case"pointerover":var g=m.pointerId;return Tc.set(g,Ac(Tc.get(g)||null,s,o,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Sc.set(g,Ac(Sc.get(g)||null,s,o,l,c,m)),!0}return!1}function UE(s){var o=ms(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,Vf(s.priority,function(){if(l.tag===13){var c=Gn();c=nr(c);var m=Wa(l,c);m!==null&&Yn(m,l,c),ey(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zh(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=ny(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);vs=c,l.target.dispatchEvent(c),vs=null}else return o=Pi(l),o!==null&&VE(o),s.blockedOn=l,!1;o.shift()}return!0}function BE(s,o,l){Zh(s)&&l.delete(o)}function fO(){sy=!1,Ar!==null&&Zh(Ar)&&(Ar=null),xr!==null&&Zh(xr)&&(xr=null),Rr!==null&&Zh(Rr)&&(Rr=null),Tc.forEach(BE),Sc.forEach(BE)}function Jh(s,o){s.blockedOn===o&&(s.blockedOn=null,sy||(sy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fO)))}var ed=null;function FE(s){ed!==s&&(ed=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ed===s&&(ed=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],m=s[o+2];if(typeof c!="function"){if(iy(c||l)===null)continue;break}var g=Pi(l);g!==null&&(s.splice(o,3),o-=3,ig(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function xc(s){function o(O){return Jh(O,s)}Ar!==null&&Jh(Ar,s),xr!==null&&Jh(xr,s),Rr!==null&&Jh(Rr,s),Tc.forEach(o),Sc.forEach(o);for(var l=0;l<Cr.length;l++){var c=Cr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Cr.length&&(l=Cr[0],l.blockedOn===null);)UE(l),l.blockedOn===null&&Cr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],E=m[It]||null;if(typeof g=="function")E||FE(l);else if(E){var T=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[It]||null)T=E.formAction;else if(iy(m)!==null)continue}else T=E.action;typeof T=="function"?l[c+1]=T:(l.splice(c,3),c-=3),FE(l)}}}function ry(s){this._internalRoot=s}td.prototype.render=ry.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Gn();PE(l,c,s,o,null,null)},td.prototype.unmount=ry.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;PE(s.current,2,null,s,null,null),Vh(),o[Jn]=null}};function td(s){this._internalRoot=s}td.prototype.unstable_scheduleHydration=function(s){if(s){var o=ir();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Cr.length&&o!==0&&o<Cr[l].priority;l++);Cr.splice(l,0,s),l===0&&UE(s)}};var jE=e.version;if(jE!=="19.1.0")throw Error(i(527,jE,"19.1.0"));he.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var hO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{wt=nd.inject(hO),Je=nd}catch{}}return Cc.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",m=sw,g=rw,E=ow,T=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks)),o=DE(s,1,!1,null,null,l,c,m,g,E,T,null),s[Jn]=o.current,Fg(s),new ry(o)},Cc.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,m="",g=sw,E=rw,T=ow,O=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),o=DE(s,1,!0,o,l??null,c,m,g,E,T,O,q),o.context=ME(null),l=o.current,c=Gn(),c=nr(c),m=fr(c),m.callback=null,hr(l,m,c),l=c,o.current.lanes=l,ds(o,l),Qi(o),s[Jn]=o.current,Fg(s),new td(o)},Cc.version="19.1.0",Cc}var ZE;function EO(){if(ZE)return ly.exports;ZE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ly.exports=wO(),ly.exports}var TO=EO();const Bc="generated",SO="pointerdown",AO="pointerup",JE="pointerleave",xO="pointerout",e1="pointermove",RO="touchstart",t1="touchend",CO="touchmove",IO="touchcancel",OO="resize",kO="visibilitychange",pa="tsParticles - Error";let sv=class Ki{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!xi(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${pa} Vector3d not initialized correctly`)}static get origin(){return Ki.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Ki.create(e.x,e.y,e.z)}static create(e,t,i){return new Ki(e,t,i)}add(e){return Ki.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Ki.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Ki.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Ki.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Ki.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Ki.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}},AA=class Ed extends sv{constructor(e,t){super(e,t,0)}static get origin(){return Ed.create(0,0)}static clone(e){return Ed.create(e.x,e.y)}static create(e,t){return new Ed(e,t)}},DO=Math.random;function qs(){return xA(DO(),0,1-1e-16)}function xA(n,e,t){return Math.min(Math.max(n,e),t)}function zl(n){const e=p_(n);let t=m_(n);return e===t&&(t=0),qs()*(e-t)+t}function ut(n){return xi(n)?n:zl(n)}function m_(n){return xi(n)?n:n.min}function p_(n){return xi(n)?n:n.max}function Ke(n,e){if(n===e||e===void 0&&xi(n))return n;const t=m_(n),i=p_(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Ke(t,i)}function MO(n){const e=n.random,{enable:t,minimumValue:i}=Fr(e)?{enable:e,minimumValue:0}:e;return ut(t?Ke(n.value,i):n.value)}function PO(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function g_(n,e){return PO(n,e).distance}function NO(n,e,t){if(xi(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return qs()*Math.PI*2}}function VO(n){const e=AA.origin;return e.length=1,e.angle=n,e}function zO(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??qs()*n.size.width,y:((t=n.position)==null?void 0:t.y)??qs()*n.size.height}}function RA(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const LO={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Zc(){return LO}function Em(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function UO(){return!Em()&&typeof matchMedia<"u"}function CA(n){if(UO())return matchMedia(n)}function BO(n){if(!(Em()||typeof MutationObserver>"u"))return new MutationObserver(n)}function FO(n,e){return n===e||ss(e)&&e.indexOf(n)>-1}function jO(n){return Math.floor(qs()*n.length)}function y_(n,e,t=!0){return n[e!==void 0&&t?e%n.length:jO(n)]}function gn(n,...e){for(const t of e){if(t==null)continue;if(!Dc(t)){n=t;continue}const i=Array.isArray(t);i&&(Dc(n)||!n||!Array.isArray(n))?n=[]:!i&&(Dc(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,u=a[r],f=n;f[r]=Dc(u)&&Array.isArray(u)?u.map(d=>gn(f[r],d)):gn(f[r],u)}}return n}function ga(n,e){return ss(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Fc(n,e,t){return ss(n)?y_(n,e,t):n}function qO(n,e){const t=n.value,i=n.animation,r={delayTime:ut(i.delay)*1e3,enable:i.enable,value:ut(n.value)*e,max:p_(t)*e,min:m_(t)*e,loops:0,maxLoops:ut(i.count),time:0};if(i.enable){switch(r.decay=1-ut(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=qs()>=.5?"increasing":"decreasing";break}const a=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,a&&(r.status="increasing");break;case"max":r.value=r.max,a&&(r.status="decreasing");break;case"random":default:r.value=zl(r),a&&(r.status=qs()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function HO(n,e){if(!(n.mode==="percent")){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function IA(n,e){return HO(n,e)}function Fr(n){return typeof n=="boolean"}function is(n){return typeof n=="string"}function xi(n){return typeof n=="number"}function OA(n){return typeof n=="function"}function Dc(n){return typeof n=="object"&&n!==null}function ss(n){return Array.isArray(n)}const $O="random",Tm=new Map;function n1(n){Tm.set(n.key,n)}function hy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function GO(n){for(const[,a]of Tm)if(n.startsWith(a.stringPrefix))return a.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(a,u,f,d,p)=>u+u+f+f+d+d+(p!==void 0?p+p:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Ll(n,e,t=!0){if(!n)return;const i=is(n)?{value:n}:n;if(is(i.value))return kA(i.value,e,t);if(ss(i.value))return Ll({value:y_(i.value,e,t)});for(const[,r]of Tm){const a=r.handleRangeColor(i);if(a)return a}}function kA(n,e,t=!0){if(!n)return;const i=is(n)?{value:n}:n;if(is(i.value))return i.value===$O?XO():QO(i.value);if(ss(i.value))return kA({value:y_(i.value,e,t)});for(const[,r]of Tm){const a=r.handleColor(i);if(a)return a}}function i1(n,e,t=!0){const i=Ll(n,e,t);return i?YO(i):void 0}function YO(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),a=Math.min(e,t,i),u={h:0,l:(r+a)/2,s:0};return r!==a&&(u.s=u.l<.5?(r-a)/(r+a):(r-a)/(2-r-a),u.h=e===r?(t-i)/(r-a):u.h=t===r?2+(i-e)/(r-a):4+(e-t)/(r-a)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function QO(n){return GO(n)}function rv(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=hy(r,i,t.h+1/3),e.g=hy(r,i,t.h),e.b=hy(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function KO(n){const e=rv(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function XO(n){return{b:Math.floor(zl(Ke(0,256))),g:Math.floor(zl(Ke(0,256))),r:Math.floor(zl(Ke(0,256)))}}function Td(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function s1(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function r1(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function WO(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function ZO(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function dy(n,e){n.clearRect(0,0,e.width,e.height)}function JO(n){const{container:e,context:t,particle:i,delta:r,colorStyles:a,backgroundMask:u,composite:f,radius:d,opacity:p,shadow:y,transform:_}=n,b=i.getPosition(),S=i.rotation+(i.pathRotation?i.velocity.angle:0),R={sin:Math.sin(S),cos:Math.cos(S)},P={a:R.cos*(_.a??1),b:R.sin*(_.b??1),c:-R.sin*(_.c??1),d:R.cos*(_.d??1)};t.setTransform(P.a,P.b,P.c,P.d,b.x,b.y),t.beginPath(),u&&(t.globalCompositeOperation=f);const I=i.shadowColor;y.enable&&I&&(t.shadowBlur=y.blur,t.shadowColor=Td(I),t.shadowOffsetX=y.offset.x,t.shadowOffsetY=y.offset.y),a.fill&&(t.fillStyle=a.fill);const B=i.strokeWidth??0;t.lineWidth=B,a.stroke&&(t.strokeStyle=a.stroke),ek(e,t,i,d,p,r),B>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),tk(e,t,i,d,p,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function ek(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,a,n.retina.pixelRatio)}function tk(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,r,a,n.retina.pixelRatio)}function nk(n,e,t){e.draw&&e.draw(n,t)}function ik(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function sk(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function rk(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class ok{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,a,u,f)=>{for(const d of this._preDrawUpdaters){if(d.getColorStyles){const{fill:p,stroke:y}=d.getColorStyles(i,t,r,a);p&&(u.fill=p),y&&(u.stroke=y)}if(d.getTransformValues){const p=d.getTransformValues(i);for(const y in p)rk(f,p,y)}d.beforeDraw&&d.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const a of this._colorPlugins)if(!i&&a.particleFillColor&&(i=i1(a.particleFillColor(t))),!r&&a.particleStrokeColor&&(r=i1(a.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,a=Ll(r);if(a){const u={...a,a:i.opacity};this._coverColorStyle=Td(u,u.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=gn({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const a=i.style[r];a&&t.style.setProperty(r,a,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const a=Ll(r.color);if(!a)return;const u=t.particles.move.trail;this._trailFill={color:{...a},opacity:1/u.length}}else await new Promise((a,u)=>{if(!r.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._trailFill={image:f,opacity:1/i.length},a()}),f.addEventListener("error",d=>{u(d.error)}),f.src=r.image})},this._paintBase=t=>{this.draw(i=>WO(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>ZO(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Td(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{dy(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),a=e.getStrokeColor()??r;let[u,f]=this._getPluginParticleColors(e);u||(u=r),f||(f=a),!(!u&&!f)&&this.draw(d=>{var G;const p=this.container,y=p.actualOptions,_=e.options.zIndex,b=(1-e.zIndexFactor)**_.opacityRate,S=e.bubble.opacity??((G=e.opacity)==null?void 0:G.value)??1,R=e.strokeOpacity??S,P=S*b,I=R*b,B={},H={fill:u?s1(u,P):void 0};H.stroke=f?s1(f,I):H.fill,this._applyPreDrawUpdaters(d,e,i,P,H,B),JO({container:p,context:d,particle:e,delta:t,colorStyles:H,backgroundMask:y.backgroundMask.enable,composite:y.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**_.sizeRate,opacity:P,shadow:e.options.shadow,transform:B}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>ik(r,e,t,i))}drawPlugin(e,t){this.draw(i=>nk(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=BO(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){Zc().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const a=Ll(t.color);r.backgroundColor=a?Td(a,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Bc in e.dataset?e.dataset[Bc]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=gn({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(dy(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const a={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/a.width,height:i.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>dy(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function fi(n,e,t,i,r){if(i){let a={passive:!0};Fr(r)?a.capture=r:r!==void 0&&(a=r),n.addEventListener(e,t,a)}else{const a=r;n.removeEventListener(e,t,a)}}class ak{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const a=i.interactivity.mouse,u=a.position;if(!u)return;a.clickPosition={...u},a.clickTime=new Date().getTime();const f=r.interactivity.events.onClick;ga(f.mode,d=>this.container.handleClickMode(d))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,a=r.options,u=a.defaultThemes,f=i.matches?u.dark:u.light,d=a.themes.find(p=>p.name===f);d&&d.default.auto&&r.loadTheme(f)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,a=this.container,u=a.actualOptions,f=a.interactivity.element;if(!f)return;const d=f,p=a.canvas.element;p&&(p.style.pointerEvents=d===p?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(fi(f,e1,r.mouseMove,i),fi(f,RO,r.touchStart,i),fi(f,CO,r.touchMove,i),u.interactivity.events.onClick.enable?(fi(f,t1,r.touchEndClick,i),fi(f,AO,r.mouseUp,i),fi(f,SO,r.mouseDown,i)):fi(f,t1,r.touchEnd,i),fi(f,t,r.mouseLeave,i),fi(f,IO,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,a=r.actualOptions,u=a.interactivity.detectsOn,f=r.canvas.element;let d=JE;u==="window"?(r.interactivity.element=window,d=xO):u==="parent"&&f?r.interactivity.element=f.parentElement??f.parentNode:r.interactivity.element=f,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(d,t),document&&fi(document,kO,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=CA("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){fi(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){fi(window,OO,i.resize,t);return}const u=r.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(async f=>{f.find(p=>p.target===u)&&await this._handleWindowResize()}),this._resizeObserver.observe(u))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let u=!1;const f=a.position;if(!(!f||!r.interactivity.events.onClick.enable)){for(const[,d]of i.plugins)if(d.clickPositionValid&&(u=d.clickPositionValid(f),u))break;u||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=JE,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,a=i.interactivity,u=i.canvas.element;if(!a||!a.element)return;a.mouse.inside=!0;let f;if(t.type.startsWith("pointer")){this._canPush=!0;const p=t;if(a.element===window){if(u){const y=u.getBoundingClientRect();f={x:p.clientX-y.left,y:p.clientY-y.top}}}else if(r.interactivity.detectsOn==="parent"){const y=p.target,_=p.currentTarget;if(y&&_&&u){const b=y.getBoundingClientRect(),S=_.getBoundingClientRect(),R=u.getBoundingClientRect();f={x:p.offsetX+2*b.left-(S.left+R.left),y:p.offsetY+2*b.top-(S.top+R.top)}}else f={x:p.offsetX??p.clientX,y:p.offsetY??p.clientY}}else p.target===u&&(f={x:p.offsetX??p.clientX,y:p.offsetY??p.clientY})}else if(this._canPush=t.type!=="touchmove",u){const p=t,y=p.touches[p.touches.length-1],_=u.getBoundingClientRect();f={x:y.clientX-(_.left??0),y:y.clientY-(_.top??0)}}const d=i.retina.pixelRatio;f&&(f.x*=d,f.y*=d),a.mouse.position=f,a.status=e1},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}let Qr=class DA{constructor(){this.value=""}static create(e,t){const i=new DA;return i.load(e),t!==void 0&&(is(t)||ss(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}};class lk{constructor(){this.color=new Qr,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Qr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class uk{constructor(){this.color=new Qr,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Qr.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ck{constructor(){this.composite="destination-out",this.cover=new uk,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=is(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class fk{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class hk{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class o1{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return ga(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=ga(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class dk{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class mk{constructor(){this.enable=!1,this.mode=[],this.parallax=new dk}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class pk{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class gk{constructor(){this.onClick=new hk,this.onDiv=new o1,this.onHover=new mk,this.resize=new pk}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=ga(t,i=>{const r=new o1;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Fr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class yk{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class MA{constructor(e,t){this.detectsOn="window",this.events=new gk,this.modes=new yk(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class vk{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=gn({},e.options)))}}class _k{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=gn({},e.options)))}}class bk{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class wk{constructor(){this.name="",this.default=new bk}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=gn({},e.options)))}}let my=class{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Ke(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Ke(e.offset)),e.speed!==void 0&&(this.speed=Ke(e.speed)),e.decay!==void 0&&(this.decay=Ke(e.decay)),e.delay!==void 0&&(this.delay=Ke(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}},Ek=class{constructor(){this.h=new my,this.s=new my,this.l=new my}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}},ov=class PA extends Qr{constructor(){super(),this.animation=new Ek}static create(e,t){const i=new PA;return i.load(e),t!==void 0&&(is(t)||ss(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}},Tk=class{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}},Sk=class{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}},Ak=class{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ke(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ke(e.speed)),e.decay!==void 0&&(this.decay=Ke(e.decay)),e.delay!==void 0&&(this.delay=Ke(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}},NA=class extends Ak{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}};class xk{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}let mf=class{constructor(){this.random=new xk,this.value=0}load(e){e&&(Fr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Ke(e.value,this.random.enable?this.random.minimumValue:void 0)))}},a1=class extends mf{constructor(){super(),this.random.minimumValue=.1,this.value=1}},VA=class{constructor(){this.horizontal=new a1,this.vertical=new a1}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}},Rk=class{constructor(){this.absorb=new Tk,this.bounce=new VA,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new Sk}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Ke(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}},Ck=class{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ke(e.offset)),e.value!==void 0&&(this.value=Ke(e.value)))}},Ik=class{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,a;if(!e)return;e.distance!==void 0&&(this.distance=Ke(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((a=e.rotate)==null?void 0:a.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}},Ok=class{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}},kk=class{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ke(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ke(e.maxSpeed)))}},Dk=class{constructor(){this.clamp=!0,this.delay=new mf,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=gn(this.options,e.options)))}},Mk=class{load(e){e&&(e.color!==void 0&&(this.color=Qr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}},Pk=class{constructor(){this.enable=!1,this.length=10,this.fill=new Mk}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}},Nk=class{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}},Vk=class{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ke(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=gn({},e.position)))}},zk=class{constructor(){this.angle=new Ck,this.attract=new Ik,this.center=new Ok,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new kk,this.path=new Dk,this.outModes=new Nk,this.random=!1,this.size=!1,this.speed=2,this.spin=new Vk,this.straight=!1,this.trail=new Pk,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(xi(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ke(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=xi(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Ke(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(Dc(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ke(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}},Lk=class extends NA{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}},Uk=class extends mf{constructor(){super(),this.animation=new Lk,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ke(this.value,this.animation.enable?this.animation.minimumValue:void 0))}},Bk=class{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}},Fk=class{constructor(){this.density=new Bk,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}},jk=class{constructor(){this.blur=0,this.color=new Qr,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Qr.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}};const py="character",gy="char",yy="image",vy="images",_y="polygon",by="star";let qk=class{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const a=ss(e),u=a?[]:{},f=a!==ss(this.options[t]),d=a!==ss(this.options[i]);f&&(this.options[t]=u),d&&r&&(this.options[i]=u),this.options[t]=gn(this.options[t]??u,e),(!this.options[i]||r)&&(this.options[i]=gn(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[py]??this.options[gy]}set character(e){this.options[gy]=this.options[py]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[yy]??this.options[vy]}set image(e){this.options[vy]=this.options[yy]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[_y]??this.options[by]}set polygon(e){this.options[by]=this.options[_y]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=gn(this.options[i]??{},r))}this.loadShape(e.character,py,gy,!0),this.loadShape(e.polygon,_y,by,!1),this.loadShape(e.image??e.images,yy,vy,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}},Hk=class extends NA{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}},$k=class extends mf{constructor(){super(),this.animation=new Hk,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ke(this.value,this.animation.enable?this.animation.minimumValue:void 0))}},l1=class{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=ov.create(this.color,e.color)),e.width!==void 0&&(this.width=Ke(e.width)),e.opacity!==void 0&&(this.opacity=Ke(e.opacity)))}},Gk=class extends mf{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}},Yk=class{constructor(e,t){this._engine=e,this._container=t,this.bounce=new VA,this.collisions=new Rk,this.color=new ov,this.color.value="#fff",this.groups={},this.move=new zk,this.number=new Fk,this.opacity=new Uk,this.reduceDuplicates=!1,this.shadow=new jk,this.shape=new qk,this.size=new $k,this.stroke=new l1,this.zIndex=new Gk}load(e){var r,a,u;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(ov.create(this.color,e.color)),e.groups!==void 0)for(const f in e.groups){const d=e.groups[f];d!==void 0&&(this.groups[f]=gn(this.groups[f]??{},d))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((a=e.move)==null?void 0:a.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=gn({},e.interactivity));const i=e.stroke??((u=e.shape)==null?void 0:u.stroke);if(i&&(this.stroke=ga(i,f=>{const d=new l1;return d.load(f),d})),this._container){const f=this._engine.plugins.updaters.get(this._container);if(f)for(const p of f)p.loadOptions&&p.loadOptions(this,e);const d=this._engine.plugins.interactors.get(this._container);if(d)for(const p of d)p.loadParticlesOptions&&p.loadParticlesOptions(this,e)}}};function zA(n,...e){for(const t of e)n.load(t)}function LA(n,e,...t){const i=new Yk(n,e);return zA(i,...t),i}class Qk{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new lk,this.backgroundMask=new ck,this.defaultThemes={},this.delay=0,this.fullScreen=new fk,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new MA(e,t),this.manualParticles=[],this.particles=LA(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var u,f;if(!e)return;e.preset!==void 0&&ga(e.preset,d=>this._importPreset(d)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Ke(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Ke(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Fr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(d=>{const p=new vk;return p.load(d),p})),this.particles.load(e.particles),this.style=gn(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const d of a)d.loadOptions&&d.loadOptions(this,e);if(e.responsive!==void 0)for(const d of e.responsive){const p=new _k;p.load(d),this.responsive.push(p)}if(this.responsive.sort((d,p)=>d.maxWidth-p.maxWidth),e.themes!==void 0)for(const d of e.themes){const p=this.themes.find(y=>y.name===d.name);if(p)p.load(d);else{const y=new wk;y.load(d),this.themes.push(y)}}this.defaultThemes.dark=(u=this._findDefaultTheme("dark"))==null?void 0:u.name,this.defaultThemes.light=(f=this._findDefaultTheme("light"))==null?void 0:f.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(a=>a.mode==="screen"&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=CA("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class Kk{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const u1=n=>{if(!FO(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class Xk{constructor(e,t,i,r,a,u){this.container=i,this._calcPosition=(f,d,p,y=0)=>{for(const[,H]of f.plugins){const G=H.particlePosition!==void 0?H.particlePosition(d,this):void 0;if(G)return sv.create(G.x,G.y,p)}const _=f.canvas.size,b=zO({size:_,position:d}),S=sv.create(b.x,b.y,p),R=this.getRadius(),P=this.options.move.outModes,I=H=>{u1({outMode:H,checkModes:["bounce","bounce-horizontal"],coord:S.x,maxCoord:f.canvas.size.width,setCb:G=>S.x+=G,radius:R})},B=H=>{u1({outMode:H,checkModes:["bounce","bounce-vertical"],coord:S.y,maxCoord:f.canvas.size.height,setCb:G=>S.y+=G,radius:R})};return I(P.left??P.default),I(P.right??P.default),B(P.top??P.default),B(P.bottom??P.default),this._checkOverlap(S,y)?this._calcPosition(f,void 0,p,y+1):S},this._calculateVelocity=()=>{const f=VO(this.direction),d=f.copy(),p=this.options.move;if(p.direction==="inside"||p.direction==="outside")return d;const y=Math.PI/180*ut(p.angle.value),_=Math.PI/180*ut(p.angle.offset),b={left:_-y/2,right:_+y/2};return p.straight||(d.angle+=zl(Ke(b.left,b.right))),p.random&&typeof p.speed=="number"&&(d.length*=qs()),d},this._checkOverlap=(f,d=0)=>{const p=this.options.collisions,y=this.getRadius();if(!p.enable)return!1;const _=p.overlap;if(_.enable)return!1;const b=_.retries;if(b>=0&&d>b)throw new Error(`${pa} particle is overlapping and can't be placed`);return!!this.container.particles.find(S=>g_(f,S.position)<y+S.getRadius())},this._getRollColor=f=>{if(!f||!this.roll||!this.backColor&&!this.roll.alter)return f;const d=this.roll.horizontal&&this.roll.vertical?2:1,p=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+p)/(Math.PI/d))%2?this.backColor?this.backColor:this.roll.alter?sk(f,this.roll.alter.type,this.roll.alter.value):f:f},this._initPosition=f=>{const d=this.container,p=ut(this.options.zIndex.value);this.position=this._calcPosition(d,f,xA(p,0,d.zLayers)),this.initialPosition=this.position.copy();const y=d.canvas.size;switch(this.moveCenter={...IA(this.options.move.center,y),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=NO(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=AA.origin},this._loadShapeData=(f,d)=>{const p=f.options[this.shape];if(p)return gn({close:f.close,fill:f.fill},Fc(p,this.id,d))},this._engine=e,this.init(t,r,a,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??r1(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??r1(this.strokeColor))}init(e,t,i,r){const a=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const f=a.retina.pixelRatio,d=a.actualOptions,p=LA(this._engine,a,d.particles),y=p.shape.type,{reduceDuplicates:_}=p;this.shape=Fc(y,this.id,_);const b=p.shape;if(i&&i.shape&&i.shape.type){const G=i.shape.type,X=Fc(G,this.id,_);X&&(this.shape=X,b.load(i.shape))}this.shapeData=this._loadShapeData(b,_),p.load(i);const S=this.shapeData;S&&p.load(S.particles);const R=new MA(u,a);R.load(a.actualOptions.interactivity),R.load(p.interactivity),this.interactivity=R,this.fill=(S==null?void 0:S.fill)??p.shape.fill,this.close=(S==null?void 0:S.close)??p.shape.close,this.options=p;const P=this.options.move.path;this.pathDelay=MO(P.delay)*1e3,P.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(P.generator),this.pathGenerator&&a.addPath(P.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=qO(this.options.size,f),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-ut(this.options.move.decay);const I=a.particles;I.needsSort=I.needsSort||I.lastZIndex<this.position.z,I.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let B=a.drawers.get(this.shape);B||(B=this._engine.plugins.getShapeDrawer(this.shape),B&&a.drawers.set(this.shape,B)),B&&B.loadShape&&B.loadShape(this);const H=B==null?void 0:B.getSidesCount;H&&(this.sides=H(this)),this.spawning=!1,this.shadowColor=Ll(this.options.shadow.color);for(const G of a.particles.updaters)G.init(this);for(const G of a.particles.movers)G.init&&G.init(this);B&&B.particleInit&&B.particleInit(a,this);for(const[,G]of a.plugins)G.particleCreated&&G.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class Wk{constructor(e,t){this.position=e,this.particle=t}}class UA{constructor(e,t){this.position={x:e,y:t}}}let Fd=class BA extends UA{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof FA&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,u=e instanceof BA?e.size:{width:0,height:0},f=u.width,d=u.height;return a.x<r.x+t&&a.x+f>r.x&&a.y<r.y+i&&a.y+d>r.y}},FA=class jA extends UA{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return g_(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof jA){const u=a+e.radius,f=Math.sqrt(r.x**2+r.y**2);return u>f}else if(e instanceof Fd){const{width:u,height:f}=e.size;return Math.pow(r.x-u,2)+Math.pow(r.y-f,2)<=a**2||r.x<=a+u&&r.y<=a+f||r.x<=u||r.y<=f}return!1}};class jd{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:a,height:u}=this.rectangle.size,{capacity:f}=this;for(let d=0;d<4;d++)this._subs.push(new jd(new Fd(i+a/2*(d%2),r+u/2*(Math.round(d/2)-d%2),a/2,u/2),f));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const a of this._points)!e.contains(a.position)&&g_(e.position,a.position)>a.particle.getRadius()&&(!t||t(a.particle))||r.push(a.particle);if(this._divided)for(const a of this._subs)a.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new FA(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Fd(e.x,e.y,t.width,t.height),i)}}const c1=4,f1=n=>new Fd(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let Zk=class{constructor(e,t){this._applyDensity=(r,a,u)=>{var S;if(!((S=r.number.density)!=null&&S.enable))return;const f=r.number,d=this._initDensityFactor(f.density),p=f.value,y=f.limit>0?f.limit:p,_=Math.min(p,y)*d+a,b=Math.min(this.count,this.filter(R=>R.group===u).length);this.limit=f.limit*d,b<_?this.push(Math.abs(_-b),void 0,r,u):b>_&&this.removeQuantity(b-_,u)},this._initDensityFactor=r=>{const a=this._container;if(!a.canvas.element||!r.enable)return 1;const u=a.canvas.element,f=a.retina.pixelRatio;return u.width*u.height/(r.factor*f**2*r.area)},this._pushParticle=(r,a,u,f)=>{try{let d=this.pool.pop();d?d.init(this._nextId,r,a,u):d=new Xk(this._engine,this._nextId,this._container,r,a,u);let p=!0;return f&&(p=f(d)),p?(this._array.push(d),this._zArray.push(d),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:d}}),d):void 0}catch(d){Zc().warning(`${pa} adding particle: ${d}`);return}},this._removeParticle=(r,a,u)=>{const f=this._array[r];if(!f||f.group!==a)return!1;f.destroy(u);const d=this._zArray.indexOf(f);return this._array.splice(r,1),this._zArray.splice(d,1),this.pool.push(f),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:f}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Kk(e,t);const i=t.canvas.size;this.quadTree=new jd(f1(i),c1),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?IA(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const a=this._container,u=a.actualOptions,f=u.particles.number.limit;if(f>0){const d=this.count+1-f;d>0&&this.removeQuantity(d)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,a]of e.plugins)if(a.particlesInitialization!==void 0&&(i=a.particlesInitialization()),i)break;this._interactionManager.init();for(const[,a]of e.pathGenerators)a.init(e);if(this.addManualParticles(),!i){for(const a in t.particles.groups){const u=t.particles.groups[a];for(let f=this.count,d=0;d<((r=u.number)==null?void 0:r.value)&&f<t.particles.number.value;f++,d++)this.addParticle(void 0,u,a)}for(let a=this.count;a<t.particles.number.value;a++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let a=0;a<e;a++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let a=0;for(let u=e;a<t&&u<this.count;u++)this._removeParticle(u--,i,r)&&a++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new jd(f1(t.canvas.size),c1);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const a=t.canvas.resizeFactor;a&&!r.ignoresResizeRatio&&(r.position.x*=a.width,r.position.y*=a.height,r.initialPosition.x*=a.width,r.initialPosition.y*=a.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,u]of this._container.plugins){if(r.destroyed)break;u.particleUpdate&&u.particleUpdate(r,e)}for(const u of this.movers)u.isEnabled(r)&&u.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new Wk(r.getPosition(),r))}if(i.size){const r=a=>!i.has(a);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const a of this.updaters)a.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((a,u)=>u.position.z-a.position.z||a.id-u.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class Jk{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Em()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}const r=t.particles,a=r.move;this.attractDistance=ut(a.attract.distance)*i,this.maxSpeed=ut(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ut(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,a=r.distance,u=e.retina;u.attractDistance=ut(r.attract.distance)*i,u.moveDrift=ut(r.drift)*i,u.moveSpeed=ut(r.speed)*i,u.sizeAnimationSpeed=ut(t.size.animation.speed)*i;const f=u.maxDistance;f.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,f.vertical=a.vertical!==void 0?a.vertical*i:void 0,u.maxSpeed=ut(r.gravity.maxSpeed)*i}}function vt(n){return n&&!n.destroyed}function eD(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function El(n,e,...t){const i=new Qk(n,e);return zA(i,...t),i}const tD="default",h1={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class nD{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!vt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of r)a.target===this.interactivity.element&&(a.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const a=eD(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(a.value),this.lastFrameTime=r,a.value>1e3){this.draw(!1);return}if(await this.particles.draw(a),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(a){Zc().error(`${pa} in animation loop`,a)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Jk(this),this.canvas=new ok(this),this.particles=new Zk(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=El(this._engine,this),this.actualOptions=El(this._engine,this),this._eventListeners=new ak(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!vt(this))return;const t=this.interactivity.element;if(!t)return;const i=(_,b,S)=>{if(!vt(this))return;const R=this.retina.pixelRatio,P={x:b.x*R,y:b.y*R},I=this.particles.quadTree.queryCircle(P,S*R);e(_,I)},r=_=>{if(!vt(this))return;const b=_,S={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(_,S,1)},a=()=>{vt(this)&&(p=!0,y=!1)},u=()=>{vt(this)&&(y=!0)},f=_=>{if(vt(this)){if(p&&!y){const b=_;let S=b.touches[b.touches.length-1];if(!S&&(S=b.changedTouches[b.changedTouches.length-1],!S))return;const R=this.canvas.element,P=R?R.getBoundingClientRect():void 0,I={x:S.clientX-(P?P.left:0),y:S.clientY-(P?P.top:0)};i(_,I,Math.max(S.radiusX,S.radiusY))}p=!1,y=!1}},d=()=>{vt(this)&&(p=!1,y=!1)};let p=!1,y=!1;t.addEventListener("click",r),t.addEventListener("touchstart",a),t.addEventListener("touchmove",u),t.addEventListener("touchend",f),t.addEventListener("touchcancel",d)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!vt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??h1),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!vt(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!vt(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Zc().error(`${pa} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&vt(this)}handleClickMode(e){if(vt(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!vt(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=El(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=El(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=ut(this.actualOptions.duration)*1e3,this._delay=ut(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){vt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(vt(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!vt(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(vt(this))return this.stop(),this.start()}async reset(){if(vt(this))return this._initialSourceOptions=void 0,this._options=El(this._engine,this),this.actualOptions=El(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){vt(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!vt(this))return;const r={...h1};if(OA(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const a=r;r.generate=e.generate||a.generate,r.init=e.init||a.init,r.update=e.update||a.update}this.addPath(tD,r,!0)}async start(){!vt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!vt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class iD{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,a=i.indexOf(t);a<0||(r===1?this._listeners.delete(e):i.splice(a,1))}}function wy(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(a=>a(n)),e.set(n,r)),r}class sD{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){ga(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return wy(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return wy(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return wy(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const a of r)a.loadOptions&&a.loadOptions(t,...i)}}async function rD(n){const e=Fc(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(Zc().error(`${pa} ${t.status} while retrieving config file`),n.fallback)}function oD(n){return!n.id&&!n.element&&!n.url&&!n.options}function aD(n){return!oD(n)}class lD{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new iD,this._initialized=!1,this.plugins=new sD(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){is(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,a,u=!0){let f,d=u,p,y,_;Fr(i)?(d=i,p=void 0):p=i,Fr(r)?(d=r,y=void 0):y=r,Fr(a)?(d=a,_=void 0):_=a,OA(t)?f={afterEffect:y,destroy:_,draw:t,init:p}:f=t,this.plugins.addShapeDrawer(e,f),await this.refresh(d)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return aD(e)?r=e:(r={},is(e)?r.id=e:r.options=e,xi(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,a;return xi(t)||t===void 0?r=e:(a=e,r=t),this._loadParams({id:a,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const a={index:r};return is(e)?a.id=e:a.element=e,t instanceof HTMLElement?a.element=t:a.options=t,xi(i)?a.index=i:a.options=i??a.options,this._loadParams(a)}async setJSON(e,t,i,r){const a={};return e instanceof HTMLElement?(a.element=e,a.url=t,a.index=i):(a.id=e,a.element=t,a.url=i,a.index=r),this._loadParams(a)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${pa} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(qs()*1e4)}`,{index:i,url:r}=e,a=r?await rD({fallback:e.options,url:r,index:i}):e.options;let u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));const f=Fc(a,i),d=this.dom(),p=d.findIndex(b=>b.id===t);if(p>=0){const b=this.domItem(p);b&&!b.destroyed&&(b.destroy(),d.splice(p,1))}let y;if(u.tagName.toLowerCase()==="canvas")y=u,y.dataset[Bc]="false";else{const b=u.getElementsByTagName("canvas");b.length?(y=b[0],y.dataset[Bc]="false"):(y=document.createElement("canvas"),y.dataset[Bc]="true",u.appendChild(y))}y.style.width||(y.style.width="100%"),y.style.height||(y.style.height="100%");const _=new nD(this,t,f);return p>=0?d.splice(p,0,_):d.push(_),_.canvas.loadCanvas(y),await _.start(),_}}let uD=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return rv(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return rv({h:ut(i.h),l:ut(i.l),s:ut(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?KO({a:i.length>4?RA(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}},cD=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:ut(i.r),g:ut(i.g),b:ut(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?RA(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}};function fD(){const n=new cD,e=new uD;n1(n),n1(e);const t=new lD;return t.init(),t}const av=fD();Em()||(window.tsParticles=av);const Il=n=>typeof n=="object"&&n!==null;function qd(n,e,t=()=>!1){if(!Il(n)||!Il(e))return n===e;const i=Object.keys(n).filter(a=>!t(a)),r=Object.keys(e).filter(a=>!t(a));if(i.length!==r.length)return!1;for(const a of i){const u=n[a],f=e[a];if(Il(u)&&Il(f)){if(u===e&&f===n)continue;if(!qd(u,f,t))return!1}else if(Array.isArray(u)&&Array.isArray(f)){if(!qA(u,f,t))return!1}else if(u!==f)return!1}return!0}function qA(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],a=e[i];if(Array.isArray(r)&&Array.isArray(a)){if(!qA(r,a,t))return!1}else if(Il(r)&&Il(a)){if(!qd(r,a,t))return!1}else if(r!==a)return!1}return!0}const HA="tsparticles";class Sm extends le.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!qd(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!qd(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(av),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:a}=this.props;return Bd.createElement("div",{className:i,id:a},Bd.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Sm.defaultProps.id??HA,t=await av.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}}Sm.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:HA};const hD="pointerleave",pf="pointermove",Kl="tsParticles - Error",on=100,Vn=.5,mn=1e3,hi={x:0,y:0,z:0},Hd="random",Sd="mid",Ji=2,ra=2,dD=1,Ad=255,la=360,lv=100,uv=100,d1=0,cv=0,mD=60,m1=0,$A=1,pD=0,gD=1,yD=1,vD=0,Jo=255,Ey=3,Ty=6,_D=1,bD=1,wD=0,ED=0,TD=0,SD=0;var fv;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(fv||(fv={}));function ya(n){return typeof n=="string"}function pi(n){return typeof n=="number"}function Ol(n){return typeof n=="object"&&n!==null}function yn(n){return Array.isArray(n)}function fe(n){return n==null}class Ei{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!pi(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:hi.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??hi.z;else throw new Error(`${Kl} Vector3d not initialized correctly`)}static get origin(){return Ei.create(hi.x,hi.y,hi.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Ei.create(e.x,e.y,e.z)}static create(e,t,i){return new Ei(e,t,i)}add(e){return Ei.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Ei.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Ei.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**ra+this.y**ra}mult(e){return Ei.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=pD&&this.multTo(dD/e)}rotate(e){return Ei.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),hi.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:hi.z}sub(e){return Ei.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class gt extends Ei{constructor(e,t){super(e,t,hi.z)}static get origin(){return gt.create(hi.x,hi.y)}static clone(e){return gt.create(e.x,e.y)}static create(e,t){return new gt(e,t)}}let AD=Math.random;function Ne(){return Ri(AD(),0,1-Number.EPSILON)}function Ri(n,e,t){return Math.min(Math.max(n,e),t)}function Sy(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function pn(n){const e=es(n),t=0;let i=Am(n);return e===i&&(i=t),Ne()*(e-i)+i}function me(n){return pi(n)?n:pn(n)}function Am(n){return pi(n)?n:n.min}function es(n){return pi(n)?n:n.max}function Te(n,e){if(n===e||e===void 0&&pi(n))return n;const t=Am(n),i=es(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Te(t,i)}function vn(n,e){const t=n.x-e.x,i=n.y-e.y,r=2;return{dx:t,dy:i,distance:Math.sqrt(t**r+i**r)}}function Kn(n,e){return vn(n,e).distance}function Ul(n){return n*Math.PI/180}function p1(n,e,t,i){return gt.create(n.x*(t-i)/(t+i)+e.x*Ji*i/(t+i),n.y)}function GA(n){var e,t;return{x:(((e=n.position)==null?void 0:e.x)??Ne()*on)*n.size.width/on,y:(((t=n.position)==null?void 0:t.y)??Ne()*on)*n.size.height/on}}function YA(n){var t,i;const e={x:((t=n.position)==null?void 0:t.x)!==void 0?me(n.position.x):void 0,y:((i=n.position)==null?void 0:i.y)!==void 0?me(n.position.y):void 0};return GA({size:n.size,position:e})}function QA(n){return n?n.endsWith("%")?parseFloat(n)/on:parseFloat(n):1}var ua;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(ua||(ua={}));var St;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(St||(St={}));var Kr;(function(n){n.none="none",n.max="max",n.min="min"})(Kr||(Kr={}));var je;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(je||(je={}));var Xr;(function(n){n.precise="precise",n.percent="percent"})(Xr||(Xr={}));var Bl;(function(n){n.max="max",n.min="min",n.random="random"})(Bl||(Bl={}));const xD={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function KA(){return xD}function g1(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:a,velocity:u,factor:f}=n;return i.min<a.min||i.min>a.max||i.max<a.min||i.max>a.max||(t.max>=r.min&&t.max<=(r.max+r.min)*Vn&&u>m1||t.min<=r.max&&t.min>(r.max+r.min)*Vn&&u<m1)&&(e.velocity=u*-f,e.bounced=!0),e}function RD(n,e){const t=bn(e,i=>n.matches(i));return yn(t)?t.some(i=>i):t}function y1(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function ht(n,e){return n===e||yn(e)&&e.indexOf(n)>-1}async function hv(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function XA(n){return Math.floor(Ne()*n.length)}function gf(n,e,t=!0){return n[e!==void 0&&t?e%n.length:XA(n)]}function yf(n,e,t,i,r){return CD(vf(n,i??0),e,t,r)}function CD(n,e,t,i){let r=!0;return(!i||i===je.bottom)&&(r=n.top<e.height+t.x),r&&(!i||i===je.left)&&(r=n.right>t.x),r&&(!i||i===je.right)&&(r=n.left<e.width+t.y),r&&(!i||i===je.top)&&(r=n.bottom>t.y),r}function vf(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Ln(n,...e){for(const t of e){if(t==null)continue;if(!Ol(t)){n=t;continue}const i=Array.isArray(t);i&&(Ol(n)||!n||!Array.isArray(n))?n=[]:!i&&(Ol(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,u=a[r],f=n;f[r]=Ol(u)&&Array.isArray(u)?u.map(d=>Ln(f[r],d)):Ln(f[r],u)}}return n}function v_(n,e){return!!JA(e,t=>t.enable&&ht(n,t.mode))}function __(n,e,t){bn(e,i=>{const r=i.mode;i.enable&&ht(n,r)&&ID(i,t)})}function ID(n,e){const t=n.selectors;bn(t,i=>{e(i,n)})}function WA(n,e){if(!(!e||!n))return JA(n,t=>RD(e,t.selectors))}function dv(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:gt.create(me(n.options.bounce.horizontal.value),me(n.options.bounce.vertical.value))}}function ZA(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,a]=[n.position,e.position],{dx:u,dy:f}=vn(a,r);if(t*u+i*f<0)return;const p=-Math.atan2(f,u),y=n.mass,_=e.mass,b=n.velocity.rotate(p),S=e.velocity.rotate(p),R=p1(b,S,y,_),P=p1(S,b,y,_),I=R.rotate(-p),B=P.rotate(-p);n.velocity.x=I.x*n.factor.x,n.velocity.y=I.y*n.factor.y,e.velocity.x=B.x*e.factor.x,e.velocity.y=B.y*e.factor.y}function OD(n,e){const t=n.getPosition(),i=n.getRadius(),r=vf(t,i),a=n.options.bounce,u=g1({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:me(a.horizontal.value)});u.bounced&&(u.velocity!==void 0&&(n.velocity.x=u.velocity),u.position!==void 0&&(n.position.x=u.position));const f=g1({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:me(a.vertical.value)});f.bounced&&(f.velocity!==void 0&&(n.velocity.y=f.velocity),f.position!==void 0&&(n.position.y=f.position))}function bn(n,e){return yn(n)?n.map((i,r)=>e(i,r)):e(n,0)}function Hs(n,e,t){return yn(n)?gf(n,e,t):n}function JA(n,e){return yn(n)?n.find((i,r)=>e(i,r)):e(n,0)?n:void 0}function kD(n,e){const t=n.value,i=n.animation,r={delayTime:me(i.delay)*mn,enable:i.enable,value:me(n.value)*e,max:es(t)*e,min:Am(t)*e,loops:0,maxLoops:me(i.count),time:0},a=1;if(i.enable){switch(r.decay=a-me(i.decay),i.mode){case ua.increase:r.status=St.increasing;break;case ua.decrease:r.status=St.decreasing;break;case ua.random:r.status=Ne()>=Vn?St.increasing:St.decreasing;break}const u=i.mode===ua.auto;switch(i.startValue){case Bl.min:r.value=r.min,u&&(r.status=St.increasing);break;case Bl.max:r.value=r.max,u&&(r.status=St.decreasing);break;case Bl.random:default:r.value=pn(r),u&&(r.status=Ne()>=Vn?St.increasing:St.decreasing);break}}return r.initialValue=r.value,r}function DD(n,e){if(!(n.mode===Xr.percent)){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/on*e.width,y:n.y/on*e.height}:{width:n.width/on*e.width,height:n.height/on*e.height}}function v1(n,e){return DD(n,e)}function MD(n,e,t,i,r){switch(e){case Kr.max:t>=r&&n.destroy();break;case Kr.min:t<=i&&n.destroy();break}}function xm(n,e,t,i,r){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const y=(e.velocity??0)*r.factor,_=e.min,b=e.max,S=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case St.increasing:e.value>=b?(t?e.status=St.decreasing:e.value-=b,e.loops||(e.loops=0),e.loops++):e.value+=y;break;case St.decreasing:e.value<=_?(t?e.status=St.increasing:e.value+=b,e.loops||(e.loops=0),e.loops++):e.value-=y}e.velocity&&S!==1&&(e.velocity*=S),MD(n,i,e.value,_,b),n.destroyed||(e.value=Ri(e.value,_,b))}}var oa;(function(n){n.darken="darken",n.enlighten="enlighten"})(oa||(oa={}));function PD(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Wr(n,e,t,i=!0){if(!e)return;const r=ya(e)?{value:e}:e;if(ya(r.value))return ex(n,r.value,t,i);if(yn(r.value))return Wr(n,{value:gf(r.value,t,i)});for(const a of n.colorManagers.values()){const u=a.handleRangeColor(r);if(u)return u}}function ex(n,e,t,i=!0){if(!e)return;const r=ya(e)?{value:e}:e;if(ya(r.value))return r.value===Hd?nx():ND(n,r.value);if(yn(r.value))return ex(n,{value:gf(r.value,t,i)});for(const a of n.colorManagers.values()){const u=a.handleColor(r);if(u)return u}}function lu(n,e,t,i=!0){const r=Wr(n,e,t,i);return r?tx(r):void 0}function tx(n){const e=n.r/Ad,t=n.g/Ad,i=n.b/Ad,r=Math.max(e,t,i),a=Math.min(e,t,i),u={h:d1,l:(r+a)*Vn,s:cv};return r!==a&&(u.s=u.l<Vn?(r-a)/(r+a):(r-a)/(Ji-r-a),u.h=e===r?(t-i)/(r-a):u.h=t===r?Ji+(i-e)/(r-a):Ji*Ji+(e-t)/(r-a)),u.l*=uv,u.s*=lv,u.h*=mD,u.h<d1&&(u.h+=la),u.h>=la&&(u.h-=la),u}function ND(n,e){return PD(n,e)}function Xl(n){const e=(n.h%la+la)%la,t=Math.max(cv,Math.min(lv,n.s)),i=Math.max(vD,Math.min(uv,n.l)),r=e/la,a=t/lv,u=i/uv;if(t===cv){const R=Math.round(u*Jo);return{r:R,g:R,b:R}}const f=(R,P,I)=>{if(I<0&&I++,I>1&&I--,I*Ty<1)return R+(P-R)*Ty*I;if(I*Ji<1)return P;if(I*Ey<1*Ji){const G=Ji/Ey;return R+(P-R)*(G-I)*Ty}return R},d=u<Vn?u*(_D+a):u+a-u*a,p=Ji*u-d,y=bD/Ey,_=Math.min(Jo,Jo*f(p,d,r+y)),b=Math.min(Jo,Jo*f(p,d,r)),S=Math.min(Jo,Jo*f(p,d,r-y));return{r:Math.round(_),g:Math.round(b),b:Math.round(S)}}function VD(n){const e=Xl(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function nx(n){const e=wD,t=Ad+yD;return{b:Math.floor(pn(Te(e,t))),g:Math.floor(pn(Te(e,t))),r:Math.floor(pn(Te(e,t)))}}function Wl(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??$A})`}function $d(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??$A})`}function b_(n,e,t,i){let r=n,a=e;return r.r===void 0&&(r=Xl(n)),a.r===void 0&&(a=Xl(e)),{b:Sy(r.b,a.b,t,i),g:Sy(r.g,a.g,t,i),r:Sy(r.r,a.r,t,i)}}function mv(n,e,t){if(t===Hd)return nx();if(t===Sd){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return b_(i,r,n.getRadius(),e.getRadius());{const a=i??r;if(a)return Xl(a)}}else return t}function ix(n,e,t,i){const r=ya(e)?e:e.value;return r===Hd?i?Wr(n,{value:r}):t?Hd:Sd:r===Sd?Sd:Wr(n,{value:r})}function sx(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(Ay(i.h,e.h,t),Ay(i.s,e.s,t),Ay(i.l,e.l,t)),i}function Ay(n,e,t){n.enable=e.enable,n.enable?(n.velocity=me(e.speed)/on*t,n.decay=gD-me(e.decay),n.status=St.increasing,n.loops=TD,n.maxLoops=me(e.count),n.time=SD,n.delayTime=me(e.delay)*mn,e.sync||(n.velocity*=Ne(),n.value*=Ne()),n.initialValue=n.value,n.offset=Te(e.offset)):n.velocity=ED}function xy(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const y=n.offset?pn(n.offset):0,_=(n.velocity??0)*i.factor+y*3.6,b=n.decay??1,S=es(e),R=Am(e);!t||n.status===St.increasing?(n.value+=_,n.value>S&&(n.loops||(n.loops=0),n.loops++,t?n.status=St.decreasing:n.value-=S)):(n.value-=_,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=St.increasing)),n.velocity&&b!==1&&(n.velocity*=b),n.value=Ri(n.value,R,S)}function rx(n,e){if(!n)return;const{h:t,s:i,l:r}=n,a={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&xy(t,a.h,!1,e),i&&xy(i,a.s,!0,e),r&&xy(r,a.l,!0,e)}function jc(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}class Xt{constructor(){this.value=""}static create(e,t){const i=new Xt;return i.load(e),t!==void 0&&(ya(t)||yn(t)?i.load({value:t}):i.load(t)),i}load(e){fe(e)||fe(e.value)||(this.value=e.value)}}var Jc;(function(n){n.circle="circle",n.rectangle="rectangle"})(Jc||(Jc={}));class w_{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){fe(e)||(e.count!==void 0&&(this.count=Te(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Te(e.speed)),e.decay!==void 0&&(this.decay=Te(e.decay)),e.delay!==void 0&&(this.delay=Te(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class E_ extends w_{constructor(){super(),this.mode=ua.auto,this.startValue=Bl.random}load(e){super.load(e),!fe(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Ry extends w_{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!fe(e)&&e.offset!==void 0&&(this.offset=Te(e.offset))}}class zD{constructor(){this.h=new Ry,this.s=new Ry,this.l=new Ry}load(e){fe(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Zl extends Xt{constructor(){super(),this.animation=new zD}static create(e,t){const i=new Zl;return i.load(e),t!==void 0&&(ya(t)||yn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),fe(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var Fl;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(Fl||(Fl={}));class LD{constructor(){this.speed=2}load(e){fe(e)||e.speed!==void 0&&(this.speed=e.speed)}}class UD{constructor(){this.enable=!0,this.retries=0}load(e){fe(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Oi{constructor(){this.value=0}load(e){fe(e)||fe(e.value)||(this.value=Te(e.value))}}class BD extends Oi{constructor(){super(),this.animation=new w_}load(e){if(super.load(e),fe(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class ox extends BD{constructor(){super(),this.animation=new E_}load(e){super.load(e)}}class _1 extends Oi{constructor(){super(),this.value=1}}class ax{constructor(){this.horizontal=new _1,this.vertical=new _1}load(e){fe(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class FD{constructor(){this.absorb=new LD,this.bounce=new ax,this.enable=!1,this.maxSpeed=50,this.mode=Fl.bounce,this.overlap=new UD}load(e){fe(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Te(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class jD{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(fe(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Ln(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class qD{constructor(){this.offset=0,this.value=90}load(e){fe(e)||(e.offset!==void 0&&(this.offset=Te(e.offset)),e.value!==void 0&&(this.value=Te(e.value)))}}class HD{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!fe(e)&&(e.distance!==void 0&&(this.distance=Te(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class $D{constructor(){this.x=50,this.y=50,this.mode=Xr.percent,this.radius=0}load(e){fe(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class GD{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){fe(e)||(e.acceleration!==void 0&&(this.acceleration=Te(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Te(e.maxSpeed)))}}class YD{constructor(){this.clamp=!0,this.delay=new Oi,this.enable=!1,this.options={}}load(e){fe(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ln(this.options,e.options)))}}class QD{load(e){fe(e)||(e.color!==void 0&&(this.color=Xt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class KD{constructor(){this.enable=!1,this.length=10,this.fill=new QD}load(e){fe(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Kt;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(Kt||(Kt={}));class XD{constructor(){this.default=Kt.out}load(e){fe(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class WD{constructor(){this.acceleration=0,this.enable=!1}load(e){fe(e)||(e.acceleration!==void 0&&(this.acceleration=Te(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Ln({},e.position)))}}class ZD{constructor(){this.angle=new qD,this.attract=new HD,this.center=new $D,this.decay=0,this.distance={},this.direction=fv.none,this.drift=0,this.enable=!1,this.gravity=new GD,this.path=new YD,this.outModes=new XD,this.random=!1,this.size=!1,this.speed=2,this.spin=new WD,this.straight=!1,this.trail=new KD,this.vibrate=!1,this.warp=!1}load(e){if(fe(e))return;this.angle.load(pi(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Te(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=pi(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Te(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(Ol(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Te(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class JD extends E_{constructor(){super(),this.destroy=Kr.none,this.speed=2}load(e){super.load(e),!fe(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class eM extends ox{constructor(){super(),this.animation=new JD,this.value=1}load(e){if(fe(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class tM{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(fe(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var pv;(function(n){n.delete="delete",n.wait="wait"})(pv||(pv={}));class nM{constructor(){this.mode=pv.delete,this.value=0}load(e){fe(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class iM{constructor(){this.density=new tM,this.limit=new nM,this.value=0}load(e){fe(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class sM{constructor(){this.blur=0,this.color=new Xt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){fe(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Xt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class rM{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(fe(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Ln(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class oM extends E_{constructor(){super(),this.destroy=Kr.none,this.speed=5}load(e){super.load(e),!fe(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class aM extends ox{constructor(){super(),this.animation=new oM,this.value=3}load(e){if(super.load(e),fe(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class b1{constructor(){this.width=0}load(e){fe(e)||(e.color!==void 0&&(this.color=Zl.create(this.color,e.color)),e.width!==void 0&&(this.width=Te(e.width)),e.opacity!==void 0&&(this.opacity=Te(e.opacity)))}}class lM extends Oi{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!fe(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class uM{constructor(e,t){this._engine=e,this._container=t,this.bounce=new ax,this.collisions=new FD,this.color=new Zl,this.color.value="#fff",this.effect=new jD,this.groups={},this.move=new ZD,this.number=new iM,this.opacity=new eM,this.reduceDuplicates=!1,this.shadow=new sM,this.shape=new rM,this.size=new aM,this.stroke=new b1,this.zIndex=new lM}load(e){if(fe(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=Ln(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Zl.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Ln({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=bn(t,i=>{const r=new b1;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const a of i)a.loadOptions&&a.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const a of r)a.loadParticlesOptions&&a.loadParticlesOptions(this,e)}}}function cM(n,...e){for(const t of e)n.load(t)}function fM(n,e,...t){const i=new uM(n,e);return cM(i,...t),i}var Gd;(function(n){n.external="external",n.particles="particles"})(Gd||(Gd={}));var jr;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(jr||(jr={}));var jl;(function(n){n.circle="circle",n.rectangle="rectangle"})(jl||(jl={}));class lx{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class In extends lx{constructor(e,t,i){super(e,t,jl.circle),this.radius=i}contains(e){return Kn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof In||e.type===jl.circle){const u=e,f=a+u.radius,d=Math.sqrt(r.x**ra+r.y**ra);return f>d}else if(e instanceof lo||e.type===jl.rectangle){const u=e,{width:f,height:d}=u.size;return Math.pow(r.x-f,ra)+Math.pow(r.y-d,ra)<=a**ra||r.x<=a+f&&r.y<=a+d||r.x<=f||r.y<=d}return!1}}class lo extends lx{constructor(e,t,i,r){super(e,t,jl.rectangle),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof In)return e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,u=e instanceof lo?e.size:{width:0,height:0},f=u.width,d=u.height;return a.x<r.x+t&&a.x+f>r.x&&a.y<r.y+i&&a.y+d>r.y}}class ki{constructor(e){this.type=Gd.external,this.container=e}}class T_{constructor(e){this.type=Gd.particles,this.container=e}}var Cn;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Cn||(Cn={}));var ma;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(ma||(ma={}));class hM{constructor(){this.radius=0,this.mass=0}load(e){fe(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class dM extends Oi{constructor(){super(),this.density=5,this.value=50,this.limit=new hM}load(e){fe(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),pi(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Yd{constructor(){this.color=new Xt,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new dM}load(e){fe(e)||(e.color!==void 0&&(this.color=Xt.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Te(e.position.x)),e.position.y!==void 0&&(this.position.y=Te(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var Qd;(function(n){n.absorber="absorber"})(Qd||(Qd={}));const mM=2,pM=.033,gM=0,yM=0,vM=0,_M=0,bM=2,w1=Math.PI*bM,E1=0;class wM{constructor(e,t,i,r,a){var f;this._calcPosition=()=>{const d=YA({size:this._container.canvas.size,position:this.options.position});return gt.create(d.x,d.y)},this._updateParticlePosition=(d,p)=>{if(d.destroyed)return;const y=this._container,_=y.canvas.size;if(d.needsNewPosition){const b=GA({size:_});d.position.setTo(b),d.velocity.setTo(d.initialVelocity),d.absorberOrbit=void 0,d.needsNewPosition=!1}if(this.options.orbits){if(d.absorberOrbit===void 0&&(d.absorberOrbit=gt.origin,d.absorberOrbit.length=Kn(d.getPosition(),this.position),d.absorberOrbit.angle=Ne()*w1),d.absorberOrbit.length<=this.size&&!this.options.destroy){const I=Math.min(_.width,_.height),B=1,H=.1,G=.2;d.absorberOrbit.length=I*(B+(Ne()*G-H))}d.absorberOrbitDirection===void 0&&(d.absorberOrbitDirection=d.velocity.x>=E1?Cn.clockwise:Cn.counterClockwise);const b=d.absorberOrbit.length,S=d.absorberOrbit.angle,R=d.absorberOrbitDirection;d.velocity.setTo(gt.origin);const P={x:R===Cn.clockwise?Math.cos:Math.sin,y:R===Cn.clockwise?Math.sin:Math.cos};d.position.x=this.position.x+b*P.x(S),d.position.y=this.position.y+b*P.y(S),d.absorberOrbit.length-=p.length,d.absorberOrbit.angle+=(d.retina.moveSpeed??E1)*y.retina.pixelRatio/on*y.retina.reduceFactor}else{const b=gt.origin;b.length=p.length,b.angle=p.angle,d.velocity.addTo(b)}},this._absorbers=e,this._container=t,this._engine=i,this.initialPosition=a?gt.create(a.x,a.y):void 0,r instanceof Yd?this.options=r:(this.options=new Yd,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=me(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const u=this.options.size.limit;this.limit={radius:u.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:u.mass},this.color=Wr(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=((f=this.initialPosition)==null?void 0:f.copy())??this._calcPosition()}attract(e){const t=this._container,i=this.options;if(i.draggable){const p=t.interactivity.mouse;p.clicking&&p.downPosition?Kn(this.position,p.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&p.position&&(this.position.x=p.position.x,this.position.y=p.position.y)}const r=e.getPosition(),{dx:a,dy:u,distance:f}=vn(this.position,r),d=gt.create(a,u);if(d.length=this.mass/Math.pow(f,mM)*t.retina.reduceFactor,f<this.size+e.getRadius()){const p=e.getRadius()*pM*t.retina.pixelRatio;this.size>e.getRadius()&&f<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<gM?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,d)):(i.destroy&&(e.size.value-=p),this._updateParticlePosition(e,d)),(this.limit.radius<=yM||this.size<this.limit.radius)&&(this.size+=p),(this.limit.mass<=vM||this.mass<this.limit.mass)&&(this.mass+=p*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,d)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(hi.x,hi.y,this.size,_M,w1,!1),e.closePath(),e.fillStyle=Wl(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&yf(e,this._container.canvas.size,gt.origin)?e:this._calcPosition()}}const T1=0;class EM{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||pi(i)?this.array[i??T1]:this.array.find(r=>r.name===i),e.addAbsorber=async(i,r)=>this.addAbsorber(i,r)}async addAbsorber(e,t){const i=new wM(this,this._container,this._engine,e,t);return this.array.push(i),Promise.resolve(i)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e===Qd.absorber){const r=Hs(i),a=r??Hs(t),u=this._container.interactivity.mouse.clickPosition;this.addAbsorber(a,u)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=bn(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=T1&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class TM{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new EM(e,this._engine))}loadOptions(e,t){var i,r;!this.needsPlugin(e)&&!this.needsPlugin(t)||(t!=null&&t.absorbers&&(e.absorbers=bn(t.absorbers,a=>{const u=new Yd;return u.load(a),u})),e.interactivity.modes.absorbers=bn((r=(i=t==null?void 0:t.interactivity)==null?void 0:i.modes)==null?void 0:r.absorbers,a=>{const u=new Yd;return u.load(a),u}))}needsPlugin(e){var i,r,a;if(!e)return!1;const t=e.absorbers;return yn(t)?!!t.length:t?!0:!!((a=(r=(i=e.interactivity)==null?void 0:i.events)==null?void 0:r.onClick)!=null&&a.mode&&ht(Qd.absorber,e.interactivity.events.onClick.mode))}}async function SM(n,e=!0){n.checkVersion("3.8.1"),await n.addPlugin(new TM(n),e)}class AM{load(e){fe(e)||(e.bottom!==void 0&&(this.bottom=Te(e.bottom)),e.left!==void 0&&(this.left=Te(e.left)),e.right!==void 0&&(this.right=Te(e.right)),e.top!==void 0&&(this.top=Te(e.top)))}}var Kd;(function(n){n.none="none",n.split="split"})(Kd||(Kd={}));class xM extends Oi{constructor(){super(),this.value=3}}class RM extends Oi{constructor(){super(),this.value={min:4,max:9}}}class CM{constructor(){this.count=1,this.factor=new xM,this.rate=new RM,this.sizeOffset=!0}load(e){fe(e)||(e.color!==void 0&&(this.color=Xt.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=bn(e.particles,t=>Ln({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class IM{constructor(){this.bounds=new AM,this.mode=Kd.none,this.split=new CM}load(e){fe(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const id=0,OM=.5,kM=0,DM=1,MM=500,PM=0;function NM(n,e,t,i){const r=t.options.destroy;if(!r)return;const a=r.split,u=fM(n,e,t.options),f=me(a.factor.value),d=t.getFillColor();a.color?u.color.load(a.color):a.colorOffset&&d?u.color.load({value:{hsl:{h:d.h+me(a.colorOffset.h??id),s:d.s+me(a.colorOffset.s??id),l:d.l+me(a.colorOffset.l??id)}}}):u.color.load({value:{hsl:t.getFillColor()}}),u.move.load({center:{x:t.position.x,y:t.position.y,mode:Xr.precise}}),pi(u.size.value)?u.size.value/=f:(u.size.value.min/=f,u.size.value.max/=f),u.load(i);const p=a.sizeOffset?Te(-t.size.value,t.size.value):id,y={x:t.position.x+pn(p),y:t.position.y+pn(p)};return e.particles.addParticle(y,u,t.group,_=>_.size.value<OM?!1:(_.velocity.length=pn(Te(t.velocity.length,_.velocity.length)),_.splitCount=(t.splitCount??kM)+DM,_.unbreakable=!0,setTimeout(()=>{_.unbreakable=!1},MM),!0))}function VM(n,e,t){const i=t.options.destroy;if(!i)return;const r=i.split;if(r.count>=PM&&(t.splitCount===void 0||t.splitCount++>r.count))return;const a=me(r.rate.value),u=Hs(r.particles);for(let f=0;f<a;f++)NM(n,e,t,u)}class zM{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,i=e.options,r=i.destroy;if(!r)return;e.splitCount=0;const a=r.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:u,left:f,right:d,top:p}=a,{destroyBounds:y}=e,_=t.canvas.size;u&&(y.bottom=me(u)*_.height/on),f&&(y.left=me(f)*_.width/on),d&&(y.right=me(d)*_.width/on),p&&(y.top=me(p)*_.height/on)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new IM);for(const i of t)e.destroy.load(i==null?void 0:i.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode===Kd.split&&VM(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function LM(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("destroy",t=>Promise.resolve(new zM(n,t)),e)}class UM{constructor(){this.wait=!1}load(e){fe(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=Te(e.delay)),e.duration!==void 0&&(this.duration=Te(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class BM{constructor(){this.quantity=1,this.delay=.1}load(e){fe(e)||(e.quantity!==void 0&&(this.quantity=Te(e.quantity)),e.delay!==void 0&&(this.delay=Te(e.delay)))}}class FM{constructor(){this.color=!1,this.opacity=!1}load(e){fe(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class jM{constructor(){this.options={},this.replace=new FM,this.type="square"}load(e){fe(e)||(e.options!==void 0&&(this.options=Ln({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class ux{constructor(){this.mode=Xr.percent,this.height=0,this.width=0}load(e){fe(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Dr{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new UM,this.rate=new BM,this.shape=new jM,this.startCount=0}load(e){fe(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new ux),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=bn(e.particles,t=>Ln({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Te(e.position.x)),e.position.y!==void 0&&(this.position.y=Te(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Zl),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var Xd;(function(n){n.emitter="emitter"})(Xd||(Xd={}));const S1=.5,A1=0,sd=0,x1=0,qM=0,HM=-1,$M=1;function R1(n,e){n.color?n.color.value=e:n.color={value:e}}class GM{constructor(e,t,i,r,a){var p,y;this.emitters=t,this.container=i,this._destroy=()=>{var _,b;(_=this._mutationObserver)==null||_.disconnect(),this._mutationObserver=void 0,(b=this._resizeObserver)==null||b.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{var R;if(this._paused)return;const _=((R=this.options.life)==null?void 0:R.duration)!==void 0?me(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&_!==void 0&&_>0&&(this._duration=_*mn)},this._setColorAnimation=(_,b,S,R=$M)=>{const P=this.container;if(!_.enable)return b;const I=pn(_.offset),B=me(this.options.rate.delay),H=B*mn/P.retina.reduceFactor,G=0,X=me(_.speed??G);return(b+X*P.fpsLimit/H+I*R)%S},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=a,r instanceof Dr?this.options=r:(this.options=new Dr,this.options.load(r)),this._spawnDelay=me(this.options.life.delay??A1)*mn/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let u=Ln({},this.options.particles);if(u??(u={}),u.move??(u.move={}),(p=u.move).direction??(p.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=lu(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=u,this._size=this._calcSize(),this.size=v1(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??HM,this._immortal=this._lifeCount<=sd,this.options.domId){const _=document.getElementById(this.options.domId);_&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(_,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(_))}const f=this.options.shape,d=(y=this._engine.emitterShapeManager)==null?void 0:y.getShapeGenerator(f.type);d&&(this._shape=d.generate(this.position,this.size,this.fill,f.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){var e;await((e=this._shape)==null?void 0:e.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>sd||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??x1))){if(this._emitDelay===void 0){const e=me(this.options.rate.delay);this._emitDelay=e*mn/this.container.retina.reduceFactor}(this._lifeCount>sd||this._immortal)&&this._prepareToDie()}}resize(){var t;const e=this._initialPosition;this.position=e&&yf(e,this.container.canvas.size,gt.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=v1(this._size,this.container.canvas.size),(t=this._shape)==null||t.resize(this.position,this.size)}update(e){var t;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??x1,this._currentEmitDelay=this._emitDelay??qM),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>sd||this._immortal?(this.position=this._calcPosition(),(t=this._shape)==null||t.resize(this.position,this.size),this._spawnDelay=me(this.options.life.delay??A1)*mn/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const t=e.getBoundingClientRect(),i=this.container.retina.pixelRatio;return{x:(t.x+t.width*S1)*i,y:(t.y+t.height*S1)*i}}}return YA({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio,mode:Xr.precise}}}return this.options.size??(()=>{const t=new ux;return t.load({height:0,mode:Xr.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=me(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){var i;const t=Hs(this._particlesOptions);for(let r=0;r<e;r++){const a=Ln({},t);if(this.spawnColor){const d=(i=this.options.spawnColor)==null?void 0:i.animation;if(d){const p={h:360,s:100,l:100},y=3.6;this.spawnColor.h=this._setColorAnimation(d.h,this.spawnColor.h,p.h,y),this.spawnColor.s=this._setColorAnimation(d.s,this.spawnColor.s,p.s),this.spawnColor.l=this._setColorAnimation(d.l,this.spawnColor.l,p.l)}R1(a,this.spawnColor)}const u=this.options.shape;let f=this.position;if(this._shape){const d=this._shape.randomPosition();if(d){f=d.position;const p=u.replace;p.color&&d.color&&R1(a,d.color),p.opacity&&(a.opacity?a.opacity.value=d.opacity:a.opacity={value:d.opacity})}else f=null}f&&this.container.particles.addParticle(f,a)}}}class YM{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;t.getEmitter=r=>r===void 0||pi(r)?this.array[r??i]:this.array.find(a=>a.name===r),t.addEmitter=async(r,a)=>this.addEmitter(r,a),t.removeEmitter=r=>{const a=t.getEmitter(r);a&&this.removeEmitter(a)},t.playEmitter=r=>{const a=t.getEmitter(r);a&&a.externalPlay()},t.pauseEmitter=r=>{const a=t.getEmitter(r);a&&a.externalPause()}}async addEmitter(e,t){const i=new Dr;i.load(e);const r=new GM(this._engine,this,this.container,i,t);return await r.init(),this.array.push(r),r}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!==Xd.emitter)return;let r;if(i&&yn(i.value))if(i.value.length>0&&i.random.enable){r=[];const d=[];for(let p=0;p<i.random.count;p++){const y=XA(i.value);if(d.includes(y)&&d.length<i.value.length){p--;continue}d.push(y),r.push(gf(i.value,y))}}else r=i.value;else r=i==null?void 0:i.value;const a=r??t,u=this.container.interactivity.mouse.clickPosition;bn(a,async f=>{await this.addEmitter(f,u)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(yn(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class QM{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new YM(this._engine,e))}loadOptions(e,t){var r,a;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t!=null&&t.emitters&&(e.emitters=bn(t.emitters,u=>{const f=new Dr;return f.load(u),f}));const i=(a=(r=t==null?void 0:t.interactivity)==null?void 0:r.modes)==null?void 0:a.emitters;if(i)if(yn(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(u=>{const f=new Dr;return f.load(u),f})};else{const u=i;if(u.value!==void 0)if(yn(u.value))e.interactivity.modes.emitters={random:{count:u.random.count??1,enable:u.random.enable??!1},value:u.value.map(d=>{const p=new Dr;return p.load(d),p})};else{const d=new Dr;d.load(u.value),e.interactivity.modes.emitters={random:{count:u.random.count??1,enable:u.random.enable??!1},value:d}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Dr}).value.load(i)}}needsPlugin(e){var i,r,a;if(!e)return!1;const t=e.emitters;return yn(t)&&!!t.length||t!==void 0||!!((a=(r=(i=e.interactivity)==null?void 0:i.events)==null?void 0:r.onClick)!=null&&a.mode)&&ht(Xd.emitter,e.interactivity.events.onClick.mode)}}const Cy=new Map;class KM{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||Cy.set(e,t)}getShapeGenerator(e){return Cy.get(e)}getSupportedShapeGenerators(){return Cy.keys()}}class cx{constructor(e,t,i,r){this.position=e,this.size=t,this.fill=i,this.options=r}resize(e,t){this.position=e,this.size=t}}async function XM(n,e=!0){n.checkVersion("3.8.1"),n.emitterShapeManager||(n.emitterShapeManager=new KM(n)),n.addEmitterShapeGenerator||(n.addEmitterShapeGenerator=(i,r)=>{var a;(a=n.emitterShapeManager)==null||a.addShapeGenerator(i,r)});const t=new QM(n);await n.addPlugin(t,e)}const Ic=.25,gv=2,WM=Math.PI*gv,C1=2,I1=.5;class ZM extends cx{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.size,t=this.fill,i=this.position,r=(_,b)=>{const S=Ne()*Ic,R=Math.atan(b/_*Math.tan(WM*S)),P=Ne();return P<Ic?R:P<gv*Ic?Math.PI-R:P<gv*Ic+Ic?Math.PI+R:-R},a=(_,b,S)=>_*b/Math.sqrt((b*Math.cos(S))**C1+(_*Math.sin(S))**C1),[u,f]=[e.width*I1,e.height*I1],d=r(u,f),p=a(u,f,d),y=t?p*Math.sqrt(Ne()):p;return{position:{x:i.x+y*Math.cos(d),y:i.y+y*Math.sin(d)}}}}class JM{generate(e,t,i,r){return new ZM(e,t,i,r)}}async function eP(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"circle",new JM),await t.refresh(e)}const tP=4;var kl;(function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomRight=2]="BottomRight",n[n.BottomLeft=3]="BottomLeft"})(kl||(kl={}));function O1(n,e){return n+e*(Ne()-Vn)}class nP extends cx{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.fill,t=this.position,i=this.size;if(e)return{position:{x:O1(t.x,i.width),y:O1(t.y,i.height)}};{const r=i.width*Vn,a=i.height*Vn,u=Math.floor(Ne()*tP),f=(Ne()-Vn)*Ji;switch(u){case kl.TopLeft:return{position:{x:t.x+f*r,y:t.y-a}};case kl.TopRight:return{position:{x:t.x-r,y:t.y+f*a}};case kl.BottomRight:return{position:{x:t.x+f*r,y:t.y+a}};case kl.BottomLeft:default:return{position:{x:t.x+r,y:t.y+f*a}}}}}}class iP{generate(e,t,i,r){return new nP(e,t,i,r)}}async function sP(n,e=!0){var i;const t=n;t.checkVersion("3.8.1"),(i=t.addEmitterShapeGenerator)==null||i.call(t,"square",new iP),await t.refresh(e)}class rP{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){fe(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=Ln({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const k1="trail";class oP extends ki{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){var p,y,_,b;const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const r=t.actualOptions,a=r.interactivity.modes.trail;if(!a)return;const u=a.delay*mn/this.container.retina.reduceFactor;if(this._delay<u&&(this._delay+=e.value),this._delay<u)return;const f=!(a.pauseOnStop&&(i.mouse.position===this._lastPosition||((p=i.mouse.position)==null?void 0:p.x)===((y=this._lastPosition)==null?void 0:y.x)&&((_=i.mouse.position)==null?void 0:_.y)===((b=this._lastPosition)==null?void 0:b.y))),d=t.interactivity.mouse.position;d?this._lastPosition={...d}:delete this._lastPosition,f&&t.particles.push(a.quantity,t.interactivity.mouse,a.particles),this._delay-=u}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=((e==null?void 0:e.interactivity)??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&ht(k1,a.onClick.mode)||r.inside&&!!r.position&&ht(k1,a.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new rP);for(const i of t)e.trail.load(i==null?void 0:i.trail)}reset(){}}async function aP(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalTrail",t=>Promise.resolve(new oP(t)),e)}var ca;(function(n){n.both="both",n.horizontal="horizontal",n.vertical="vertical"})(ca||(ca={}));const lP=2,fx=Math.PI*lP,uP=360;function cP(n,e){const t=e.options.roll;if(!(t!=null&&t.enable)){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===ca.horizontal||t.mode===ca.both,vertical:t.mode===ca.vertical||t.mode===ca.both,angle:Ne()*fx,speed:me(t.speed)/uP},t.backColor)e.backColor=lu(n,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=Ne()>=Vn?oa.darken:oa.enlighten;e.roll.alter={type:i,value:me(i===oa.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:oa.darken,value:me(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:oa.enlighten,value:me(t.enlighten.value)})}function fP(n,e){const t=n.options.roll,i=n.roll;if(!i||!(t!=null&&t.enable))return;const r=i.speed*e.factor,a=fx;i.angle+=r,i.angle>a&&(i.angle-=a)}class D1{constructor(){this.enable=!1,this.value=0}load(e){fe(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=Te(e.value)))}}class hP{constructor(){this.darken=new D1,this.enable=!1,this.enlighten=new D1,this.mode=ca.vertical,this.speed=25}load(e){fe(e)||(e.backColor!==void 0&&(this.backColor=Xt.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=Te(e.speed)))}}class dP{constructor(e){this._engine=e}getTransformValues(e){var a;const t=((a=e.roll)==null?void 0:a.enable)&&e.roll,i=t&&t.horizontal,r=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:r?Math.sin(t.angle):void 0}}init(e){cP(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.roll||(e.roll=new hP);for(const i of t)e.roll.load(i==null?void 0:i.roll)}update(e,t){this.isEnabled(e)&&fP(e,t)}}async function mP(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("roll",()=>Promise.resolve(new dP(n)),e)}const yv=.5,pP=2,Ur=0,Si=1,M1=60,P1=0,gP=.01,yP=Math.PI*pP;function vP(n){const e=n.initialPosition,{dx:t,dy:i}=vn(e,n.position),r=Math.abs(t),a=Math.abs(i),{maxDistance:u}=n.retina,f=u.horizontal,d=u.vertical;if(!f&&!d)return;const p=(f&&r>=f)??!1,y=(d&&a>=d)??!1;if((p||y)&&!n.misplaced)n.misplaced=!!f&&r>f||!!d&&a>d,f&&(n.velocity.x=n.velocity.y*yv-n.velocity.x),d&&(n.velocity.y=n.velocity.x*yv-n.velocity.y);else if((!f||r<f)&&(!d||a<d)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const _=n.position,b=n.velocity;f&&(_.x<e.x&&b.x<Ur||_.x>e.x&&b.x>Ur)&&(b.x*=-Ne()),d&&(_.y<e.y&&b.y<Ur||_.y>e.y&&b.y>Ur)&&(b.y*=-Ne())}}function _P(n,e,t,i,r,a){wP(n,a);const u=n.gravity,f=u!=null&&u.enable&&u.inverse?-Si:Si;r&&t&&(n.velocity.x+=r*a.factor/(M1*t)),u!=null&&u.enable&&t&&(n.velocity.y+=f*(u.acceleration*a.factor)/(M1*t));const d=n.moveDecay;n.velocity.multTo(d);const p=n.velocity.mult(t);u!=null&&u.enable&&i>Ur&&(!u.inverse&&p.y>=Ur&&p.y>=i||u.inverse&&p.y<=Ur&&p.y<=-i)&&(p.y=f*i,t&&(n.velocity.y=p.y/t));const y=n.options.zIndex,_=(Si-n.zIndexFactor)**y.velocityRate;p.multTo(_);const{position:b}=n;b.addTo(p),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function bP(n,e){const t=n.container;if(!n.spin)return;const i=n.spin.direction===Cn.clockwise,r={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*r.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*r.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const a=Math.max(t.canvas.size.width,t.canvas.size.height),u=a*yv;n.spin.radius>u?(n.spin.radius=u,n.spin.acceleration*=-Si):n.spin.radius<P1&&(n.spin.radius=P1,n.spin.acceleration*=-Si),n.spin.angle+=e*gP*(Si-n.spin.radius/a)}function wP(n,e){var u;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const a=(u=n.pathGenerator)==null?void 0:u.generate(n,e);a&&n.velocity.addTo(a),i.clamp&&(n.velocity.x=Ri(n.velocity.x,-Si,Si),n.velocity.y=Ri(n.velocity.y,-Si,Si)),n.lastPathTime-=n.pathDelay}function EP(n){return n.slow.inRange?n.slow.factor:Si}function TP(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},a=.01,u={x:r.x*a*e.canvas.size.width,y:r.y*a*e.canvas.size.height},f=n.getPosition(),d=Kn(f,u),p=me(i.acceleration);n.retina.spinAcceleration=p*e.retina.pixelRatio,n.spin={center:u,direction:n.velocity.x>=Ur?Cn.clockwise:Cn.counterClockwise,angle:Ne()*yP,radius:d,acceleration:n.retina.spinAcceleration}}const SP=2,AP=1,xP=1;class RP{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:me(i.acceleration),inverse:i.inverse},TP(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var P,I;const i=e.options,r=i.move;if(!r.enable)return;const a=e.container,u=a.retina.pixelRatio;(P=e.retina).moveSpeed??(P.moveSpeed=me(r.speed)*u),(I=e.retina).moveDrift??(I.moveDrift=me(e.options.move.drift)*u);const f=EP(e),d=e.retina.moveSpeed*a.retina.reduceFactor,p=e.retina.moveDrift,y=es(i.size.value)*u,_=r.size?e.getRadius()/y:AP,b=t.factor||xP,S=d*_*f*b/SP,R=e.retina.maxSpeed??a.retina.maxSpeed;r.spin.enable?bP(e,S):_P(e,r,S,R,p,t),vP(e)}}async function CP(n,e=!0){n.checkVersion("3.8.1"),await n.addMover("base",()=>Promise.resolve(new RP),e)}const IP=2,OP=Math.PI*IP,kP=0,N1={x:0,y:0};function DP(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:kP,max:OP});const r=t.circleRange;e.arc(N1.x,N1.y,i,r.min,r.max,!1)}const MP=12,PP=360,V1=0;class NP{constructor(){this.validTypes=["circle"]}draw(e){DP(e)}getSidesCount(){return MP}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:PP,min:V1};t.circleRange=Ol(r)?{min:Ul(r.min),max:Ul(r.max)}:{min:V1,max:Ul(r)}}}async function VP(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new NP,e)}class zP{constructor(e,t){this._container=e,this._engine=t}init(e){const t=lu(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=sx(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&((a==null?void 0:a.h.value)!==void 0&&t.enable||(a==null?void 0:a.s.value)!==void 0&&i.enable||(a==null?void 0:a.l.value)!==void 0&&r.enable)}update(e,t){rx(e.color,t)}}async function LP(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new zP(t,n)),e)}var aa;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(aa||(aa={}));const UP=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,BP=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,rd=16,FP=1,jP=255;class qP{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const t=e.replace(UP,(r,a,u,f,d)=>a+a+u+u+f+f+(d!==void 0?d+d:"")),i=BP.exec(t);return i?{a:i[aa.a]!==void 0?parseInt(i[aa.a],rd)/jP:FP,b:parseInt(i[aa.b],rd),g:parseInt(i[aa.g],rd),r:parseInt(i[aa.r],rd)}:void 0}}async function HP(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new qP,e)}var Dl;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(Dl||(Dl={}));class $P{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Xl(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Xl({h:me(i.h),l:me(i.l),s:me(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,a=1,u=10;return i?VD({a:i.length>r?QA(i[Dl.a]):a,h:parseInt(i[Dl.h],u),l:parseInt(i[Dl.l],u),s:parseInt(i[Dl.s],u)}):void 0}}async function GP(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new $P,e)}class YP{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=kD(t,i);const r=t.animation;r.enable&&(e.opacity.velocity=me(r.speed)/on*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ne()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||xm(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function QP(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new YP(t)),e)}const Wd=0,ql=0;function KP(n){if(n.outMode!==Kt.bounce&&n.outMode!==Kt.split||n.direction!==je.left&&n.direction!==je.right)return;n.bounds.right<ql&&n.direction===je.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===je.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===je.right&&n.bounds.right>=n.canvasSize.width&&e>Wd||n.direction===je.left&&n.bounds.left<=ql&&e<Wd){const r=me(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===je.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=ql&&n.direction===je.left&&(n.particle.position.x=i),n.outMode===Kt.split&&n.particle.destroy()}function XP(n){if(n.outMode!==Kt.bounce&&n.outMode!==Kt.split||n.direction!==je.bottom&&n.direction!==je.top)return;n.bounds.bottom<ql&&n.direction===je.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===je.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===je.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>Wd||n.direction===je.top&&n.bounds.top<=ql&&e<Wd){const r=me(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===je.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=ql&&n.direction===je.top&&(n.particle.position.y=i),n.outMode===Kt.split&&n.particle.destroy()}class WP{constructor(e){this.container=e,this.modes=[Kt.bounce,Kt.split]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;let u=!1;for(const b of a.plugins.values())if(b.particleBounce!==void 0&&(u=b.particleBounce(e,i,t)),u)break;if(u)return;const f=e.getPosition(),d=e.offset,p=e.getRadius(),y=vf(f,p),_=a.canvas.size;KP({particle:e,outMode:r,direction:t,bounds:y,canvasSize:_,offset:d,size:p}),XP({particle:e,outMode:r,direction:t,bounds:y,canvasSize:_,offset:d,size:p})}}const od=0;class ZP{constructor(e){this.container=e,this.modes=[Kt.destroy]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case jr.normal:case jr.outside:if(yf(e.position,a.canvas.size,gt.origin,e.getRadius(),t))return;break;case jr.inside:{const{dx:u,dy:f}=vn(e.position,e.moveCenter),{x:d,y:p}=e.velocity;if(d<od&&u>e.moveCenter.radius||p<od&&f>e.moveCenter.radius||d>=od&&u<-e.moveCenter.radius||p>=od&&f<-e.moveCenter.radius)return;break}}a.particles.remove(e,e.group,!0)}}const ad=0;class JP{constructor(e){this.container=e,this.modes=[Kt.none]}update(e,t,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(t===je.left||t===je.right))??(e.options.move.distance.vertical&&(t===je.top||t===je.bottom))))return;const a=e.options.move.gravity,u=this.container,f=u.canvas.size,d=e.getRadius();if(a.enable){const p=e.position;(!a.inverse&&p.y>f.height+d&&t===je.bottom||a.inverse&&p.y<-d&&t===je.top)&&u.particles.remove(e)}else{if(e.velocity.y>ad&&e.position.y<=f.height+d||e.velocity.y<ad&&e.position.y>=-d||e.velocity.x>ad&&e.position.x<=f.width+d||e.velocity.x<ad&&e.position.x>=-d)return;yf(e.position,u.canvas.size,gt.origin,d,t)||u.particles.remove(e)}}}const ld=0,ud=0;class eN{constructor(e){this.container=e,this.modes=[Kt.out]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case jr.inside:{const{x:u,y:f}=e.velocity,d=gt.origin;d.length=e.moveCenter.radius,d.angle=e.velocity.angle+Math.PI,d.addTo(gt.create(e.moveCenter));const{dx:p,dy:y}=vn(e.position,d);if(u<=ld&&p>=ud||f<=ld&&y>=ud||u>=ld&&p<=ud||f>=ld&&y<=ud)return;e.position.x=Math.floor(pn({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(pn({min:0,max:a.canvas.size.height}));const{dx:_,dy:b}=vn(e.position,e.moveCenter);e.direction=Math.atan2(-b,-_),e.velocity.angle=e.direction;break}default:{if(yf(e.position,a.canvas.size,gt.origin,e.getRadius(),t))return;switch(e.outType){case jr.outside:{e.position.x=Math.floor(pn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(pn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:f}=vn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(f,u),e.velocity.angle=e.direction);break}case jr.normal:{const u=e.options.move.warp,f=a.canvas.size,d={bottom:f.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:f.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},p=e.getRadius(),y=vf(e.position,p);t===je.right&&y.left>f.width+e.offset.x?(e.position.x=d.left,e.initialPosition.x=e.position.x,u||(e.position.y=Ne()*f.height,e.initialPosition.y=e.position.y)):t===je.left&&y.right<-e.offset.x&&(e.position.x=d.right,e.initialPosition.x=e.position.x,u||(e.position.y=Ne()*f.height,e.initialPosition.y=e.position.y)),t===je.bottom&&y.top>f.height+e.offset.y?(u||(e.position.x=Ne()*f.width,e.initialPosition.x=e.position.x),e.position.y=d.top,e.initialPosition.y=e.position.y):t===je.top&&y.bottom<-e.offset.y&&(u||(e.position.x=Ne()*f.width,e.initialPosition.x=e.position.x),e.position.y=d.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const tN=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class nN{constructor(e){this._addUpdaterIfMissing=(t,i,r)=>{const a=t.options.move.outModes;!this.updaters.has(i)&&tN(a,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(t,i,r,a)=>{for(const u of this.updaters.values())u.update(t,a,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Kt.bounce,t=>new WP(t)),this._addUpdaterIfMissing(e,Kt.out,t=>new eN(t)),this._addUpdaterIfMissing(e,Kt.destroy,t=>new ZP(t)),this._addUpdaterIfMissing(e,Kt.none,t=>new JP(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,je.bottom),this._updateOutMode(e,t,i.left??i.default,je.left),this._updateOutMode(e,t,i.right??i.default,je.right),this._updateOutMode(e,t,i.top??i.default,je.top)}}async function iN(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new nN(t)),e)}var Ml;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(Ml||(Ml={}));class sN{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:me(i.r),g:me(i.g),b:me(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=10;return i?{a:i.length>4?QA(i[Ml.a]):1,b:parseInt(i[Ml.b],r),g:parseInt(i[Ml.g],r),r:parseInt(i[Ml.r],r)}:void 0}}async function rN(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new sN,e)}const ea=0;class oN{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/on*t.retina.reduceFactor,r.sync||(e.size.velocity*=Ne()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??ea)<=ea||(e.size.maxLoops??ea)>ea&&(e.size.loops??ea)<(e.size.maxLoops??ea))}reset(e){e.size.loops=ea}update(e,t){this.isEnabled(e)&&xm(e,e.size,!0,e.options.size.animation.destroy,t)}}async function aN(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new oN),e)}async function lN(n,e=!0){n.checkVersion("3.8.1"),await HP(n,!1),await GP(n,!1),await rN(n,!1),await CP(n,!1),await VP(n,!1),await LP(n,!1),await QP(n,!1),await iN(n,!1),await aN(n,!1),await n.refresh(e)}async function uN(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(ma.easeInQuad,t=>t**2,!1),await n.addEasing(ma.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(ma.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function cN(n,e){const{context:t,opacity:i}=n,r=.5,a=t.globalAlpha;if(!e)return;const u=e.width,f=u*r;t.globalAlpha=i,t.drawImage(e,-f,-f,u,u),t.globalAlpha=a}const Iy='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',z1=0;class fN{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(t==null||t.close()),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&cN(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(u=>ht(u,t.particles.shape.type)))return;const r=[hv(Iy)],a=i.map(u=>t.particles.shape.options[u]).find(u=>!!u);a&&bn(a,u=>{u.font&&r.push(hv(u.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const r=t.shapeData;if(!(r!=null&&r.value))return;const a=Hs(r.value,t.randomIndexData);if(!a)return;const u=typeof a=="string"?{font:r.font??Iy,padding:r.padding??z1,value:a}:{font:Iy,padding:z1,...r,...a},f=u.font,d=u.value,p=`${d}_${f}`;if(this._emojiShapeDict.has(p)){t.emojiDataKey=p;return}const y=u.padding*2,_=es(t.size.value),b=_+y,S=b*2;let R;if(typeof OffscreenCanvas<"u"){const P=new OffscreenCanvas(S,S),I=P.getContext("2d");if(!I)return;I.font=`400 ${_*2}px ${f}`,I.textBaseline="middle",I.textAlign="center",I.fillText(d,b,b),R=P.transferToImageBitmap()}else{const P=document.createElement("canvas");P.width=S,P.height=S;const I=P.getContext("2d");if(!I)return;I.font=`400 ${_*2}px ${f}`,I.textBaseline="middle",I.textAlign="center",I.fillText(d,b,b),R=P}this._emojiShapeDict.set(p,R),t.emojiDataKey=p}}async function hN(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new fN,e)}const dN=1,mN=1,hx=0;function dx(n,e,t,i,r,a){const u=e.actualOptions.interactivity.modes.attract;if(!u)return;const f=e.particles.quadTree.query(r,a);for(const d of f){const{dx:p,dy:y,distance:_}=vn(d.position,t),b=u.speed*u.factor,S=Ri(n.getEasing(u.easing)(mN-_/i)*b,dN,u.maxSpeed),R=gt.create(_?p/_*S:b,_?y/_*S:b);d.position.subFrom(R)}}function pN(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,a=e.retina.attractModeDistance;if(!a||a<hx||!r)return;dx(n,e,r,a,new In(r.x,r.y,a),u=>t(u))}else i.clicking===!1&&(i.particles=[])}function gN(n,e,t){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<hx||!i||dx(n,e,i,r,new In(i.x,i.y,r),a=>t(a))}class yN{constructor(){this.distance=200,this.duration=.4,this.easing=ma.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Oc="attract";let vN=class extends ki{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.attract;if(!(!a||i!==Oc)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*mn)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===pf,r=t.interactivity.events,{enable:a,mode:u}=r.onHover,{enable:f,mode:d}=r.onClick;i&&a&&ht(Oc,u)?gN(this._engine,this.container,p=>this.isEnabled(p)):f&&ht(Oc,d)&&pN(this._engine,this.container,p=>this.isEnabled(p))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!a.onHover.enable)&&(!r.clickPosition||!a.onClick.enable))return!1;const u=a.onHover.mode,f=a.onClick.mode;return ht(Oc,u)||ht(Oc,f)}loadModeOptions(e,...t){e.attract||(e.attract=new yN);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function _N(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new vN(n,t)),e)}const bN=2,xd=.5,wN=Math.PI*xd,L1=2,mx=10,EN=0;function px(n,e,t,i,r){const a=n.particles.quadTree.query(i,r);for(const u of a)i instanceof In?ZA(dv(u),{position:e,mass:t**bN*wN,velocity:gt.origin,factor:gt.origin}):i instanceof lo&&OD(u,vf(e,t))}function TN(n,e,t,i){const r=document.querySelectorAll(e);r.length&&r.forEach(a=>{const u=a,f=n.retina.pixelRatio,d={x:(u.offsetLeft+u.offsetWidth*xd)*f,y:(u.offsetTop+u.offsetHeight*xd)*f},p=u.offsetWidth*xd*f,y=mx*f,_=t.type===Jc.circle?new In(d.x,d.y,p+y):new lo(u.offsetLeft*f-y,u.offsetTop*f-y,u.offsetWidth*f+y*L1,u.offsetHeight*f+y*L1);i(d,p,_)})}function SN(n,e,t,i){__(t,e,(r,a)=>TN(n,r,a,(u,f,d)=>px(n,u,f,d,i)))}function AN(n,e){const t=n.retina.pixelRatio,i=mx*t,r=n.interactivity.mouse.position,a=n.retina.bounceModeDistance;!a||a<EN||!r||px(n,r,a,new In(r.x,r.y,a+i),e)}class xN{constructor(){this.distance=200}load(e){fe(e)||e.distance!==void 0&&(this.distance=e.distance)}}const cd="bounce";class RN extends ki{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===pf,a=i.onHover.enable,u=i.onHover.mode,f=i.onDiv;r&&a&&ht(cd,u)?AN(this.container,d=>this.isEnabled(d)):SN(this.container,f,cd,d=>this.isEnabled(d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=((e==null?void 0:e.interactivity)??i.interactivity).events,u=a.onDiv;return!!r.position&&a.onHover.enable&&ht(cd,a.onHover.mode)||v_(cd,u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new xN);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function CN(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new RN(t)),e)}class gx{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!fe(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=yn(this.color)?void 0:this.color;this.color=bn(e.color,i=>Xt.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class IN extends gx{constructor(){super(),this.selectors=[]}load(e){super.load(e),!fe(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class ON extends gx{load(e){super.load(e),!fe(e)&&(this.divs=bn(e.divs,t=>{const i=new IN;return i.load(t),i}))}}var Xi;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(Xi||(Xi={}));function U1(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Ri(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Ri(r,e,n)}}const ta="bubble",Oy=0,kN=0,DN=2,B1=1,F1=1,MN=0,PN=0,ky=.5,Dy=1;class NN extends ki{constructor(e,t){super(e),this._clickBubble=()=>{var y;const i=this.container,r=i.actualOptions,a=i.interactivity.mouse.clickPosition,u=r.interactivity.modes.bubble;if(!u||!a)return;i.bubble||(i.bubble={});const f=i.retina.bubbleModeDistance;if(!f||f<Oy)return;const d=i.particles.quadTree.queryCircle(a,f,_=>this.isEnabled(_)),{bubble:p}=i;for(const _ of d){if(!p.clicking)continue;_.bubble.inRange=!p.durationEnd;const b=_.getPosition(),S=Kn(b,a),R=(new Date().getTime()-(i.interactivity.mouse.clickTime??kN))/mn;R>u.duration&&(p.durationEnd=!0),R>u.duration*DN&&(p.clicking=!1,p.durationEnd=!1);const P={bubbleObj:{optValue:i.retina.bubbleModeSize,value:_.bubble.radius},particlesObj:{optValue:es(_.options.size.value)*i.retina.pixelRatio,value:_.size.value},type:Xi.size};this._process(_,S,R,P);const I={bubbleObj:{optValue:u.opacity,value:_.bubble.opacity},particlesObj:{optValue:es(_.options.opacity.value),value:((y=_.opacity)==null?void 0:y.value)??B1},type:Xi.opacity};this._process(_,S,R,I),!p.durationEnd&&S<=f?this._hoverBubbleColor(_,S):delete _.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.bubbleModeDistance;if(!a||a<Oy||!r)return;const u=i.particles.quadTree.queryCircle(r,a,f=>this.isEnabled(f));for(const f of u){f.bubble.inRange=!0;const d=f.getPosition(),p=Kn(d,r),y=F1-p/a;p<=a?y>=PN&&i.interactivity.status===pf&&(this._hoverBubbleSize(f,y),this._hoverBubbleOpacity(f,y),this._hoverBubbleColor(f,y)):this.reset(f),i.interactivity.status===hD&&this.reset(f)}},this._hoverBubbleColor=(i,r,a)=>{const u=this.container.actualOptions,f=a??u.interactivity.modes.bubble;if(f){if(!i.bubble.finalColor){const d=f.color;if(!d)return;const p=Hs(d);i.bubble.finalColor=lu(this._engine,p)}if(i.bubble.finalColor)if(f.mix){i.bubble.color=void 0;const d=i.getFillColor();i.bubble.color=d?tx(b_(d,i.bubble.finalColor,F1-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,a)=>{var b,S;const u=this.container,f=u.actualOptions,d=(a==null?void 0:a.opacity)??((b=f.interactivity.modes.bubble)==null?void 0:b.opacity);if(!d)return;const p=i.options.opacity.value,y=((S=i.opacity)==null?void 0:S.value)??B1,_=U1(y,d,es(p),r);_!==void 0&&(i.bubble.opacity=_)},this._hoverBubbleSize=(i,r,a)=>{const u=this.container,f=a!=null&&a.size?a.size*u.retina.pixelRatio:u.retina.bubbleModeSize;if(f===void 0)return;const d=es(i.options.size.value)*u.retina.pixelRatio,p=i.size.value,y=U1(p,f,d,r);y!==void 0&&(i.bubble.radius=y)},this._process=(i,r,a,u)=>{const f=this.container,d=u.bubbleObj.optValue,p=f.actualOptions,y=p.interactivity.modes.bubble;if(!y||d===void 0)return;const _=y.duration,b=f.retina.bubbleModeDistance,S=u.particlesObj.optValue,R=u.bubbleObj.value,P=u.particlesObj.value??MN,I=u.type;if(!(!b||b<Oy||d===S))if(f.bubble||(f.bubble={}),f.bubble.durationEnd)R&&(I===Xi.size&&delete i.bubble.radius,I===Xi.opacity&&delete i.bubble.opacity);else if(r<=b){if((R??P)!==d){const H=P-a*(P-d)/_;I===Xi.size&&(i.bubble.radius=H),I===Xi.opacity&&(i.bubble.opacity=H)}}else I===Xi.size&&delete i.bubble.radius,I===Xi.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,a)=>{const u=this.container,f=document.querySelectorAll(r),d=u.actualOptions.interactivity.modes.bubble;!d||!f.length||f.forEach(p=>{const y=p,_=u.retina.pixelRatio,b={x:(y.offsetLeft+y.offsetWidth*ky)*_,y:(y.offsetTop+y.offsetHeight*ky)*_},S=y.offsetWidth*ky*_,R=a.type===Jc.circle?new In(b.x,b.y,S):new lo(y.offsetLeft*_,y.offsetTop*_,y.offsetWidth*_,y.offsetHeight*_),P=u.particles.quadTree.query(R,I=>this.isEnabled(I));for(const I of P){if(!R.contains(I.getPosition()))continue;I.bubble.inRange=!0;const B=d.divs,H=WA(B,y);(!I.bubble.div||I.bubble.div!==y)&&(this.clear(I,i,!0),I.bubble.div=y),this._hoverBubbleSize(I,Dy,H),this._hoverBubbleOpacity(I,Dy,H),this._hoverBubbleColor(I,Dy,H)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===ta&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,a=i.onClick,u=r.enable,f=r.mode,d=a.enable,p=a.mode,y=i.onDiv;u&&ht(ta,f)?this._hoverBubble():d&&ht(ta,p)?this._clickBubble():__(ta,y,(_,b)=>this._singleSelectorHover(e,_,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:u,onDiv:f,onHover:d}=a,p=v_(ta,f);return p||d.enable&&r.position||u.enable&&r.clickPosition?ht(ta,d.mode)||ht(ta,u.mode)||p:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new ON);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function VN(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new NN(t,n)),e)}class zN{constructor(){this.opacity=.5}load(e){fe(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class LN{constructor(){this.distance=80,this.links=new zN,this.radius=60}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const j1=0,q1=1,UN=0;function BN(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),u=t.getFillColor();if(!a||!u)return;const f=e.getPosition(),d=t.getPosition(),p=b_(a,u,e.getRadius(),t.getRadius()),y=n.createLinearGradient(f.x,f.y,d.x,d.y);return y.addColorStop(j1,$d(a,i)),y.addColorStop(Ri(r,j1,q1),Wl(p,i)),y.addColorStop(q1,$d(u,i)),y}function FN(n,e,t,i,r){jc(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function jN(n,e,t,i){const r=n.actualOptions,a=r.interactivity.modes.connect;if(a)return BN(e,t,i,a.links.opacity)}function qN(n,e,t){n.canvas.draw(i=>{const r=jN(n,i,e,t);if(!r)return;const a=e.getPosition(),u=t.getPosition();FN(i,e.retina.linksWidth??UN,r,a,u)})}const HN="connect",H1=0;class $N extends ki{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:a}=e.retina;if(!r||r<H1||!a||a<H1||!i)return;const u=Math.abs(a),f=e.particles.quadTree.queryCircle(i,u,d=>this.isEnabled(d));f.forEach((d,p)=>{const y=d.getPosition(),_=1;for(const b of f.slice(p+_)){const S=b.getPosition(),R=Math.abs(r),P=Math.abs(y.x-S.x),I=Math.abs(y.y-S.y);P<R&&I<R&&qN(e,d,b)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?ht(HN,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new LN);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function GN(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new $N(t)),e)}class YN{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){fe(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Xt.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class QN{constructor(){this.distance=100,this.links=new YN}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const KN=0;function XN(n,e,t,i,r,a){jc(n,t,i),n.strokeStyle=Wl(r,a),n.lineWidth=e,n.stroke()}function WN(n,e,t,i,r){n.canvas.draw(a=>{const u=e.getPosition();XN(a,e.retina.linksWidth??KN,u,r,t,i)})}const ZN="grab",JN=0,e4=0;class t4 extends ki{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var f;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==pf)return;const r=e.interactivity.mouse.position;if(!r)return;const a=e.retina.grabModeDistance;if(!a||a<JN)return;const u=e.particles.quadTree.queryCircle(r,a,d=>this.isEnabled(d));for(const d of u){const p=d.getPosition(),y=Kn(p,r);if(y>a)continue;const _=i.modes.grab.links,b=_.opacity,S=b-y*b/a;if(S<=e4)continue;const R=_.color??((f=d.options.links)==null?void 0:f.color);if(!e.particles.grabLineColor&&R){const I=i.modes.grab.links;e.particles.grabLineColor=ix(this._engine,R,I.blink,I.consent)}const P=mv(d,void 0,e.particles.grabLineColor);P&&WN(e,d,P,S,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&ht(ZN,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new QN);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function n4(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new t4(t,n)),e)}const i4="pause";class s4 extends ki{constructor(e){super(e),this.handleClickMode=t=>{if(t!==i4)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function r4(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new s4(t)),e)}class o4{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(fe(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=Te(t))}}const a4="push",l4=0;class u4 extends ki{constructor(e){super(e),this.handleClickMode=t=>{if(t!==a4)return;const i=this.container,r=i.actualOptions,a=r.interactivity.modes.push;if(!a)return;const u=me(a.quantity);if(u<=l4)return;const f=gf([void 0,...a.groups]),d=f!==void 0?i.actualOptions.particles.groups[f]:void 0;i.particles.push(u,i.interactivity.mouse,d,f)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new o4);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function c4(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new u4(t)),e)}class f4{constructor(){this.quantity=2}load(e){if(fe(e))return;const t=e.quantity;t!==void 0&&(this.quantity=Te(t))}}const h4="remove";class d4 extends ki{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==h4)return;const a=me(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new f4);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function m4(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new d4(t)),e)}class yx{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=ma.easeOutQuad}load(e){fe(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class p4 extends yx{constructor(){super(),this.selectors=[]}load(e){super.load(e),!fe(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class g4 extends yx{load(e){super.load(e),!fe(e)&&(this.divs=bn(e.divs,t=>{const i=new p4;return i.load(t),i}))}}const na="repulse",y4=0,v4=6,_4=3,b4=2,w4=0,E4=0,T4=1,My=.5;class S4 extends ki{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const a=i.repulse??{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===i.particles.count&&(a.finish=!0)),a.clicking){const u=i.retina.repulseModeDistance;if(!u||u<y4)return;const f=Math.pow(u/v4,_4),d=i.interactivity.mouse.clickPosition;if(d===void 0)return;const p=new In(d.x,d.y,f),y=i.particles.quadTree.query(p,_=>this.isEnabled(_));for(const _ of y){const{dx:b,dy:S,distance:R}=vn(d,_.position),P=R**b4,I=r.speed,B=-f*I/P;if(P<=f){a.particles.push(_);const H=gt.create(b,S);H.length=B,_.velocity.setTo(H)}}}else if(a.clicking===!1){for(const u of a.particles)u.velocity.setTo(u.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.repulseModeDistance;!a||a<w4||!r||this._processRepulse(r,a,new In(r.x,r.y,a))},this._processRepulse=(i,r,a,u)=>{const f=this.container,d=f.particles.quadTree.query(a,I=>this.isEnabled(I)),p=f.actualOptions.interactivity.modes.repulse;if(!p)return;const{easing:y,speed:_,factor:b,maxSpeed:S}=p,R=this._engine.getEasing(y),P=((u==null?void 0:u.speed)??_)*b;for(const I of d){const{dx:B,dy:H,distance:G}=vn(I.position,i),X=Ri(R(T4-G/r)*P,E4,S),re=gt.create(G?B/G*X:P,G?H/G*X:P);I.position.addTo(re)}},this._singleSelectorRepulse=(i,r)=>{const a=this.container,u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const f=document.querySelectorAll(i);f.length&&f.forEach(d=>{const p=d,y=a.retina.pixelRatio,_={x:(p.offsetLeft+p.offsetWidth*My)*y,y:(p.offsetTop+p.offsetHeight*My)*y},b=p.offsetWidth*My*y,S=r.type===Jc.circle?new In(_.x,_.y,b):new lo(p.offsetLeft*y,p.offsetTop*y,p.offsetWidth*y,p.offsetHeight*y),R=u.divs,P=WA(R,p);this._processRepulse(_,b,S,P)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.repulse;if(!a||i!==na)return;t.repulse||(t.repulse={particles:[]});const u=t.repulse;u.clicking=!0,u.count=0;for(const f of t.repulse.particles)this.isEnabled(f)&&f.velocity.setTo(f.initialVelocity);u.particles=[],u.finish=!1,setTimeout(()=>{t.destroyed||(u.clicking=!1)},a.duration*mn)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===pf,r=t.interactivity.events,a=r.onHover,u=a.enable,f=a.mode,d=r.onClick,p=d.enable,y=d.mode,_=r.onDiv;i&&u&&ht(na,f)?this._hoverRepulse():p&&ht(na,y)?this._clickRepulse():__(na,_,(b,S)=>this._singleSelectorRepulse(b,S))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=((e==null?void 0:e.interactivity)??i.interactivity).events,u=a.onDiv,f=a.onHover,d=a.onClick,p=v_(na,u);if(!(p||f.enable&&r.position||d.enable&&r.clickPosition))return!1;const y=f.mode,_=d.mode;return ht(na,y)||ht(na,_)||p}loadModeOptions(e,...t){e.repulse||(e.repulse=new g4);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function A4(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new S4(n,t)),e)}class x4{constructor(){this.factor=3,this.radius=200}load(e){fe(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const R4="slow",C4=0;class I4 extends ki{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&ht(R4,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new x4);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,a=t.retina.slowModeRadius,u=i.interactivity.modes.slow;if(!u||!a||a<C4||!r)return;const f=e.getPosition(),d=Kn(r,f),p=d/a,y=u.factor,{slow:_}=e;d>a||(_.inRange=!0,_.factor=p/y)}}async function O4(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new I4(t)),e)}const k4=0,D4=1,M4=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function P4(n,e,t){const{svgData:i}=n;if(!i)return"";const r=$d(e,t);if(i.includes("fill"))return i.replace(M4,()=>r);const a=i.indexOf(">");return`${i.substring(k4,a)} fill="${r}"${i.substring(a)}`}async function Rm(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,KA().error(`${Kl} loading image: ${n.source}`),e()}),t.src=n.source})}async function N4(n){if(n.type!=="svg"){await Rm(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(KA().error(`${Kl} Image not found`),n.error=!0),n.loading=!1}function V4(n,e,t,i){var u;const r=P4(n,t,((u=i.opacity)==null?void 0:u.value)??D4),a={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(f=>{const d=new Blob([r],{type:"image/svg+xml"}),p=URL||window.URL||window.webkitURL||window,y=p.createObjectURL(d),_=new Image;_.addEventListener("load",()=>{a.loaded=!0,a.element=_,f(a),p.revokeObjectURL(y)});const b=async()=>{p.revokeObjectURL(y);const S={...n,error:!1,loading:!0};await Rm(S),a.loaded=!0,a.element=S.element,f(a)};_.addEventListener("error",()=>void b()),_.src=y})}const Py=[0,4,2,1],$1=[8,8,4,2];class z4{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,r=0;do{t=this.data[this.pos++];for(let a=t;--a>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,r=1;for(let u=0;e!==i;u+=e+r,e=this.data[this.pos+u])t+=e;const a=new Uint8Array(t);e=this.data[this.pos++];for(let u=0;e!==i;e=this.data[this.pos++])for(let f=e;--f>=i;a[u++]=this.data[this.pos++]);return a}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var Ti;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(Ti||(Ti={}));var Ls;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(Ls||(Ls={}));const Mn={x:0,y:0},L4=0,G1=.5,U4=0,Y1=0,vv=0;function vx(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function B4(n,e,t,i){switch(n.nextByte()){case Ls.GraphicsControlExtension:{const r=e.frames[t(!1)];n.pos++;const a=n.nextByte();r.GCreserved=(a&224)>>>5,r.disposalMethod=(a&28)>>>2,r.userInputDelayFlag=(a&2)===2;const u=(a&1)===1;r.delayTime=n.nextTwoBytes()*10;const f=n.nextByte();u&&i(f),n.pos++;break}case Ls.ApplicationExtension:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case Ls.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case Ls.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function F4(n,e,t,i,r,a){const u=e.frames[i(!0)];u.left=n.nextTwoBytes(),u.top=n.nextTwoBytes(),u.width=n.nextTwoBytes(),u.height=n.nextTwoBytes();const f=n.nextByte(),d=(f&128)===128,p=(f&64)===64;u.sortFlag=(f&32)===32,u.reserved=(f&24)>>>3;const y=1<<(f&7)+1;d&&(u.localColorTable=vx(n,y));const _=B=>{const{r:H,g:G,b:X}=(d?u.localColorTable:e.globalColorTable)[B];return B!==r(null)?{r:H,g:G,b:X,a:255}:{r:H,g:G,b:X,a:t?~~((H+G+X)/3):0}},b=(()=>{try{return new ImageData(u.width,u.height,{colorSpace:"srgb"})}catch(B){if(B instanceof DOMException&&B.name==="IndexSizeError")return null;throw B}})();if(b==null)throw new EvalError("GIF frame size is to large");const S=n.nextByte(),R=n.readSubBlocksBin(),P=1<<S,I=(B,H)=>{const G=B>>>3,X=B&7;return(R[G]+(R[G+1]<<8)+(R[G+2]<<16)&(1<<H)-1<<X)>>>X};if(p){for(let B=0,H=S+1,G=0,X=[[0]],re=0;re<4;re++)if(Py[re]<u.height){let se=0,k=0,x=!1;for(;!x;){const C=B;if(B=I(G,H),G+=H+1,B===P){H=S+1,X.length=P+2;for(let N=0;N<X.length;N++)X[N]=N<P?[N]:[]}else{B>=X.length?X.push(X[C].concat(X[C][0])):C!==P&&X.push(X[C].concat(X[B][0]));for(const N of X[B]){const{r:z,g:L,b:D,a:bt}=_(N);b.data.set([z,L,D,bt],Py[re]*u.width+$1[re]*k+se%(u.width*4)),se+=4}X.length===1<<H&&H<12&&H++}se===u.width*4*(k+1)&&(k++,Py[re]+$1[re]*k>=u.height&&(x=!0))}}u.image=b,u.bitmap=await createImageBitmap(b)}else{let B=0,H=S+1,G=0,X=-4,re=!1;const se=[[0]];for(;!re;){const k=B;if(B=I(G,H),G+=H,B===P){H=S+1,se.length=P+2;for(let x=0;x<se.length;x++)se[x]=x<P?[x]:[]}else{if(B===P+1){re=!0;break}B>=se.length?se.push(se[k].concat(se[k][0])):k!==P&&se.push(se[k].concat(se[B][0]));for(const x of se[B]){const{r:C,g:N,b:z,a:L}=_(x);b.data.set([C,N,z,L],X+=4)}se.length>=1<<H&&H<12&&H++}}u.image=b,u.bitmap=await createImageBitmap(b)}}async function j4(n,e,t,i,r,a){switch(n.nextByte()){case Ls.EndOfFile:return!0;case Ls.Image:await F4(n,e,t,i,r);break;case Ls.Extension:B4(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function q4(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function H4(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},u=new z4(new Uint8ClampedArray(r));if(u.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=u.nextTwoBytes(),a.height=u.nextTwoBytes();const f=u.nextByte(),d=(f&128)===128;a.colorRes=(f&112)>>>4,a.sortFlag=(f&8)===8;const p=1<<(f&7)+1,y=u.nextByte();a.pixelAspectRatio=u.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),d&&(a.globalColorTable=vx(u,p));const _=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(X){if(X instanceof DOMException&&X.name==="IndexSizeError")return null;throw X}})();if(_==null)throw new Error("GIF frame size is to large");const{r:b,g:S,b:R}=a.globalColorTable[y];_.data.set(d?[b,S,R,255]:[0,0,0,0]);for(let X=4;X<_.data.length;X*=2)_.data.copyWithin(X,0,X);a.backgroundImage=_;let P=-1,I=!0,B=-1;const H=X=>(X&&(I=!0),P),G=X=>(X!=null&&(B=X),B);try{do I&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Ti.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),P++,B=-1,I=!1);while(!await j4(u,a,t,H,G,e));a.frames.length--;for(const X of a.frames){if(X.userInputDelayFlag&&X.delayTime===0){a.totalTime=1/0;break}a.totalTime+=X.delayTime}return a}catch(X){throw X instanceof EvalError?new Error(`error while parsing frame ${P} "${X.message}"`):X}}function $4(n){const{context:e,radius:t,particle:i,delta:r}=n,a=i.image;if(!(a!=null&&a.gifData)||!a.gif)return;const u=new OffscreenCanvas(a.gifData.width,a.gifData.height),f=u.getContext("2d");if(!f)throw new Error("could not create offscreen canvas context");f.imageSmoothingQuality="low",f.imageSmoothingEnabled=!1,f.clearRect(Mn.x,Mn.y,u.width,u.height),i.gifLoopCount===void 0&&(i.gifLoopCount=a.gifLoopCount??vv);let d=i.gifFrame??L4;const p={x:-a.gifData.width*G1,y:-a.gifData.height*G1},y=a.gifData.frames[d];if(i.gifTime===void 0&&(i.gifTime=U4),!!y.bitmap){switch(e.scale(t/a.gifData.width,t/a.gifData.height),y.disposalMethod){case Ti.UndefinedA:case Ti.UndefinedB:case Ti.UndefinedC:case Ti.UndefinedD:case Ti.Replace:f.drawImage(y.bitmap,y.left,y.top),e.drawImage(u,p.x,p.y),f.clearRect(Mn.x,Mn.y,u.width,u.height);break;case Ti.Combine:f.drawImage(y.bitmap,y.left,y.top),e.drawImage(u,p.x,p.y);break;case Ti.RestoreBackground:f.drawImage(y.bitmap,y.left,y.top),e.drawImage(u,p.x,p.y),f.clearRect(Mn.x,Mn.y,u.width,u.height),a.gifData.globalColorTable.length?f.putImageData(a.gifData.backgroundImage,p.x,p.y):f.putImageData(a.gifData.frames[Y1].image,p.x+y.left,p.y+y.top);break;case Ti.RestorePrevious:{const _=f.getImageData(Mn.x,Mn.y,u.width,u.height);f.drawImage(y.bitmap,y.left,y.top),e.drawImage(u,p.x,p.y),f.clearRect(Mn.x,Mn.y,u.width,u.height),f.putImageData(_,Mn.x,Mn.y)}break}if(i.gifTime+=r.value,i.gifTime>y.delayTime){if(i.gifTime-=y.delayTime,++d>=a.gifData.frames.length){if(--i.gifLoopCount<=vv)return;d=Y1,f.clearRect(Mn.x,Mn.y,u.width,u.height)}i.gifFrame=d}e.scale(a.gifData.width/t,a.gifData.height/t)}}async function G4(n){if(n.type!=="gif"){await Rm(n);return}n.loading=!0;try{n.gifData=await H4(n.source),n.gifLoopCount=q4(n.gifData)??vv,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const Y4=2,Q4=1,K4=12,X4=1;class W4{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Kl} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:a}=e,u=r.image,f=u==null?void 0:u.element;if(u){if(t.globalAlpha=a,u.gif&&u.gifData)$4(e);else if(f){const d=u.ratio,p={x:-i,y:-i},y=i*Y4;t.drawImage(f,p.x,p.y,y,y/d)}t.globalAlpha=Q4}}getSidesCount(){return K4}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const a=t.getFillColor(),u=i.find(d=>d.name===r.name||d.source===r.src);if(!u)return;const f=r.replaceColor??u.replaceColor;if(u.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let d;u.svgData&&a?d=await V4(u,r,a,t):d={color:a,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:u.ratio??X4,replaceColor:f,source:r.src},d.ratio||(d.ratio=1);const p=r.fill??t.shapeFill,y=r.close??t.shapeClose,_={image:d,fill:p,close:y};t.image=_.image,t.shapeFill=_.fill,t.shapeClose=_.close})()}}class Z4{constructor(){this.src="",this.gif=!1}load(e){fe(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class J4{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!(t!=null&&t.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const a=i.find(u=>u.name===r.name||u.src===r.src);if(a)a.load(r);else{const u=new Z4;u.load(r),i.push(u)}}}needsPlugin(){return!0}}const eV=3;function tV(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Kl} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-eV),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=G4:i=e.replaceColor?N4:Rm,await i(t)}catch{throw new Error(`${Kl} ${e.name??e.src} not found`)}})}async function nV(n,e=!0){n.checkVersion("3.8.1"),tV(n);const t=new J4(n);await n.addPlugin(t,e),await n.addShape(new W4(n),e)}class iV extends Oi{constructor(){super(),this.sync=!1}load(e){fe(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class sV extends Oi{constructor(){super(),this.sync=!1}load(e){fe(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class rV{constructor(){this.count=0,this.delay=new iV,this.duration=new sV}load(e){fe(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Tl=0,oV=-1,Q1=0,K1=0;function aV(n,e,t){if(!n.life)return;const i=n.life;let r=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)r=!0,n.spawning=!1,i.delayTime=Tl,i.time=Tl;else return;if(i.duration===oV||n.spawning||(r?i.time=Tl:i.time+=e.value,i.time<i.duration))return;if(i.time=Tl,n.life.count>Q1&&n.life.count--,n.life.count===Q1){n.destroy();return}const a=Te(K1,t.width),u=Te(K1,t.width);n.position.x=pn(a),n.position.y=pn(u),n.spawning=!0,i.delayTime=Tl,i.time=Tl,n.reset();const f=n.options.life;f&&(i.delay=me(f.delay.value)*mn,i.duration=me(f.duration.value)*mn)}const ia=0,X1=1,W1=-1;class lV{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?me(r.delay.value)*(r.delay.sync?X1:Ne())/t.retina.reduceFactor*mn:ia,delayTime:ia,duration:t.retina.reduceFactor?me(r.duration.value)*(r.duration.sync?X1:Ne())/t.retina.reduceFactor*mn:ia,time:ia,count:r.count},e.life.duration<=ia&&(e.life.duration=W1),e.life.count<=ia&&(e.life.count=W1),e.life&&(e.spawning=e.life.delay>ia))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new rV);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){!this.isEnabled(e)||!e.life||aV(e,t,this.container.canvas.size)}}async function uV(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new lV(t)),e)}function cV(n){const{context:e,particle:t,radius:i}=n,r=t.shapeData,a=0;e.moveTo(-i,a),e.lineTo(i,a),e.lineCap=(r==null?void 0:r.cap)??"butt"}const fV=1;class hV{constructor(){this.validTypes=["line"]}draw(e){cV(e)}getSidesCount(){return fV}}async function dV(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new hV,e)}const Z1=.5;class mV{init(){}isEnabled(e){return!y1()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(y1()||!r.enable)return;const a=r.force,u=t.interactivity.mouse.position;if(!u)return;const f=t.canvas.size,d={x:f.width*Z1,y:f.height*Z1},p=r.smooth,y=e.getRadius()/a,_={x:(u.x-d.x)*y,y:(u.y-d.y)*y},{offset:b}=e;b.x+=(_.x-b.x)/p,b.y+=(_.y-b.y)/p}}async function pV(n,e=!0){n.checkVersion("3.8.1"),await n.addMover("parallax",()=>Promise.resolve(new mV),e)}const J1=1e3,gV=1;class yV extends T_{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=me(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),a=t.particles.quadTree.queryCircle(r,i);for(const u of a){if(e===u||!u.options.move.attract.enable||u.destroyed||u.spawning)continue;const f=u.getPosition(),{dx:d,dy:p}=vn(r,f),y=e.options.move.attract.rotate,_=d/(y.x*J1),b=p/(y.y*J1),S=u.size.value/e.size.value,R=gV/S;e.velocity.x-=_*S,e.velocity.y-=b*S,u.velocity.x+=_*R,u.velocity.y+=b*R}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function vV(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new yV(t)),e)}const _V=.5,bV=10,wV=0;function eT(n,e,t,i,r,a){const u=Ri(n.options.collisions.absorb.speed*r.factor/bV,wV,i);n.size.value+=u*_V,t.size.value-=u,i<=a&&(t.size.value=0,t.destroy())}function EV(n,e,t,i){const r=n.getRadius(),a=e.getRadius();r===void 0&&a!==void 0?n.destroy():r!==void 0&&a===void 0?e.destroy():r!==void 0&&a!==void 0&&(r>=a?eT(n,r,e,a,t,i):eT(e,a,n,r,t,i))}const tT=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=me(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function _x(n,e){ZA(dv(n),dv(e)),tT(n),tT(e)}function TV(n,e){!n.unbreakable&&!e.unbreakable&&_x(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function SV(n,e,t,i){switch(n.options.collisions.mode){case Fl.absorb:{EV(n,e,t,i);break}case Fl.bounce:{_x(n,e);break}case Fl.destroy:{TV(n,e);break}}}const AV=2;class xV extends T_{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),a=e.getRadius(),u=i.particles.quadTree.queryCircle(r,a*AV);for(const f of u){if(e===f||!f.options.collisions.enable||e.options.collisions.mode!==f.options.collisions.mode||f.destroyed||f.spawning)continue;const d=f.getPosition(),p=f.getRadius();if(Math.abs(Math.round(r.z)-Math.round(d.z))>a+p)continue;const y=Kn(r,d),_=a+p;y>_||SV(e,f,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function RV(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new xV(t)),e)}const Ny=2;class CV extends In{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:a}=e;return super.contains(e)||super.contains({x:r-t,y:a})||super.contains({x:r-t,y:a-i})||super.contains({x:r,y:a-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const a=new In(r.x,r.y,i.radius*Ny);return super.intersects(a)}else if(t.size!==void 0){const a=new lo(r.x,r.y,t.size.width*Ny,t.size.height*Ny);return super.intersects(a)}return!1}}class IV{constructor(){this.blur=5,this.color=new Xt,this.color.value="#000",this.enable=!1}load(e){fe(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Xt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class OV{constructor(){this.enable=!1,this.frequency=1}load(e){fe(e)||(e.color!==void 0&&(this.color=Xt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class kV{constructor(){this.blink=!1,this.color=new Xt,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new IV,this.triangles=new OV,this.width=1,this.warp=!1}load(e){fe(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Xt.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const nT=2,DV=1,fd={x:0,y:0},MV=0;function PV(n,e,t,i,r){const{dx:a,dy:u,distance:f}=vn(n,e);if(!r||f<=t)return f;const d={x:Math.abs(a),y:Math.abs(u)},p={x:Math.min(d.x,i.width-d.x),y:Math.min(d.y,i.height-d.y)};return Math.sqrt(p.x**nT+p.y**nT)}class NV extends T_{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,a=i.options.links;let u=a.id===void 0?r.particles.linksColor:r.particles.linksColors.get(a.id);if(u)return;const f=a.color;u=ix(this._engine,f,a.blink,a.consent),a.id===void 0?r.particles.linksColor=u:r.particles.linksColors.set(a.id,u)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<fd.x||t.y<fd.y||t.x>r.width||t.y>r.height)return;const a=e.options.links,u=a.opacity,f=e.retina.linksDistance??MV,d=a.warp;let p;d?p=new CV(t.x,t.y,f,r):p=new In(t.x,t.y,f);const y=i.particles.quadTree.query(p);for(const _ of y){const b=_.options.links;if(e===_||!(b!=null&&b.enable)||a.id!==b.id||_.spawning||_.destroyed||!_.links||e.links.some(I=>I.destination===_)||_.links.some(I=>I.destination===e))continue;const S=_.getPosition();if(S.x<fd.x||S.y<fd.y||S.x>r.width||S.y>r.height)continue;const R=PV(t,S,f,r,d&&b.warp);if(R>f)continue;const P=(DV-R/f)*u;this._setColor(e),e.links.push({destination:_,opacity:P})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new kV);for(const i of t)e.links.load(i==null?void 0:i.links)}reset(){}}async function VV(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new NV(t,n)),e)}function zV(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function LV(n){let e=!1;const{begin:t,end:i,engine:r,maxDistance:a,context:u,canvasSize:f,width:d,backgroundMask:p,colorLine:y,opacity:_,links:b}=n;if(Kn(t,i)<=a)jc(u,t,i),e=!0;else if(b.warp){let R,P;const I={x:i.x-f.width,y:i.y},B=vn(t,I);if(B.distance<=a){const H=t.y-B.dy/B.dx*t.x;R={x:0,y:H},P={x:f.width,y:H}}else{const H={x:i.x,y:i.y-f.height},G=vn(t,H);if(G.distance<=a){const re=-(t.y-G.dy/G.dx*t.x)/(G.dy/G.dx);R={x:re,y:0},P={x:re,y:f.height}}else{const X={x:i.x-f.width,y:i.y-f.height},re=vn(t,X);if(re.distance<=a){const se=t.y-re.dy/re.dx*t.x;R={x:-se/(re.dy/re.dx),y:se},P={x:R.x+f.width,y:R.y+f.height}}}}R&&P&&(jc(u,t,R),jc(u,i,P),e=!0)}if(!e)return;u.lineWidth=d,p.enable&&(u.globalCompositeOperation=p.composite),u.strokeStyle=Wl(y,_);const{shadow:S}=b;if(S.enable){const R=Wr(r,S.color);R&&(u.shadowBlur=S.blur,u.shadowColor=Wl(R))}u.stroke()}function UV(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:a,colorTriangle:u,opacityTriangle:f}=n;zV(e,t,i,r),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=Wl(u,f),e.fill()}function BV(n){return n.sort((e,t)=>e-t),n.join("_")}function iT(n,e){const t=BV(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Ne(),e.set(t,i)),i}const sT=0,Vy=0,rT=0,FV=.5,jV=1;class qV{constructor(e,t){this._drawLinkLine=(i,r)=>{const a=i.options.links;if(!(a!=null&&a.enable))return;const u=this._container,f=u.actualOptions,d=r.destination,p=i.getPosition(),y=d.getPosition();let _=r.opacity;u.canvas.draw(b=>{var H;let S;const R=(H=i.options.twinkle)==null?void 0:H.lines;if(R!=null&&R.enable){const G=R.frequency,X=Wr(this._engine,R.color);Ne()<G&&X&&(S=X,_=me(R.opacity))}if(!S){const G=a.id!==void 0?u.particles.linksColors.get(a.id):u.particles.linksColor;S=mv(i,d,G)}if(!S)return;const P=i.retina.linksWidth??Vy,I=i.retina.linksDistance??rT,{backgroundMask:B}=f;LV({context:b,width:P,begin:p,end:y,engine:this._engine,maxDistance:I,canvasSize:u.canvas.size,links:a,backgroundMask:B,colorLine:S,opacity:_})})},this._drawLinkTriangle=(i,r,a)=>{const u=i.options.links;if(!(u!=null&&u.enable))return;const f=u.triangles;if(!f.enable)return;const d=this._container,p=d.actualOptions,y=r.destination,_=a.destination,b=f.opacity??(r.opacity+a.opacity)*FV;b<=sT||d.canvas.draw(S=>{const R=i.getPosition(),P=y.getPosition(),I=_.getPosition(),B=i.retina.linksDistance??rT;if(Kn(R,P)>B||Kn(I,P)>B||Kn(I,R)>B)return;let H=Wr(this._engine,f.color);if(!H){const G=u.id!==void 0?d.particles.linksColors.get(u.id):d.particles.linksColor;H=mv(i,y,G)}H&&UV({context:S,pos1:R,pos2:P,pos3:I,backgroundMask:p.backgroundMask,colorTriangle:H,opacityTriangle:b})})},this._drawTriangles=(i,r,a,u)=>{var p,y,_;const f=a.destination;if(!((p=i.links)!=null&&p.triangles.enable&&((y=f.options.links)!=null&&y.triangles.enable)))return;const d=(_=f.links)==null?void 0:_.filter(b=>{const S=this._getLinkFrequency(f,b.destination);return f.options.links&&S<=f.options.links.frequency&&u.findIndex(P=>P.destination===b.destination)>=0});if(d!=null&&d.length)for(const b of d){const S=b.destination;this._getTriangleFrequency(r,f,S)>i.links.triangles.frequency||this._drawLinkTriangle(r,a,b)}},this._getLinkFrequency=(i,r)=>iT([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,a)=>iT([i,r,a],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!(i!=null&&i.length))return;const a=i.filter(u=>r.links&&(r.links.frequency>=jV||this._getLinkFrequency(t,u.destination)<=r.links.frequency));for(const u of a)this._drawTriangles(r,t,u,a),u.opacity>sT&&(t.retina.linksWidth??Vy)>Vy&&this._drawLinkLine(t,u)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:a}=e.options.links;i.linksDistance=r*t,i.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class HV{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new qV(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function $V(n,e=!0){const t=new HV(n);await n.addPlugin(t,e)}async function GV(n,e=!0){n.checkVersion("3.8.1"),await VV(n,e),await $V(n,e)}const YV=180,hd={x:0,y:0},QV=2;function KV(n,e,t){const{context:i}=n,r=t.count.numerator*t.count.denominator,a=t.count.numerator/t.count.denominator,u=YV*(a-QV)/a,f=Math.PI-Ul(u);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(hd.x,hd.y);for(let d=0;d<r;d++)i.lineTo(t.length,hd.y),i.translate(t.length,hd.y),i.rotate(f)}}const XV=5;class bx{draw(e){const{particle:t,radius:i}=e,r=this.getCenter(t,i),a=this.getSidesData(t,i);KV(e,r,a)}getSidesCount(e){const t=e.shapeData;return Math.round(me((t==null?void 0:t.sides)??XV))}}const oT=3.5,aT=2.66,WV=3;class ZV extends bx{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/oT),y:-t/(aT/oT)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*aT/(i/WV)}}}const JV=1.66,e3=3,t3=2;class n3 extends bx{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/JV}}getSidesCount(){return e3}getSidesData(e,t){const i=t*t3;return{count:{denominator:2,numerator:3},length:i}}}async function i3(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new ZV,e)}async function s3(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new n3,e)}async function r3(n,e=!0){n.checkVersion("3.8.1"),await i3(n,e),await s3(n,e)}class o3{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){fe(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Te(e.speed)),e.decay!==void 0&&(this.decay=Te(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class a3 extends Oi{constructor(){super(),this.animation=new o3,this.direction=Cn.clockwise,this.path=!1,this.value=0}load(e){fe(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const wx=2,l3=Math.PI*wx,u3=1,c3=360;class f3{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Ul(me(t.value)),min:0,max:l3},e.pathRotation=t.path;let i=t.direction;switch(i===Cn.random&&(i=Math.floor(Ne()*wx)>0?Cn.counterClockwise:Cn.clockwise),i){case Cn.counterClockwise:case"counterClockwise":e.rotate.status=St.decreasing;break;case Cn.clockwise:e.rotate.status=St.increasing;break}const r=t.animation;r.enable&&(e.rotate.decay=u3-me(r.decay),e.rotate.velocity=me(r.speed)/c3*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ne())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new a3);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(xm(e,e.rotate,!1,Kr.none,t),e.rotation=e.rotate.value))}}async function h3(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new f3(t)),e)}const d3=2,m3=Math.sqrt(d3),p3=2;function g3(n){const{context:e,radius:t}=n,i=t/m3,r=i*p3;e.rect(-i,-i,r,r)}const y3=4;class v3{constructor(){this.validTypes=["edge","square"]}draw(e){g3(e)}getSidesCount(){return y3}}async function _3(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new v3,e)}const b3=2,Sl={x:0,y:0};function w3(n){const{context:e,particle:t,radius:i}=n,r=t.sides,a=t.starInset??b3;e.moveTo(Sl.x,Sl.y-i);for(let u=0;u<r;u++)e.rotate(Math.PI/r),e.lineTo(Sl.x,Sl.y-i*a),e.rotate(Math.PI/r),e.lineTo(Sl.x,Sl.y-i)}const E3=2,T3=5;class S3{constructor(){this.validTypes=["star"]}draw(e){w3(e)}getSidesCount(e){const t=e.shapeData;return Math.round(me((t==null?void 0:t.sides)??T3))}particleInit(e,t){const i=t.shapeData;t.starInset=me((i==null?void 0:i.inset)??E3)}}async function A3(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new S3,e)}const x3=1;class R3{constructor(e,t){this._container=e,this._engine=t}init(e){var u;const t=this._container,i=e.options,r=Hs(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=me(r.width)*t.retina.pixelRatio,e.strokeOpacity=me(r.opacity??x3),e.strokeAnimation=(u=r.color)==null?void 0:u.animation;const a=lu(this._engine,r.color)??e.getFillColor();a&&(e.strokeColor=sx(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&rx(e.strokeColor,t)}}async function C3(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new R3(t,n)),e)}async function I3(n,e=!0){n.checkVersion("3.8.1"),await pV(n,!1),await _N(n,!1),await CN(n,!1),await VN(n,!1),await GN(n,!1),await n4(n,!1),await r4(n,!1),await c4(n,!1),await m4(n,!1),await A4(n,!1),await O4(n,!1),await vV(n,!1),await RV(n,!1),await GV(n,!1),await uN(n,!1),await hN(n,!1),await nV(n,!1),await dV(n,!1),await r3(n,!1),await _3(n,!1),await A3(n,!1),await uV(n,!1),await h3(n,!1),await C3(n,!1),await lN(n,e)}const Ex=2,lT=.5;function O3(n){const{context:e,particle:t,radius:i,opacity:r}=n,a=t.shapeData;if(!a)return;const u=a.value;if(u===void 0)return;t.text===void 0&&(t.text=Hs(u,t.randomIndexData));const f=t.text,d=a.style??"",p=a.weight??"400",y=Math.round(i)*Ex,_=a.font??"Verdana",b=t.shapeFill,S=f==null?void 0:f.split(`
`);if(S){e.font=`${d} ${p} ${y}px "${_}"`,e.globalAlpha=r;for(let R=0;R<S.length;R++)k3(e,S[R],i,r,R,b);e.globalAlpha=1}}function k3(n,e,t,i,r,a){const u=e.length*t*lT,f={x:-u,y:t*lT},d=t*Ex;a?n.fillText(e,f.x,f.y+d*r):n.strokeText(e,f.x,f.y+d*r)}class D3{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){O3(e)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(i.find(r=>ht(r,t.particles.shape.type))){const r=i.map(u=>t.particles.shape.options[u]).find(u=>!!u),a=[];bn(r,u=>{a.push(hv(u.font,u.weight))}),await Promise.all(a)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Hs(r,t.randomIndexData))}}async function M3(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new D3,e)}var Mr;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Mr||(Mr={}));class P3{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){fe(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Te(e.speed)),e.decay!==void 0&&(this.decay=Te(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class N3 extends Oi{constructor(){super(),this.animation=new P3,this.direction=Mr.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!fe(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const kc=1,Tx=2,V3=Math.PI*Tx,z3=360;class L3{constructor(e){this.container=e}getTransformValues(e){var i;const t=((i=e.tilt)==null?void 0:i.enable)&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){var a;const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:Ul(me(t.value)),sinDirection:Ne()>=Vn?kc:-kc,cosDirection:Ne()>=Vn?kc:-kc,min:0,max:V3};let i=t.direction;switch(i===Mr.random&&(i=Math.floor(Ne()*Tx)>0?Mr.counterClockwise:Mr.clockwise),i){case Mr.counterClockwise:case"counterClockwise":e.tilt.status=St.decreasing;break;case Mr.clockwise:e.tilt.status=St.increasing;break}const r=(a=e.options.tilt)==null?void 0:a.animation;r!=null&&r.enable&&(e.tilt.decay=kc-me(r.decay),e.tilt.velocity=me(r.speed)/z3*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=Ne()))}isEnabled(e){var i;const t=(i=e.options.tilt)==null?void 0:i.animation;return!e.destroyed&&!e.spawning&&!!(t!=null&&t.enable)}loadOptions(e,...t){e.tilt||(e.tilt=new N3);for(const i of t)e.tilt.load(i==null?void 0:i.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(xm(e,e.tilt,!1,Kr.none,t),await Promise.resolve())}}async function U3(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("tilt",t=>Promise.resolve(new L3(t)),e)}class uT{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){fe(e)||(e.color!==void 0&&(this.color=Xt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=Te(e.opacity)))}}class B3{constructor(){this.lines=new uT,this.particles=new uT}load(e){fe(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class F3{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const a=e.options,u=a.twinkle;if(!u)return{};const f=u.particles,d=f.enable&&Ne()<f.frequency,p=e.options.zIndex,y=1,_=(y-e.zIndexFactor)**p.opacityRate,b=d?me(f.opacity)*_:r,S=lu(this._engine,f.color),R=S?$d(S,b):void 0,P={},I=d&&R;return P.fill=I?R:void 0,P.stroke=I?R:void 0,P}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new B3);for(const i of t)e.twinkle.load(i==null?void 0:i.twinkle)}async update(){await Promise.resolve()}}async function j3(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("twinkle",()=>Promise.resolve(new F3(n)),e)}class q3{constructor(){this.angle=50,this.move=10}load(e){fe(e)||(e.angle!==void 0&&(this.angle=Te(e.angle)),e.move!==void 0&&(this.move=Te(e.move)))}}class H3{constructor(){this.distance=5,this.enable=!1,this.speed=new q3}load(e){if(!fe(e)&&(e.distance!==void 0&&(this.distance=Te(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(pi(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const $3=0,G3=2,Y3=Math.PI*G3,Q3=60;function K3(n,e){const{wobble:t}=n.options,{wobble:i}=n;if(!(t!=null&&t.enable)||!i)return;const r=i.angleSpeed*e.factor,a=i.moveSpeed*e.factor,u=a*((n.retina.wobbleDistance??$3)*e.factor)/(mn/Q3),f=Y3,{position:d}=n;i.angle+=r,i.angle>f&&(i.angle-=f),d.x+=u*Math.cos(i.angle),d.y+=u*Math.abs(Math.sin(i.angle))}const X3=2,W3=Math.PI*X3,Z3=360,J3=10,e6=0;class t6{constructor(e){this.container=e}init(e){const t=e.options.wobble;t!=null&&t.enable?e.wobble={angle:Ne()*W3,angleSpeed:me(t.speed.angle)/Z3,moveSpeed:me(t.speed.move)/J3}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=me((t==null?void 0:t.distance)??e6)*this.container.retina.pixelRatio}isEnabled(e){var t;return!e.destroyed&&!e.spawning&&!!((t=e.options.wobble)!=null&&t.enable)}loadOptions(e,...t){e.wobble||(e.wobble=new H3);for(const i of t)e.wobble.load(i==null?void 0:i.wobble)}update(e,t){this.isEnabled(e)&&K3(e,t)}}async function n6(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("wobble",t=>Promise.resolve(new t6(t)),e)}async function i6(n,e=!0){n.checkVersion("3.8.1"),await LM(n,!1),await mP(n,!1),await U3(n,!1),await j3(n,!1),await n6(n,!1),await M3(n,!1),await aP(n,!1),await SM(n,!1),await XM(n,!1),await eP(n,!1),await sP(n,!1),await I3(n,e)}function s6(){const n=le.useCallback(async e=>{await i6(e)},[]);return Q.jsx(Sm,{id:"tsparticles",init:n,options:{fullScreen:{enable:!0,zIndex:0},background:{color:"#000000"},detectRetina:!0,interactivity:{events:{onHover:{enable:!1},resize:!0}},particles:{number:{value:150,density:{enable:!0,area:800}},color:{value:["#ffffff","#a3c9ff","#0f52ba"]},opacity:{value:1,random:{enable:!0,minimumValue:.3},animation:{enable:!0,speed:1,minimumValue:.3,sync:!1}},size:{value:{min:.5,max:2}},move:{enable:!0,speed:.3,direction:"none",outModes:{default:"out"}},twinkle:{particles:{enable:!0,frequency:.3,color:"#ffffff"}}},emitters:{direction:"top-right",life:{count:0,duration:1.5,delay:{min:3,max:7}},rate:{delay:0,quantity:1},size:{width:0,height:0},position:{x:0,y:100},particles:{color:{value:"#ffffff"},shape:{type:"circle"},size:{value:{min:1,max:3},animation:{enable:!1}},life:{duration:{sync:!0,value:2},count:1},move:{enable:!0,gravity:{enable:!1},speed:{min:10,max:20},direction:"top-right",outModes:{default:"destroy"},trail:{enable:!0,length:15,fillColor:"#000000"}}}}}})}function r6(){const[n,e]=le.useState(null),[t,i]=le.useState("Unknown location"),[r,a]=le.useState(null),[u,f]=le.useState("km/h"),[d,p]=le.useState("°F"),y=B=>d==="°F"?(B*9/5+32).toFixed(1):B.toFixed(1),_=B=>{switch(u){case"mph":return(B*.621371).toFixed(1);case"knots":return(B*.539957).toFixed(1);default:return B.toFixed(1)}};if(le.useEffect(()=>{let B,H;async function G(se,k){try{const C=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${se}&longitude=${k}&current_weather=true&hourly=precipitation_probability`)).json();C.current_weather?e(C):a("Weather data unavailable")}catch{a("Failed to fetch weather data")}}async function X(se,k){try{const C=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${se}&lon=${k}`,{headers:{"User-Agent":"MyVoiceAssistantApp/1.0 (your-email@example.com)"}})).json();i(C.address.city||C.address.town||C.address.village||C.address.county||"Unknown location")}catch{i("Unknown location")}}function re(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(se=>{const{latitude:k,longitude:x}=se.coords;G(k,x),H&&clearTimeout(H),H=setTimeout(()=>{X(k,x)},1e3)},()=>a("Location permission denied")):a("Geolocation not supported")}return re(),B=setInterval(re,18e4),()=>{clearInterval(B),clearTimeout(H)}},[]),r)return Q.jsx("div",{style:zy,children:r});if(!n)return Q.jsx("div",{style:zy,children:"Loading weather..."});const b=n.current_weather,S=n.hourly||{};function R(B,H){const G=new Date(B),X=new Date(G.toISOString().slice(0,13)+":00:00");return H==null?void 0:H.findIndex(re=>re===X.toISOString().slice(0,13)+":00")}const P=R(b.time,S.time||[]),I=P!==-1&&S.precipitation_probability?S.precipitation_probability[P]:"N/A";return Q.jsxs("div",{style:zy,children:[Q.jsx("h3",{style:{margin:"0 0 10px 0"},children:t}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Temp:"})," ",y(b.temperature),Q.jsxs("select",{value:d,onChange:B=>p(B.target.value),style:cT,"aria-label":"Select temperature unit",children:[Q.jsx("option",{value:"°F",children:"°F"}),Q.jsx("option",{value:"°C",children:"°C"})]})]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Wind:"})," ",_(b.windspeed),Q.jsxs("select",{value:u,onChange:B=>f(B.target.value),style:cT,"aria-label":"Select wind speed unit",children:[Q.jsx("option",{value:"km/h",children:"km/h"}),Q.jsx("option",{value:"mph",children:"mph"}),Q.jsx("option",{value:"knots",children:"knots"})]})]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Chance of Rain:"})," ",I,"%"]})]})}const zy={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},cT={backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",border:"1px solid #444",borderRadius:4,padding:"2px 24px 2px 6px",fontSize:"inherit",fontWeight:"bold",marginLeft:4,appearance:"auto",cursor:"pointer"},o6=()=>{};var fT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},a6=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],f=n[t++],d=((r&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,f=u?n[r+1]:0,d=r+2<n.length,p=d?n[r+2]:0,y=a>>2,_=(a&3)<<4|f>>4;let b=(f&15)<<2|p>>6,S=p&63;d||(S=64,u||(b=64)),i.push(t[y],t[_],t[b],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):a6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],f=r<n.length?t[n.charAt(r)]:0;++r;const p=r<n.length?t[n.charAt(r)]:64;++r;const _=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||f==null||p==null||_==null)throw new l6;const b=a<<2|f>>4;if(i.push(b),p!==64){const S=f<<4&240|p>>2;if(i.push(S),_!==64){const R=p<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class l6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u6=function(n){const e=Sx(n);return Ax.encodeByteArray(e,!0)},Zd=function(n){return u6(n).replace(/\./g,"")},xx=function(n){try{return Ax.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=()=>c6().__FIREBASE_DEFAULTS__,h6=()=>{if(typeof process>"u"||typeof fT>"u")return;const n=fT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},d6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xx(n[1]);return e&&JSON.parse(e)},Cm=()=>{try{return o6()||f6()||h6()||d6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rx=n=>{var e,t;return(t=(e=Cm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},m6=n=>{const e=Rx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Cx=()=>{var n;return(n=Cm())===null||n===void 0?void 0:n.config},Ix=n=>{var e;return(e=Cm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){return n.endsWith(".cloudworkstations.dev")}async function Ox(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zd(JSON.stringify(t)),Zd(JSON.stringify(u)),""].join(".")}const qc={};function y6(){const n={prod:[],emulator:[]};for(const e of Object.keys(qc))qc[e]?n.emulator.push(e):n.prod.push(e);return n}function v6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let hT=!1;function kx(n,e){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||qc[n]===e||qc[n]||hT)return;qc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=y6().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{hT=!0,u()},b}function y(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=v6(i),S=t("text"),R=document.getElementById(S)||document.createElement("span"),P=t("learnmore"),I=document.getElementById(P)||document.createElement("a"),B=t("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const G=b.element;f(G),y(I,P);const X=p();d(H,B),G.append(H,R,I,X),document.body.appendChild(G)}a?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function b6(){var n;const e=(n=Cm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function T6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S6(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function A6(){return!b6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x6(){try{return typeof indexedDB=="object"}catch{return!1}}function R6(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="FirebaseError";class Js extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=C6,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?I6(a,i):"Error",f=`${this.serviceName}: ${u} (${r}).`;return new Js(r,f,i)}}function I6(n,e){return n.replace(O6,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const O6=/\{\$([^}]+)}/g;function k6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function va(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(dT(a)&&dT(u)){if(!va(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function dT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Pc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function D6(n,e){const t=new M6(n,e);return t.subscribe.bind(t)}class M6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");P6(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ly),r.error===void 0&&(r.error=Ly),r.complete===void 0&&(r.complete=Ly);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n){return n&&n._delegate?n._delegate:n}class _a{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new p6;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z6(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const u=this.instances.get(r);return u&&e(u,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:V6(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V6(n){return n===sa?void 0:n}function z6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new N6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const U6={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},B6=Fe.INFO,F6={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},j6=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=F6[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=B6,this._logHandler=j6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const q6=(n,e)=>e.some(t=>n instanceof t);let mT,pT;function H6(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $6(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dx=new WeakMap,_v=new WeakMap,Mx=new WeakMap,Uy=new WeakMap,A_=new WeakMap;function G6(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(qr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Dx.set(t,n)}).catch(()=>{}),A_.set(e,n),e}function Y6(n){if(_v.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});_v.set(n,e)}let bv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _v.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Q6(n){bv=n(bv)}function K6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(By(this),e,...t);return Mx.set(i,e.sort?e.sort():[e]),qr(i)}:$6().includes(n)?function(...e){return n.apply(By(this),e),qr(Dx.get(this))}:function(...e){return qr(n.apply(By(this),e))}}function X6(n){return typeof n=="function"?K6(n):(n instanceof IDBTransaction&&Y6(n),q6(n,H6())?new Proxy(n,bv):n)}function qr(n){if(n instanceof IDBRequest)return G6(n);if(Uy.has(n))return Uy.get(n);const e=X6(n);return e!==n&&(Uy.set(n,e),A_.set(e,n)),e}const By=n=>A_.get(n);function W6(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),f=qr(u);return i&&u.addEventListener("upgradeneeded",d=>{i(qr(u.result),d.oldVersion,d.newVersion,qr(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Z6=["get","getKey","getAll","getAllKeys","count"],J6=["put","add","delete","clear"],Fy=new Map;function gT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=J6.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Z6.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,r?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),r&&d.done]))[0]};return Fy.set(e,a),a}Q6(n=>({...n,get:(e,t,i)=>gT(e,t)||n.get(e,t,i),has:(e,t)=>!!gT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tz(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function tz(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wv="@firebase/app",yT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new S_("@firebase/app"),nz="@firebase/app-compat",iz="@firebase/analytics-compat",sz="@firebase/analytics",rz="@firebase/app-check-compat",oz="@firebase/app-check",az="@firebase/auth",lz="@firebase/auth-compat",uz="@firebase/database",cz="@firebase/data-connect",fz="@firebase/database-compat",hz="@firebase/functions",dz="@firebase/functions-compat",mz="@firebase/installations",pz="@firebase/installations-compat",gz="@firebase/messaging",yz="@firebase/messaging-compat",vz="@firebase/performance",_z="@firebase/performance-compat",bz="@firebase/remote-config",wz="@firebase/remote-config-compat",Ez="@firebase/storage",Tz="@firebase/storage-compat",Sz="@firebase/firestore",Az="@firebase/ai",xz="@firebase/firestore-compat",Rz="firebase",Cz="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="[DEFAULT]",Iz={[wv]:"fire-core",[nz]:"fire-core-compat",[sz]:"fire-analytics",[iz]:"fire-analytics-compat",[oz]:"fire-app-check",[rz]:"fire-app-check-compat",[az]:"fire-auth",[lz]:"fire-auth-compat",[uz]:"fire-rtdb",[cz]:"fire-data-connect",[fz]:"fire-rtdb-compat",[hz]:"fire-fn",[dz]:"fire-fn-compat",[mz]:"fire-iid",[pz]:"fire-iid-compat",[gz]:"fire-fcm",[yz]:"fire-fcm-compat",[vz]:"fire-perf",[_z]:"fire-perf-compat",[bz]:"fire-rc",[wz]:"fire-rc-compat",[Ez]:"fire-gcs",[Tz]:"fire-gcs-compat",[Sz]:"fire-fst",[xz]:"fire-fst-compat",[Az]:"fire-vertex","fire-js":"fire-js",[Rz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,Oz=new Map,Tv=new Map;function vT(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jl(n){const e=n.name;if(Tv.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,n);for(const t of Jd.values())vT(t,n);for(const t of Oz.values())vT(t,n);return!0}function x_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new _f("app","Firebase",kz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=Cz;function Px(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ev,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Hr.create("bad-app-name",{appName:String(r)});if(t||(t=Cx()),!t)throw Hr.create("no-options");const a=Jd.get(r);if(a){if(va(t,a.options)&&va(i,a.config))return a;throw Hr.create("duplicate-app",{appName:r})}const u=new L6(r);for(const d of Tv.values())u.addComponent(d);const f=new Dz(t,i,u);return Jd.set(r,f),f}function Nx(n=Ev){const e=Jd.get(n);if(!e&&n===Ev&&Cx())return Px();if(!e)throw Hr.create("no-app",{appName:n});return e}function $r(n,e,t){var i;let r=(i=Iz[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${r}" with version "${e}":`];a&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(f.join(" "));return}Jl(new _a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="firebase-heartbeat-database",Pz=1,ef="firebase-heartbeat-store";let jy=null;function Vx(){return jy||(jy=W6(Mz,Pz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ef)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),jy}async function Nz(n){try{const t=(await Vx()).transaction(ef),i=await t.objectStore(ef).get(zx(n));return await t.done,i}catch(e){if(e instanceof Js)$s.warn(e.message);else{const t=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(t.message)}}}async function _T(n,e){try{const i=(await Vx()).transaction(ef,"readwrite");await i.objectStore(ef).put(e,zx(n)),await i.done}catch(t){if(t instanceof Js)$s.warn(t.message);else{const i=Hr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$s.warn(i.message)}}}function zx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=1024,zz=30;class Lz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bz(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>zz){const u=Fz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$s.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bT(),{heartbeatsToSend:i,unsentEntries:r}=Uz(this._heartbeatsCache.heartbeats),a=Zd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return $s.warn(t),""}}}function bT(){return new Date().toISOString().substring(0,10)}function Uz(n,e=Vz){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),wT(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),wT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Bz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x6()?R6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Nz(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return _T(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return _T(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wT(n){return Zd(JSON.stringify({version:2,heartbeats:n})).length}function Fz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(n){Jl(new _a("platform-logger",e=>new ez(e),"PRIVATE")),Jl(new _a("heartbeat",e=>new Lz(e),"PRIVATE")),$r(wv,yT,n),$r(wv,yT,"esm2017"),$r("fire-js","")}jz("");function R_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Lx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qz=Lx,Ux=new _f("auth","Firebase",Lx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new S_("@firebase/auth");function Hz(n,...e){em.logLevel<=Fe.WARN&&em.warn(`Auth (${cu}): ${n}`,...e)}function Rd(n,...e){em.logLevel<=Fe.ERROR&&em.error(`Auth (${cu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,...e){throw C_(n,...e)}function rs(n,...e){return C_(n,...e)}function Bx(n,e,t){const i=Object.assign(Object.assign({},qz()),{[e]:t});return new _f("auth","Firebase",i).create(e,{appName:n.name})}function Fs(n){return Bx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Ux.create(n,...e)}function Ae(n,e,...t){if(!n)throw C_(e,...t)}function Us(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rd(e),new Error(e)}function Gs(n,e){n||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $z(){return ET()==="http:"||ET()==="https:"}function ET(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($z()||E6()||"connection"in navigator)?navigator.onLine:!0}function Yz(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gs(t>e,"Short delay should be less than long delay!"),this.isMobile=_6()||T6()}get(){return Gz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,e){Gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xz=new wf(3e4,6e4);function uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function co(n,e,t,i,r={}){return jx(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=bf(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return w6()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&uu(n.emulatorConfig.host)&&(p.credentials="include"),Fx.fetch()(await qx(n,n.config.apiHost,t,f),p)})}async function jx(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Qz),e);try{const r=new Zz(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw dd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw dd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw dd(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bx(n,y,p);Ci(n,y)}}catch(r){if(r instanceof Js)throw r;Ci(n,"network-request-failed",{message:String(r)})}}async function Ef(n,e,t,i,r={}){const a=await co(n,e,t,i,r);return"mfaPendingCredential"in a&&Ci(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function qx(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?I_(n.config,r):`${n.config.apiScheme}://${r}`;return Kz.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Wz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(rs(this.auth,"network-request-failed")),Xz.get())})}}function dd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=rs(n,e,i);return r.customData._tokenResponse=t,r}function TT(n){return n!==void 0&&n.enterprise!==void 0}class Jz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eL(n,e){return co(n,"GET","/v2/recaptchaConfig",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(n,e){return co(n,"POST","/v1/accounts:delete",e)}async function tm(n,e){return co(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nL(n,e=!1){const t=Wt(n),i=await t.getIdToken(e),r=O_(i);Ae(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Hc(qy(r.auth_time)),issuedAtTime:Hc(qy(r.iat)),expirationTime:Hc(qy(r.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qy(n){return Number(n)*1e3}function O_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const r=xx(t);return r?JSON.parse(r):(Rd("Failed to decode base64 JWT payload"),null)}catch(r){return Rd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function ST(n){const e=O_(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Js&&iL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function iL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(n){var e;const t=n.auth,i=await n.getIdToken(),r=await tf(n,tm(t,{idToken:i}));Ae(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Hx(a.providerUserInfo):[],f=oL(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),y=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Av(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function rL(n){const e=Wt(n);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Hx(n){return n.map(e=>{var{providerId:t}=e,i=R_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(n,e){const t=await jx(n,{},async()=>{const i=bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await qx(n,r,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:i};return n.emulatorConfig&&uu(n.emulatorConfig.host)&&(d.credentials="include"),Fx.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lL(n,e){return co(n,"POST","/v2/accounts:revokeToken",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ST(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=ST(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await aL(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new Hl;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,a=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Av(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await tf(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nL(this,e)}reload(){return rL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await nm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await tf(this,tL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,a,u,f,d,p,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(r=t.email)!==null&&r!==void 0?r:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,H=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:X,isAnonymous:re,providerData:se,stsTokenManager:k}=t;Ae(G&&k,e,"internal-error");const x=Hl.fromJSON(this.name,k);Ae(typeof G=="string",e,"internal-error"),Or(_,e.name),Or(b,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof re=="boolean",e,"internal-error"),Or(S,e.name),Or(R,e.name),Or(P,e.name),Or(I,e.name),Or(B,e.name),Or(H,e.name);const C=new Ai({uid:G,auth:e,email:b,emailVerified:X,displayName:_,isAnonymous:re,photoURL:R,phoneNumber:S,tenantId:P,stsTokenManager:x,createdAt:B,lastLoginAt:H});return se&&Array.isArray(se)&&(C.providerData=se.map(N=>Object.assign({},N))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,t,i=!1){const r=new Hl;r.updateFromServerResponse(t);const a=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await nm(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ae(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?Hx(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),f=new Hl;f.updateFromIdToken(i);const d=new Ai({uid:r.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Av(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;function Bs(n){Gs(n instanceof Function,"Expected a class definition");let e=AT.get(n);return e?(Gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$x.type="NONE";const xT=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n,e,t){return`firebase:${n}:${e}:${t}`}class $l{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Cd(this.userKey,r.apiKey,a),this.fullPersistenceKey=Cd("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tm(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $l(Bs(xT),e,i);const r=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=r[0]||Bs(xT);const u=Cd(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const b=await tm(e,{idToken:y}).catch(()=>{});if(!b)break;_=await Ai._fromGetAccountInfoResponse(e,b,y)}else _=Ai._fromJSON(e,y);p!==a&&(f=_),a=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new $l(a,e,i):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new $l(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wx(e))return"Blackberry";if(Zx(e))return"Webos";if(Yx(e))return"Safari";if((e.includes("chrome/")||Qx(e))&&!e.includes("edge/"))return"Chrome";if(Xx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Gx(n=wn()){return/firefox\//i.test(n)}function Yx(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qx(n=wn()){return/crios\//i.test(n)}function Kx(n=wn()){return/iemobile/i.test(n)}function Xx(n=wn()){return/android/i.test(n)}function Wx(n=wn()){return/blackberry/i.test(n)}function Zx(n=wn()){return/webos/i.test(n)}function k_(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uL(n=wn()){var e;return k_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cL(){return S6()&&document.documentMode===10}function Jx(n=wn()){return k_(n)||Xx(n)||Zx(n)||Wx(n)||/windows phone/i.test(n)||Kx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e=[]){let t;switch(n){case"Browser":t=RT(wn());break;case"Worker":t=`${RT(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(n,e={}){return co(n,"GET","/v2/passwordPolicy",uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=6;class mL{constructor(e){var t,i,r,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:dL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,a,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new fL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bs(t)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tm(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(di(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Fs(this));const t=e?Wt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),t=new mL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await lL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bs(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[Bs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,r);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Hz(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xa(n){return Wt(n)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=D6(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gL(n){Im=n}function tR(n){return Im.loadJS(n)}function yL(){return Im.recaptchaEnterpriseScript}function vL(){return Im.gapiScript}function _L(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bL{constructor(){this.enterprise=new wL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EL="recaptcha-enterprise",nR="NO_RECAPTCHA";class TL{constructor(e){this.type=EL,this.auth=xa(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{eL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Jz(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{f(d)})})}function r(a,u,f){const d=window.grecaptcha;TT(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(nR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bL().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(f=>{if(!t&&TT(window.grecaptcha))r(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=yL();d.length!==0&&(d+=f),tR(d).then(()=>{r(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function IT(n,e,t,i=!1,r=!1){const a=new TL(n);let u;if(r)u=nR;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function xv(n,e,t,i,r){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await IT(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await IT(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n,e){const t=x_(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(va(a,e??{}))return r;Ci(r,"already-initialized")}return t.initialize({options:e})}function AL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Bs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function xL(n,e,t){const i=xa(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=iR(e),{host:u,port:f}=RL(e),d=f===null?"":`:${f}`,p={url:`${a}//${u}${d}/`},y=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(va(p,i.config.emulator)&&va(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,uu(u)?(Ox(`${a}//${u}${d}`),kx("Auth",!0)):CL()}function iR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RL(n){const e=iR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:OT(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:OT(u)}}}function OT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function CL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,t){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function IL(n,e){return co(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(n,e){return Ef(n,"POST","/v1/accounts:signInWithPassword",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(n,e){return Ef(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))}async function DL(n,e){return Ef(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends D_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new nf(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new nf(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xv(e,t,"signInWithPassword",OL);case"emailLink":return kL(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xv(e,i,"signUpPassword",IL);case"emailLink":return DL(e,{idToken:t,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,e){return Ef(n,"POST","/v1/accounts:signInWithIdp",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="http://localhost";class ba extends D_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,a=R_(t,["providerId","signInMethod"]);if(!i||!r)return null;const u=new ba(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Gl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Gl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gl(e,t)}buildRequest(){const e={requestUri:ML,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NL(n){const e=Mc(Pc(n)).link,t=e?Mc(Pc(e)).deep_link_id:null,i=Mc(Pc(n)).deep_link_id;return(i?Mc(Pc(i)).link:null)||i||t||e||n}class M_{constructor(e){var t,i,r,a,u,f;const d=Mc(Pc(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,y=(i=d.oobCode)!==null&&i!==void 0?i:null,_=PL((r=d.mode)!==null&&r!==void 0?r:null);Ae(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=NL(e);try{return new M_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(e,t){return nf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=M_.parseLink(t);return Ae(i,"argument-error"),nf._fromEmailAndCode(e,i.code,i.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends sR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Tf{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Nr.credential(t,i)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Tf{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Tf{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return zr.credential(t,i)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(n,e){return Ef(n,"POST","/v1/accounts:signUp",uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ai._fromIdTokenResponse(e,i,r),u=kT(i);return new wa({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=kT(i);return new wa({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function kT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends Js{constructor(e,t,i,r){var a;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new im(e,t,i,r)}}function rR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(n,a,e,i):a})}async function zL(n,e,t=!1){const i=await tf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(n,e,t=!1){const{auth:i}=n;if(di(i.app))return Promise.reject(Fs(i));const r="reauthenticate";try{const a=await tf(n,rR(i,r,e,n),t);Ae(a.idToken,i,"internal-error");const u=O_(a.idToken);Ae(u,i,"internal-error");const{sub:f}=u;return Ae(n.uid===f,i,"user-mismatch"),wa._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ci(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n,e,t=!1){if(di(n.app))return Promise.reject(Fs(n));const i="signIn",r=await rR(n,i,e),a=await wa._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function UL(n,e){return oR(xa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(n){const e=xa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BL(n,e,t){if(di(n.app))return Promise.reject(Fs(n));const i=xa(n),u=await xv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&aR(n),d}),f=await wa._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function FL(n,e,t){return di(n.app)?Promise.reject(Fs(n)):UL(Wt(n),fu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&aR(n),i})}function jL(n,e,t,i){return Wt(n).onIdTokenChanged(e,t,i)}function qL(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function HL(n,e,t,i){return Wt(n).onAuthStateChanged(e,t,i)}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=1e3,GL=10;class uR extends lR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);cL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,GL):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uR.type="LOCAL";const YL=uR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends lR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cR.type="SESSION";const fR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Om(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const f=Array.from(u).map(async p=>p(t.origin,a)),d=await QL(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const p=P_("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(b.data.response);break;default:clearTimeout(y),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function XL(n){os().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function WL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JL(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebaseLocalStorageDb",e5=1,rm="firebaseLocalStorage",mR="fbase_key";class Sf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function km(n,e){return n.transaction([rm],e?"readwrite":"readonly").objectStore(rm)}function t5(){const n=indexedDB.deleteDatabase(dR);return new Sf(n).toPromise()}function Rv(){const n=indexedDB.open(dR,e5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(rm,{keyPath:mR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(rm)?e(i):(i.close(),await t5(),e(await Rv()))})})}async function DT(n,e,t){const i=km(n,!0).put({[mR]:e,value:t});return new Sf(i).toPromise()}async function n5(n,e){const t=km(n,!1).get(e),i=await new Sf(t).toPromise();return i===void 0?null:i.value}function MT(n,e){const t=km(n,!0).delete(e);return new Sf(t).toPromise()}const i5=800,s5=3;class pR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>s5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(JL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WL(),!this.activeServiceWorker)return;this.sender=new KL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await DT(e,sm,"1"),await MT(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>DT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>n5(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>MT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=km(r,!1).getAll();return new Sf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pR.type="LOCAL";const r5=pR;new wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(n,e){return e?Bs(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends D_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function a5(n){return oR(n.auth,new N_(n),n.bypassAuthState)}function l5(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),LL(t,new N_(n),n.bypassAuthState)}async function u5(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),zL(t,new N_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a5;case"linkViaPopup":case"linkViaRedirect":return u5;case"reauthViaPopup":case"reauthViaRedirect":return l5;default:Ci(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new wf(2e3,1e4);class Pl extends gR{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c5.get())};e()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="pendingRedirect",Id=new Map;class h5 extends gR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const i=await d5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d5(n,e){const t=g5(e),i=p5(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function m5(n,e){Id.set(n._key(),e)}function p5(n){return Bs(n._redirectPersistence)}function g5(n){return Cd(f5,n.config.apiKey,n.name)}async function y5(n,e,t=!1){if(di(n.app))return Promise.reject(Fs(n));const i=xa(n),r=o5(i,e),u=await new h5(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=10*60*1e3;class _5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!yR(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(rs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}saveEventToCache(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}function PT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(n,e={}){return co(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T5=/^https?/;async function S5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await w5(n);for(const t of e)try{if(A5(t))return}catch{}Ci(n,"unauthorized-domain")}function A5(n){const e=Sv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!T5.test(t))return!1;if(E5.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new wf(3e4,6e4);function NT(){const n=os().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function R5(n){return new Promise((e,t)=>{var i,r,a;function u(){NT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NT(),t(rs(n,"network-request-failed"))},timeout:x5.get()})}if(!((r=(i=os().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=os().gapi)===null||a===void 0)&&a.load)u();else{const f=_L("iframefcb");return os()[f]=()=>{gapi.load?u():t(rs(n,"network-request-failed"))},tR(`${vL()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw Od=null,e})}let Od=null;function C5(n){return Od=Od||R5(n),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new wf(5e3,15e3),O5="__/auth/iframe",k5="emulator/auth/iframe",D5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P5(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?I_(e,k5):`https://${n.config.authDomain}/${O5}`,i={apiKey:e.apiKey,appName:n.name,v:cu},r=M5.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${bf(i).slice(1)}`}async function N5(n){const e=await C5(n),t=os().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:P5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D5,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=rs(n,"network-request-failed"),f=os().setTimeout(()=>{a(u)},I5.get());function d(){os().clearTimeout(f),r(i)}i.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z5=500,L5=600,U5="_blank",B5="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F5(n,e,t,i=z5,r=L5){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d=Object.assign(Object.assign({},V5),{width:i.toString(),height:r.toString(),top:a,left:u}),p=wn().toLowerCase();t&&(f=Qx(p)?U5:t),Gx(p)&&(e=e||B5,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[S,R])=>`${b}${S}=${R},`,"");if(uL(p)&&f!=="_self")return j5(e||"",f),new VT(null);const _=window.open(e||"",f,y);Ae(_,n,"popup-blocked");try{_.focus()}catch{}return new VT(_)}function j5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="__/auth/handler",H5="emulator/auth/handler",$5=encodeURIComponent("fac");async function zT(n,e,t,i,r,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:cu,eventId:r};if(e instanceof sR){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",k6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Tf){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await n._getAppCheckToken(),p=d?`#${$5}=${encodeURIComponent(d)}`:"";return`${G5(n)}?${bf(f).slice(1)}${p}`}function G5({config:n}){return n.emulator?I_(n,H5):`https://${n.authDomain}/${q5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="webStorageSupport";class Y5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fR,this._completeRedirectFn=y5,this._overrideRedirectResult=m5}async _openPopup(e,t,i,r){var a;Gs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await zT(e,t,i,Sv(),r);return F5(e,u,P_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await zT(e,t,i,Sv(),r);return XL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Gs(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await N5(e),i=new _5(e);return t.register("authEvent",r=>(Ae(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hy,{type:Hy},r=>{var a;const u=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[Hy];u!==void 0&&t(!!u),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=S5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Jx()||Yx()||k_()}}const Q5=Y5;var LT="@firebase/auth",UT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W5(n){Jl(new _a("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eR(n)},p=new pL(i,r,a,d);return AL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jl(new _a("auth-internal",e=>{const t=xa(e.getProvider("auth").getImmediate());return(i=>new K5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(LT,UT,X5(n)),$r(LT,UT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=5*60,J5=Ix("authIdTokenMaxAge")||Z5;let BT=null;const e9=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>J5)return;const r=t==null?void 0:t.token;BT!==r&&(BT=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function t9(n=Nx()){const e=x_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SL(n,{popupRedirectResolver:Q5,persistence:[r5,YL,fR]}),i=Ix("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=e9(a.toString());qL(t,u,()=>u(t.currentUser)),jL(t,f=>u(f))}}const r=Rx("auth");return r&&xL(t,`http://${r}`),t}function n9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}gL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=rs("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",n9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W5("Browser");var i9="firebase",s9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(i9,s9,"app");var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,vR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function C(){}C.prototype=x.prototype,k.D=x.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,z,L){for(var D=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)D[bt-2]=arguments[bt];return x.prototype[z].apply(N,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,x,C){C||(C=0);var N=Array(16);if(typeof x=="string")for(var z=0;16>z;++z)N[z]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(z=0;16>z;++z)N[z]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=k.g[0],C=k.g[1],z=k.g[2];var L=k.g[3],D=x+(L^C&(z^L))+N[0]+3614090360&4294967295;x=C+(D<<7&4294967295|D>>>25),D=L+(z^x&(C^z))+N[1]+3905402710&4294967295,L=x+(D<<12&4294967295|D>>>20),D=z+(C^L&(x^C))+N[2]+606105819&4294967295,z=L+(D<<17&4294967295|D>>>15),D=C+(x^z&(L^x))+N[3]+3250441966&4294967295,C=z+(D<<22&4294967295|D>>>10),D=x+(L^C&(z^L))+N[4]+4118548399&4294967295,x=C+(D<<7&4294967295|D>>>25),D=L+(z^x&(C^z))+N[5]+1200080426&4294967295,L=x+(D<<12&4294967295|D>>>20),D=z+(C^L&(x^C))+N[6]+2821735955&4294967295,z=L+(D<<17&4294967295|D>>>15),D=C+(x^z&(L^x))+N[7]+4249261313&4294967295,C=z+(D<<22&4294967295|D>>>10),D=x+(L^C&(z^L))+N[8]+1770035416&4294967295,x=C+(D<<7&4294967295|D>>>25),D=L+(z^x&(C^z))+N[9]+2336552879&4294967295,L=x+(D<<12&4294967295|D>>>20),D=z+(C^L&(x^C))+N[10]+4294925233&4294967295,z=L+(D<<17&4294967295|D>>>15),D=C+(x^z&(L^x))+N[11]+2304563134&4294967295,C=z+(D<<22&4294967295|D>>>10),D=x+(L^C&(z^L))+N[12]+1804603682&4294967295,x=C+(D<<7&4294967295|D>>>25),D=L+(z^x&(C^z))+N[13]+4254626195&4294967295,L=x+(D<<12&4294967295|D>>>20),D=z+(C^L&(x^C))+N[14]+2792965006&4294967295,z=L+(D<<17&4294967295|D>>>15),D=C+(x^z&(L^x))+N[15]+1236535329&4294967295,C=z+(D<<22&4294967295|D>>>10),D=x+(z^L&(C^z))+N[1]+4129170786&4294967295,x=C+(D<<5&4294967295|D>>>27),D=L+(C^z&(x^C))+N[6]+3225465664&4294967295,L=x+(D<<9&4294967295|D>>>23),D=z+(x^C&(L^x))+N[11]+643717713&4294967295,z=L+(D<<14&4294967295|D>>>18),D=C+(L^x&(z^L))+N[0]+3921069994&4294967295,C=z+(D<<20&4294967295|D>>>12),D=x+(z^L&(C^z))+N[5]+3593408605&4294967295,x=C+(D<<5&4294967295|D>>>27),D=L+(C^z&(x^C))+N[10]+38016083&4294967295,L=x+(D<<9&4294967295|D>>>23),D=z+(x^C&(L^x))+N[15]+3634488961&4294967295,z=L+(D<<14&4294967295|D>>>18),D=C+(L^x&(z^L))+N[4]+3889429448&4294967295,C=z+(D<<20&4294967295|D>>>12),D=x+(z^L&(C^z))+N[9]+568446438&4294967295,x=C+(D<<5&4294967295|D>>>27),D=L+(C^z&(x^C))+N[14]+3275163606&4294967295,L=x+(D<<9&4294967295|D>>>23),D=z+(x^C&(L^x))+N[3]+4107603335&4294967295,z=L+(D<<14&4294967295|D>>>18),D=C+(L^x&(z^L))+N[8]+1163531501&4294967295,C=z+(D<<20&4294967295|D>>>12),D=x+(z^L&(C^z))+N[13]+2850285829&4294967295,x=C+(D<<5&4294967295|D>>>27),D=L+(C^z&(x^C))+N[2]+4243563512&4294967295,L=x+(D<<9&4294967295|D>>>23),D=z+(x^C&(L^x))+N[7]+1735328473&4294967295,z=L+(D<<14&4294967295|D>>>18),D=C+(L^x&(z^L))+N[12]+2368359562&4294967295,C=z+(D<<20&4294967295|D>>>12),D=x+(C^z^L)+N[5]+4294588738&4294967295,x=C+(D<<4&4294967295|D>>>28),D=L+(x^C^z)+N[8]+2272392833&4294967295,L=x+(D<<11&4294967295|D>>>21),D=z+(L^x^C)+N[11]+1839030562&4294967295,z=L+(D<<16&4294967295|D>>>16),D=C+(z^L^x)+N[14]+4259657740&4294967295,C=z+(D<<23&4294967295|D>>>9),D=x+(C^z^L)+N[1]+2763975236&4294967295,x=C+(D<<4&4294967295|D>>>28),D=L+(x^C^z)+N[4]+1272893353&4294967295,L=x+(D<<11&4294967295|D>>>21),D=z+(L^x^C)+N[7]+4139469664&4294967295,z=L+(D<<16&4294967295|D>>>16),D=C+(z^L^x)+N[10]+3200236656&4294967295,C=z+(D<<23&4294967295|D>>>9),D=x+(C^z^L)+N[13]+681279174&4294967295,x=C+(D<<4&4294967295|D>>>28),D=L+(x^C^z)+N[0]+3936430074&4294967295,L=x+(D<<11&4294967295|D>>>21),D=z+(L^x^C)+N[3]+3572445317&4294967295,z=L+(D<<16&4294967295|D>>>16),D=C+(z^L^x)+N[6]+76029189&4294967295,C=z+(D<<23&4294967295|D>>>9),D=x+(C^z^L)+N[9]+3654602809&4294967295,x=C+(D<<4&4294967295|D>>>28),D=L+(x^C^z)+N[12]+3873151461&4294967295,L=x+(D<<11&4294967295|D>>>21),D=z+(L^x^C)+N[15]+530742520&4294967295,z=L+(D<<16&4294967295|D>>>16),D=C+(z^L^x)+N[2]+3299628645&4294967295,C=z+(D<<23&4294967295|D>>>9),D=x+(z^(C|~L))+N[0]+4096336452&4294967295,x=C+(D<<6&4294967295|D>>>26),D=L+(C^(x|~z))+N[7]+1126891415&4294967295,L=x+(D<<10&4294967295|D>>>22),D=z+(x^(L|~C))+N[14]+2878612391&4294967295,z=L+(D<<15&4294967295|D>>>17),D=C+(L^(z|~x))+N[5]+4237533241&4294967295,C=z+(D<<21&4294967295|D>>>11),D=x+(z^(C|~L))+N[12]+1700485571&4294967295,x=C+(D<<6&4294967295|D>>>26),D=L+(C^(x|~z))+N[3]+2399980690&4294967295,L=x+(D<<10&4294967295|D>>>22),D=z+(x^(L|~C))+N[10]+4293915773&4294967295,z=L+(D<<15&4294967295|D>>>17),D=C+(L^(z|~x))+N[1]+2240044497&4294967295,C=z+(D<<21&4294967295|D>>>11),D=x+(z^(C|~L))+N[8]+1873313359&4294967295,x=C+(D<<6&4294967295|D>>>26),D=L+(C^(x|~z))+N[15]+4264355552&4294967295,L=x+(D<<10&4294967295|D>>>22),D=z+(x^(L|~C))+N[6]+2734768916&4294967295,z=L+(D<<15&4294967295|D>>>17),D=C+(L^(z|~x))+N[13]+1309151649&4294967295,C=z+(D<<21&4294967295|D>>>11),D=x+(z^(C|~L))+N[4]+4149444226&4294967295,x=C+(D<<6&4294967295|D>>>26),D=L+(C^(x|~z))+N[11]+3174756917&4294967295,L=x+(D<<10&4294967295|D>>>22),D=z+(x^(L|~C))+N[2]+718787259&4294967295,z=L+(D<<15&4294967295|D>>>17),D=C+(L^(z|~x))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(z+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+L&4294967295}i.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var C=x-this.blockSize,N=this.B,z=this.h,L=0;L<x;){if(z==0)for(;L<=C;)r(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<x;)if(N[z++]=k.charCodeAt(L++),z==this.blockSize){r(this,N),z=0;break}}else for(;L<x;)if(N[z++]=k[L++],z==this.blockSize){r(this,N),z=0;break}}this.h=z,this.o+=x},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var C=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=C&255,C/=256;for(this.u(k),k=Array(16),x=C=0;4>x;++x)for(var N=0;32>N;N+=8)k[C++]=this.g[x]>>>N&255;return k};function a(k,x){var C=f;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=x(k)}function u(k,x){this.h=x;for(var C=[],N=!0,z=k.length-1;0<=z;z--){var L=k[z]|0;N&&L==x||(C[z]=L,N=!1)}this.g=C}var f={};function d(k){return-128<=k&&128>k?a(k,function(x){return new u([x|0],0>x?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return I(p(-k));for(var x=[],C=1,N=0;k>=C;N++)x[N]=k/C|0,C*=4294967296;return new u(x,0)}function y(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return I(y(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(x,8)),N=_,z=0;z<k.length;z+=8){var L=Math.min(8,k.length-z),D=parseInt(k.substring(z,z+L),x);8>L?(L=p(Math.pow(x,L)),N=N.j(L).add(p(D))):(N=N.j(C),N=N.add(p(D)))}return N}var _=d(0),b=d(1),S=d(16777216);n=u.prototype,n.m=function(){if(P(this))return-I(this).m();for(var k=0,x=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*x,x*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(P(this))return"-"+I(this).toString(k);for(var x=p(Math.pow(k,6)),C=this,N="";;){var z=X(C,x).g;C=B(C,z.j(x));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=z,R(C))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function P(k){return k.h==-1}n.l=function(k){return k=B(this,k),P(k)?-1:R(k)?0:1};function I(k){for(var x=k.g.length,C=[],N=0;N<x;N++)C[N]=~k.g[N];return new u(C,~k.h).add(b)}n.abs=function(){return P(this)?I(this):this},n.add=function(k){for(var x=Math.max(this.g.length,k.g.length),C=[],N=0,z=0;z<=x;z++){var L=N+(this.i(z)&65535)+(k.i(z)&65535),D=(L>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);N=D>>>16,L&=65535,D&=65535,C[z]=D<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(k,x){return k.add(I(x))}n.j=function(k){if(R(this)||R(k))return _;if(P(this))return P(k)?I(this).j(I(k)):I(I(this).j(k));if(P(k))return I(this.j(I(k)));if(0>this.l(S)&&0>k.l(S))return p(this.m()*k.m());for(var x=this.g.length+k.g.length,C=[],N=0;N<2*x;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var z=0;z<k.g.length;z++){var L=this.i(N)>>>16,D=this.i(N)&65535,bt=k.i(z)>>>16,ct=k.i(z)&65535;C[2*N+2*z]+=D*ct,H(C,2*N+2*z),C[2*N+2*z+1]+=L*ct,H(C,2*N+2*z+1),C[2*N+2*z+1]+=D*bt,H(C,2*N+2*z+1),C[2*N+2*z+2]+=L*bt,H(C,2*N+2*z+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new u(C,0)};function H(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function G(k,x){this.g=k,this.h=x}function X(k,x){if(R(x))throw Error("division by zero");if(R(k))return new G(_,_);if(P(k))return x=X(I(k),x),new G(I(x.g),I(x.h));if(P(x))return x=X(k,I(x)),new G(I(x.g),x.h);if(30<k.g.length){if(P(k)||P(x))throw Error("slowDivide_ only works with positive integers.");for(var C=b,N=x;0>=N.l(k);)C=re(C),N=re(N);var z=se(C,1),L=se(N,1);for(N=se(N,2),C=se(C,2);!R(N);){var D=L.add(N);0>=D.l(k)&&(z=z.add(C),L=D),N=se(N,1),C=se(C,1)}return x=B(k,z.j(x)),new G(z,x)}for(z=_;0<=k.l(x);){for(C=Math.max(1,Math.floor(k.m()/x.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=p(C),D=L.j(x);P(D)||0<D.l(k);)C-=N,L=p(C),D=L.j(x);R(L)&&(L=b),z=z.add(L),k=B(k,D)}return new G(z,k)}n.A=function(k){return X(this,k).h},n.and=function(k){for(var x=Math.max(this.g.length,k.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)&k.i(N);return new u(C,this.h&k.h)},n.or=function(k){for(var x=Math.max(this.g.length,k.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)|k.i(N);return new u(C,this.h|k.h)},n.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)^k.i(N);return new u(C,this.h^k.h)};function re(k){for(var x=k.g.length+1,C=[],N=0;N<x;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(C,k.h)}function se(k,x){var C=x>>5;x%=32;for(var N=k.g.length-C,z=[],L=0;L<N;L++)z[L]=0<x?k.i(L+C)>>>x|k.i(L+C+1)<<32-x:k.i(L+C);return new u(z,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Gr=u}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _R,Nc,bR,kd,Cv,wR,ER,TR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(h,v){if(v)e:{var w=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in w))break e;w=w[F]}h=h[h.length-1],A=w[h],v=v(A),v!=A&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var w=0,A=!1,F={next:function(){if(!A&&w<h.length){var K=w++;return{value:v(K,h[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}r("Array.prototype.values",function(h){return h||function(){return a(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,w){return h.call.apply(h.bind,arguments)}function _(h,v,w){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function b(h,v,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function S(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function R(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(A,F,K){for(var ue=Array(arguments.length-2),He=2;He<arguments.length;He++)ue[He-2]=arguments[He];return v.prototype[F].apply(A,ue)}}function P(h){const v=h.length;if(0<v){const w=Array(v);for(let A=0;A<v;A++)w[A]=h[A];return w}return[]}function I(h,v){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(d(A)){const F=h.length||0,K=A.length||0;h.length=F+K;for(let ue=0;ue<K;ue++)h[F+ue]=A[ue]}else h.push(A)}}class B{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function X(h){return X[" "](h),h}X[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function se(h,v,w){for(const A in h)v.call(w,h[A],A,h)}function k(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function x(h){const v={};for(const w in h)v[w]=h[w];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let w,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(w in A)h[w]=A[w];for(let K=0;K<C.length;K++)w=C[K],Object.prototype.hasOwnProperty.call(A,w)&&(h[w]=A[w])}}function z(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function L(h){f.setTimeout(()=>{throw h},0)}function D(){var h=Ce;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class bt{constructor(){this.h=this.g=null}add(v,w){const A=ct.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new B(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ce=!1,Ce=new bt,M=()=>{const h=f.Promise.resolve(void 0);he=()=>{h.then(ie)}};var ie=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(w){L(w)}var v=ct;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ce=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function Ve(h,v){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(re){e:{try{X(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}R(Ve,ae);var Ie={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),at=0;function Di(h,v,w,A,F){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=F,this.key=++at,this.da=this.fa=!1}function tr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fs(h){this.src=h,this.g={},this.h=0}fs.prototype.add=function(h,v,w,A,F){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var ue=yo(h,v,A,F);return-1<ue?(v=h[ue],w||(v.fa=!1)):(v=new Di(v,this.src,K,!!A,F),v.fa=w,h.push(v)),v};function go(h,v){var w=v.type;if(w in h.g){var A=h.g[w],F=Array.prototype.indexOf.call(A,v,void 0),K;(K=0<=F)&&Array.prototype.splice.call(A,F,1),K&&(tr(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function yo(h,v,w,A){for(var F=0;F<h.length;++F){var K=h[F];if(!K.da&&K.listener==v&&K.capture==!!w&&K.ha==A)return F}return-1}var vo="closure_lm_"+(1e6*Math.random()|0),_u={};function Mf(h,v,w,A,F){if(Array.isArray(v)){for(var K=0;K<v.length;K++)Mf(h,v[K],w,A,F);return null}return w=Pf(w),h&&h[jt]?h.K(v,w,p(A)?!!A.capture:!1,F):Zn(h,v,w,!1,A,F)}function Zn(h,v,w,A,F,K){if(!v)throw Error("Invalid event type");var ue=p(F)?!!F.capture:!!F,He=ka(h);if(He||(h[vo]=He=new fs(h)),w=He.add(v,w,A,ue,K),w.proxy)return w;if(A=op(),w.proxy=A,A.src=h,A.listener=w,h.addEventListener)we||(F=ue),F===void 0&&(F=!1),h.addEventListener(v.toString(),A,F);else if(h.attachEvent)h.attachEvent(_o(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function op(){function h(w){return v.call(h.src,h.listener,w)}const v=ap;return h}function bu(h,v,w,A,F){if(Array.isArray(v))for(var K=0;K<v.length;K++)bu(h,v[K],w,A,F);else A=p(A)?!!A.capture:!!A,w=Pf(w),h&&h[jt]?(h=h.i,v=String(v).toString(),v in h.g&&(K=h.g[v],w=yo(K,w,A,F),-1<w&&(tr(K[w]),Array.prototype.splice.call(K,w,1),K.length==0&&(delete h.g[v],h.h--)))):h&&(h=ka(h))&&(v=h.g[v.toString()],h=-1,v&&(h=yo(v,w,A,F)),(w=-1<h?v[h]:null)&&Oa(w))}function Oa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[jt])go(v.i,h);else{var w=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(w,A,h.capture):v.detachEvent?v.detachEvent(_o(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=ka(v))?(go(w,h),w.h==0&&(w.src=null,v[vo]=null)):tr(h)}}}function _o(h){return h in _u?_u[h]:_u[h]="on"+h}function ap(h,v){if(h.da)h=!0;else{v=new Ve(v,this);var w=h.listener,A=h.ha||h.src;h.fa&&Oa(h),h=w.call(A,v)}return h}function ka(h){return h=h[vo],h instanceof fs?h:null}var wu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(h){return typeof h=="function"?h:(h[wu]||(h[wu]=function(v){return h.handleEvent(v)}),h[wu])}function wt(){de.call(this),this.i=new fs(this),this.M=this,this.F=null}R(wt,de),wt.prototype[jt]=!0,wt.prototype.removeEventListener=function(h,v,w,A){bu(this,h,v,w,A)};function Je(h,v){var w,A=h.F;if(A)for(w=[];A;A=A.F)w.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ae(v,h);else if(v instanceof ae)v.target=v.target||h;else{var F=v;v=new ae(A,h),N(v,F)}if(F=!0,w)for(var K=w.length-1;0<=K;K--){var ue=v.g=w[K];F=Un(ue,A,!0,v)&&F}if(ue=v.g=h,F=Un(ue,A,!0,v)&&F,F=Un(ue,A,!1,v)&&F,w)for(K=0;K<w.length;K++)ue=v.g=w[K],F=Un(ue,A,!1,v)&&F}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],A=0;A<w.length;A++)tr(w[A]);delete h.g[v],h.h--}}this.F=null},wt.prototype.K=function(h,v,w,A){return this.i.add(String(h),v,!1,w,A)},wt.prototype.L=function(h,v,w,A){return this.i.add(String(h),v,!0,w,A)};function Un(h,v,w,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,K=0;K<v.length;++K){var ue=v[K];if(ue&&!ue.da&&ue.capture==w){var He=ue.listener,Vt=ue.ha||ue.src;ue.fa&&go(h.i,ue),F=He.call(Vt,A)!==!1&&F}}return F&&!A.defaultPrevented}function ln(h,v,w){if(typeof h=="function")w&&(h=b(h,w));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Nf(h){h.g=ln(()=>{h.g=null,h.i&&(h.i=!1,Nf(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class lp extends de{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nf(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(h){de.call(this),this.h=h,this.g={}}R(bo,de);var wo=[];function Eo(h){se(h.g,function(v,w){this.g.hasOwnProperty(w)&&Oa(v)},h),h.g={}}bo.prototype.N=function(){bo.aa.N.call(this),Eo(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=f.JSON.stringify,Da=f.JSON.parse,To=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Eu(){}Eu.prototype.h=null;function Tu(h){return h.h||(h.h=h.i())}function Su(){}var hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ds(){ae.call(this,"d")}R(ds,ae);function Au(){ae.call(this,"c")}R(Au,ae);var Mi={},xu=null;function nr(){return xu=xu||new wt}Mi.La="serverreachability";function Ma(h){ae.call(this,Mi.La,h)}R(Ma,ae);function ir(h){const v=nr();Je(v,new Ma(v))}Mi.STAT_EVENT="statevent";function Vf(h,v){ae.call(this,Mi.STAT_EVENT,h),this.stat=v}R(Vf,ae);function mt(h){const v=nr();Je(v,new Vf(v,h))}Mi.Ma="timingevent";function Nt(h,v){ae.call(this,Mi.Ma,h),this.size=v}R(Nt,ae);function It(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Ru(h,v,w,A,F,K){h.info(function(){if(h.g)if(K)for(var ue="",He=K.split("&"),Vt=0;Vt<He.length;Vt++){var $e=He[Vt].split("=");if(1<$e.length){var Ht=$e[0];$e=$e[1];var zt=Ht.split("_");ue=2<=zt.length&&zt[1]=="type"?ue+(Ht+"="+$e+"&"):ue+(Ht+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+w+`
`+ue})}function up(h,v,w,A,F,K,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+w+`
`+K+" "+ue})}function sr(h,v,w,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+So(h,w)+(A?" "+A:"")})}function zf(h,v){h.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function So(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var A=w[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<F.length;ue++)F[ue]=""}}}}return gi(w)}catch{return v}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ms={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pi;function Ni(){}R(Ni,Eu),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Pi=new Ni;function Tn(h,v,w,A){this.j=h,this.i=v,this.l=w,this.R=A||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Cu={},Pa={};function yi(h,v,w){h.L=1,h.v=Io(Bn(v)),h.m=w,h.P=!0,ps(h,null)}function ps(h,v){h.F=Date.now(),Ao(h),h.A=Bn(h.v);var w=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Pu(w.i,"t",A),h.C=0,w=h.j.J,h.h=new At,h.g=Jf(h.j,w?v:null,!h.m),0<h.O&&(h.M=new lp(b(h.Y,h,h.g),h.O)),v=h.U,w=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(wo[0]=F.toString()),F=wo);for(var K=0;K<F.length;K++){var ue=Mf(w,F[K],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),ir(),Ru(h.i,h.u,h.A,h.l,h.R,h.m)}Tn.prototype.ca=function(h){h=h.target;const v=this.M;v&&ii(h)==3?v.j():this.Y(h)},Tn.prototype.Y=function(h){try{if(h==this.g)e:{const zt=ii(this.g);var v=this.g.Ba();const Ts=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||$f(this.g)))){this.J||zt!=4||v==7||(v==8||0>=Ts?ir(3):ir(2)),or(this);var w=this.g.Z();this.X=w;t:if(Lf(this)){var A=$f(this.g);h="";var F=A.length,K=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Vi(this);var ue="";break t}this.h.i=new f.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(K&&v==F-1)});A.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,up(this.i,this.u,this.A,this.l,this.R,zt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Vt=this.g;if((He=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(He)){var $e=He;break t}}$e=null}if(w=$e)sr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xo(this,w);else{this.o=!1,this.s=3,mt(12),Zt(this),Vi(this);break e}}if(this.P){w=!0;let Jt;for(;!this.J&&this.C<ue.length;)if(Jt=Uf(this,ue),Jt==Pa){zt==4&&(this.s=4,mt(14),w=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Cu){this.s=4,mt(15),sr(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else sr(this.i,this.l,Jt,null),xo(this,Jt);if(Lf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||ue.length!=0||this.h.h||(this.s=1,mt(16),w=!1),this.o=this.o&&w,!w)sr(this.i,this.l,ue,"[Invalid Chunked Response]"),Zt(this),Vi(this);else if(0<ue.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),zo(Ht),Ht.M=!0,mt(11))}}else sr(this.i,this.l,ue,null),xo(this,ue);zt==4&&Zt(this),this.o&&!this.J&&(zt==4?Xf(this.j,this):(this.o=!1,Ao(this)))}else mp(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Zt(this),Vi(this)}}}catch{}finally{}};function Lf(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Uf(h,v){var w=h.C,A=v.indexOf(`
`,w);return A==-1?Pa:(w=Number(v.substring(w,A)),isNaN(w)?Cu:(A+=1,A+w>v.length?Pa:(v=v.slice(A,A+w),h.C=A+w,v)))}Tn.prototype.cancel=function(){this.J=!0,Zt(this)};function Ao(h){h.S=Date.now()+h.I,Bf(h,h.I)}function Bf(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=It(b(h.ba,h),v)}function or(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Tn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(zf(this.i,this.A),this.L!=2&&(ir(),mt(17)),Zt(this),this.s=2,Vi(this)):Bf(this,this.S-h)};function Vi(h){h.j.G==0||h.J||Xf(h.j,h)}function Zt(h){or(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Eo(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function xo(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||Iu(w.h,h))){if(!h.K&&Iu(w.h,h)&&w.G==3){try{var A=w.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ga(w),Ha(w);else break e;Uu(w),mt(18)}}else w.za=F[1],0<w.za-w.T&&37500>F[2]&&w.F&&w.v==0&&!w.C&&(w.C=It(b(w.Za,w),6e3));if(1>=Va(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Es(w,11)}else if((h.K||w.g==h)&&Ga(w),!H(v))for(F=w.Da.g.parse(v),v=0;v<F.length;v++){let $e=F[v];if(w.T=$e[0],$e=$e[1],w.G==2)if($e[0]=="c"){w.K=$e[1],w.ia=$e[2];const Ht=$e[3];Ht!=null&&(w.la=Ht,w.j.info("VER="+w.la));const zt=$e[4];zt!=null&&(w.Aa=zt,w.j.info("SVER="+w.Aa));const Ts=$e[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(A=1.5*Ts,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Jt=h.g;if(Jt){const qi=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var K=A.h;K.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(za(K,K.h),K.h=null))}if(A.D){const Fu=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fu&&(A.ya=Fu,nt(A.I,A.D,Fu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var ue=h;if(A.qa=Zf(A,A.J?A.ia:null,A.W),ue.K){Sn(A.h,ue);var He=ue,Vt=A.L;Vt&&(He.I=Vt),He.B&&(or(He),Ao(He)),A.g=ue}else Qf(A);0<w.i.length&&$a(w)}else $e[0]!="stop"&&$e[0]!="close"||Es(w,7);else w.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Es(w,7):zu(w):$e[0]!="noop"&&w.l&&w.l.ta($e),w.v=0)}}ir(4)}catch{}}var Ff=class{constructor(h,v){this.g=h,this.map=v}};function gs(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Va(h){return h.h?1:h.g?h.g.size:0}function Iu(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function za(h,v){h.g?h.g.add(v):h.h=v}function Sn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}gs.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ou(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return P(h.i)}function cp(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],w=h.length,A=0;A<w;A++)v.push(h[A]);return v}v=[],w=0;for(A in h)v[w++]=h[A];return v}function La(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const A in h)v[w++]=A;return v}}}function ku(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=La(h),A=cp(h),F=A.length,K=0;K<F;K++)v.call(void 0,A[K],w&&w[K],h)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fp(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var A=h[w].indexOf("="),F=null;if(0<=A){var K=h[w].substring(0,A);F=h[w].substring(A+1)}else K=h[w];v(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ot(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ot){this.h=h.h,Co(this,h.j),this.o=h.o,this.g=h.g,ar(this,h.s),this.l=h.l;var v=h.i,w=new vs;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),ys(this,w),this.m=h.m}else h&&(v=String(h).match(Ro))?(this.h=!1,Co(this,v[1]||"",!0),this.o=ei(v[2]||""),this.g=ei(v[3]||"",!0),ar(this,v[4]),this.l=ei(v[5]||"",!0),ys(this,v[6]||"",!0),this.m=ei(v[7]||"")):(this.h=!1,this.i=new vs(null,this.h))}Ot.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Oo(v,Du,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Oo(v,Du,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Oo(w,w.charAt(0)=="/"?hp:Mu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Oo(w,Ua)),h.join("")};function Bn(h){return new Ot(h)}function Co(h,v,w){h.j=w?ei(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ar(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ys(h,v,w){v instanceof vs?(h.i=v,qf(h.i,h.h)):(w||(v=Oo(v,dp)),h.i=new vs(v,h.h))}function nt(h,v,w){h.i.set(v,w)}function Io(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ei(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Oo(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,jf),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Du=/[#\/\?@]/g,Mu=/[#\?:]/g,hp=/[#\?]/g,dp=/[#\?@]/g,Ua=/#/g;function vs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ti(h){h.g||(h.g=new Map,h.h=0,h.i&&fp(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=vs.prototype,n.add=function(h,v){ti(this),this.i=null,h=zi(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function _s(h,v){ti(h),v=zi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function bs(h,v){return ti(h),v=zi(h,v),h.g.has(v)}n.forEach=function(h,v){ti(this),this.g.forEach(function(w,A){w.forEach(function(F){h.call(v,F,A,this)},this)},this)},n.na=function(){ti(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let A=0;A<v.length;A++){const F=h[A];for(let K=0;K<F.length;K++)w.push(v[A])}return w},n.V=function(h){ti(this);let v=[];if(typeof h=="string")bs(this,h)&&(v=v.concat(this.g.get(zi(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},n.set=function(h,v){return ti(this),this.i=null,h=zi(this,h),bs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Pu(h,v,w){_s(h,v),0<w.length&&(h.i=null,h.g.set(zi(h,v),P(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var A=v[w];const K=encodeURIComponent(String(A)),ue=this.V(A);for(A=0;A<ue.length;A++){var F=K;ue[A]!==""&&(F+="="+encodeURIComponent(String(ue[A]))),h.push(F)}}return this.i=h.join("&")};function zi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function qf(h,v){v&&!h.j&&(ti(h),h.i=null,h.g.forEach(function(w,A){var F=A.toLowerCase();A!=F&&(_s(this,A),Pu(this,F,w))},h)),h.j=v}function ko(h,v){const w=new Jn;if(f.Image){const A=new Image;A.onload=S(ni,w,"TestLoadImage: loaded",!0,v,A),A.onerror=S(ni,w,"TestLoadImage: error",!1,v,A),A.onabort=S(ni,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=S(ni,w,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function vi(h,v){const w=new Jn,A=new AbortController,F=setTimeout(()=>{A.abort(),ni(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(K=>{clearTimeout(F),K.ok?ni(w,"TestPingServer: ok",!0,v):ni(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),ni(w,"TestPingServer: error",!1,v)})}function ni(h,v,w,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(w)}catch{}}function Do(){this.g=new To}function Li(h,v,w){const A=w||"";try{ku(h,function(F,K){let ue=F;p(F)&&(ue=gi(F)),v.push(A+K+"="+encodeURIComponent(ue))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function lr(h){this.l=h.Ub||null,this.j=h.eb||!1}R(lr,Eu),lr.prototype.g=function(){return new ws(this.l,this.j)},lr.prototype.i=function(h){return function(){return h}}({});function ws(h,v){wt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ws,wt),n=ws.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Bi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ui(this):Bi(this),this.readyState==3&&Nu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ui(this))},n.Qa=function(h){this.g&&(this.response=h,Ui(this))},n.ga=function(){this.g&&Ui(this)};function Ui(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Bi(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vu(h){let v="";return se(h,function(w,A){v+=A,v+=":",v+=w,v+=`\r
`}),v}function qt(h,v,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Vu(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):nt(h,v,w))}function We(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(We,wt);var Ba=/^https?$/i,Mo=["POST","PUT"];n=We.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pi.g(),this.v=this.o?Tu(this.o):Tu(Pi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){Hf(this,K);return}if(h=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)w.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())w.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),F=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Mo,v,void 0))||A||F||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of w)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){Hf(this,K)}};function Hf(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Fa(h),Fi(h)}function Fa(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Je(this,"complete"),Je(this,"abort"),Fi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(h){if(h.h&&typeof u<"u"&&(!h.v[1]||ii(h)!=4||h.Z()!=2)){if(h.u&&ii(h)==4)ln(h.Ea,0,h);else if(Je(h,"readystatechange"),ii(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var A;if(A=ue===0){var F=String(h.D).match(Ro)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),A=!Ba.test(F?F.toLowerCase():"")}w=A}if(w)Je(h,"complete"),Je(h,"success");else{h.m=6;try{var K=2<ii(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",Fa(h)}}finally{Fi(h)}}}}function Fi(h,v){if(h.g){Po(h);const w=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Je(h,"ready");try{w.onreadystatechange=A}catch{}}}function Po(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Da(v)}};function $f(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function mp(h){const v={};h=(h.g&&2<=ii(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(H(h[A]))continue;var w=z(h[A]);const F=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=v[F]||[];v[F]=K,K.push(w)}k(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function qa(h){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,h),this.cb=No("retryDelaySeedMs",1e4,h),this.Wa=No("forwardChannelMaxRetries",2,h),this.wa=No("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new gs(h&&h.concurrentRequestLimit),this.Da=new Do,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qa.prototype,n.la=8,n.G=1,n.connect=function(h,v,w,A){mt(0),this.W=h,this.H=v||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=Zf(this,null,this.W),$a(this)};function zu(h){if(Gf(h),h.G==3){var v=h.U++,w=Bn(h.I);if(nt(w,"SID",h.K),nt(w,"RID",v),nt(w,"TYPE","terminate"),Vo(h,w),v=new Tn(h,h.j,v),v.L=2,v.v=Io(Bn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=Jf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ao(v)}Wf(h)}function Ha(h){h.g&&(zo(h),h.g.cancel(),h.g=null)}function Gf(h){Ha(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function $a(h){if(!Na(h.h)&&!h.s){h.s=!0;var v=h.Ga;he||M(),ce||(he(),ce=!0),Ce.add(v,h),h.B=0}}function pp(h,v){return Va(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=It(b(h.Ga,h,v),Bu(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Tn(this,this.j,h);let K=this.o;if(this.S&&(K?(K=x(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Yf(this,F,v),w=Bn(this.I),nt(w,"RID",h),nt(w,"CVER",22),this.D&&nt(w,"X-HTTP-Session-Id",this.D),Vo(this,w),K&&(this.O?v="headers="+encodeURIComponent(String(Vu(K)))+"&"+v:this.m&&qt(w,this.m,K)),za(this.h,F),this.Ua&&nt(w,"TYPE","init"),this.P?(nt(w,"$req",v),nt(w,"SID","null"),F.T=!0,yi(F,w,null)):yi(F,w,v),this.G=2}}else this.G==3&&(h?Lu(this,h):this.i.length==0||Na(this.h)||Lu(this))};function Lu(h,v){var w;v?w=v.l:w=h.U++;const A=Bn(h.I);nt(A,"SID",h.K),nt(A,"RID",w),nt(A,"AID",h.T),Vo(h,A),h.m&&h.o&&qt(A,h.m,h.o),w=new Tn(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Yf(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),za(h.h,w),yi(w,A,v)}function Vo(h,v){h.H&&se(h.H,function(w,A){nt(v,A,w)}),h.l&&ku({},function(w,A){nt(v,A,w)})}function Yf(h,v,w){w=Math.min(h.i.length,w);var A=h.l?b(h.l.Na,h.l,h):null;e:{var F=h.i;let K=-1;for(;;){const ue=["count="+w];K==-1?0<w?(K=F[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let He=!0;for(let Vt=0;Vt<w;Vt++){let $e=F[Vt].g;const Ht=F[Vt].map;if($e-=K,0>$e)K=Math.max(0,F[Vt].g-100),He=!1;else try{Li(Ht,ue,"req"+$e+"_")}catch{A&&A(Ht)}}if(He){A=ue.join("&");break e}}}return h=h.i.splice(0,w),v.D=h,A}function Qf(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;he||M(),ce||(he(),ce=!0),Ce.add(v,h),h.v=0}}function Uu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=It(b(h.Fa,h),Bu(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Kf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=It(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Ha(this),Kf(this))};function zo(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Kf(h){h.g=new Tn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Bn(h.qa);nt(v,"RID","rpc"),nt(v,"SID",h.K),nt(v,"AID",h.T),nt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(v,"TO",h.ja),nt(v,"TYPE","xmlhttp"),Vo(h,v),h.m&&h.o&&qt(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Io(Bn(v)),w.m=null,w.P=!0,ps(w,h)}n.Za=function(){this.C!=null&&(this.C=null,Ha(this),Uu(this),mt(19))};function Ga(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Xf(h,v){var w=null;if(h.g==v){Ga(h),zo(h),h.g=null;var A=2}else if(Iu(h.h,v))w=v.D,Sn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;A=nr(),Je(A,new Nt(A,w)),$a(h)}else Qf(h);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&pp(h,v)||A==2&&Uu(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),F){case 1:Es(h,5);break;case 4:Es(h,10);break;case 3:Es(h,6);break;default:Es(h,2)}}}function Bu(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function Es(h,v){if(h.j.info("Error code "+v),v==2){var w=b(h.fb,h),A=h.Xa;const F=!A;A=new Ot(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Co(A,"https"),Io(A),F?ko(A.toString(),w):vi(A.toString(),w)}else mt(2);h.G=0,h.l&&h.l.sa(v),Wf(h),Gf(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Wf(h){if(h.G=0,h.ka=[],h.l){const v=Ou(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function Zf(h,v,w){var A=w instanceof Ot?Bn(w):new Ot(w);if(A.g!="")v&&(A.g=v+"."+A.g),ar(A,A.s);else{var F=f.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var K=new Ot(null);A&&Co(K,A),v&&(K.g=v),F&&ar(K,F),w&&(K.l=w),A=K}return w=h.D,v=h.ya,w&&v&&nt(A,w,v),nt(A,"VER",h.la),Vo(h,A),A}function Jf(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new We(new lr({eb:w})):new We(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}n=eh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ya(){}Ya.prototype.g=function(h,v){return new An(h,v)};function An(h,v){wt.call(this),this.g=new qa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!H(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ji(this)}R(An,wt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){zu(this.g)},An.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=gi(h),h=w);v.i.push(new Ff(v.Ya++,h)),v.G==3&&$a(v)},An.prototype.N=function(){this.g.l=null,delete this.j,zu(this.g),delete this.g,An.aa.N.call(this)};function th(h){ds.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}R(th,ds);function nh(){Au.call(this),this.status=1}R(nh,Au);function ji(h){this.g=h}R(ji,eh),ji.prototype.ua=function(){Je(this.g,"a")},ji.prototype.ta=function(h){Je(this.g,new th(h))},ji.prototype.sa=function(h){Je(this.g,new nh)},ji.prototype.ra=function(){Je(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,TR=function(){return new Ya},ER=function(){return nr()},wR=Mi,Cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,kd=rr,ms.COMPLETE="complete",bR=ms,Su.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Nc=Su,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,_R=We}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",qT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new S_("@firebase/firestore");function Al(){return Ea.logLevel}function pe(n,...e){if(Ea.logLevel<=Fe.DEBUG){const t=e.map(V_);Ea.debug(`Firestore (${hu}): ${n}`,...t)}}function Ys(n,...e){if(Ea.logLevel<=Fe.ERROR){const t=e.map(V_);Ea.error(`Firestore (${hu}): ${n}`,...t)}}function eu(n,...e){if(Ea.logLevel<=Fe.WARN){const t=e.map(V_);Ea.warn(`Firestore (${hu}): ${n}`,...t)}}function V_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,SR(n,i,t)}function SR(n,e,t){let i=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ys(i),new Error(i)}function Ze(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||SR(e,r,i)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class o9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class a9{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let a=new js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new js,e.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},f=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new js)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new AR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class l9{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u9{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new l9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const i=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new HT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=f9(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Pe(n,e){return n<e?-1:n>e?1:0}function Iv(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Pe(i,r);{const a=xR(),u=h9(a.encode($T(n,t)),a.encode($T(e,t)));return u!==0?u:Pe(i,r)}}t+=i>65535?2:1}return Pe(n.length,e.length)}function $T(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function h9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function tu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=-62135596800,YT=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*YT);return new Bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GT)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Bt(0,0))}static max(){return new Oe(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__name__";class Wi{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&xe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Wi.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Pe(e.length,t.length)}static compareSegments(e,t){const i=Wi.isNumericId(e),r=Wi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Wi.extractNumericId(e).compare(Wi.extractNumericId(t)):Iv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class ft extends Wi{construct(e,t,i){return new ft(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const d9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Wi{construct(e,t,i){return new rn(e,t,i)}static isValidIdentifier(e){return d9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QT}static keyField(){return new rn([QT])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if(f==="\\"){if(r+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else f==="`"?(u=!u,r++):f!=="."||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=-1;function m9(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Zr(r,be.empty(),e)}function p9(n){return new Zr(n.readTime,n.key,sf)}class Zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zr(Oe.min(),be.empty(),sf)}static max(){return new Zr(Oe.max(),be.empty(),sf)}}function g9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==y9)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},d=>i(d))}),u=!0,a===r&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(r=>r?ne.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(y=>{u[p]=y,++f,f===a&&i(u)},y=>r(y))}})}static doWhile(e,t){return new ne((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function _9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-1;function Mm(n){return n==null}function om(n){return n===0&&1/n==-1/0}function b9(n){return typeof n=="number"&&Number.isInteger(n)&&!om(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="";function w9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KT(e)),e=E9(n.get(t),e);return KT(e)}function E9(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case CR:t+="";break;default:t+=a}}return t}function KT(n){return n+CR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??sn.RED,this.left=r??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new sn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(e){return new WT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class WT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Ft(rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OR("Invalid base64 string: "+a):a}}(e);return new an(t)}static fromUint8Array(e){const t=function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const T9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=T9.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eo(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="server_timestamp",DR="__type__",MR="__previous_value__",PR="__local_write_time__";function L_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[DR])===null||t===void 0?void 0:t.stringValue)===kR}function Pm(n){const e=n.mapValue.fields[MR];return L_(e)?Pm(e):e}function rf(n){const e=Jr(n.mapValue.fields[PR].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t,i,r,a,u,f,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const am="(default)";class of{constructor(e,t){this.projectId=e,this.database=t||am}static empty(){return new of("","")}get isDefaultDatabase(){return this.database===am}isEqual(e){return e instanceof of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__type__",A9="__max__",gd={mapValue:{}},VR="__vector__",lm="value";function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?L_(n)?4:R9(n)?9007199254740991:x9(n)?10:11:xe(28295,{value:n})}function cs(n,e){if(n===e)return!0;const t=to(n);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rf(n).isEqual(rf(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Jr(r.timestampValue),f=Jr(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return eo(r.bytesValue).isEqual(eo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Ct(r.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Ct(r.integerValue)===Ct(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=Ct(r.doubleValue),f=Ct(a.doubleValue);return u===f?om(u)===om(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return tu(n.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return function(r,a){const u=r.mapValue.fields||{},f=a.mapValue.fields||{};if(XT(u)!==XT(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!cs(u[d],f[d])))return!1;return!0}(n,e);default:return xe(52216,{left:n})}}function af(n,e){return(n.values||[]).find(t=>cs(t,e))!==void 0}function nu(n,e){if(n===e)return 0;const t=to(n),i=to(e);if(t!==i)return Pe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Ct(a.integerValue||a.doubleValue),d=Ct(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return ZT(n.timestampValue,e.timestampValue);case 4:return ZT(rf(n),rf(e));case 5:return Iv(n.stringValue,e.stringValue);case 6:return function(a,u){const f=eo(a),d=eo(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const y=Pe(f[p],d[p]);if(y!==0)return y}return Pe(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Pe(Ct(a.latitude),Ct(u.latitude));return f!==0?f:Pe(Ct(a.longitude),Ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JT(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,d,p,y;const _=a.fields||{},b=u.fields||{},S=(f=_[lm])===null||f===void 0?void 0:f.arrayValue,R=(d=b[lm])===null||d===void 0?void 0:d.arrayValue,P=Pe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:JT(S,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===gd.mapValue&&u===gd.mapValue)return 0;if(a===gd.mapValue)return 1;if(u===gd.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const b=Iv(d[_],y[_]);if(b!==0)return b;const S=nu(f[d[_]],p[y[_]]);if(S!==0)return S}return Pe(d.length,y.length)}(n.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function ZT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=Jr(n),i=Jr(e),r=Pe(t.seconds,i.seconds);return r!==0?r:Pe(t.nanos,i.nanos)}function JT(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=nu(t[r],i[r]);if(a)return a}return Pe(t.length,i.length)}function iu(n){return Ov(n)}function Ov(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Jr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return eo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Ov(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${Ov(t.fields[u])}`;return r+"}"}(n.mapValue):xe(61005,{value:n})}function Dd(n){switch(to(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(n);return e?16+Dd(e):16;case 5:return 2*n.stringValue.length;case 6:return eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Dd(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return fo(i.fields,(a,u)=>{r+=a.length+Dd(u)}),r}(n.mapValue);default:throw xe(13486,{value:n})}}function eS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kv(n){return!!n&&"integerValue"in n}function U_(n){return!!n&&"arrayValue"in n}function tS(n){return!!n&&"nullValue"in n}function nS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Md(n){return!!n&&"mapValue"in n}function x9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[NR])===null||t===void 0?void 0:t.stringValue)===VR}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$c(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function R9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===A9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Md(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=rn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=$c(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Md(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Md(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){fo(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Nn($c(this.value))}}function zR(n){const e=[];return fo(n.fields,(t,i)=>{const r=new rn([t]);if(Md(i)){const a=zR(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,Oe.min(),Oe.min(),Oe.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,r){return new dn(e,1,t,Oe.min(),i,r,0)}static newNoDocument(e,t){return new dn(e,2,t,Oe.min(),Oe.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Oe.min(),Oe.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.position=e,this.inclusive=t}}function iS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=be.comparator(be.fromName(u.referenceValue),t.key):i=nu(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function sS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function C9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class Pt extends LR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new O9(e,t,i):t==="array-contains"?new M9(e,i):t==="in"?new P9(e,i):t==="not-in"?new N9(e,i):t==="array-contains-any"?new V9(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k9(e,i):new D9(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nu(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends LR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ii(e,t)}matches(e){return UR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function UR(n){return n.op==="and"}function BR(n){return I9(n)&&UR(n)}function I9(n){for(const e of n.filters)if(e instanceof Ii)return!1;return!0}function Dv(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(BR(n))return n.filters.map(e=>Dv(e)).join(",");{const e=n.filters.map(t=>Dv(t)).join(",");return`${n.op}(${e})`}}function FR(n,e){return n instanceof Pt?function(i,r){return r instanceof Pt&&i.op===r.op&&i.field.isEqual(r.field)&&cs(i.value,r.value)}(n,e):n instanceof Ii?function(i,r){return r instanceof Ii&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,u,f)=>a&&FR(u,r.filters[f]),!0):!1}(n,e):void xe(19439)}function jR(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`}(n):n instanceof Ii?function(t){return t.op.toString()+" {"+t.getFilters().map(jR).join(" ,")+"}"}(n):"Filter"}class O9 extends Pt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class k9 extends Pt{constructor(e,t){super(e,"in",t),this.keys=qR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class D9 extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=qR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class M9 extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return U_(t)&&af(t.arrayValue,this.value)}}class P9 extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&af(this.value.arrayValue,t)}}class N9 extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!af(this.value.arrayValue,t)}}class V9 extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!U_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>af(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function rS(n,e=null,t=[],i=[],r=null,a=null,u=null){return new z9(n,e,t,i,r,a,u)}function B_(n){const e=ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Dv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Mm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>iu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>iu(i)).join(",")),e.Ie=t}return e.Ie}function F_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sS(n.startAt,e.startAt)&&sS(n.endAt,e.endAt)}function Mv(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function L9(n,e,t,i,r,a,u,f){return new pu(n,e,t,i,r,a,u,f)}function Nm(n){return new pu(n)}function oS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HR(n){return n.collectionGroup!==null}function Gc(n){const e=ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ft(rn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new lf(a,i))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new lf(rn.keyField(),i))}return e.Ee}function as(n){const e=ke(n);return e.de||(e.de=U9(e,Gc(n))),e.de}function U9(n,e){if(n.limitType==="F")return rS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new lf(r.field,a)});const t=n.endAt?new um(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new um(n.startAt.position,n.startAt.inclusive):null;return rS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Pv(n,e){const t=n.filters.concat([e]);return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nv(n,e,t){return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vm(n,e){return F_(as(n),as(e))&&n.limitType===e.limitType}function $R(n){return`${B_(as(n))}|lt:${n.limitType}`}function xl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>jR(r)).join(", ")}]`),Mm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>iu(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>iu(r)).join(",")),`Target(${i})`}(as(n))}; limitType=${n.limitType})`}function zm(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):be.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of Gc(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(u,f,d){const p=iS(u,f,d);return u.inclusive?p<=0:p<0}(i.startAt,Gc(i),r)||i.endAt&&!function(u,f,d){const p=iS(u,f,d);return u.inclusive?p>=0:p>0}(i.endAt,Gc(i),r))}(n,e)}function B9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GR(n){return(e,t)=>{let i=!1;for(const r of Gc(n)){const a=F9(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function F9(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),p=f.data.field(a);return d!==null&&p!==null?nu(d,p):xe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return IR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new _t(be.comparator);function Qs(){return j9}const YR=new _t(be.comparator);function Vc(...n){let e=YR;for(const t of n)e=e.insert(t.key,t);return e}function QR(n){let e=YR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fa(){return Yc()}function KR(){return Yc()}function Yc(){return new Ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const q9=new _t(be.comparator),H9=new Ft(be.comparator);function qe(...n){let e=H9;for(const t of n)e=e.add(t);return e}const $9=new Ft(Pe);function G9(){return $9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(e)?"-0":e}}function XR(n){return{integerValue:""+n}}function Y9(n,e){return b9(e)?XR(e):j_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function Q9(n,e,t){return n instanceof cm?function(r,a){const u={fields:{[DR]:{stringValue:kR},[PR]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&L_(a)&&(a=Pm(a)),a&&(u.fields[MR]=a),{mapValue:u}}(t,e):n instanceof uf?ZR(n,e):n instanceof cf?JR(n,e):function(r,a){const u=WR(r,a),f=aS(u)+aS(r.Re);return kv(u)&&kv(r.Re)?XR(f):j_(r.serializer,f)}(n,e)}function K9(n,e,t){return n instanceof uf?ZR(n,e):n instanceof cf?JR(n,e):t}function WR(n,e){return n instanceof fm?function(i){return kv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class cm extends Lm{}class uf extends Lm{constructor(e){super(),this.elements=e}}function ZR(n,e){const t=eC(e);for(const i of n.elements)t.some(r=>cs(r,i))||t.push(i);return{arrayValue:{values:t}}}class cf extends Lm{constructor(e){super(),this.elements=e}}function JR(n,e){let t=eC(e);for(const i of n.elements)t=t.filter(r=>!cs(r,i));return{arrayValue:{values:t}}}class fm extends Lm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function aS(n){return Ct(n.integerValue||n.doubleValue)}function eC(n){return U_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function X9(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof uf&&r instanceof uf||i instanceof cf&&r instanceof cf?tu(i.elements,r.elements,cs):i instanceof fm&&r instanceof fm?cs(i.Re,r.Re):i instanceof cm&&r instanceof cm}(n.transform,e.transform)}class W9{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Um{}function tC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new q_(n.key,mi.none()):new Af(n.key,n.data,mi.none());{const t=n.data,i=Nn.empty();let r=new Ft(rn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new ho(n.key,i,new Qn(r.toArray()),mi.none())}}function Z9(n,e,t){n instanceof Af?function(r,a,u){const f=r.value.clone(),d=uS(r.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ho?function(r,a,u){if(!Pd(r.precondition,a))return void a.convertToUnknownDocument(u.version);const f=uS(r.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(nC(r)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Qc(n,e,t,i){return n instanceof Af?function(a,u,f,d){if(!Pd(a.precondition,u))return f;const p=a.value.clone(),y=cS(a.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof ho?function(a,u,f,d){if(!Pd(a.precondition,u))return f;const p=cS(a.fieldTransforms,d,u),y=u.data;return y.setAll(nC(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(a,u,f){return Pd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function J9(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=WR(i.transform,r||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(i.field,a))}return t||null}function lS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&tu(i,r,(a,u)=>X9(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Af extends Um{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ho extends Um{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function uS(n,e,t){const i=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,K9(u,f,t[r]))}return i}function cS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,Q9(a,u,e))}return i}class q_ extends Um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eU extends Um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Z9(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=KR();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const d=tC(u,f);d!==null&&i.set(r.key,d),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(t,i)=>lS(t,i))&&tu(this.baseMutations,e.baseMutations,(t,i)=>lS(t,i))}}class H_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ze(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return q9}();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new H_(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ye;function sU(n){switch(n){case te.OK:return xe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function iC(n){if(n===void 0)return Ys("GRPC error has no .code"),te.UNKNOWN;switch(n){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return xe(39323,{code:n})}}(Ye=Mt||(Mt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=new Gr([4294967295,4294967295],0);function fS(n){const e=xR().encode(n),t=new vR;return t.update(e),new Uint8Array(t.digest())}function hS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gr([t,i],0),new Gr([r,a],0)]}class $_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new zc(`Invalid padding: ${t}`);if(i<0)throw new zc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new zc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gr.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Gr.fromNumber(i)));return r.compare(rU)===1&&(r=new Gr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=fS(e),[i,r]=hS(t);for(let a=0;a<this.hashCount;a++){const u=this.we(i,r,a);if(!this.be(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new $_(a,r,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=fS(e),[i,r]=hS(t);for(let a=0;a<this.hashCount;a++){const u=this.we(i,r,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bm(Oe.min(),r,new _t(Pe),Qs(),qe())}}class xf{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xf(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class sC{constructor(e,t){this.targetId=e,this.Ce=t}}class rC{constructor(e,t,i=an.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class dS{constructor(){this.Fe=0,this.Me=mS(),this.xe=an.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),i=qe();return this.Me.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xe(38017,{changeType:a})}}),new xf(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=mS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class oU{constructor(e){this.ze=e,this.je=new Map,this.He=Qs(),this.Je=yd(),this.Ye=yd(),this.Ze=new _t(Pe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const a=r.target;if(Mv(a))if(i===0){const u=new be(a.path);this.tt(t,u,dn.newNoDocument(u,Oe.min()))}else Ze(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,f;try{u=eo(i).toUint8Array()}catch(d){if(d instanceof OR)return eu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new $_(u,r,a)}catch(d){return eu(d instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,a,null),r++)}),r}It(e){const t=new Map;this.je.forEach((a,u)=>{const f=this._t(u);if(f){if(a.current&&Mv(f.target)){const d=new be(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,dn.newNoDocument(d,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let i=qe();this.Ye.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const r=new Bm(e,t,this.Ze,this.He,i);return this.He=Qs(),this.Je=yd(),this.Ye=yd(),this.Ze=new _t(Pe),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dS,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ft(Pe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ft(Pe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dS),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function yd(){return new _t(be.comparator)}function mS(){return new _t(be.comparator)}const aU={asc:"ASCENDING",desc:"DESCENDING"},lU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uU={and:"AND",or:"OR"};class cU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vv(n,e){return n.useProto3Json||Mm(e)?e:{value:e}}function hm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fU(n,e){return hm(n,e.toTimestamp())}function ls(n){return Ze(!!n,49232),Oe.fromTimestamp(function(t){const i=Jr(t);return new Bt(i.seconds,i.nanos)}(n))}function G_(n,e){return zv(n,e).canonicalString()}function zv(n,e){const t=function(r){return new ft(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aC(n){const e=ft.fromString(n);return Ze(hC(e),10190,{key:e.toString()}),e}function Lv(n,e){return G_(n.databaseId,e.path)}function $y(n,e){const t=aC(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(uC(t))}function lC(n,e){return G_(n.databaseId,e)}function hU(n){const e=aC(n);return e.length===4?ft.emptyPath():uC(e)}function Uv(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uC(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pS(n,e,t){return{name:Lv(n,e),fields:t.value.mapValue.fields}}function dU(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const y=p.code===void 0?te.UNKNOWN:iC(p.code);return new ge(y,p.message||"")}(u);t=new rC(i,r,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=$y(n,i.document.name),a=ls(i.document.updateTime),u=i.document.createTime?ls(i.document.createTime):Oe.min(),f=new Nn({mapValue:{fields:i.document.fields}}),d=dn.newFoundDocument(r,a,u,f),p=i.targetIds||[],y=i.removedTargetIds||[];t=new Nd(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=$y(n,i.document),a=i.readTime?ls(i.readTime):Oe.min(),u=dn.newNoDocument(r,a),f=i.removedTargetIds||[];t=new Nd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=$y(n,i.document),a=i.removedTargetIds||[];t=new Nd([],a,r,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new iU(r,a),f=i.targetId;t=new sC(f,u)}}return t}function mU(n,e){let t;if(e instanceof Af)t={update:pS(n,e.key,e.value)};else if(e instanceof q_)t={delete:Lv(n,e.key)};else if(e instanceof ho)t={update:pS(n,e.key,e.data),updateMask:TU(e.fieldMask)};else{if(!(e instanceof eU))return xe(16599,{ft:e.type});t={verify:Lv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof cm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fm)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw xe(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:fU(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)}(n,e.precondition)),t}function pU(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(r,a){let u=r.updateTime?ls(r.updateTime):ls(a);return u.isEqual(Oe.min())&&(u=ls(a)),new W9(u,r.transformResults||[])}(t,e))):[]}function gU(n,e){return{documents:[lC(n,e.path)]}}function yU(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=lC(n,r);const a=function(p){if(p.length!==0)return fC(Ii.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Rl(b.field),direction:bU(b.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Vv(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:r}}function vU(n){let e=hU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ze(i===1,65062);const y=t.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(_){const b=cC(_);return b instanceof Ii&&BR(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(b=>function(R){return new lf(Cl(R.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,Mm(b)?null:b}(t.limit));let d=null;t.startAt&&(d=function(_){const b=!!_.before,S=_.values||[];return new um(S,b)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const b=!_.before,S=_.values||[];return new um(S,b)}(t.endAt)),L9(e,r,u,a,f,"F",d,p)}function _U(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Cl(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Cl(t.unaryFilter.field);return Pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cl(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Cl(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Cl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ii.create(t.compositeFilter.filters.map(i=>cC(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(n):xe(30097,{filter:n})}function bU(n){return aU[n]}function wU(n){return lU[n]}function EU(n){return uU[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Cl(n){return rn.fromServerFormat(n.fieldPath)}function fC(n){return n instanceof Pt?function(t){if(t.op==="=="){if(nS(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(tS(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nS(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(tS(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:wU(t.op),value:t.value}}}(n):n instanceof Ii?function(t){const i=t.getFilters().map(r=>fC(r));return i.length===1?i[0]:{compositeFilter:{op:EU(t.op),filters:i}}}(n):xe(54877,{filter:n})}function TU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,i,r,a=Oe.min(),u=Oe.min(),f=an.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.wt=e}}function AU(n){const e=vU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.Cn=new RU}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Zr.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class RU{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ft(ft.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dC=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(dC,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new su(0)}static lr(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LruGarbageCollector",CU=1048576;function vS([n,e],[t,i]){const r=Pe(n,t);return r===0?Pe(e,i):r}class IU{constructor(e){this.Er=e,this.buffer=new Ft(vS),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();vS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(yS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mu(t)?pe(yS,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.mr(3e5)})}}class kU{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Dm.le);const i=new IU(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(gS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,a,u,f,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,u=Date.now(),this.nthSequenceNumber(e,r))).next(_=>(i=_,f=Date.now(),this.removeTargets(e,i,t))).next(_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Al()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:_})))}}function DU(n,e){return new kU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.changes=new Ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Qc(i.mutation,r,Qn.empty(),Bt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){const r=fa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Vc();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=fa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=Qs();const u=Yc(),f=function(){return Yc()}();return t.forEach((d,p)=>{const y=i.get(p.key);r.has(p.key)&&(y===void 0||y.mutation instanceof ho)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Qc(y.mutation,p,y.mutation.getFieldMask(),Bt.now())):u.set(p.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var _;return f.set(p,new PU(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Yc();let r=new _t((u,f)=>u-f),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let y=i.get(d)||Qn.empty();y=f.applyToLocalView(p,y),i.set(d,y);const _=(r.get(f.batchId)||qe()).add(d);r=r.insert(f.batchId,_)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,y=d.value,_=KR();y.forEach(b=>{if(!a.has(b)){const S=tC(t.get(b),i.get(b));S!==null&&_.set(b,S),a=a.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ne.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ne.resolve(fa());let f=sf,d=a;return u.next(p=>ne.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{d=d.insert(y,b)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,qe())).next(y=>({batchId:f,changes:QR(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let r=Vc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=Vc();return this.indexManager.getCollectionParents(e,a).next(f=>ne.forEach(f,d=>{const p=function(_,b){return new pu(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(y=>{y.forEach((_,b)=>{u=u.insert(_,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(u=>{a.forEach((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,dn.newInvalidDocument(y)))});let f=Vc();return u.forEach((d,p)=>{const y=a.get(d);y!==void 0&&Qc(y.mutation,p,Qn.empty(),Bt.now()),zm(t,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:ls(r.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:AU(r.bundledQuery),readTime:ls(r.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.overlays=new _t(be.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fa();return ne.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.St(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const r=fa(),a=t.length+1,u=new be(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ne.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new _t((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=a.get(p.largestBatchId);y===null&&(y=fa(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=fa(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=r)););return ne.resolve(f)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new nU(t,i));let a=this.Qr.get(t);a===void 0&&(a=qe(),this.Qr.set(t,a)),this.Qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.$r=new Ft(Qt.Ur),this.Kr=new Ft(Qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Qt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new be(new ft([])),i=new Qt(t,e),r=new Qt(t,e+1),a=[];return this.Kr.forEachInRange([i,r],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new be(new ft([])),i=new Qt(t,e),r=new Qt(t,e+1);let a=qe();return this.Kr.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Qt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return be.comparator(e.key,t.key)||Pe(e.Zr,t.Zr)}static Wr(e,t){return Pe(e.Zr,t.Zr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ft(Qt.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new tU(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.Xr=this.Xr.add(new Qt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ti(i),a=r<0?0:r;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?z_:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),r=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,r],u=>{const f=this.ei(u.Zr);a.push(f)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(Pe);return t.forEach(r=>{const a=new Qt(r,0),u=new Qt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],f=>{i=i.add(f.Zr)})}),ne.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;be.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new be(a),0);let f=new Ft(Pe);return this.Xr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(f=f.add(d.Zr)),!0)},u),ne.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ne.forEach(t.mutations,r=>{const a=new Qt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Qt(t,0),r=this.Xr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.ii=e,this.docs=function(){return new _t(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=Qs();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():dn.newInvalidDocument(r))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Qs();const u=t.path,f=new be(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||g9(p9(y),i)<=0||(r.has(y.key)||zm(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,r){xe(9500)}si(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new FU(this)}getSize(e){return ne.resolve(this.size)}}class FU extends MU{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.persistence=e,this.oi=new Ra(t=>B_(t),F_),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Y_,this.targetCount=0,this.ui=su.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new su(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ne.waitFor(a).next(()=>r)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.ci={},this.overlays={},this.li=new Dm(0),this.hi=!1,this.hi=!0,this.Pi=new LU,this.referenceDelegate=e(this),this.Ti=new jU(this),this.indexManager=new xU,this.remoteDocumentCache=function(r){return new BU(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new SU(t),this.Ei=new VU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new UU(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const r=new qU(this.li.next());return this.referenceDelegate.di(),i(r).next(a=>this.referenceDelegate.Ai(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ri(e,t){return ne.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class qU extends v9{constructor(e){super(),this.currentSequenceNumber=e}}class Q_{constructor(e){this.persistence=e,this.Vi=new Y_,this.mi=null}static fi(e){return new Q_(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.gi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,i=>{const r=be.fromPath(i);return this.pi(e,r).next(a=>{a||t.removeEntry(r,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class dm{constructor(e,t){this.persistence=e,this.yi=new Ra(i=>w9(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=DU(this,t)}static fi(e,t){return new dm(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(a=>a?ne.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.si(e,u=>this.Dr(e,u,t).next(f=>{f||(i++,a.removeEntry(u,Oe.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dd(e.data.value)),t}Dr(e,t,i){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.yi.get(t);return ne.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=qe(),r=qe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new K_(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return A6()?8:_9(wn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ws(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,t,r,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new HU;return this.Ss(e,t,u).next(f=>{if(a.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>a.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Al()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",xl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Al()<=Fe.DEBUG&&pe("QueryEngine","Query:",xl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Al()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",xl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(t))):ne.resolve())}ws(e,t){if(oS(t))return ne.resolve(null);let i=as(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Nv(t,null,"F"),i=as(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=qe(...a);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.vs(t,f);return this.Cs(t,p,u,d.readTime)?this.ws(e,Nv(t,null,"F")):this.Fs(e,p,t,d)}))})))}bs(e,t,i,r){return oS(t)||r.isEqual(Oe.min())?ne.resolve(null):this.ys.getDocuments(e,i).next(a=>{const u=this.vs(t,a);return this.Cs(t,u,i,r)?ne.resolve(null):(Al()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xl(t)),this.Fs(e,u,t,m9(r,sf)).next(f=>f))})}vs(e,t){let i=new Ft(GR(e));return t.forEach((r,a)=>{zm(e,a)&&(i=i.add(a))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return Al()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",xl(t)),this.ys.getDocumentsMatchingQuery(e,t,Zr.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="LocalStore",GU=3e8;class YU{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new _t(Pe),this.Os=new Ra(a=>B_(a),F_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function QU(n,e,t,i){return new YU(n,e,t,i)}async function pC(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let d=qe();for(const p of r){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of a){f.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:f}))})})}function KU(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,p,y){const _=p.batch,b=_.keys();let S=ne.resolve();return b.forEach(R=>{S=S.next(()=>y.getEntry(d,R)).next(P=>{const I=p.docVersions.get(R);Ze(I!==null,48541),P.version.compareTo(I)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let d=qe();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function gC(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function XU(n,e){const t=ke(n),i=e.snapshotVersion;let r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;const f=[];e.targetChanges.forEach((y,_)=>{const b=r.get(_);if(!b)return;f.push(t.Ti.removeMatchingKeys(a,y.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(a,y.addedDocuments,_)));let S=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(_,S),function(P,I,B){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=GU?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,S,y)&&f.push(t.Ti.updateTargetData(a,S))});let d=Qs(),p=qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),f.push(WU(a,u,e.documentUpdates).next(y=>{d=y.qs,p=y.Qs})),!i.isEqual(Oe.min())){const y=t.Ti.getLastRemoteSnapshotVersion(a).next(_=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(y)}return ne.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.xs=r,a))}function WU(n,e,t){let i=qe(),r=qe();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Qs();return t.forEach((f,d)=>{const p=a.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(f)),d.isNoDocument()&&d.version.isEqual(Oe.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):pe(X_,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{qs:u,Qs:r}})}function ZU(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=z_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JU(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(a=>a?(r=a,ne.resolve(r)):t.Ti.allocateTargetId(i).next(u=>(r=new Br(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Bv(n,e,t){const i=ke(n),r=i.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!mu(u))throw u;pe(X_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function _S(n,e,t){const i=ke(n);let r=Oe.min(),a=qe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,y){const _=ke(d),b=_.Os.get(y);return b!==void 0?ne.resolve(_.xs.get(b)):_.Ti.getTargetData(p,y)}(i,u,as(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,t?r:Oe.min(),t?a:qe())).next(f=>(e8(i,B9(e),f),{documents:f,$s:a})))}function e8(n,e,t){let i=n.Ns.get(e)||Oe.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ns.set(e,i)}class bS{constructor(){this.activeTargetIds=G9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t8{constructor(){this.xo=new bS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="ConnectivityMonitor";class ES{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(wS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(wS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Fv(){return vd===null?vd=function(){return 268435456+Math.round(2147483648*Math.random())}():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="RestConnection",i8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s8{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===am?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,a){const u=Fv(),f=this.jo(e,t.toUriEncodedString());pe(Gy,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,r,a);const{host:p}=new URL(f),y=uu(p);return this.Jo(e,f,d,i,y).then(_=>(pe(Gy,`Received RPC '${e}' ${u}: `,_),_),_=>{throw eu(Gy,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_})}Yo(e,t,i,r,a,u){return this.zo(e,t,i,r,a)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}jo(e,t){const i=i8[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class o8 extends s8{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const u=Fv();return new Promise((f,d)=>{const p=new _R;p.setWithCredentials(!0),p.listenOnce(bR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case kd.NO_ERROR:const _=p.getResponseJson();pe(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case kd.TIMEOUT:pe(fn,`RPC '${e}' ${u} timed out`),d(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const b=p.getStatus();if(pe(fn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const P=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN}(R.status);d(new ge(P,R.message))}else d(new ge(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(te.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{pe(fn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(r);pe(fn,`RPC '${e}' ${u} sending request:`,r),p.send(t,"POST",y,i,15)})}I_(e,t,i){const r=Fv(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=TR(),f=ER(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const y=a.join("");pe(fn,`Creating RPC '${e}' stream ${r}: ${y}`,d);const _=u.createWebChannel(y,d);this.E_(_);let b=!1,S=!1;const R=new r8({Zo:I=>{S?pe(fn,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(b||(pe(fn,`Opening RPC '${e}' stream ${r} transport.`),_.open(),b=!0),pe(fn,`RPC '${e}' stream ${r} sending:`,I),_.send(I))},Xo:()=>_.close()}),P=(I,B,H)=>{I.listen(B,G=>{try{H(G)}catch(X){setTimeout(()=>{throw X},0)}})};return P(_,Nc.EventType.OPEN,()=>{S||(pe(fn,`RPC '${e}' stream ${r} transport opened.`),R.__())}),P(_,Nc.EventType.CLOSE,()=>{S||(S=!0,pe(fn,`RPC '${e}' stream ${r} transport closed`),R.u_(),this.d_(_))}),P(_,Nc.EventType.ERROR,I=>{S||(S=!0,eu(fn,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),R.u_(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),P(_,Nc.EventType.MESSAGE,I=>{var B;if(!S){const H=I.data[0];Ze(!!H,16349);const G=H,X=(G==null?void 0:G.error)||((B=G[0])===null||B===void 0?void 0:B.error);if(X){pe(fn,`RPC '${e}' stream ${r} received error:`,X);const re=X.status;let se=function(C){const N=Mt[C];if(N!==void 0)return iC(N)}(re),k=X.message;se===void 0&&(se=te.INTERNAL,k="Unknown error status: "+re+" with message "+X.message),S=!0,R.u_(new ge(se,k)),_.close()}else pe(fn,`RPC '${e}' stream ${r} received:`,H),R.c_(H)}}),P(f,wR.STAT_EVENT,I=>{I.stat===Cv.PROXY?pe(fn,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===Cv.NOPROXY&&pe(fn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n){return new cU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i=1e3,r=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=r,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-i);r>0&&pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="PersistentStream";class vC{constructor(e,t,i,r,a,u,f,d){this.xi=e,this.S_=i,this.D_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new yC(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ys(t.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===t&&this.z_(i,r)},i=>{e(()=>{const r=new ge(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(TS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(pe(TS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a8 extends vC{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=dU(this.serializer,e),i=function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?ls(u.readTime):Oe.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Uv(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=Mv(d)?{documents:gU(a,d)}:{query:yU(a,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=oC(a,u.resumeToken);const p=Vv(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=hm(a,u.snapshotVersion.toTimestamp());const p=Vv(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=_U(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Uv(this.serializer),t.removeTarget=e,this.Q_(t)}}class l8 extends vC{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=pU(e.writeResults,e.commitTime),i=ls(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=Uv(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mU(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{}class c8 extends u8{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,zv(t,i),r,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(te.UNKNOWN,a.toString())})}Yo(e,t,i,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,zv(t,i),r,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(te.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class f8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ys(t),this.ua=!1):pe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class h8{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{i.enqueueAndForget(async()=>{Ca(this)&&(pe(Ta,"Restarting streams for network reachability change."),await async function(d){const p=ke(d);p.da.add(4),await Rf(p),p.Va.set("Unknown"),p.da.delete(4),await jm(p)}(this))})}),this.Va=new f8(i,r)}}async function jm(n){if(Ca(n))for(const e of n.Aa)await e(!0)}async function Rf(n){for(const e of n.Aa)await e(!1)}function _C(n,e){const t=ke(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),eb(t)?J_(t):gu(t).N_()&&Z_(t,e))}function W_(n,e){const t=ke(n),i=gu(t);t.Ea.delete(e),i.N_()&&bC(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ca(t)&&t.Va.set("Unknown"))}function Z_(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gu(n).Z_(e)}function bC(n,e){n.ma.Ke(e),gu(n).X_(e)}function J_(n){n.ma=new oU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),gu(n).start(),n.Va.ca()}function eb(n){return Ca(n)&&!gu(n).O_()&&n.Ea.size>0}function Ca(n){return ke(n).da.size===0}function wC(n){n.ma=void 0}async function d8(n){n.Va.set("Online")}async function m8(n){n.Ea.forEach((e,t)=>{Z_(n,e)})}async function p8(n,e){wC(n),eb(n)?(n.Va.Pa(e),J_(n)):n.Va.set("Unknown")}async function g8(n,e,t){if(n.Va.set("Online"),e instanceof rC&&e.state===2&&e.cause)try{await async function(r,a){const u=a.cause;for(const f of a.targetIds)r.Ea.has(f)&&(await r.remoteSyncer.rejectListen(f,u),r.Ea.delete(f),r.ma.removeTarget(f))}(n,e)}catch(i){pe(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await mm(n,i)}else if(e instanceof Nd?n.ma.Xe(e):e instanceof sC?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Oe.min()))try{const i=await gC(n.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.ma.It(u);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=a.Ea.get(p);y&&a.Ea.set(p,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,p)=>{const y=a.Ea.get(d);if(!y)return;a.Ea.set(d,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),bC(a,d);const _=new Br(y.target,d,p,y.sequenceNumber);Z_(a,_)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){pe(Ta,"Failed to raise snapshot:",i),await mm(n,i)}}async function mm(n,e,t){if(!mu(e))throw e;n.da.add(1),await Rf(n),n.Va.set("Offline"),t||(t=()=>gC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Ta,"Retrying IndexedDB access"),await t(),n.da.delete(1),await jm(n)})}function EC(n,e){return e().catch(t=>mm(n,t,e))}async function qm(n){const e=ke(n),t=no(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:z_;for(;y8(e);)try{const r=await ZU(e.localStore,i);if(r===null){e.Ia.length===0&&t.k_();break}i=r.batchId,v8(e,r)}catch(r){await mm(e,r)}TC(e)&&SC(e)}function y8(n){return Ca(n)&&n.Ia.length<10}function v8(n,e){n.Ia.push(e);const t=no(n);t.N_()&&t.ea&&t.ta(e.mutations)}function TC(n){return Ca(n)&&!no(n).O_()&&n.Ia.length>0}function SC(n){no(n).start()}async function _8(n){no(n).ia()}async function b8(n){const e=no(n);for(const t of n.Ia)e.ta(t.mutations)}async function w8(n,e,t){const i=n.Ia.shift(),r=H_.from(i,e,t);await EC(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await qm(n)}async function E8(n,e){e&&no(n).ea&&await async function(i,r){if(function(u){return sU(u)&&u!==te.ABORTED}(r.code)){const a=i.Ia.shift();no(i).L_(),await EC(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await qm(i)}}(n,e),TC(n)&&SC(n)}async function SS(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),pe(Ta,"RemoteStore received new credentials");const i=Ca(t);t.da.add(3),await Rf(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await jm(t)}async function T8(n,e){const t=ke(n);e?(t.da.delete(2),await jm(t)):e||(t.da.add(2),await Rf(t),t.Va.set("Unknown"))}function gu(n){return n.fa||(n.fa=function(t,i,r){const a=ke(t);return a.oa(),new a8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{e_:d8.bind(null,n),n_:m8.bind(null,n),i_:p8.bind(null,n),Y_:g8.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),eb(n)?J_(n):n.Va.set("Unknown")):(await n.fa.stop(),wC(n))})),n.fa}function no(n){return n.ga||(n.ga=function(t,i,r){const a=ke(t);return a.oa(),new l8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:_8.bind(null,n),i_:E8.bind(null,n),na:b8.bind(null,n),ra:w8.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await qm(n)):(await n.ga.stop(),n.Ia.length>0&&(pe(Ta,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new tb(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nb(n,e){if(Ys("AsyncQueue",`${e}: ${n}`),mu(n))return new ge(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(e){return new Yl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=Vc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.pa=new _t(be.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ru{constructor(e,t,i,r,a,u,f,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new ru(e,t,Yl.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class A8{constructor(){this.queries=xS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=ke(t),a=r.queries;r.queries=xS(),a.forEach((u,f)=>{for(const d of f.Sa)d.onError(i)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function xS(){return new Ra(n=>$R(n),Vm)}async function ib(n,e){const t=ke(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.Da()&&e.va()&&(i=2):(a=new S8,i=e.va()?0:1);try{switch(i){case 0:a.ba=await t.onListen(r,!0);break;case 1:a.ba=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const f=nb(u,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&rb(t)}async function sb(n,e){const t=ke(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?r=e.va()?0:1:!a.Da()&&e.va()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function x8(n,e){const t=ke(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const f of u.Sa)f.Ma(r)&&(i=!0);u.ba=r}}i&&rb(t)}function R8(n,e,t){const i=ke(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function rb(n){n.Ca.forEach(e=>{e.next()})}var jv,RS;(RS=jv||(jv={})).xa="default",RS.Cache="cache";class ob{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ru(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.key=e}}class xC{constructor(e){this.key=e}}class C8{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.Za=GR(e),this.Xa=new Yl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new AS,r=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,_)=>{const b=r.get(y),S=zm(this.query,_)?_:null,R=!!b&&this.mutatedKeys.has(b.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;b&&S?b.data.isEqual(S.data)?R!==P&&(i.track({type:3,doc:S}),I=!0):this.ru(b,S)||(i.track({type:2,doc:S}),I=!0,(d&&this.Za(S,d)>0||p&&this.Za(S,p)<0)&&(f=!0)):!b&&S?(i.track({type:0,doc:S}),I=!0):b&&!S&&(i.track({type:1,doc:b}),I=!0,(d||p)&&(f=!0)),I&&(S?(u=u.add(S),a=P?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{Xa:u,nu:i,Cs:f,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,_)=>function(S,R){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:I})}};return P(S)-P(R)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(i),r=r!=null&&r;const f=t&&!r?this.su():[],d=this.Ya.size===0&&this.current&&!r?1:0,p=d!==this.Ja;return this.Ja=d,u.length!==0||p?{snapshot:new ru(this.query,e.Xa,a,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new AS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new xC(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new AC(i))}),t}au(e){this.Ha=e.$s,this.Ya=qe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ru.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ab="SyncEngine";class I8{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class O8{constructor(e){this.key=e,this.cu=!1}}class k8{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Ra(f=>$R(f),Vm),this.Pu=new Map,this.Tu=new Set,this.Iu=new _t(be.comparator),this.Eu=new Map,this.du=new Y_,this.Au={},this.Ru=new Map,this.Vu=su.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function D8(n,e,t=!0){const i=DC(n);let r;const a=i.hu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.uu()):r=await RC(i,e,t,!0),r}async function M8(n,e){const t=DC(n);await RC(t,e,!0,!1)}async function RC(n,e,t,i){const r=await JU(n.localStore,as(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await P8(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&_C(n.remoteStore,r),f}async function P8(n,e,t,i,r){n.fu=(_,b,S)=>async function(P,I,B,H){let G=I.view.tu(B);G.Cs&&(G=await _S(P.localStore,I.query,!1).then(({documents:k})=>I.view.tu(k,G)));const X=H&&H.targetChanges.get(I.targetId),re=H&&H.targetMismatches.get(I.targetId)!=null,se=I.view.applyChanges(G,P.isPrimaryClient,X,re);return IS(P,I.targetId,se.ou),se.snapshot}(n,_,b,S);const a=await _S(n.localStore,e,!0),u=new C8(e,a.$s),f=u.tu(a.documents),d=xf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),p=u.applyChanges(f,n.isPrimaryClient,d);IS(n,t,p.ou);const y=new I8(e,t,u);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function N8(n,e,t){const i=ke(n),r=i.hu.get(e),a=i.Pu.get(r.targetId);if(a.length>1)return i.Pu.set(r.targetId,a.filter(u=>!Vm(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Bv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&W_(i.remoteStore,r.targetId),qv(i,r.targetId)}).catch(du)):(qv(i,r.targetId),await Bv(i.localStore,r.targetId,!0))}async function V8(n,e){const t=ke(n),i=t.hu.get(e),r=t.Pu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),W_(t.remoteStore,i.targetId))}async function z8(n,e,t){const i=H8(n);try{const r=await function(u,f){const d=ke(u),p=Bt.now(),y=f.reduce((S,R)=>S.add(R.key),qe());let _,b;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Qs(),P=qe();return d.Bs.getEntries(S,y).next(I=>{R=I,R.forEach((B,H)=>{H.isValidDocument()||(P=P.add(B))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,R)).next(I=>{_=I;const B=[];for(const H of f){const G=J9(H,_.get(H.key).overlayedDocument);G!=null&&B.push(new ho(H.key,G,zR(G.value.mapValue),mi.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,B,f)}).next(I=>{b=I;const B=I.applyToLocalDocumentSet(_,P);return d.documentOverlayCache.saveOverlays(S,I.batchId,B)})}).then(()=>({batchId:b.batchId,changes:QR(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(u,f,d){let p=u.Au[u.currentUser.toKey()];p||(p=new _t(Pe)),p=p.insert(f,d),u.Au[u.currentUser.toKey()]=p}(i,r.batchId,t),await Cf(i,r.changes),await qm(i.remoteStore)}catch(r){const a=nb(r,"Failed to persist write");t.reject(a)}}async function CC(n,e){const t=ke(n);try{const i=await XU(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.Eu.get(a);u&&(Ze(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.cu=!0:r.modifiedDocuments.size>0?Ze(u.cu,14607):r.removedDocuments.size>0&&(Ze(u.cu,42227),u.cu=!1))}),await Cf(t,i,e)}catch(i){await du(i)}}function CS(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.hu.forEach((a,u)=>{const f=u.view.Fa(e);f.snapshot&&r.push(f.snapshot)}),function(u,f){const d=ke(u);d.onlineState=f;let p=!1;d.queries.forEach((y,_)=>{for(const b of _.Sa)b.Fa(f)&&(p=!0)}),p&&rb(d)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function L8(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),a=r&&r.key;if(a){let u=new _t(be.comparator);u=u.insert(a,dn.newNoDocument(a,Oe.min()));const f=qe().add(a),d=new Bm(Oe.min(),new Map,new _t(Pe),u,f);await CC(i,d),i.Iu=i.Iu.remove(a),i.Eu.delete(e),lb(i)}else await Bv(i.localStore,e,!1).then(()=>qv(i,e,t)).catch(du)}async function U8(n,e){const t=ke(n),i=e.batch.batchId;try{const r=await KU(t.localStore,e);OC(t,i,null),IC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Cf(t,r)}catch(r){await du(r)}}async function B8(n,e,t){const i=ke(n);try{const r=await function(u,f){const d=ke(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,f).next(_=>(Ze(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,e);OC(i,e,t),IC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Cf(i,r)}catch(r){await du(r)}}function IC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function OC(n,e,t){const i=ke(n);let r=i.Au[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||kC(n,i)})}function kC(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(W_(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),lb(n))}function IS(n,e,t){for(const i of t)i instanceof AC?(n.du.addReference(i.key,e),F8(n,i)):i instanceof xC?(pe(ab,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||kC(n,i.key)):xe(19791,{pu:i})}function F8(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(pe(ab,"New document in limbo: "+t),n.Tu.add(i),lb(n))}function lb(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new be(ft.fromString(e)),i=n.Vu.next();n.Eu.set(i,new O8(t)),n.Iu=n.Iu.insert(t,i),_C(n.remoteStore,new Br(as(Nm(t.path)),i,"TargetPurposeLimboResolution",Dm.le))}}async function Cf(n,e,t){const i=ke(n),r=[],a=[],u=[];i.hu.isEmpty()||(i.hu.forEach((f,d)=>{u.push(i.fu(d,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){r.push(p);const _=K_.Rs(d.targetId,p);a.push(_)}}))}),await Promise.all(u),i.lu.Y_(r),await async function(d,p){const y=ke(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ne.forEach(p,b=>ne.forEach(b.ds,S=>y.persistence.referenceDelegate.addReference(_,b.targetId,S)).next(()=>ne.forEach(b.As,S=>y.persistence.referenceDelegate.removeReference(_,b.targetId,S)))))}catch(_){if(!mu(_))throw _;pe(X_,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const S=y.xs.get(b),R=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(R);y.xs=y.xs.insert(b,P)}}}(i.localStore,a))}async function j8(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){pe(ab,"User change. New user:",e.toKey());const i=await pC(t.localStore,e);t.currentUser=e,function(a,u){a.Ru.forEach(f=>{f.forEach(d=>{d.reject(new ge(te.CANCELLED,u))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cf(t,i.ks)}}function q8(n,e){const t=ke(n),i=t.Eu.get(e);if(i&&i.cu)return qe().add(i.key);{let r=qe();const a=t.Pu.get(e);if(!a)return r;for(const u of a){const f=t.hu.get(u);r=r.unionWith(f.view.eu)}return r}}function DC(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L8.bind(null,e),e.lu.Y_=x8.bind(null,e.eventManager),e.lu.gu=R8.bind(null,e.eventManager),e}function H8(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B8.bind(null,e),e}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return QU(this.persistence,new $U,e.initialUser,this.serializer)}Su(e){return new mC(Q_.fi,this.serializer)}bu(e){return new t8}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class $8 extends pm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ze(this.persistence.referenceDelegate instanceof dm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OU(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new mC(i=>dm.fi(i,t),this.serializer)}}class Hv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j8.bind(null,this.syncEngine),await T8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A8}()}createDatastore(e){const t=Fm(e.databaseInfo.databaseId),i=function(a){return new o8(a)}(e.databaseInfo);return function(a,u,f,d){return new c8(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,u,f){return new h8(i,r,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>CS(this.syncEngine,t,0),function(){return ES.C()?new ES:new n8}())}createSyncEngine(e,t){return function(r,a,u,f,d,p,y){const _=new k8(r,a,u,f,d,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const a=ke(r);pe(Ta,"RemoteStore shutting down."),a.da.add(5),await Rf(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Hv.provider={build:()=>new Hv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="FirestoreClient";class G8{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=hn.UNAUTHENTICATED,this.clientId=RR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{pe(io,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(pe(io,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=nb(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Qy(n,e){n.asyncQueue.verifyOperationInProgress(),pe(io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await pC(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function OS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Y8(n);pe(io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>SS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>SS(e.remoteStore,r)),n._onlineComponents=e}async function Y8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(io,"Using user provided OfflineComponentProvider");try{await Qy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;eu("Error using user provided cache. Falling back to memory cache: "+t),await Qy(n,new pm)}}else pe(io,"Using default OfflineComponentProvider"),await Qy(n,new $8(void 0));return n._offlineComponents}async function MC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(io,"Using user provided OnlineComponentProvider"),await OS(n,n._uninitializedComponentsProvider._online)):(pe(io,"Using default OnlineComponentProvider"),await OS(n,new Hv))),n._onlineComponents}function Q8(n){return MC(n).then(e=>e.syncEngine)}async function gm(n){const e=await MC(n),t=e.eventManager;return t.onListen=D8.bind(null,e.syncEngine),t.onUnlisten=N8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V8.bind(null,e.syncEngine),t}function K8(n,e,t={}){const i=new js;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const y=new ub({next:b=>{y.xu(),u.enqueueAndForget(()=>sb(a,_));const S=b.docs.has(f);!S&&b.fromCache?p.reject(new ge(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&d&&d.source==="server"?p.reject(new ge(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new ob(Nm(f.path),y,{includeMetadataChanges:!0,Qa:!0});return ib(a,_)}(await gm(n),n.asyncQueue,e,t,i)),i.promise}function X8(n,e,t={}){const i=new js;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const y=new ub({next:b=>{y.xu(),u.enqueueAndForget(()=>sb(a,_)),b.fromCache&&d.source==="server"?p.reject(new ge(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new ob(f,y,{includeMetadataChanges:!0,Qa:!0});return ib(a,_)}(await gm(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n,e,t){if(!t)throw new ge(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W8(n,e,t,i){if(e===!0&&i===!0)throw new ge(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DS(n){if(!be.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MS(n){if(be.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hm(n);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firestore.googleapis.com",PS=!0;class NS{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VC,this.ssl=PS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CU)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r9;switch(i.type){case"firstParty":return new u9(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=kS.get(t);i&&(pe("ComponentProvider","Removing Datastore"),kS.delete(t),i.terminate())}(this),Promise.resolve()}}function Z8(n,e,t,i={}){var r;n=zn(n,$m);const a=uu(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(Ox(`https://${d}`),kx("Firestore",!0)),u.host!==VC&&u.host!==d&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:a,emulatorOptions:i});if(!va(p,f)&&(n._setSettings(p),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=hn.MOCK_USER;else{y=g6(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new hn(b)}n._authCredentials=new o9(new AR(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Yr extends mo{constructor(e,t,i){super(e,t,Nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new be(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function yu(n,e,...t){if(n=Wt(n),NC("collection","path",e),n instanceof $m){const i=ft.fromString(e,...t);return MS(i),new Yr(n,null,i)}{if(!(n instanceof _n||n instanceof Yr))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return MS(i),new Yr(n.firestore,null,i)}}function so(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=RR.newId()),NC("doc","path",e),n instanceof $m){const i=ft.fromString(e,...t);return DS(i),new _n(n,null,new be(i))}{if(!(n instanceof _n||n instanceof Yr))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return DS(i),new _n(n.firestore,n instanceof Yr?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="AsyncQueue";class zS{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new yC(this,"async_queue_retry"),this.rc=()=>{const i=Yy();i&&pe(VS,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Yy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Yy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new js;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!mu(e))throw e;pe(VS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ys("INTERNAL UNHANDLED ERROR: ",LS(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=tb.createAndSchedule(this,e,t,i,a=>this.uc(a));return this.Zu.push(r),r}oc(){this.Xu&&xe(47125,{cc:LS(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function LS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ks extends $m{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new zS,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zS(e),this._firestoreClient=void 0,await e}}}function J8(n,e){const t=typeof n=="object"?n:Nx(),i=typeof n=="string"?n:am,r=x_(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=m6("firestore");a&&Z8(r,...a)}return r}function Gm(n){if(n._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e7(n),n._firestoreClient}function e7(n){var e,t,i;const r=n._freezeSettings(),a=function(f,d,p,y){return new S9(f,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,PC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new G8(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(an.fromBase64String(e))}catch(t){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ou(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=/^__.*__$/;class n7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new Af(e,this.data,t,this.fieldTransforms)}}class zC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ho(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ic:n})}}class db{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new db(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ym(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(LC(this.Ic)&&t7.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class i7{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fm(e)}bc(e,t,i,r=!1){return new db({Ic:e,methodName:t,wc:i,path:rn.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qm(n){const e=n._freezeSettings(),t=Fm(n._databaseId);return new i7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UC(n,e,t,i,r,a={}){const u=n.bc(a.merge||a.mergeFields?2:0,e,t,r);mb("Data must be an object, but it was:",u,i);const f=BC(i,u);let d,p;if(a.merge)d=new Qn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const b=$v(e,_,t);if(!u.contains(b))throw new ge(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);jC(y,b)||y.push(b)}d=new Qn(y),p=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=u.fieldTransforms;return new n7(new Nn(f),d,p)}class Km extends cb{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Km}}function s7(n,e,t,i){const r=n.bc(1,e,t);mb("Data must be an object, but it was:",r,i);const a=[],u=Nn.empty();fo(i,(d,p)=>{const y=pb(e,d,t);p=Wt(p);const _=r.mc(y);if(p instanceof Km)a.push(y);else{const b=If(p,_);b!=null&&(a.push(y),u.set(y,b))}});const f=new Qn(a);return new zC(u,f,r.fieldTransforms)}function r7(n,e,t,i,r,a){const u=n.bc(1,e,t),f=[$v(e,i,t)],d=[r];if(a.length%2!=0)throw new ge(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)f.push($v(e,a[b])),d.push(a[b+1]);const p=[],y=Nn.empty();for(let b=f.length-1;b>=0;--b)if(!jC(p,f[b])){const S=f[b];let R=d[b];R=Wt(R);const P=u.mc(S);if(R instanceof Km)p.push(S);else{const I=If(R,P);I!=null&&(p.push(S),y.set(S,I))}}const _=new Qn(p);return new zC(y,_,u.fieldTransforms)}function o7(n,e,t,i=!1){return If(t,n.bc(i?4:3,e))}function If(n,e){if(FC(n=Wt(n)))return mb("Unsupported field value:",e,n),BC(n,e);if(n instanceof cb)return function(i,r){if(!LC(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const a=[];let u=0;for(const f of i){let d=If(f,r.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=Wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y9(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Bt.fromDate(i);return{timestampValue:hm(r.serializer,a)}}if(i instanceof Bt){const a=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hm(r.serializer,a)}}if(i instanceof fb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ou)return{bytesValue:oC(r.serializer,i._byteString)};if(i instanceof _n){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:G_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof hb)return function(u,f){return{mapValue:{fields:{[NR]:{stringValue:VR},[lm]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return j_(f.serializer,p)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Hm(i)}`)}(n,e)}function BC(n,e){const t={};return IR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(n,(i,r)=>{const a=If(r,e.Ac(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function FC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof fb||n instanceof ou||n instanceof _n||n instanceof cb||n instanceof hb)}function mb(n,e,t){if(!FC(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=Hm(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function $v(n,e,t){if((e=Wt(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return pb(n,e);throw ym("Field path arguments must be of type string or ",n,!1,void 0,t)}const a7=new RegExp("[~\\*/\\[\\]]");function pb(n,e,t){if(e.search(a7)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ym(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ym(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${r}`),d+=")"),new ge(te.INVALID_ARGUMENT,f+n+d)}function jC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class l7 extends qC{data(){return super.data()}}function Xm(n,e){return typeof e=="string"?pb(n,e):e instanceof Ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gb{}class $C extends gb{}function Wm(n,e,...t){let i=[];e instanceof gb&&i.push(e),i=i.concat(t),function(a){const u=a.filter(d=>d instanceof yb).length,f=a.filter(d=>d instanceof Zm).length;if(u>1||u>0&&f>0)throw new ge(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Zm extends $C{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Zm(e,t,i)}_apply(e){const t=this._parse(e);return GC(e._query,t),new mo(e.firestore,e.converter,Pv(e._query,t))}_parse(e){const t=Qm(e.firestore);return function(a,u,f,d,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){FS(_,y);const R=[];for(const P of _)R.push(BS(d,a,P));b={arrayValue:{values:R}}}else b=BS(d,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||FS(_,y),b=o7(f,u,_,y==="in"||y==="not-in");return Pt.create(p,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ff(n,e,t){const i=e,r=Xm("where",n);return Zm._create(r,i,t)}class yb extends gb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ii.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,a){let u=r;const f=a.getFlattenedFilters();for(const d of f)GC(u,d),u=Pv(u,d)}(e._query,t),new mo(e.firestore,e.converter,Pv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vb extends $C{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vb(e,t)}_apply(e){const t=function(r,a,u){if(r.startAt!==null)throw new ge(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ge(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lf(a,u)}(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,function(r,a){const u=r.explicitOrderBy.concat([a]);return new pu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function u7(n,e="asc"){const t=e,i=Xm("orderBy",n);return vb._create(i,t)}function BS(n,e,t){if(typeof(t=Wt(t))=="string"){if(t==="")throw new ge(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HR(e)&&t.indexOf("/")!==-1)throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ft.fromString(t));if(!be.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eS(n,new be(i))}if(t instanceof _n)return eS(n,t._key);throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(t)}.`)}function FS(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GC(n,e){const t=function(r,a){for(const u of r)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class c7{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fo(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,r;const a=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[lm].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>Ct(u.doubleValue));return new hb(a)}convertGeoPoint(e){return new fb(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const t=Jr(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ft.fromString(e);Ze(hC(i),9688,{name:e});const r=new of(i.get(1),i.get(3)),a=new be(i.popFirst(5));return r.isEqual(t)||Ys(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QC extends qC{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Xm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vd extends QC{data(e={}){return super.data(e)}}class KC{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vd(this._firestore,this._userDataWriter,i.key,i,new Lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(f=>{const d=new Vd(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Lc(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new Vd(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Lc(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:f7(f.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){n=zn(n,_n);const e=zn(n.firestore,Ks);return K8(Gm(e),n._key).then(t=>tI(e,n,t))}class _b extends c7{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function bb(n){n=zn(n,mo);const e=zn(n.firestore,Ks),t=Gm(e),i=new _b(e);return HC(n._query),X8(t,n._query).then(r=>new KC(e,i,n,r))}function WC(n,e,t){n=zn(n,_n);const i=zn(n.firestore,Ks),r=YC(n.converter,e,t);return Jm(i,[UC(Qm(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,mi.none())])}function ZC(n,e,t,...i){n=zn(n,_n);const r=zn(n.firestore,Ks),a=Qm(r);let u;return u=typeof(e=Wt(e))=="string"||e instanceof Ym?r7(a,"updateDoc",n._key,e,t,i):s7(a,"updateDoc",n._key,e),Jm(r,[u.toMutation(n._key,mi.exists(!0))])}function JC(n){return Jm(zn(n.firestore,Ks),[new q_(n._key,mi.none())])}function eI(n,e){const t=zn(n.firestore,Ks),i=so(n),r=YC(n.converter,e);return Jm(t,[UC(Qm(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}function h7(n,...e){var t,i,r;n=Wt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||US(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(US(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[u+2]=(r=_.complete)===null||r===void 0?void 0:r.bind(_)}let d,p,y;if(n instanceof _n)p=zn(n.firestore,Ks),y=Nm(n._key.path),d={next:_=>{e[u]&&e[u](tI(p,n,_))},error:e[u+1],complete:e[u+2]};else{const _=zn(n,mo);p=zn(_.firestore,Ks),y=_._query;const b=new _b(p);d={next:S=>{e[u]&&e[u](new KC(p,b,_,S))},error:e[u+1],complete:e[u+2]},HC(n._query)}return function(b,S,R,P){const I=new ub(P),B=new ob(S,I,R);return b.asyncQueue.enqueueAndForget(async()=>ib(await gm(b),B)),()=>{I.xu(),b.asyncQueue.enqueueAndForget(async()=>sb(await gm(b),B))}}(Gm(p),y,f,d)}function Jm(n,e){return function(i,r){const a=new js;return i.asyncQueue.enqueueAndForget(async()=>z8(await Q8(i),r,a)),a.promise}(Gm(n),e)}function tI(n,e,t){const i=t.docs.get(e._key),r=new _b(n);return new QC(n,r,e._key,i,new Lc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){hu=r})(cu),Jl(new _a("firestore",(i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Ks(new a9(i.getProvider("auth-internal")),new c9(u,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(p.options.projectId,y)}(u,r),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),$r(jT,qT,e),$r(jT,qT,"esm2017")})();const d7={apiKey:"AIzaSyBXLIIMWQj3KFQEUs4lcvk6NeR8Gr8zAbQ",authDomain:"project-sapphire-d8da8.firebaseapp.com",projectId:"project-sapphire-d8da8",appId:"1:641315751166:web:a06da9ec60ee071028d1af"},nI=Px(d7),us=t9(nI),Xn=J8(nI);function m7({mode:n,onClose:e}){const[t,i]=le.useState(""),[r,a]=le.useState(""),[u,f]=le.useState(""),d=async p=>{p.preventDefault(),f("");try{n==="signup"?await BL(us,t,r):await FL(us,t,r),e()}catch(y){f(y.message)}};return Q.jsx("div",{className:"auth-modal-overlay",children:Q.jsxs("div",{className:"auth-modal",children:[Q.jsx("button",{className:"close-btn",onClick:e,children:"×"}),Q.jsx("h2",{children:n==="signup"?"Sign Up":"Sign In"}),Q.jsxs("form",{onSubmit:d,children:[Q.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:p=>i(p.target.value),required:!0}),Q.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:p=>a(p.target.value),required:!0}),u&&Q.jsx("p",{className:"auth-error",children:u}),Q.jsx("button",{type:"submit",children:n==="signup"?"Create Account":"Login"})]})]})})}function p7({onClose:n}){const[e,t]=le.useState([]),[i,r]=le.useState("all");le.useEffect(()=>{(async()=>{const d=us.currentUser;if(!d)return;const p=Wm(yu(Xn,"chats"),ff("uid","==",d.uid)),_=(await bb(p)).docs.map(b=>({id:b.id,...b.data()}));t(_)})()},[]);const a=async(f,d)=>{const p=so(Xn,"chats",f);await ZC(p,{favorite:!d}),t(y=>y.map(_=>_.id===f?{..._,favorite:!d}:_))},u=i==="favorites"?e.filter(f=>f.favorite):e;return Q.jsx("div",{className:"auth-modal-overlay",children:Q.jsxs("div",{className:"auth-modal",children:[Q.jsx("button",{className:"close-btn",onClick:n,children:"×"}),Q.jsx("h2",{children:"Chat History"}),Q.jsxs("div",{className:"tabs",children:[Q.jsx("button",{className:`tab-button ${i==="all"?"active":""}`,onClick:()=>r("all"),children:"All Chats"}),Q.jsx("button",{className:`tab-button ${i==="favorites"?"active":""}`,onClick:()=>r("favorites"),children:Q.jsxs("span",{className:"favorites-tab-label",children:["Favorites ",Q.jsx("span",{className:"star",children:"★"})]})})]}),u.length===0?Q.jsx("p",{children:"No messages yet."}):Q.jsx("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:u.map((f,d)=>Q.jsxs("li",{style:{marginBottom:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[Q.jsxs("div",{children:[Q.jsx("strong",{children:"You:"})," ",f.userMessage,Q.jsx("br",{}),Q.jsx("strong",{children:"AI:"})," ",f.assistantMessage]}),Q.jsx("button",{onClick:()=>a(f.id,f.favorite),style:{border:"none",background:"none",fontSize:f.favorite?"1.5rem":"1.25rem",cursor:"pointer",color:f.favorite?"#0a84ff":"#888",textShadow:f.favorite?"0 0 6px #0a84ff":"none",transition:"all 0.2s ease"},title:f.favorite?"Unfavorite":"Favorite",children:f.favorite?"★":"☆"})]},d))})]})})}function iI({userAvatar:n,assistantAvatar:e,userName:t="",assistantName:i="",onAvatarChange:r,onNameChange:a,onClose:u}){const[f,d]=le.useState(n),[p,y]=le.useState(e),[_,b]=le.useState(t),[S,R]=le.useState(i),P=()=>{f&&r("user",f),p&&r("assistant",p),_&&a("user",_),S&&a("assistant",S),u()};return Q.jsx("div",{className:"profile-modal-overlay",children:Q.jsxs("div",{className:"profile-modal",children:[Q.jsx("h2",{children:"Customize Profile"}),Q.jsxs("div",{className:"avatar-section",children:[Q.jsx("label",{children:"User Avatar:"}),Q.jsx("img",{src:f,alt:"User",className:"avatar-preview"}),Q.jsx("input",{type:"text",value:f,onChange:I=>d(I.target.value),placeholder:"Image URL or /path/to/image.png"})]}),Q.jsxs("div",{className:"avatar-section",children:[Q.jsx("label",{children:"Assistant Avatar:"}),Q.jsx("img",{src:p,alt:"Assistant",className:"avatar-preview"}),Q.jsx("input",{type:"text",value:p,onChange:I=>y(I.target.value),placeholder:"Image URL or /path/to/image.png"})]}),Q.jsxs("div",{className:"name-section",children:[Q.jsx("label",{children:"User Name:"}),Q.jsx("input",{type:"text",value:_,onChange:I=>b(I.target.value),placeholder:"Your name"})]}),Q.jsxs("div",{className:"name-section",children:[Q.jsx("label",{children:"Assistant Name:"}),Q.jsx("input",{type:"text",value:S,onChange:I=>R(I.target.value),placeholder:"Assistant's name"})]}),Q.jsxs("div",{className:"modal-buttons",children:[Q.jsx("button",{onClick:P,children:"Save"}),Q.jsx("button",{onClick:u,className:"cancel-button",children:"Cancel"})]})]})})}function g7({userAvatar:n,assistantAvatar:e,userName:t,assistantName:i,onAvatarChange:r,onNameChange:a}){const[u,f]=le.useState(!1),[d,p]=le.useState(null),[y,_]=le.useState(!1),[b,S]=le.useState(!1),[R,P]=le.useState(null);le.useEffect(()=>us.onAuthStateChanged(H=>{P(H)}),[]);const I=B=>{B==="Sign up"?p("signup"):B==="Sign in"?p("signin"):B==="Chat History"?_(!0):B==="Sign out"&&(us.signOut(),P(null),f(!1)),f(!1)};return Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"sidebar-toggle-wrapper",children:[Q.jsx("button",{className:"menu-toggle",onClick:()=>f(!u),children:"☰ Menu"}),u&&Q.jsxs("div",{className:"sidebar",children:[R&&Q.jsxs("div",{className:"user-info",children:["Signed in as ",Q.jsx("strong",{children:R.email})]}),!R&&Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{className:"sidebar-button",onClick:()=>I("Sign up"),children:"Sign up"}),Q.jsx("button",{className:"sidebar-button",onClick:()=>I("Sign in"),children:"Sign in"})]}),R&&Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{className:"sidebar-button",onClick:()=>I("Sign out"),children:"Sign out"}),Q.jsx("button",{className:"sidebar-button",onClick:()=>S(!0),children:"Profile"}),Q.jsx("button",{className:"sidebar-button",onClick:()=>_(!0),children:"Chat History"})]})]})]}),d&&Q.jsx(m7,{mode:d,onClose:()=>p(null)}),y&&Q.jsx(p7,{onClose:()=>_(!1)}),b&&Q.jsx(iI,{userAvatar:n,assistantAvatar:e,userName:t,assistantName:i,onAvatarChange:r,onNameChange:a,onClose:()=>S(!1)})]})}function y7({audioRef:n,isSpeaking:e}){const t=le.useRef(null),i=le.useRef(null),r=le.useRef(null),a=le.useRef(null),u=le.useRef(null),f=le.useRef({assistant:null,music:null}),d=le.useRef(0);return le.useEffect(()=>{const p=t.current,y=p.getContext("2d"),_=p.width,b=p.height,S=_/2,R=b/2,P=60,I=64;if(r.current||(r.current=new(window.AudioContext||window.webkitAudioContext),a.current=r.current.createAnalyser(),a.current.fftSize=128,u.current=new Uint8Array(a.current.frequencyBinCount)),n.current&&!f.current.assistant)try{f.current.assistant=r.current.createMediaElementSource(n.current),f.current.assistant.connect(a.current),a.current.connect(r.current.destination)}catch(G){console.warn("Assistant audio source already connected or failed:",G)}const B=document.getElementById("bg-music");if(B&&!f.current.music)try{f.current.music=r.current.createMediaElementSource(B),f.current.music.connect(a.current),a.current.connect(r.current.destination)}catch(G){console.warn("Music audio source already connected or failed:",G)}const H=()=>{i.current=requestAnimationFrame(H),y.clearRect(0,0,_,b),a.current.getByteFrequencyData(u.current);const G=u.current.reduce((se,k)=>se+k,0)/u.current.length;d.current+=.05;const X=P+G*.2;y.beginPath();for(let se=0;se<=I;se++){const k=se/I*Math.PI*2,x=Math.sin(k*4+d.current)*(G/6),C=X+x,N=S+C*Math.cos(k),z=R+C*Math.sin(k);se===0?y.moveTo(N,z):y.lineTo(N,z)}y.closePath();const re=y.createRadialGradient(S,R,X*.4,S,R,X);re.addColorStop(0,"rgba(15,82,186,0.9)"),re.addColorStop(1,"rgba(15,82,186,0.2)"),y.fillStyle=re,y.shadowColor="rgba(15,82,186, 0.9)",y.shadowBlur=30,y.fill()};return H(),()=>{cancelAnimationFrame(i.current),y.clearRect(0,0,_,b)}},[e,n]),Q.jsx("canvas",{ref:t,width:300,height:300,style:{display:"block",margin:"40px auto"}})}let v7={data:""},_7=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||v7,b7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,w7=/\/\*[^]*?\*\/|  +/g,jS=/\n+/g,Lr=(n,e)=>{let t="",i="",r="";for(let a in n){let u=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+u+";":i+=a[1]=="f"?Lr(u,a):a+"{"+Lr(u,a[1]=="k"?"":e)+"}":typeof u=="object"?i+=Lr(u,e?e.replace(/([^,])+/g,f=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,f):f?f+" "+d:d)):a):u!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Lr.p?Lr.p(a,u):a+":"+u+";")}return t+(e&&r?e+"{"+r+"}":r)+i},zs={},sI=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+sI(n[t]);return e}return n},E7=(n,e,t,i,r)=>{let a=sI(n),u=zs[a]||(zs[a]=(d=>{let p=0,y=11;for(;p<d.length;)y=101*y+d.charCodeAt(p++)>>>0;return"go"+y})(a));if(!zs[u]){let d=a!==n?n:(p=>{let y,_,b=[{}];for(;y=b7.exec(p.replace(w7,""));)y[4]?b.shift():y[3]?(_=y[3].replace(jS," ").trim(),b.unshift(b[0][_]=b[0][_]||{})):b[0][y[1]]=y[2].replace(jS," ").trim();return b[0]})(n);zs[u]=Lr(r?{["@keyframes "+u]:d}:d,t?"":"."+u)}let f=t&&zs.g?zs.g:null;return t&&(zs.g=zs[u]),((d,p,y,_)=>{_?p.data=p.data.replace(_,d):p.data.indexOf(d)===-1&&(p.data=y?d+p.data:p.data+d)})(zs[u],e,i,f),u},T7=(n,e,t)=>n.reduce((i,r,a)=>{let u=e[a];if(u&&u.call){let f=u(t),d=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=d?"."+d:f&&typeof f=="object"?f.props?"":Lr(f,""):f===!1?"":f}return i+r+(u??"")},"");function ep(n){let e=this||{},t=n.call?n(e.p):n;return E7(t.unshift?t.raw?T7(t,[].slice.call(arguments,1),e.p):t.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):t,_7(e.target),e.g,e.o,e.k)}let rI,Gv,Yv;ep.bind({g:1});let Xs=ep.bind({k:1});function S7(n,e,t,i){Lr.p=e,rI=n,Gv=t,Yv=i}function po(n,e){let t=this||{};return function(){let i=arguments;function r(a,u){let f=Object.assign({},a),d=f.className||r.className;t.p=Object.assign({theme:Gv&&Gv()},f),t.o=/ *go\d+/.test(d),f.className=ep.apply(t,i)+(d?" "+d:"");let p=n;return n[0]&&(p=f.as||n,delete f.as),Yv&&p[0]&&Yv(f),rI(p,f)}return r}}var A7=n=>typeof n=="function",vm=(n,e)=>A7(n)?n(e):n,x7=(()=>{let n=0;return()=>(++n).toString()})(),oI=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),R7=20,aI=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,R7)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return aI(n,{type:n.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let r=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+r}))}}},zd=[],ha={toasts:[],pausedAt:void 0},Ia=n=>{ha=aI(ha,n),zd.forEach(e=>{e(ha)})},C7={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I7=(n={})=>{let[e,t]=le.useState(ha),i=le.useRef(ha);le.useEffect(()=>(i.current!==ha&&t(ha),zd.push(t),()=>{let a=zd.indexOf(t);a>-1&&zd.splice(a,1)}),[]);let r=e.toasts.map(a=>{var u,f,d;return{...n,...n[a.type],...a,removeDelay:a.removeDelay||((u=n[a.type])==null?void 0:u.removeDelay)||(n==null?void 0:n.removeDelay),duration:a.duration||((f=n[a.type])==null?void 0:f.duration)||(n==null?void 0:n.duration)||C7[a.type],style:{...n.style,...(d=n[a.type])==null?void 0:d.style,...a.style}}});return{...e,toasts:r}},O7=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||x7()}),Of=n=>(e,t)=>{let i=O7(e,n,t);return Ia({type:2,toast:i}),i.id},Rn=(n,e)=>Of("blank")(n,e);Rn.error=Of("error");Rn.success=Of("success");Rn.loading=Of("loading");Rn.custom=Of("custom");Rn.dismiss=n=>{Ia({type:3,toastId:n})};Rn.remove=n=>Ia({type:4,toastId:n});Rn.promise=(n,e,t)=>{let i=Rn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let a=e.success?vm(e.success,r):void 0;return a?Rn.success(a,{id:i,...t,...t==null?void 0:t.success}):Rn.dismiss(i),r}).catch(r=>{let a=e.error?vm(e.error,r):void 0;a?Rn.error(a,{id:i,...t,...t==null?void 0:t.error}):Rn.dismiss(i)}),n};var k7=(n,e)=>{Ia({type:1,toast:{id:n,height:e}})},D7=()=>{Ia({type:5,time:Date.now()})},Kc=new Map,M7=1e3,P7=(n,e=M7)=>{if(Kc.has(n))return;let t=setTimeout(()=>{Kc.delete(n),Ia({type:4,toastId:n})},e);Kc.set(n,t)},N7=n=>{let{toasts:e,pausedAt:t}=I7(n);le.useEffect(()=>{if(t)return;let a=Date.now(),u=e.map(f=>{if(f.duration===1/0)return;let d=(f.duration||0)+f.pauseDuration-(a-f.createdAt);if(d<0){f.visible&&Rn.dismiss(f.id);return}return setTimeout(()=>Rn.dismiss(f.id),d)});return()=>{u.forEach(f=>f&&clearTimeout(f))}},[e,t]);let i=le.useCallback(()=>{t&&Ia({type:6,time:Date.now()})},[t]),r=le.useCallback((a,u)=>{let{reverseOrder:f=!1,gutter:d=8,defaultPosition:p}=u||{},y=e.filter(S=>(S.position||p)===(a.position||p)&&S.height),_=y.findIndex(S=>S.id===a.id),b=y.filter((S,R)=>R<_&&S.visible).length;return y.filter(S=>S.visible).slice(...f?[b+1]:[0,b]).reduce((S,R)=>S+(R.height||0)+d,0)},[e]);return le.useEffect(()=>{e.forEach(a=>{if(a.dismissed)P7(a.id,a.removeDelay);else{let u=Kc.get(a.id);u&&(clearTimeout(u),Kc.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:k7,startPause:D7,endPause:i,calculateOffset:r}}},V7=Xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,z7=Xs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L7=Xs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,U7=po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${z7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${L7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,B7=Xs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F7=po("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${B7} 1s linear infinite;
`,j7=Xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q7=Xs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,H7=po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$7=po("div")`
  position: absolute;
`,G7=po("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Y7=Xs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q7=po("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Y7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K7=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?le.createElement(Q7,null,e):e:t==="blank"?null:le.createElement(G7,null,le.createElement(F7,{...i}),t!=="loading"&&le.createElement($7,null,t==="error"?le.createElement(U7,{...i}):le.createElement(H7,{...i})))},X7=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,W7=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Z7="0%{opacity:0;} 100%{opacity:1;}",J7="0%{opacity:1;} 100%{opacity:0;}",eB=po("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tB=po("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nB=(n,e)=>{let t=n.includes("top")?1:-1,[i,r]=oI()?[Z7,J7]:[X7(t),W7(t)];return{animation:e?`${Xs(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xs(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iB=le.memo(({toast:n,position:e,style:t,children:i})=>{let r=n.height?nB(n.position||e||"top-center",n.visible):{opacity:0},a=le.createElement(K7,{toast:n}),u=le.createElement(tB,{...n.ariaProps},vm(n.message,n));return le.createElement(eB,{className:n.className,style:{...r,...t,...n.style}},typeof i=="function"?i({icon:a,message:u}):le.createElement(le.Fragment,null,a,u))});S7(le.createElement);var sB=({id:n,className:e,style:t,onHeightUpdate:i,children:r})=>{let a=le.useCallback(u=>{if(u){let f=()=>{let d=u.getBoundingClientRect().height;i(n,d)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return le.createElement("div",{ref:a,className:e,style:t},r)},rB=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:oI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...r}},oB=ep`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_d=16,aB=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:r,containerStyle:a,containerClassName:u})=>{let{toasts:f,handlers:d}=N7(t);return le.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:_d,left:_d,right:_d,bottom:_d,pointerEvents:"none",...a},className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(p=>{let y=p.position||e,_=d.calculateOffset(p,{reverseOrder:n,gutter:i,defaultPosition:e}),b=rB(y,_);return le.createElement(sB,{id:p.id,key:p.id,onHeightUpdate:d.updateHeight,className:p.visible?oB:"",style:b},p.type==="custom"?vm(p.message,p):r?r(p):le.createElement(iB,{toast:p,position:y}))}))},lB=Rn;function uB({voiceEnabled:n,setVoiceEnabled:e,user:t}){const i=()=>{if(!t&&!n){lB("Please sign in to enable voice.",{icon:Q.jsx("span",{style:{animation:"flash 1s infinite",fontSize:"20px"},children:"⬆️"})});return}e(!n)};return Q.jsxs("div",{className:"voice-toggle-wrapper",children:[Q.jsxs("label",{className:"toggle-switch",children:[Q.jsx("input",{type:"checkbox",checked:n,onChange:i}),Q.jsx("span",{className:"slider"})]}),Q.jsx("span",{className:"toggle-label",children:n?"Voice Enabled":"Voice Disabled"})]})}function cB(n,e){const[t,i]=le.useState(!1),r=le.useRef([]),a=le.useRef(!1),u=le.useRef(new Audio),f=async p=>{r.current.push(p),a.current||d()},d=async()=>{if(r.current.length===0){a.current=!1,i(!1);return}a.current=!0,i(!0);const p=r.current.shift();try{const y=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${e}`,{method:"POST",headers:{"xi-api-key":n,"Content-Type":"application/json"},body:JSON.stringify({text:p,voice_settings:{stability:.5,similarity_boost:.75}})});if(!y.ok){console.error("TTS error",await y.text()),d();return}const _=await y.blob(),b=URL.createObjectURL(_),S=u.current;S.src=b,S.onended=()=>d(),S.onerror=()=>d(),S.load(),await S.play()}catch(y){console.error("TTS playback error:",y),d()}};return{speakIncrementally:f,isSpeaking:t,audioRef:u}}function fB({onResult:n,onError:e,onStart:t,onEnd:i,enabled:r=!0}){const a=le.useRef(null);return le.useEffect(()=>{if(!r)return;const f=window.SpeechRecognition||window.webkitSpeechRecognition;if(!f){console.warn("Speech Recognition API not supported.");return}const d=new f;return d.lang="en-US",d.interimResults=!1,d.maxAlternatives=1,d.onresult=p=>{const y=p.results[0][0].transcript;n&&n(y)},d.onerror=p=>{console.error("Speech recognition error:",p.error),e&&e(p.error)},d.onstart=()=>{t&&t()},d.onend=()=>{i&&i()},a.current=d,()=>{d.stop(),a.current=null}},[r,n,e,t,i]),{startListening:()=>{a.current&&a.current.start()}}}async function hB(n,e){e.trim()&&await eI(yu(Xn,"todos"),{uid:n,text:e.trim(),createdAt:new Date})}async function dB(n){const e=Wm(yu(Xn,"todos"),ff("uid","==",n));return(await bb(e)).docs.map(i=>({id:i.id,...i.data()}))}async function mB(n,e){const t=Wm(yu(Xn,"todos"),ff("uid","==",n),ff("text","==",e.trim())),i=await bb(t);let r=!1;for(const a of i.docs)await JC(a.ref),r=!0;return r}async function qS(n){const e=so(Xn,"memories",n),t=await XC(e);return t.exists()?t.data():{facts:[]}}async function pB(n,e){const t=so(Xn,"memories",n);await WC(t,e,{merge:!0})}async function gB({userText:n,chatHistory:e,voiceEnabled:t,speakFn:i,setAssistantText:r,setChatHistory:a,CEREBRAS_API_KEY:u,userProfile:f}){var d,p,y,_;try{const b=n.toLowerCase(),S=us.currentUser;if(S&&/\bto[- ]?do\b/i.test(b)){if(b.startsWith("add")){const se=n.toLowerCase().match(/add\s(.+?)(\s(to|into)?\s(my)?\s?to[- ]?do(\slist)?)?$/i),k=((d=se==null?void 0:se[1])==null?void 0:d.trim())||n.replace(/add\s?/i,"").trim();await hB(S.uid,k);const x=`I've added "${k}" to your to-do list.`;r(x),t&&await i(x);return}if(b.includes("list")){const se=await dB(S.uid),k=se.length>0?`Here are your tasks: ${se.map(x=>x.text).join(", ")}.`:"You have no tasks.";r(k),t&&await i(k);return}if(b.startsWith("delete")){const se=n.replace(/delete (to[- ]?do)?/i,"").trim(),x=await mB(S.uid,se)?`Deleted "${se}".`:`Couldn't find "${se}".`;r(x),t&&await i(x);return}}r("");let R="",P=[];if(S&&(P=(await qS(S.uid)).facts.map(k=>({role:"system",content:k}))),f!=null&&f.userName||f!=null&&f.assistantName){const se=`
You are a helpful AI assistant named "${f.assistantName||"Assistant"}".
You are chatting with a user named "${f.userName||"User"}".
Always address the user by their name during the conversation when appropriate.
Respond in a friendly and conversational tone.
      `.trim();P.unshift({role:"system",content:se})}const B=(await fetch("https://api.cerebras.ai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({model:"llama-4-scout-17b-16e-instruct",messages:[...P,...e,{role:"user",content:n}],stream:!0})})).body.getReader(),H=new TextDecoder("utf-8");let G="",X="";for(;;){const{value:se,done:k}=await B.read();if(k)break;G+=H.decode(se,{stream:!0});const x=G.split(`
`).filter(Boolean);for(const C of x){if(!C.startsWith("data: "))continue;const N=C.replace("data: ","");try{const L=(_=(y=(p=JSON.parse(N).choices)==null?void 0:p[0])==null?void 0:y.delta)==null?void 0:_.content;L&&(r(D=>D+L),R+=L,X+=L,(/[.!?]\s$/.test(X)||X.length>80)&&(t&&await i(X.trim()),X=""))}catch{console.warn("Skipping invalid JSON:",N)}}G=""}X&&t&&await i(X.trim());const re=Date.now();if(a(se=>[...se,{role:"user",content:n,timestamp:re},{role:"assistant",content:R.trim(),timestamp:re}]),S){await eI(yu(Xn,"chats"),{uid:S.uid,userMessage:n,assistantMessage:R.trim(),timestamp:new Date});const se=`${(f==null?void 0:f.userName)||"User"} said: "${n}". ${(f==null?void 0:f.assistantName)||"Assistant"} replied: "${R.trim()}"`,x=[...(await qS(S.uid)).facts.slice(-19),se];await pB(S.uid,{facts:x})}}catch(b){console.error("❌ handleUserInput error:",b),r("Sorry, I had trouble understanding that.")}}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function yB(n,e,t){return(e=_B(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(t),!0).forEach(function(i){yB(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _B(n){var e=vB(n,"string");return typeof e=="symbol"?e:e+""}const $S=()=>{};let wb={},lI={},uI=null,cI={mark:$S,measure:$S};try{typeof window<"u"&&(wb=window),typeof document<"u"&&(lI=document),typeof MutationObserver<"u"&&(uI=MutationObserver),typeof performance<"u"&&(cI=performance)}catch{}const{userAgent:GS=""}=wb.navigator||{},ro=wb,dt=lI,YS=uI,bd=cI;ro.document;const er=!!dt.documentElement&&!!dt.head&&typeof dt.addEventListener=="function"&&typeof dt.createElement=="function",fI=~GS.indexOf("MSIE")||~GS.indexOf("Trident/");var bB=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,wB=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,hI={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},EB={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},dI=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],En="classic",tp="duotone",TB="sharp",SB="sharp-duotone",mI=[En,tp,TB,SB],AB={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},xB={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},RB=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),CB={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},IB=["fak","fa-kit","fakd","fa-kit-duotone"],QS={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},OB=["kit"],kB={kit:{"fa-kit":"fak"}},DB=["fak","fakd"],MB={kit:{fak:"fa-kit"}},KS={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},wd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},PB=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],NB=["fak","fa-kit","fakd","fa-kit-duotone"],VB={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},zB={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},LB={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Qv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},UB=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Kv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...PB,...UB],BB=["solid","regular","light","thin","duotone","brands"],pI=[1,2,3,4,5,6,7,8,9,10],FB=pI.concat([11,12,13,14,15,16,17,18,19,20]),jB=[...Object.keys(LB),...BB,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",wd.GROUP,wd.SWAP_OPACITY,wd.PRIMARY,wd.SECONDARY].concat(pI.map(n=>"".concat(n,"x"))).concat(FB.map(n=>"w-".concat(n))),qB={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Ws="___FONT_AWESOME___",Xv=16,gI="fa",yI="svg-inline--fa",Sa="data-fa-i2svg",Wv="data-fa-pseudo-element",HB="data-fa-pseudo-element-pending",Eb="data-prefix",Tb="data-icon",XS="fontawesome-i2svg",$B="async",GB=["HTML","HEAD","STYLE","SCRIPT"],vI=(()=>{try{return!0}catch{return!1}})();function kf(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[En]}})}const _I=oe({},hI);_I[En]=oe(oe(oe(oe({},{"fa-duotone":"duotone"}),hI[En]),QS.kit),QS["kit-duotone"]);const YB=kf(_I),Zv=oe({},CB);Zv[En]=oe(oe(oe(oe({},{duotone:"fad"}),Zv[En]),KS.kit),KS["kit-duotone"]);const WS=kf(Zv),Jv=oe({},Qv);Jv[En]=oe(oe({},Jv[En]),MB.kit);const Sb=kf(Jv),e_=oe({},zB);e_[En]=oe(oe({},e_[En]),kB.kit);kf(e_);const QB=bB,bI="fa-layers-text",KB=wB,XB=oe({},AB);kf(XB);const WB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ky=EB,ZB=[...OB,...jB],Xc=ro.FontAwesomeConfig||{};function JB(n){var e=dt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function eF(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}dt&&typeof dt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e;const r=eF(JB(t));r!=null&&(Xc[i]=r)});const wI={styleDefault:"solid",familyDefault:En,cssPrefix:gI,replacementClass:yI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Xc.familyPrefix&&(Xc.cssPrefix=Xc.familyPrefix);const au=oe(oe({},wI),Xc);au.autoReplaceSvg||(au.observeMutations=!1);const ve={};Object.keys(wI).forEach(n=>{Object.defineProperty(ve,n,{enumerable:!0,set:function(e){au[n]=e,Wc.forEach(t=>t(ve))},get:function(){return au[n]}})});Object.defineProperty(ve,"familyPrefix",{enumerable:!0,set:function(n){au.cssPrefix=n,Wc.forEach(e=>e(ve))},get:function(){return au.cssPrefix}});ro.FontAwesomeConfig=ve;const Wc=[];function tF(n){return Wc.push(n),()=>{Wc.splice(Wc.indexOf(n),1)}}const kr=Xv,ts={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function nF(n){if(!n||!er)return;const e=dt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=dt.head.childNodes;let i=null;for(let r=t.length-1;r>-1;r--){const a=t[r],u=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(i=a)}return dt.head.insertBefore(e,i),n}const iF="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function hf(){let n=12,e="";for(;n-- >0;)e+=iF[Math.random()*62|0];return e}function vu(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Ab(n){return n.classList?vu(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function EI(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sF(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(EI(n[t]),'" '),"").trim()}function np(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function xb(n){return n.size!==ts.size||n.x!==ts.x||n.y!==ts.y||n.rotate!==ts.rotate||n.flipX||n.flipY}function rF(n){let{transform:e,containerWidth:t,iconWidth:i}=n;const r={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(a," ").concat(u," ").concat(f)},p={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:d,path:p}}function oF(n){let{transform:e,width:t=Xv,height:i=Xv,startCentered:r=!1}=n,a="";return r&&fI?a+="translate(".concat(e.x/kr-t/2,"em, ").concat(e.y/kr-i/2,"em) "):r?a+="translate(calc(-50% + ".concat(e.x/kr,"em), calc(-50% + ").concat(e.y/kr,"em)) "):a+="translate(".concat(e.x/kr,"em, ").concat(e.y/kr,"em) "),a+="scale(".concat(e.size/kr*(e.flipX?-1:1),", ").concat(e.size/kr*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var aF=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function TI(){const n=gI,e=yI,t=ve.cssPrefix,i=ve.replacementClass;let r=aF;if(t!==n||i!==e){const a=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");r=r.replace(a,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(f,".".concat(i))}return r}let ZS=!1;function Xy(){ve.autoAddCss&&!ZS&&(nF(TI()),ZS=!0)}var lF={mixout(){return{dom:{css:TI,insertCss:Xy}}},hooks(){return{beforeDOMElementCreation(){Xy()},beforeI2svg(){Xy()}}}};const Zs=ro||{};Zs[Ws]||(Zs[Ws]={});Zs[Ws].styles||(Zs[Ws].styles={});Zs[Ws].hooks||(Zs[Ws].hooks={});Zs[Ws].shims||(Zs[Ws].shims=[]);var ns=Zs[Ws];const SI=[],AI=function(){dt.removeEventListener("DOMContentLoaded",AI),_m=1,SI.map(n=>n())};let _m=!1;er&&(_m=(dt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(dt.readyState),_m||dt.addEventListener("DOMContentLoaded",AI));function uF(n){er&&(_m?setTimeout(n,0):SI.push(n))}function Df(n){const{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?EI(n):"<".concat(e," ").concat(sF(t),">").concat(i.map(Df).join(""),"</").concat(e,">")}function JS(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var Wy=function(e,t,i,r){var a=Object.keys(e),u=a.length,f=t,d,p,y;for(i===void 0?(d=1,y=e[a[0]]):(d=0,y=i);d<u;d++)p=a[d],y=f(y,e[p],p,e);return y};function cF(n){const e=[];let t=0;const i=n.length;for(;t<i;){const r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){const a=n.charCodeAt(t++);(a&64512)==56320?e.push(((r&1023)<<10)+(a&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}function t_(n){const e=cF(n);return e.length===1?e[0].toString(16):null}function fF(n,e){const t=n.length;let i=n.charCodeAt(e),r;return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function eA(n){return Object.keys(n).reduce((e,t)=>{const i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function n_(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=t,r=eA(e);typeof ns.hooks.addPack=="function"&&!i?ns.hooks.addPack(n,eA(e)):ns.styles[n]=oe(oe({},ns.styles[n]||{}),r),n==="fas"&&n_("fa",e)}const{styles:df,shims:hF}=ns,xI=Object.keys(Sb),dF=xI.reduce((n,e)=>(n[e]=Object.keys(Sb[e]),n),{});let Rb=null,RI={},CI={},II={},OI={},kI={};function mF(n){return~ZB.indexOf(n)}function pF(n,e){const t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i===n&&r!==""&&!mF(r)?r:null}const DI=()=>{const n=i=>Wy(df,(r,a,u)=>(r[u]=Wy(a,i,{}),r),{});RI=n((i,r,a)=>(r[3]&&(i[r[3]]=a),r[2]&&r[2].filter(f=>typeof f=="number").forEach(f=>{i[f.toString(16)]=a}),i)),CI=n((i,r,a)=>(i[a]=a,r[2]&&r[2].filter(f=>typeof f=="string").forEach(f=>{i[f]=a}),i)),kI=n((i,r,a)=>{const u=r[2];return i[a]=a,u.forEach(f=>{i[f]=a}),i});const e="far"in df||ve.autoFetchSvg,t=Wy(hF,(i,r)=>{const a=r[0];let u=r[1];const f=r[2];return u==="far"&&!e&&(u="fas"),typeof a=="string"&&(i.names[a]={prefix:u,iconName:f}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:u,iconName:f}),i},{names:{},unicodes:{}});II=t.names,OI=t.unicodes,Rb=ip(ve.styleDefault,{family:ve.familyDefault})};tF(n=>{Rb=ip(n.styleDefault,{family:ve.familyDefault})});DI();function Cb(n,e){return(RI[n]||{})[e]}function gF(n,e){return(CI[n]||{})[e]}function da(n,e){return(kI[n]||{})[e]}function MI(n){return II[n]||{prefix:null,iconName:null}}function yF(n){const e=OI[n],t=Cb("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function oo(){return Rb}const PI=()=>({prefix:null,iconName:null,rest:[]});function vF(n){let e=En;const t=xI.reduce((i,r)=>(i[r]="".concat(ve.cssPrefix,"-").concat(r),i),{});return mI.forEach(i=>{(n.includes(t[i])||n.some(r=>dF[i].includes(r)))&&(e=i)}),e}function ip(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=En}=e,i=YB[t][n];if(t===tp&&!n)return"fad";const r=WS[t][n]||WS[t][i],a=n in ns.styles?n:null;return r||a||null}function _F(n){let e=[],t=null;return n.forEach(i=>{const r=pF(ve.cssPrefix,i);r?t=r:i&&e.push(i)}),{iconName:t,rest:e}}function tA(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function sp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let i=null;const r=Kv.concat(NB),a=tA(n.filter(_=>r.includes(_))),u=tA(n.filter(_=>!Kv.includes(_))),f=a.filter(_=>(i=_,!dI.includes(_))),[d=null]=f,p=vF(a),y=oe(oe({},_F(u)),{},{prefix:ip(d,{family:p})});return oe(oe(oe({},y),TF({values:n,family:p,styles:df,config:ve,canonical:y,givenPrefix:i})),bF(t,i,y))}function bF(n,e,t){let{prefix:i,iconName:r}=t;if(n||!i||!r)return{prefix:i,iconName:r};const a=e==="fa"?MI(r):{},u=da(i,r);return r=a.iconName||u||r,i=a.prefix||i,i==="far"&&!df.far&&df.fas&&!ve.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}const wF=mI.filter(n=>n!==En||n!==tp),EF=Object.keys(Qv).filter(n=>n!==En).map(n=>Object.keys(Qv[n])).flat();function TF(n){const{values:e,family:t,canonical:i,givenPrefix:r="",styles:a={},config:u={}}=n,f=t===tp,d=e.includes("fa-duotone")||e.includes("fad"),p=u.familyDefault==="duotone",y=i.prefix==="fad"||i.prefix==="fa-duotone";if(!f&&(d||p||y)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&wF.includes(t)&&(Object.keys(a).find(b=>EF.includes(b))||u.autoFetchSvg)){const b=RB.get(t).defaultShortPrefixId;i.prefix=b,i.iconName=da(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=oo()||"fas"),i}class SF{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(a=>{this.definitions[a]=oe(oe({},this.definitions[a]||{}),r[a]),n_(a,r[a]);const u=Sb[En][a];u&&n_(u,r[a]),DI()})}reset(){this.definitions={}}_pullDefinitions(e,t){const i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(r=>{const{prefix:a,iconName:u,icon:f}=i[r],d=f[2];e[a]||(e[a]={}),d.length>0&&d.forEach(p=>{typeof p=="string"&&(e[a][p]=f)}),e[a][u]=f}),e}}let nA=[],Nl={};const Ql={},AF=Object.keys(Ql);function xF(n,e){let{mixoutsTo:t}=e;return nA=n,Nl={},Object.keys(Ql).forEach(i=>{AF.indexOf(i)===-1&&delete Ql[i]}),nA.forEach(i=>{const r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(a=>{typeof r[a]=="function"&&(t[a]=r[a]),typeof r[a]=="object"&&Object.keys(r[a]).forEach(u=>{t[a]||(t[a]={}),t[a][u]=r[a][u]})}),i.hooks){const a=i.hooks();Object.keys(a).forEach(u=>{Nl[u]||(Nl[u]=[]),Nl[u].push(a[u])})}i.provides&&i.provides(Ql)}),t}function i_(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return(Nl[n]||[]).forEach(u=>{e=u.apply(null,[e,...i])}),e}function Aa(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(Nl[n]||[]).forEach(a=>{a.apply(null,t)})}function ao(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ql[n]?Ql[n].apply(null,e):void 0}function s_(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||oo();if(e)return e=da(t,e)||e,JS(NI.definitions,t,e)||JS(ns.styles,t,e)}const NI=new SF,RF=()=>{ve.autoReplaceSvg=!1,ve.observeMutations=!1,Aa("noAuto")},CF={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return er?(Aa("beforeI2svg",n),ao("pseudoElements2svg",n),ao("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;ve.autoReplaceSvg===!1&&(ve.autoReplaceSvg=!0),ve.observeMutations=!0,uF(()=>{OF({autoReplaceSvgRoot:e}),Aa("watch",n)})}},IF={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:da(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=ip(n[0]);return{prefix:t,iconName:da(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(ve.cssPrefix,"-"))>-1||n.match(QB))){const e=sp(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||oo(),iconName:da(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=oo();return{prefix:e,iconName:da(e,n)||n}}}},Wn={noAuto:RF,config:ve,dom:CF,parse:IF,library:NI,findIconDefinition:s_,toHtml:Df},OF=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=dt}=n;(Object.keys(ns.styles).length>0||ve.autoFetchSvg)&&er&&ve.autoReplaceSvg&&Wn.dom.i2svg({node:e})};function rp(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Df(t))}}),Object.defineProperty(n,"node",{get:function(){if(!er)return;const t=dt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function kF(n){let{children:e,main:t,mask:i,attributes:r,styles:a,transform:u}=n;if(xb(u)&&t.found&&!i.found){const{width:f,height:d}=t,p={x:f/d/2,y:.5};r.style=np(oe(oe({},a),{},{"transform-origin":"".concat(p.x+u.x/16,"em ").concat(p.y+u.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function DF(n){let{prefix:e,iconName:t,children:i,attributes:r,symbol:a}=n;const u=a===!0?"".concat(e,"-").concat(ve.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:oe(oe({},r),{},{id:u}),children:i}]}]}function Ib(n){const{icons:{main:e,mask:t},prefix:i,iconName:r,transform:a,symbol:u,title:f,maskId:d,titleId:p,extra:y,watchable:_=!1}=n,{width:b,height:S}=t.found?t:e,R=DB.includes(i),P=[ve.replacementClass,r?"".concat(ve.cssPrefix,"-").concat(r):""].filter(re=>y.classes.indexOf(re)===-1).filter(re=>re!==""||!!re).concat(y.classes).join(" ");let I={children:[],attributes:oe(oe({},y.attributes),{},{"data-prefix":i,"data-icon":r,class:P,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(b," ").concat(S)})};const B=R&&!~y.classes.indexOf("fa-fw")?{width:"".concat(b/S*16*.0625,"em")}:{};_&&(I.attributes[Sa]=""),f&&(I.children.push({tag:"title",attributes:{id:I.attributes["aria-labelledby"]||"title-".concat(p||hf())},children:[f]}),delete I.attributes.title);const H=oe(oe({},I),{},{prefix:i,iconName:r,main:e,mask:t,maskId:d,transform:a,symbol:u,styles:oe(oe({},B),y.styles)}),{children:G,attributes:X}=t.found&&e.found?ao("generateAbstractMask",H)||{children:[],attributes:{}}:ao("generateAbstractIcon",H)||{children:[],attributes:{}};return H.children=G,H.attributes=X,u?DF(H):kF(H)}function iA(n){const{content:e,width:t,height:i,transform:r,title:a,extra:u,watchable:f=!1}=n,d=oe(oe(oe({},u.attributes),a?{title:a}:{}),{},{class:u.classes.join(" ")});f&&(d[Sa]="");const p=oe({},u.styles);xb(r)&&(p.transform=oF({transform:r,startCentered:!0,width:t,height:i}),p["-webkit-transform"]=p.transform);const y=np(p);y.length>0&&(d.style=y);const _=[];return _.push({tag:"span",attributes:d,children:[e]}),a&&_.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),_}function MF(n){const{content:e,title:t,extra:i}=n,r=oe(oe(oe({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),a=np(i.styles);a.length>0&&(r.style=a);const u=[];return u.push({tag:"span",attributes:r,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}const{styles:Zy}=ns;function r_(n){const e=n[0],t=n[1],[i]=n.slice(4);let r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(ve.cssPrefix,"-").concat(Ky.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ve.cssPrefix,"-").concat(Ky.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(ve.cssPrefix,"-").concat(Ky.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:r}}const PF={found:!1,width:512,height:512};function NF(n,e){!vI&&!ve.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function o_(n,e){let t=e;return e==="fa"&&ve.styleDefault!==null&&(e=oo()),new Promise((i,r)=>{if(t==="fa"){const a=MI(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&Zy[e]&&Zy[e][n]){const a=Zy[e][n];return i(r_(a))}NF(n,e),i(oe(oe({},PF),{},{icon:ve.showMissingIcons&&n?ao("missingIconAbstract")||{}:{}}))})}const sA=()=>{},a_=ve.measurePerformance&&bd&&bd.mark&&bd.measure?bd:{mark:sA,measure:sA},Uc='FA "6.7.2"',VF=n=>(a_.mark("".concat(Uc," ").concat(n," begins")),()=>VI(n)),VI=n=>{a_.mark("".concat(Uc," ").concat(n," ends")),a_.measure("".concat(Uc," ").concat(n),"".concat(Uc," ").concat(n," begins"),"".concat(Uc," ").concat(n," ends"))};var Ob={begin:VF,end:VI};const Ld=()=>{};function rA(n){return typeof(n.getAttribute?n.getAttribute(Sa):null)=="string"}function zF(n){const e=n.getAttribute?n.getAttribute(Eb):null,t=n.getAttribute?n.getAttribute(Tb):null;return e&&t}function LF(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(ve.replacementClass)}function UF(){return ve.autoReplaceSvg===!0?Ud.replace:Ud[ve.autoReplaceSvg]||Ud.replace}function BF(n){return dt.createElementNS("http://www.w3.org/2000/svg",n)}function FF(n){return dt.createElement(n)}function zI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?BF:FF}=e;if(typeof n=="string")return dt.createTextNode(n);const i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(a){i.setAttribute(a,n.attributes[a])}),(n.children||[]).forEach(function(a){i.appendChild(zI(a,{ceFn:t}))}),i}function jF(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Ud={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(zI(t),e)}),e.getAttribute(Sa)===null&&ve.keepOriginalSource){let t=dt.createComment(jF(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~Ab(e).indexOf(ve.replacementClass))return Ud.replace(n);const i=new RegExp("".concat(ve.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((u,f)=>(f===ve.replacementClass||f.match(i)?u.toSvg.push(f):u.toNode.push(f),u),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const r=t.map(a=>Df(a)).join(`
`);e.setAttribute(Sa,""),e.innerHTML=r}};function oA(n){n()}function LI(n,e){const t=typeof e=="function"?e:Ld;if(n.length===0)t();else{let i=oA;ve.mutateApproach===$B&&(i=ro.requestAnimationFrame||oA),i(()=>{const r=UF(),a=Ob.begin("mutate");n.map(r),a(),t()})}}let kb=!1;function UI(){kb=!0}function l_(){kb=!1}let bm=null;function aA(n){if(!YS||!ve.observeMutations)return;const{treeCallback:e=Ld,nodeCallback:t=Ld,pseudoElementsCallback:i=Ld,observeMutationsRoot:r=dt}=n;bm=new YS(a=>{if(kb)return;const u=oo();vu(a).forEach(f=>{if(f.type==="childList"&&f.addedNodes.length>0&&!rA(f.addedNodes[0])&&(ve.searchPseudoElements&&i(f.target),e(f.target)),f.type==="attributes"&&f.target.parentNode&&ve.searchPseudoElements&&i(f.target.parentNode),f.type==="attributes"&&rA(f.target)&&~WB.indexOf(f.attributeName))if(f.attributeName==="class"&&zF(f.target)){const{prefix:d,iconName:p}=sp(Ab(f.target));f.target.setAttribute(Eb,d||u),p&&f.target.setAttribute(Tb,p)}else LF(f.target)&&t(f.target)})}),er&&bm.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function qF(){bm&&bm.disconnect()}function HF(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((i,r)=>{const a=r.split(":"),u=a[0],f=a.slice(1);return u&&f.length>0&&(i[u]=f.join(":").trim()),i},{})),t}function $F(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"";let r=sp(Ab(n));return r.prefix||(r.prefix=oo()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=gF(r.prefix,n.innerText)||Cb(r.prefix,t_(n.innerText))),!r.iconName&&ve.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function GF(n){const e=vu(n.attributes).reduce((r,a)=>(r.name!=="class"&&r.name!=="style"&&(r[a.name]=a.value),r),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return ve.autoA11y&&(t?e["aria-labelledby"]="".concat(ve.replacementClass,"-title-").concat(i||hf()):(e["aria-hidden"]="true",e.focusable="false")),e}function YF(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ts,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function lA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:i,rest:r}=$F(n),a=GF(n),u=i_("parseNodeAttributes",{},n);let f=e.styleParser?HF(n):[];return oe({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:ts,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:f,attributes:a}},u)}const{styles:QF}=ns;function BI(n){const e=ve.autoReplaceSvg==="nest"?lA(n,{styleParser:!1}):lA(n);return~e.extra.classes.indexOf(bI)?ao("generateLayersText",n,e):ao("generateSvgReplacementMutation",n,e)}function KF(){return[...IB,...Kv]}function uA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!er)return Promise.resolve();const t=dt.documentElement.classList,i=y=>t.add("".concat(XS,"-").concat(y)),r=y=>t.remove("".concat(XS,"-").concat(y)),a=ve.autoFetchSvg?KF():dI.concat(Object.keys(QF));a.includes("fa")||a.push("fa");const u=[".".concat(bI,":not([").concat(Sa,"])")].concat(a.map(y=>".".concat(y,":not([").concat(Sa,"])"))).join(", ");if(u.length===0)return Promise.resolve();let f=[];try{f=vu(n.querySelectorAll(u))}catch{}if(f.length>0)i("pending"),r("complete");else return Promise.resolve();const d=Ob.begin("onTree"),p=f.reduce((y,_)=>{try{const b=BI(_);b&&y.push(b)}catch(b){vI||b.name==="MissingIcon"&&console.error(b)}return y},[]);return new Promise((y,_)=>{Promise.all(p).then(b=>{LI(b,()=>{i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),d(),y()})}).catch(b=>{d(),_(b)})})}function XF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;BI(n).then(t=>{t&&LI([t],e)})}function WF(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:s_(e||{});let{mask:r}=t;return r&&(r=(r||{}).icon?r:s_(r||{})),n(i,oe(oe({},t),{},{mask:r}))}}const ZF=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=ts,symbol:i=!1,mask:r=null,maskId:a=null,title:u=null,titleId:f=null,classes:d=[],attributes:p={},styles:y={}}=e;if(!n)return;const{prefix:_,iconName:b,icon:S}=n;return rp(oe({type:"icon"},n),()=>(Aa("beforeDOMElementCreation",{iconDefinition:n,params:e}),ve.autoA11y&&(u?p["aria-labelledby"]="".concat(ve.replacementClass,"-title-").concat(f||hf()):(p["aria-hidden"]="true",p.focusable="false")),Ib({icons:{main:r_(S),mask:r?r_(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:b,transform:oe(oe({},ts),t),symbol:i,title:u,maskId:a,titleId:f,extra:{attributes:p,styles:y,classes:d}})))};var JF={mixout(){return{icon:WF(ZF)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=uA,n.nodeCallback=XF,n}}},provides(n){n.i2svg=function(e){const{node:t=dt,callback:i=()=>{}}=e;return uA(t,i)},n.generateSvgReplacementMutation=function(e,t){const{iconName:i,title:r,titleId:a,prefix:u,transform:f,symbol:d,mask:p,maskId:y,extra:_}=t;return new Promise((b,S)=>{Promise.all([o_(i,u),p.iconName?o_(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(R=>{let[P,I]=R;b([e,Ib({icons:{main:P,mask:I},prefix:u,iconName:i,transform:f,symbol:d,maskId:y,title:r,titleId:a,extra:_,watchable:!0})])}).catch(S)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:r,transform:a,styles:u}=e;const f=np(u);f.length>0&&(i.style=f);let d;return xb(a)&&(d=ao("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(d||r.icon),{children:t,attributes:i}}}},ej={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return rp({type:"layer"},()=>{Aa("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(r=>{Array.isArray(r)?r.map(a=>{i=i.concat(a.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(ve.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},tj={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:i=[],attributes:r={},styles:a={}}=e;return rp({type:"counter",content:n},()=>(Aa("beforeDOMElementCreation",{content:n,params:e}),MF({content:n.toString(),title:t,extra:{attributes:r,styles:a,classes:["".concat(ve.cssPrefix,"-layers-counter"),...i]}})))}}}},nj={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=ts,title:i=null,classes:r=[],attributes:a={},styles:u={}}=e;return rp({type:"text",content:n},()=>(Aa("beforeDOMElementCreation",{content:n,params:e}),iA({content:n,transform:oe(oe({},ts),t),title:i,extra:{attributes:a,styles:u,classes:["".concat(ve.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:i,transform:r,extra:a}=t;let u=null,f=null;if(fI){const d=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();u=p.width/d,f=p.height/d}return ve.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,iA({content:e.innerHTML,width:u,height:f,transform:r,title:i,extra:a,watchable:!0})])}}};const ij=new RegExp('"',"ug"),cA=[1105920,1112319],fA=oe(oe(oe(oe({},{FontAwesome:{normal:"fas",400:"fas"}}),xB),qB),VB),u_=Object.keys(fA).reduce((n,e)=>(n[e.toLowerCase()]=fA[e],n),{}),sj=Object.keys(u_).reduce((n,e)=>{const t=u_[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function rj(n){const e=n.replace(ij,""),t=fF(e,0),i=t>=cA[0]&&t<=cA[1],r=e.length===2?e[0]===e[1]:!1;return{value:t_(r?e[0]:e),isSecondary:i||r}}function oj(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),r=isNaN(i)?"normal":i;return(u_[t]||{})[r]||sj[t]}function hA(n,e){const t="".concat(HB).concat(e.replace(":","-"));return new Promise((i,r)=>{if(n.getAttribute(t)!==null)return i();const u=vu(n.children).filter(b=>b.getAttribute(Wv)===e)[0],f=ro.getComputedStyle(n,e),d=f.getPropertyValue("font-family"),p=d.match(KB),y=f.getPropertyValue("font-weight"),_=f.getPropertyValue("content");if(u&&!p)return n.removeChild(u),i();if(p&&_!=="none"&&_!==""){const b=f.getPropertyValue("content");let S=oj(d,y);const{value:R,isSecondary:P}=rj(b),I=p[0].startsWith("FontAwesome");let B=Cb(S,R),H=B;if(I){const G=yF(R);G.iconName&&G.prefix&&(B=G.iconName,S=G.prefix)}if(B&&!P&&(!u||u.getAttribute(Eb)!==S||u.getAttribute(Tb)!==H)){n.setAttribute(t,H),u&&n.removeChild(u);const G=YF(),{extra:X}=G;X.attributes[Wv]=e,o_(B,S).then(re=>{const se=Ib(oe(oe({},G),{},{icons:{main:re,mask:PI()},prefix:S,iconName:H,extra:X,watchable:!0})),k=dt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(k,n.firstChild):n.appendChild(k),k.outerHTML=se.map(x=>Df(x)).join(`
`),n.removeAttribute(t),i()}).catch(r)}else i()}else i()})}function aj(n){return Promise.all([hA(n,"::before"),hA(n,"::after")])}function lj(n){return n.parentNode!==document.head&&!~GB.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Wv)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function dA(n){if(er)return new Promise((e,t)=>{const i=vu(n.querySelectorAll("*")).filter(lj).map(aj),r=Ob.begin("searchPseudoElements");UI(),Promise.all(i).then(()=>{r(),l_(),e()}).catch(()=>{r(),l_(),t()})})}var uj={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=dA,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=dt}=e;ve.searchPseudoElements&&dA(t)}}};let mA=!1;var cj={mixout(){return{dom:{unwatch(){UI(),mA=!0}}}},hooks(){return{bootstrap(){aA(i_("mutationObserverCallbacks",{}))},noAuto(){qF()},watch(n){const{observeMutationsRoot:e}=n;mA?l_():aA(i_("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const pA=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{const r=i.toLowerCase().split("-"),a=r[0];let u=r.slice(1).join("-");if(a&&u==="h")return t.flipX=!0,t;if(a&&u==="v")return t.flipY=!0,t;if(u=parseFloat(u),isNaN(u))return t;switch(a){case"grow":t.size=t.size+u;break;case"shrink":t.size=t.size-u;break;case"left":t.x=t.x-u;break;case"right":t.x=t.x+u;break;case"up":t.y=t.y-u;break;case"down":t.y=t.y+u;break;case"rotate":t.rotate=t.rotate+u;break}return t},e)};var fj={mixout(){return{parse:{transform:n=>pA(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=pA(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:r,iconWidth:a}=e;const u={transform:"translate(".concat(r/2," 256)")},f="translate(".concat(i.x*32,", ").concat(i.y*32,") "),d="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),p="rotate(".concat(i.rotate," 0 0)"),y={transform:"".concat(f," ").concat(d," ").concat(p)},_={transform:"translate(".concat(a/2*-1," -256)")},b={outer:u,inner:y,path:_};return{tag:"g",attributes:oe({},b.outer),children:[{tag:"g",attributes:oe({},b.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:oe(oe({},t.icon.attributes),b.path)}]}]}}}};const Jy={x:0,y:0,width:"100%",height:"100%"};function gA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function hj(n){return n.tag==="g"?n.children:[n]}var dj={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),i=t?sp(t.split(" ").map(r=>r.trim())):PI();return i.prefix||(i.prefix=oo()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:r,mask:a,maskId:u,transform:f}=e;const{width:d,icon:p}=r,{width:y,icon:_}=a,b=rF({transform:f,containerWidth:y,iconWidth:d}),S={tag:"rect",attributes:oe(oe({},Jy),{},{fill:"white"})},R=p.children?{children:p.children.map(gA)}:{},P={tag:"g",attributes:oe({},b.inner),children:[gA(oe({tag:p.tag,attributes:oe(oe({},p.attributes),b.path)},R))]},I={tag:"g",attributes:oe({},b.outer),children:[P]},B="mask-".concat(u||hf()),H="clip-".concat(u||hf()),G={tag:"mask",attributes:oe(oe({},Jy),{},{id:B,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,I]},X={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:hj(_)},G]};return t.push(X,{tag:"rect",attributes:oe({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(B,")")},Jy)}),{children:t,attributes:i}}}},mj={provides(n){let e=!1;ro.matchMedia&&(e=ro.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:oe(oe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=oe(oe({},r),{},{attributeName:"opacity"}),u={tag:"circle",attributes:oe(oe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:oe(oe({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:oe(oe({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(u),t.push({tag:"path",attributes:oe(oe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:oe(oe({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:oe(oe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:oe(oe({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},pj={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},gj=[lF,JF,ej,tj,nj,uj,cj,fj,dj,mj,pj];xF(gj,{mixoutsTo:Wn});Wn.noAuto;Wn.config;Wn.library;Wn.dom;const c_=Wn.parse;Wn.findIconDefinition;Wn.toHtml;const yj=Wn.icon;Wn.layer;Wn.text;Wn.counter;var ev={exports:{}},tv,yA;function vj(){if(yA)return tv;yA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tv=n,tv}var nv,vA;function _j(){if(vA)return nv;vA=1;var n=vj();function e(){}function t(){}return t.resetWarningCache=e,nv=function(){function i(u,f,d,p,y,_){if(_!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},nv}var _A;function bj(){return _A||(_A=1,ev.exports=_j()()),ev.exports}var wj=bj();const Be=SA(wj);function bA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(t),!0).forEach(function(i){Vl(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wm(n){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(n)}function Vl(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ej(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Tj(n,e){if(n==null)return{};var t=Ej(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function f_(n){return Sj(n)||Aj(n)||xj(n)||Rj()}function Sj(n){if(Array.isArray(n))return h_(n)}function Aj(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xj(n,e){if(n){if(typeof n=="string")return h_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h_(n,e)}}function h_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Rj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cj(n){var e,t=n.beat,i=n.fade,r=n.beatFade,a=n.bounce,u=n.shake,f=n.flash,d=n.spin,p=n.spinPulse,y=n.spinReverse,_=n.pulse,b=n.fixedWidth,S=n.inverse,R=n.border,P=n.listItem,I=n.flip,B=n.size,H=n.rotation,G=n.pull,X=(e={"fa-beat":t,"fa-fade":i,"fa-beat-fade":r,"fa-bounce":a,"fa-shake":u,"fa-flash":f,"fa-spin":d,"fa-spin-reverse":y,"fa-spin-pulse":p,"fa-pulse":_,"fa-fw":b,"fa-inverse":S,"fa-border":R,"fa-li":P,"fa-flip":I===!0,"fa-flip-horizontal":I==="horizontal"||I==="both","fa-flip-vertical":I==="vertical"||I==="both"},Vl(e,"fa-".concat(B),typeof B<"u"&&B!==null),Vl(e,"fa-rotate-".concat(H),typeof H<"u"&&H!==null&&H!==0),Vl(e,"fa-pull-".concat(G),typeof G<"u"&&G!==null),Vl(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(X).map(function(re){return X[re]?re:null}).filter(function(re){return re})}function Ij(n){return n=n-0,n===n}function FI(n){return Ij(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var Oj=["style"];function kj(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Dj(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var i=t.indexOf(":"),r=FI(t.slice(0,i)),a=t.slice(i+1).trim();return r.startsWith("webkit")?e[kj(r)]=a:e[r]=a,e},{})}function jI(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(d){return jI(n,d)}),r=Object.keys(e.attributes||{}).reduce(function(d,p){var y=e.attributes[p];switch(p){case"class":d.attrs.className=y,delete e.attributes.class;break;case"style":d.attrs.style=Dj(y);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?d.attrs[p.toLowerCase()]=y:d.attrs[FI(p)]=y}return d},{attrs:{}}),a=t.style,u=a===void 0?{}:a,f=Tj(t,Oj);return r.attrs.style=Zi(Zi({},r.attrs.style),u),n.apply(void 0,[e.tag,Zi(Zi({},r.attrs),f)].concat(f_(i)))}var qI=!1;try{qI=!0}catch{}function Mj(){if(!qI&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function wA(n){if(n&&wm(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(c_.icon)return c_.icon(n);if(n===null)return null;if(n&&wm(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function iv(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Vl({},n,e):{}}var EA={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Db=Bd.forwardRef(function(n,e){var t=Zi(Zi({},EA),n),i=t.icon,r=t.mask,a=t.symbol,u=t.className,f=t.title,d=t.titleId,p=t.maskId,y=wA(i),_=iv("classes",[].concat(f_(Cj(t)),f_((u||"").split(" ")))),b=iv("transform",typeof t.transform=="string"?c_.transform(t.transform):t.transform),S=iv("mask",wA(r)),R=yj(y,Zi(Zi(Zi(Zi({},_),b),S),{},{symbol:a,title:f,titleId:d,maskId:p}));if(!R)return Mj("Could not find icon",y),null;var P=R.abstract,I={ref:e};return Object.keys(t).forEach(function(B){EA.hasOwnProperty(B)||(I[B]=t[B])}),Pj(P[0],I)});Db.displayName="FontAwesomeIcon";Db.propTypes={beat:Be.bool,border:Be.bool,beatFade:Be.bool,bounce:Be.bool,className:Be.string,fade:Be.bool,flash:Be.bool,mask:Be.oneOfType([Be.object,Be.array,Be.string]),maskId:Be.string,fixedWidth:Be.bool,inverse:Be.bool,flip:Be.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Be.oneOfType([Be.object,Be.array,Be.string]),listItem:Be.bool,pull:Be.oneOf(["right","left"]),pulse:Be.bool,rotation:Be.oneOf([0,90,180,270]),shake:Be.bool,size:Be.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Be.bool,spinPulse:Be.bool,spinReverse:Be.bool,symbol:Be.oneOfType([Be.bool,Be.string]),title:Be.string,titleId:Be.string,transform:Be.oneOfType([Be.string,Be.object]),swapOpacity:Be.bool};var Pj=jI.bind(null,Bd.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Nj={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};function Vj(){const[n,e]=le.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}));return le.useEffect(()=>{const t=setInterval(()=>{e(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>clearInterval(t)},[]),Q.jsxs("h1",{style:{fontSize:"2rem",marginBottom:"1rem",textAlign:"center"},children:[Q.jsx(Db,{icon:Nj,style:{marginRight:8}}),n]})}function zj(){const[n,e]=le.useState([]);le.useEffect(()=>{const r=HL(us,a=>{if(!a){e([]);return}const u=Wm(yu(Xn,"todos"),ff("uid","==",a.uid),u7("createdAt","desc"));return h7(u,d=>{e(d.docs.map(p=>({id:p.id,...p.data()})))})});return()=>r()},[]);const t=async r=>{await ZC(so(Xn,"todos",r.id),{completed:!r.completed})},i=async r=>{await JC(so(Xn,"todos",r))};return Q.jsxs("div",{style:Lj,children:[Q.jsx("h3",{style:{marginBottom:8},children:"📝 To‑Do List"}),n.length===0&&Q.jsx("p",{style:{margin:0},children:"No tasks yet."}),Q.jsx("ul",{style:Uj,children:n.map(r=>Q.jsxs("li",{style:Bj,children:[Q.jsx("input",{type:"checkbox",checked:!!r.completed,onChange:()=>t(r)}),Q.jsx("span",{style:{marginLeft:8,textDecoration:r.completed?"line-through":"none",flex:1},children:r.text}),Q.jsx("button",{onClick:()=>i(r.id),style:Fj,title:"Delete task","aria-label":`Delete task "${r.text}"`,onMouseEnter:a=>a.currentTarget.style.color="#ff6b6b",onMouseLeave:a=>a.currentTarget.style.color="#f55",children:"✖"})]},r.id))})]})}const Lj={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},Uj={listStyle:"none",padding:0,margin:0},Bj={display:"flex",alignItems:"center",padding:"4px 0"},Fj={marginLeft:8,background:"transparent",border:"none",color:"#f55",fontSize:16,cursor:"pointer",transition:"color 0.2s ease"};function jj(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>t!==void 0))}async function qj(n,e){const t=jj(e),i=so(Xn,"userProfiles",n);await WC(i,t,{merge:!0})}async function Hj(n){const e=so(Xn,"userProfiles",n),t=await XC(e);return t.exists()?t.data():{userName:"User",assistantName:"Assistant",userAvatar:"default-user.png",assistantAvatar:"default-assistant.png"}}const TA=["💡 Tip: You can ask the assistant to add things to your to-do list if signed in.","💡 Tip: Signing in offers a more unique experience with the Assistant.","💡 Tip: The profile option under menu offers customization options once signed in!","🎵 Use the button to the right to mute or unmute background music.","💡 Tip: The Show/Hide Tools button is a great way to uncramp the screen on mobile!"];function $j(){const[n,e]=le.useState(!1),[t,i]=le.useState(0),[r,a]=le.useState(!0);le.useEffect(()=>{const f=document.getElementById("bg-music");f&&e(f.muted);const d=setInterval(()=>{a(!1),setTimeout(()=>{i(p=>(p+1)%TA.length),a(!0)},500)},1e4);return()=>clearInterval(d)},[]);const u=()=>{const f=document.getElementById("bg-music");if(f){const d=!f.muted;f.muted=d,e(d)}};return Q.jsxs(Q.Fragment,{children:[Q.jsx("footer",{style:{position:"fixed",bottom:10,right:20,zIndex:100,backgroundColor:"#0f52ba",color:"#fff",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",cursor:"pointer",userSelect:"none",boxShadow:"0 0 10px rgba(0,0,0,0.4)"},onClick:u,children:n?"🔇 Unmute Music":"🎵 Mute Music"}),r&&Q.jsx("div",{style:{position:"fixed",bottom:50,left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff",padding:"6px 16px",borderRadius:"16px",fontSize:"14px",zIndex:99,animation:"tip-scroll 8s ease-in-out forwards"},children:TA[t]},t),Q.jsx("style",{children:`
          @keyframes tip-scroll {
            0% {
              transform: translateX(-100vw) translateY(0);
              opacity: 0;
            }
            30% {
              transform: translateX(-50%) translateY(0);
              opacity: 1;
            }
            50% {
              transform: translateX(-50%) translateY(0);
              opacity: 1;
            }
            70% {
              transform: translateX(-50%) translateY(20px);
              opacity: 0.8;
            }
            100% {
              transform: translateX(-50%) translateY(60px);
              opacity: 0;
            }
          }
        `})]})}function Gj(){const e=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});return Q.jsxs("div",{children:["📅 ",e]})}const Yj="sk_b193185ff7e46dcc02ddff6ee5f634ef75973617bd8caefa",Qj="7p1Ofvcwsv7UBPoFNcpI",Kj="csk-h3cckk6vmk9nj3m383ceet2j9rrkcdr5w9yv3phn4tk449r3";function Xj(){const[n,e]=le.useState(!1),[t,i]=le.useState(""),[r,a]=le.useState(""),[u,f]=le.useState(""),[d,p]=le.useState(!1),[y,_]=le.useState([]),[b,S]=le.useState(null),[R,P]=le.useState(!1),[I,B]=le.useState(!0),[H,G]=le.useState("default-user.png"),[X,re]=le.useState("default-assistant.png"),[se,k]=le.useState({userName:"",assistantName:"Assistant"}),x=()=>{B(ce=>!ce)},{speakIncrementally:C,isSpeaking:N,audioRef:z}=cB(Yj,Qj),L=ce=>Object.fromEntries(Object.entries(ce).filter(([Ce,M])=>M!==void 0));le.useEffect(()=>us.onAuthStateChanged(async Ce=>{if(S(Ce),Ce){const M=await Hj(Ce.uid);M&&(M.userAvatar&&G(M.userAvatar),M.assistantAvatar&&re(M.assistantAvatar),k({userName:M.userName||"",assistantName:M.assistantName||"Assistant"}))}}),[]),le.useEffect(()=>{if(us.currentUser){const ce=L({userAvatar:H,assistantAvatar:X,...se});qj(us.currentUser.uid,ce)}},[H,X,se]);const D=(ce,Ce)=>{ce==="user"?G(Ce):re(Ce)},bt=(ce,Ce)=>{k(M=>({...M,[ce==="user"?"userName":"assistantName"]:Ce}))},ct=async ce=>{const Ce=await gB({userText:ce,chatHistory:y,voiceEnabled:d,speakFn:C,setAssistantText:f,setChatHistory:_,CEREBRAS_API_KEY:Kj,userProfile:se});Ce!=null&&Ce.error&&f(M=>M||"Sorry, I had trouble understanding that.")},{startListening:W}=fB({enabled:!0,onResult:ce=>{a(ce),e(!1),ct(ce)},onError:()=>e(!1),onStart:()=>e(!0),onEnd:()=>e(!1)}),he=()=>{t.trim()&&(a(t),f(""),ct(t),i(""))};return Q.jsxs(Q.Fragment,{children:[Q.jsx(aB,{position:"top-left",toastOptions:{style:{background:"#1a1a1a",color:"#fff",border:"1px solid #333",fontFamily:"Arial, sans-serif"},iconTheme:{primary:"#0f52ba",secondary:"#1a1a1a"},duration:4e3},containerStyle:{marginTop:"70px",marginLeft:"20px"}}),Q.jsx(s6,{}),Q.jsx(g7,{userAvatar:H,assistantAvatar:X,onAvatarChange:D,userName:se.userName,assistantName:se.assistantName,onNameChange:bt}),Q.jsxs("div",{className:`widget-panel ${I?"visible":"hidden"}`,children:[Q.jsx(r6,{}),Q.jsx(zj,{})]}),Q.jsx("button",{className:"widget-toggle-btn",onClick:x,children:I?"Hide Tools":"Show Tools"}),Q.jsxs("div",{style:{position:"relative",padding:20,paddingBottom:100,fontFamily:"Arial, sans-serif",color:"#e0e0e0",display:"flex",flexDirection:"column",alignItems:"center",zIndex:1},children:[Q.jsx(Vj,{}),Q.jsx(Gj,{}),Q.jsx(y7,{audioRef:z,isSpeaking:N}),Q.jsx(uB,{voiceEnabled:d,setVoiceEnabled:p,user:b}),Q.jsxs("div",{style:{display:"flex",gap:8,maxWidth:600,width:"100%"},children:[Q.jsx("input",{type:"text",placeholder:"Type your message here...",value:t,onChange:ce=>i(ce.target.value),disabled:n||N,onKeyDown:ce=>ce.key==="Enter"&&he(),style:{flexGrow:1,padding:10,fontSize:16,borderRadius:6,border:"1px solid #0f52ba",backgroundColor:"#111",color:"#e0e0e0"}}),Q.jsx("button",{onClick:he,disabled:n||N||!t.trim(),style:{padding:"10px 16px",fontSize:16,borderRadius:6,border:"none",backgroundColor:"#0f52ba",color:"#fff",cursor:"pointer"},children:"Send"})]}),Q.jsx("button",{onClick:W,disabled:n||N,style:{marginTop:20,padding:"10px 20px",fontSize:16,borderRadius:6,backgroundColor:n?"#555":"#0f52ba",color:"#fff",border:"none",cursor:"pointer"},children:n?"Listening...":"Start Talking"}),Q.jsxs("div",{style:{marginTop:40,maxWidth:600,width:"100%"},children:[Q.jsx("h3",{style:{textAlign:"center",marginBottom:10},children:"Conversation History"}),Q.jsx("div",{style:{backgroundColor:"#1a1a1a",padding:"10px 16px",borderRadius:8,maxHeight:"300px",overflowY:"auto",border:"1px solid #333"},children:y.map((ce,Ce)=>{const M=ce.timestamp?new Date(ce.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return Q.jsxs("div",{style:{display:"flex",flexDirection:ce.role==="user"?"row-reverse":"row",alignItems:"flex-start",gap:"8px",marginBottom:"10px"},children:[Q.jsx("img",{src:ce.role==="user"?H:X,alt:`${ce.role} avatar`,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover",border:"2px solid #555",flexShrink:0}}),Q.jsxs("div",{style:{backgroundColor:ce.role==="user"?"#0f52ba":"#333",color:"#fff",padding:"10px 16px",borderRadius:"16px",maxWidth:"75%",wordWrap:"break-word",fontSize:"16px",position:"relative"},children:[Q.jsx("div",{children:ce.content}),M&&Q.jsx("div",{style:{fontSize:"10px",color:"#ccc",marginTop:"4px",textAlign:"right",userSelect:"none"},children:M})]})]},Ce)})})]}),Q.jsx("button",{onClick:()=>_([]),style:{marginTop:10,padding:"6px 12px",backgroundColor:"#0f52ba",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"},children:"Clear Conversation"}),Q.jsx("audio",{ref:z}),Q.jsx("audio",{id:"bg-music",src:"/Personal-Assistant/assets/music.mp3",controls:!0,autoPlay:!0,loop:!0,style:{display:"none"}}),R&&Q.jsx(iI,{userAvatar:H,assistantAvatar:X,onAvatarChange:D,onClose:()=>P(!1),userName:se.userName,assistantName:se.assistantName,onNameChange:bt}),Q.jsx($j,{})]})]})}TO.createRoot(document.getElementById("root")).render(Q.jsx(le.StrictMode,{children:Q.jsx(Xj,{})}));
