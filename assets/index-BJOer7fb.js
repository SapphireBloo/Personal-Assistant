(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Fh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cp={exports:{}},gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function HI(){if(Bb)return gu;Bb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return gu.Fragment=t,gu.jsx=e,gu.jsxs=e,gu}var Fb;function GI(){return Fb||(Fb=1,Cp.exports=HI()),Cp.exports}var F=GI(),xp={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function YI(){if(qb)return xt;qb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,q={};function z(D,it,nt){this.props=D,this.context=it,this.refs=q,this.updater=nt||R}z.prototype.isReactComponent={},z.prototype.setState=function(D,it){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,it,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function K(){}K.prototype=z.prototype;function X(D,it,nt){this.props=D,this.context=it,this.refs=q,this.updater=nt||R}var Z=X.prototype=new K;Z.constructor=X,k(Z,z.prototype),Z.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function O(D,it,nt,st,ht,Mt){return nt=Mt.ref,{$$typeof:n,type:D,key:it,ref:nt!==void 0?nt:null,props:Mt}}function S(D,it){return O(D.type,it,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function M(D){var it={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return it[nt]})}var N=/\/+/g;function V(D,it){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):it.toString(36)}function C(){}function de(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(it){D.status==="pending"&&(D.status="fulfilled",D.value=it)},function(it){D.status==="pending"&&(D.status="rejected",D.reason=it)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,it,nt,st,ht){var Mt=typeof D;(Mt==="undefined"||Mt==="boolean")&&(D=null);var Rt=!1;if(D===null)Rt=!0;else switch(Mt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(D.$$typeof){case n:case t:Rt=!0;break;case v:return Rt=D._init,ne(Rt(D._payload),it,nt,st,ht)}}if(Rt)return ht=ht(D),Rt=st===""?"."+V(D,0):st,ut(ht)?(nt="",Rt!=null&&(nt=Rt.replace(N,"$&/")+"/"),ne(ht,it,nt,"",function(ai){return ai})):ht!=null&&(I(ht)&&(ht=S(ht,nt+(ht.key==null||D&&D.key===ht.key?"":(""+ht.key).replace(N,"$&/")+"/")+Rt)),it.push(ht)),1;Rt=0;var ke=st===""?".":st+":";if(ut(D))for(var se=0;se<D.length;se++)st=D[se],Mt=ke+V(st,se),Rt+=ne(st,it,nt,Mt,ht);else if(se=T(D),typeof se=="function")for(D=se.call(D),se=0;!(st=D.next()).done;)st=st.value,Mt=ke+V(st,se++),Rt+=ne(st,it,nt,Mt,ht);else if(Mt==="object"){if(typeof D.then=="function")return ne(de(D),it,nt,st,ht);throw it=String(D),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function Q(D,it,nt){if(D==null)return D;var st=[],ht=0;return ne(D,st,"","",function(Mt){return it.call(nt,Mt,ht++)}),st}function ft(D){if(D._status===-1){var it=D._result;it=it(),it.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=it)}if(D._status===1)return D._result.default;throw D._result}var gt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return xt.Children={map:Q,forEach:function(D,it,nt){Q(D,function(){it.apply(this,arguments)},nt)},count:function(D){var it=0;return Q(D,function(){it++}),it},toArray:function(D){return Q(D,function(it){return it})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xt.Component=z,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=X,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return lt.H.useMemoCache(D)}},xt.cache=function(D){return function(){return D.apply(null,arguments)}},xt.cloneElement=function(D,it,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=k({},D.props),ht=D.key,Mt=void 0;if(it!=null)for(Rt in it.ref!==void 0&&(Mt=void 0),it.key!==void 0&&(ht=""+it.key),it)!ct.call(it,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&it.ref===void 0||(st[Rt]=it[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=nt;else if(1<Rt){for(var ke=Array(Rt),se=0;se<Rt;se++)ke[se]=arguments[se+2];st.children=ke}return O(D.type,ht,void 0,void 0,Mt,st)},xt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},xt.createElement=function(D,it,nt){var st,ht={},Mt=null;if(it!=null)for(st in it.key!==void 0&&(Mt=""+it.key),it)ct.call(it,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ht[st]=it[st]);var Rt=arguments.length-2;if(Rt===1)ht.children=nt;else if(1<Rt){for(var ke=Array(Rt),se=0;se<Rt;se++)ke[se]=arguments[se+2];ht.children=ke}if(D&&D.defaultProps)for(st in Rt=D.defaultProps,Rt)ht[st]===void 0&&(ht[st]=Rt[st]);return O(D,Mt,void 0,void 0,null,ht)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(D){return{$$typeof:d,render:D}},xt.isValidElement=I,xt.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:ft}},xt.memo=function(D,it){return{$$typeof:p,type:D,compare:it===void 0?null:it}},xt.startTransition=function(D){var it=lt.T,nt={};lt.T=nt;try{var st=D(),ht=lt.S;ht!==null&&ht(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(zt,gt)}catch(Mt){gt(Mt)}finally{lt.T=it}},xt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},xt.use=function(D){return lt.H.use(D)},xt.useActionState=function(D,it,nt){return lt.H.useActionState(D,it,nt)},xt.useCallback=function(D,it){return lt.H.useCallback(D,it)},xt.useContext=function(D){return lt.H.useContext(D)},xt.useDebugValue=function(){},xt.useDeferredValue=function(D,it){return lt.H.useDeferredValue(D,it)},xt.useEffect=function(D,it,nt){var st=lt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(D,it)},xt.useId=function(){return lt.H.useId()},xt.useImperativeHandle=function(D,it,nt){return lt.H.useImperativeHandle(D,it,nt)},xt.useInsertionEffect=function(D,it){return lt.H.useInsertionEffect(D,it)},xt.useLayoutEffect=function(D,it){return lt.H.useLayoutEffect(D,it)},xt.useMemo=function(D,it){return lt.H.useMemo(D,it)},xt.useOptimistic=function(D,it){return lt.H.useOptimistic(D,it)},xt.useReducer=function(D,it,nt){return lt.H.useReducer(D,it,nt)},xt.useRef=function(D){return lt.H.useRef(D)},xt.useState=function(D){return lt.H.useState(D)},xt.useSyncExternalStore=function(D,it,nt){return lt.H.useSyncExternalStore(D,it,nt)},xt.useTransition=function(){return lt.H.useTransition()},xt.version="19.1.0",xt}var Hb;function yy(){return Hb||(Hb=1,xp.exports=YI()),xp.exports}var at=yy();const ga=Fh(at);var Op={exports:{}},yu={},Dp={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function QI(){return Gb||(Gb=1,function(n){function t(Q,ft){var gt=Q.length;Q.push(ft);t:for(;0<gt;){var zt=gt-1>>>1,D=Q[zt];if(0<a(D,ft))Q[zt]=ft,Q[gt]=D,gt=zt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ft=Q[0],gt=Q.pop();if(gt!==ft){Q[0]=gt;t:for(var zt=0,D=Q.length,it=D>>>1;zt<it;){var nt=2*(zt+1)-1,st=Q[nt],ht=nt+1,Mt=Q[ht];if(0>a(st,gt))ht<D&&0>a(Mt,st)?(Q[zt]=Mt,Q[ht]=gt,zt=ht):(Q[zt]=st,Q[nt]=gt,zt=nt);else if(ht<D&&0>a(Mt,gt))Q[zt]=Mt,Q[ht]=gt,zt=ht;else break t}}return ft}function a(Q,ft){var gt=Q.sortIndex-ft.sortIndex;return gt!==0?gt:Q.id-ft.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,E=null,T=3,R=!1,k=!1,q=!1,z=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ut(Q){for(var ft=e(p);ft!==null;){if(ft.callback===null)s(p);else if(ft.startTime<=Q)s(p),ft.sortIndex=ft.expirationTime,t(m,ft);else break;ft=e(p)}}function lt(Q){if(q=!1,ut(Q),!k)if(e(m)!==null)k=!0,ct||(ct=!0,V());else{var ft=e(p);ft!==null&&ne(lt,ft.startTime-Q)}}var ct=!1,O=-1,S=5,I=-1;function M(){return z?!0:!(n.unstable_now()-I<S)}function N(){if(z=!1,ct){var Q=n.unstable_now();I=Q;var ft=!0;try{t:{k=!1,q&&(q=!1,X(O),O=-1),R=!0;var gt=T;try{e:{for(ut(Q),E=e(m);E!==null&&!(E.expirationTime>Q&&M());){var zt=E.callback;if(typeof zt=="function"){E.callback=null,T=E.priorityLevel;var D=zt(E.expirationTime<=Q);if(Q=n.unstable_now(),typeof D=="function"){E.callback=D,ut(Q),ft=!0;break e}E===e(m)&&s(m),ut(Q)}else s(m);E=e(m)}if(E!==null)ft=!0;else{var it=e(p);it!==null&&ne(lt,it.startTime-Q),ft=!1}}break t}finally{E=null,T=gt,R=!1}ft=void 0}}finally{ft?V():ct=!1}}}var V;if(typeof Z=="function")V=function(){Z(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,de=C.port2;C.port1.onmessage=N,V=function(){de.postMessage(null)}}else V=function(){K(N,0)};function ne(Q,ft){O=K(function(){Q(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var ft=3;break;default:ft=T}var gt=T;T=ft;try{return Q()}finally{T=gt}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(Q,ft){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=T;T=Q;try{return ft()}finally{T=gt}},n.unstable_scheduleCallback=function(Q,ft,gt){var zt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?zt+gt:zt):gt=zt,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=gt+D,Q={id:v++,callback:ft,priorityLevel:Q,startTime:gt,expirationTime:D,sortIndex:-1},gt>zt?(Q.sortIndex=gt,t(p,Q),e(m)===null&&Q===e(p)&&(q?(X(O),O=-1):q=!0,ne(lt,gt-zt))):(Q.sortIndex=D,t(m,Q),k||R||(k=!0,ct||(ct=!0,V()))),Q},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Q){var ft=T;return function(){var gt=T;T=ft;try{return Q.apply(this,arguments)}finally{T=gt}}}}(Mp)),Mp}var Yb;function KI(){return Yb||(Yb=1,Dp.exports=QI()),Dp.exports}var Pp={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function XI(){if(Qb)return Je;Qb=1;var n=yy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,v)},Je.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},Je.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Je.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Je.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Je.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Je.requestFormReset=function(m){s.d.r(m)},Je.unstable_batchedUpdates=function(m,p){return m(p)},Je.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var Kb;function $I(){if(Kb)return Pp.exports;Kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pp.exports=XI(),Pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function WI(){if(Xb)return yu;Xb=1;var n=KI(),t=yy(),e=$I();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return d(h),i;if(g===u)return d(h),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=h,u=g;else{for(var b=!1,w=h.child;w;){if(w===o){b=!0,o=h,u=g;break}if(w===u){b=!0,u=h,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=h;break}if(w===u){b=!0,u=g,o=h;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case z:return"Profiler";case q:return"StrictMode";case lt:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case Z:return(i.displayName||"Context")+".Provider";case X:return(i._context.displayName||"Context")+".Consumer";case ut:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var ne=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function it(i){return{current:i}}function nt(i){0>D||(i.current=zt[D],zt[D]=null,D--)}function st(i,r){D++,zt[D]=i.current,i.current=r}var ht=it(null),Mt=it(null),Rt=it(null),ke=it(null);function se(i,r){switch(st(Rt,r),st(Mt,i),st(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?pb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=pb(r),i=gb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ht),st(ht,i)}function ai(){nt(ht),nt(Mt),nt(Rt)}function ws(i){i.memoizedState!==null&&st(ke,i);var r=ht.current,o=gb(r,i.type);r!==o&&(st(Mt,i),st(ht,o))}function Vi(i){Mt.current===i&&(nt(ht),nt(Mt)),ke.current===i&&(nt(ke),fu._currentValue=gt)}var Cr=Object.prototype.hasOwnProperty,xr=n.unstable_scheduleCallback,Or=n.unstable_cancelCallback,ll=n.unstable_shouldYield,hc=n.unstable_requestPaint,Mn=n.unstable_now,Cd=n.unstable_getCurrentPriorityLevel,ul=n.unstable_ImmediatePriority,Da=n.unstable_UserBlockingPriority,Dr=n.unstable_NormalPriority,xd=n.unstable_LowPriority,Ma=n.unstable_IdlePriority,cl=n.log,dc=n.unstable_setDisableYieldValue,me=null,Xt=null;function _n(i){if(typeof cl=="function"&&dc(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(me,i)}catch{}}var We=Math.clz32?Math.clz32:Mr,mc=Math.log,Od=Math.LN2;function Mr(i){return i>>>=0,i===0?32:31-(mc(i)/Od|0)|0}var Pr=256,Nr=4194304;function Kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?h=Kn(u):(b&=w,b!==0?h=Kn(b):o||(o=w&~i,o!==0&&(h=Kn(o))))):(w=u&~g,w!==0?h=Kn(w):b!==0?h=Kn(b):o||(o=u&~i,o!==0&&(h=Kn(o)))),h===0?0:r!==0&&r!==h&&(r&g)===0&&(g=h&-h,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:h}function kr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function fl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var i=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),i}function dl(){var i=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),i}function Li(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ml(i,r,o,u,h,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,x=i.expirationTimes,B=i.hiddenUpdates;for(o=b&~o;0<o;){var $=31-We(o),J=1<<$;w[$]=0,x[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}o&=~J}u!==0&&oi(i,u,0),g!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function oi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-We(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function pl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-We(o),h=1<<u;h&r|i[u]&r&&(i[u]|=r),o&=~h}}function As(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Na(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ss(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:kb(i.type))}function pc(i,r){var o=ft.p;try{return ft.p=i,r()}finally{ft.p=o}}var le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+le,Ee="__reactProps$"+le,Pn="__reactContainer$"+le,gl="__reactEvents$"+le,Dd="__reactListeners$"+le,Rs="__reactHandles$"+le,gc="__reactResources$"+le,Vr="__reactMarker$"+le;function Is(i){delete i[Ie],delete i[Ee],delete i[gl],delete i[Dd],delete i[Rs]}function Ui(i){var r=i[Ie];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Pn]||o[Ie]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=bb(i);i!==null;){if(o=i[Ie])return o;i=bb(i)}return r}i=o,o=i.parentNode}return null}function li(i){if(i=i[Ie]||i[Pn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ui(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ln(i){var r=i[gc];return r||(r=i[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ye(i){i[Vr]=!0}var yl=new Set,ka={};function Xn(i,r){ji(i,r),ji(i+"Capture",r)}function ji(i,r){for(ka[i]=r,i=0;i<r.length;i++)yl.add(r[i])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},Lr={};function _c(i){return Cr.call(Lr,i)?!0:Cr.call(vc,i)?!1:yc.test(i)?Lr[i]=!0:(vc[i]=!0,!1)}function Cs(i,r,o){if(_c(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ci(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var zr,bc;function Bi(i){if(zr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);zr=r&&r[1]||"",bc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+i+bc}var Va=!1;function La(i,r){if(!i||Va)return"";Va=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(i,[],J)}else{try{J.call()}catch(G){H=G}i.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var x=b.split(`
`),B=w.split(`
`);for(h=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(u===x.length||h===B.length)for(u=x.length-1,h=B.length-1;1<=u&&0<=h&&x[u]!==B[h];)h--;for(;1<=u&&0<=h;u--,h--)if(x[u]!==B[h]){if(u!==1||h!==1)do if(u--,h--,0>h||x[u]!==B[h]){var $=`
`+x[u].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=u&&0<=h);break}}}finally{Va=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function vl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return La(i.type,!1);case 11:return La(i.type.render,!1);case 1:return La(i.type,!0);case 31:return Bi("Activity");default:return""}}function za(i){try{var r="";do r+=vl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _l(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Md(i){var r=_l(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ua(i){i._valueTracker||(i._valueTracker=Md(i))}function bl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=_l(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ur(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pd=/[\n"\\]/g;function Te(i){return i.replace(Pd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(i,r,o,u,h,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+un(r)):i.value!==""+un(r)&&(i.value=""+un(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?xs(i,b,un(r)):o!=null?xs(i,b,un(o)):u!=null&&i.removeAttribute("value"),h==null&&g!=null&&(i.defaultChecked=!!g),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+un(w):i.removeAttribute("name")}function jr(i,r,o,u,h,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+un(o):"",r=r!=null?""+un(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function xs(i,r,o){r==="number"&&Ur(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fi(i,r,o,u){if(i=i.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=r.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&u&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),r=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Zt(i,r,o){if(r!=null&&(r=""+un(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+un(o):""}function Br(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=un(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Nn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Fr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function El(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&o[h]!==u&&Ec(i,h,u)}else for(var g in r)r.hasOwnProperty(g)&&Ec(i,g,r[g])}function Tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(i){return kd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qi=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,Gi=null;function wl(i){var r=li(i);if(r&&(i=r.stateNode)){var o=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(bn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var h=u[Ee]||null;if(!h)throw Error(s(90));bn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&bl(u)}break t;case"textarea":Zt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fi(i,!!o.multiple,r,!1)}}}var fi=!1;function Tc(i,r,o){if(fi)return i(r,o);fi=!0;try{var u=i(r);return u}finally{if(fi=!1,(Hi!==null||Gi!==null)&&(gf(),Hi&&(r=Hi,i=Gi,Gi=Hi=null,wl(r),i)))for(r=0;r<i.length;r++)wl(i[r])}}function qr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ee]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if($n)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Vn=!1}var hi=null,Os=null,Yi=null;function Al(){if(Yi)return Yi;var i,r=Os,o=r.length,u,h="value"in hi?hi.value:hi.textContent,g=h.length;for(i=0;i<o&&r[i]===h[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===h[g-u];u++);return Yi=h.slice(i,1<u?1-u:void 0)}function di(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function mi(){return!0}function Sl(){return!1}function Ve(i){function r(o,u,h,g,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mi:Sl,this.isPropagationStopped=Sl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Ve(Qt),Gr=v({},Qt,{view:0,detail:0}),wc=Ve(Gr),Fa,qa,pi,Yr=v({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pi&&(pi&&i.type==="mousemove"?(Fa=i.screenX-pi.screenX,qa=i.screenY-pi.screenY):qa=Fa=0,pi=i),Fa)},movementY:function(i){return"movementY"in i?i.movementY:qa}}),Ln=Ve(Yr),Ac=v({},Yr,{dataTransfer:0}),Vd=Ve(Ac),Qr=v({},Gr,{relatedTarget:0}),Ha=Ve(Qr),Rl=v({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Ve(Rl),Sc=v({},Qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ya=Ve(Sc),Ld=v({},Qt,{data:0}),Il=Ve(Ld),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ic[i])?!!r[i]:!1}function Xr(){return Cl}var Cc=v({},Gr,{key:function(i){if(i.key){var r=Kr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=di(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(i){return i.type==="keypress"?di(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?di(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qa=Ve(Cc),xc=v({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Ve(xc),Qi=v({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Oc=Ve(Qi),Dc=v({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mc=Ve(Dc),Pc=v({},Yr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ve(Pc),cn=v({},Qt,{newState:0,oldState:0}),Nc=Ve(cn),kc=[9,13,27,32],gi=$n&&"CompositionEvent"in window,f=null;$n&&"documentMode"in document&&(f=document.documentMode);var y=$n&&"TextEvent"in window&&!f,_=$n&&(!gi||f&&8<f&&11>=f),A=" ",U=!1;function Y(i,r){switch(i){case"keyup":return kc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jt=!1;function Ce(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(U=!0,A);case"textInput":return i=r.data,i===A&&U?null:i;default:return null}}function Bt(i,r){if(jt)return i==="compositionend"||!gi&&Y(i,r)?(i=Al(),Yi=Os=hi=null,jt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function Ki(i,r,o,u){Hi?Gi?Gi.push(u):Gi=[u]:Hi=u,r=Tf(r,"onChange"),0<r.length&&(o=new Ba("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,yi=null;function Ol(i){cb(i,0)}function Vc(i){var r=ui(i);if(bl(r))return i}function Dv(i,r){if(i==="change")return r}var Mv=!1;if($n){var zd;if($n){var Ud="oninput"in document;if(!Ud){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),Ud=typeof Pv.oninput=="function"}zd=Ud}else zd=!1;Mv=zd&&(!document.documentMode||9<document.documentMode)}function Nv(){He&&(He.detachEvent("onpropertychange",kv),yi=He=null)}function kv(i){if(i.propertyName==="value"&&Vc(yi)){var r=[];Ki(r,yi,i,kn(i)),Tc(Ol,r)}}function bR(i,r,o){i==="focusin"?(Nv(),He=r,yi=o,He.attachEvent("onpropertychange",kv)):i==="focusout"&&Nv()}function ER(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vc(yi)}function TR(i,r){if(i==="click")return Vc(r)}function wR(i,r){if(i==="input"||i==="change")return Vc(r)}function AR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var En=typeof Object.is=="function"?Object.is:AR;function Dl(i,r){if(En(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Cr.call(r,h)||!En(i[h],r[h]))return!1}return!0}function Vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lv(i,r){var o=Vv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Vv(o)}}function zv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?zv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Uv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ur(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ur(i.document)}return r}function jd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var SR=$n&&"documentMode"in document&&11>=document.documentMode,Xa=null,Bd=null,Ml=null,Fd=!1;function jv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fd||Xa==null||Xa!==Ur(u)||(u=Xa,"selectionStart"in u&&jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ml&&Dl(Ml,u)||(Ml=u,u=Tf(Bd,"onSelect"),0<u.length&&(r=new Ba("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Xa)))}function $r(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var $a={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},qd={},Bv={};$n&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Wr(i){if(qd[i])return qd[i];if(!$a[i])return i;var r=$a[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Bv)return qd[i]=r[o];return i}var Fv=Wr("animationend"),qv=Wr("animationiteration"),Hv=Wr("animationstart"),RR=Wr("transitionrun"),IR=Wr("transitionstart"),CR=Wr("transitioncancel"),Gv=Wr("transitionend"),Yv=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function Wn(i,r){Yv.set(i,r),Xn(r,[i])}var Qv=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=Qv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:za(r)},Qv.set(i,r),r)}return{value:i,source:r,stack:za(r)}}var Un=[],Wa=0,Gd=0;function Lc(){for(var i=Wa,r=Gd=Wa=0;r<i;){var o=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var h=Un[r];Un[r++]=null;var g=Un[r];if(Un[r++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}g!==0&&Kv(o,h,g)}}function zc(i,r,o,u){Un[Wa++]=i,Un[Wa++]=r,Un[Wa++]=o,Un[Wa++]=u,Gd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Yd(i,r,o,u){return zc(i,r,o,u),Uc(i)}function Za(i,r){return zc(i,null,null,r),Uc(i)}function Kv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(h=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,h&&r!==null&&(h=31-We(o),i=g.hiddenUpdates,u=i[h],u===null?i[h]=[r]:u.push(r),r.lane=o|536870912),g):null}function Uc(i){if(50<iu)throw iu=0,Zm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ja={};function xR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,r,o,u){return new xR(i,r,o,u)}function Qd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xi(i,r){var o=i.alternate;return o===null?(o=Tn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Xv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function jc(i,r,o,u,h,g){var b=0;if(u=i,typeof i=="function")Qd(i)&&(b=1);else if(typeof i=="string")b=DI(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Tn(31,o,r,h),i.elementType=I,i.lanes=g,i;case k:return Zr(o.children,h,g,r);case q:b=8,h|=24;break;case z:return i=Tn(12,o,r,h|2),i.elementType=z,i.lanes=g,i;case lt:return i=Tn(13,o,r,h),i.elementType=lt,i.lanes=g,i;case ct:return i=Tn(19,o,r,h),i.elementType=ct,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case Z:b=10;break t;case X:b=9;break t;case ut:b=11;break t;case O:b=14;break t;case S:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Tn(b,o,r,h),r.elementType=i,r.type=u,r.lanes=g,r}function Zr(i,r,o,u){return i=Tn(7,i,u,r),i.lanes=o,i}function Kd(i,r,o){return i=Tn(6,i,null,r),i.lanes=o,i}function Xd(i,r,o){return r=Tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var to=[],eo=0,Bc=null,Fc=0,jn=[],Bn=0,Jr=null,$i=1,Wi="";function ta(i,r){to[eo++]=Fc,to[eo++]=Bc,Bc=i,Fc=r}function $v(i,r,o){jn[Bn++]=$i,jn[Bn++]=Wi,jn[Bn++]=Jr,Jr=i;var u=$i;i=Wi;var h=32-We(u)-1;u&=~(1<<h),o+=1;var g=32-We(r)+h;if(30<g){var b=h-h%5;g=(u&(1<<b)-1).toString(32),u>>=b,h-=b,$i=1<<32-We(r)+h|o<<h|u,Wi=g+i}else $i=1<<g|o<<h|u,Wi=i}function $d(i){i.return!==null&&(ta(i,1),$v(i,1,0))}function Wd(i){for(;i===Bc;)Bc=to[--eo],to[eo]=null,Fc=to[--eo],to[eo]=null;for(;i===Jr;)Jr=jn[--Bn],jn[Bn]=null,Wi=jn[--Bn],jn[Bn]=null,$i=jn[--Bn],jn[Bn]=null}var fn=null,pe=null,Yt=!1,ea=null,vi=!1,Zd=Error(s(519));function na(i){var r=Error(s(418,""));throw kl(zn(r,i)),Zd}function Wv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ie]=i,r[Ee]=u,o){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(o=0;o<ru.length;o++)kt(ru[o],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),jr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ua(r);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Br(r,u.value,u.defaultValue,u.children),Ua(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||mb(r.textContent,o)?(u.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),u.onScroll!=null&&kt("scroll",r),u.onScrollEnd!=null&&kt("scrollend",r),u.onClick!=null&&(r.onclick=wf),r=!0):r=!1,r||na(i)}function Zv(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:fn=fn.return}}function Pl(i){if(i!==fn)return!1;if(!Yt)return Zv(i),Yt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||mp(i.type,i.memoizedProps)),o=!o),o&&pe&&na(i),Zv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){pe=Jn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}pe=null}}else r===27?(r=pe,Ys(i.type)?(i=vp,vp=null,pe=i):pe=r):pe=fn?Jn(i.stateNode.nextSibling):null;return!0}function Nl(){pe=fn=null,Yt=!1}function Jv(){var i=ea;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),ea=null),i}function kl(i){ea===null?ea=[i]:ea.push(i)}var Jd=it(null),ia=null,Zi=null;function Ds(i,r,o){st(Jd,r._currentValue),r._currentValue=o}function Ji(i){i._currentValue=Jd.current,nt(Jd)}function tm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function em(i,r,o,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=h;for(var x=0;x<r.length;x++)if(w.context===r[x]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),tm(g.return,o,i),u||(b=null);break t}g=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),tm(b,o,i),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===i){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Vl(i,r,o,u){i=null;for(var h=r,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=h.type;En(h.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(h===ke.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(fu):i=[fu])}h=h.return}i!==null&&em(r,i,o,u),r.flags|=262144}function qc(i){for(i=i.firstContext;i!==null;){if(!En(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){ia=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return t_(ia,i)}function Hc(i,r){return ia===null&&sa(i),t_(i,r)}function t_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(s(308));Zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zi=Zi.next=r;return o}var OR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},DR=n.unstable_scheduleCallback,MR=n.unstable_NormalPriority,Oe={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new OR,data:new Map,refCount:0}}function Ll(i){i.refCount--,i.refCount===0&&DR(MR,function(){i.controller.abort()})}var zl=null,im=0,no=0,io=null;function PR(i,r){if(zl===null){var o=zl=[];im=0,no=rp(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return im++,r.then(e_,e_),r}function e_(){if(--im===0&&zl!==null){io!==null&&(io.status="fulfilled");var i=zl;zl=null,no=0,io=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function NR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var n_=Q.S;Q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&PR(i,r),n_!==null&&n_(i,r)};var ra=it(null);function sm(){var i=ra.current;return i!==null?i:re.pooledCache}function Gc(i,r){r===null?st(ra,ra.current):st(ra,r.pool)}function i_(){var i=sm();return i===null?null:{parent:Oe._currentValue,pool:i}}var Ul=Error(s(460)),s_=Error(s(474)),Yc=Error(s(542)),rm={then:function(){}};function r_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qc(){}function a_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Qc,Qc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,l_(i),i;default:if(typeof r.status=="string")r.then(Qc,Qc);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,l_(i),i}throw jl=r,Ul}}var jl=null;function o_(){if(jl===null)throw Error(s(459));var i=jl;return jl=null,i}function l_(i){if(i===Ul||i===Yc)throw Error(s(483))}var Ms=!1;function am(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ns(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Uc(i),Kv(i,null,o),r}return zc(i,u,r,o),Uc(i)}function Bl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,pl(i,o)}}function lm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?h=g=r:g=g.next=r}else h=g=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var um=!1;function Fl(){if(um){var i=io;if(i!==null)throw i}}function ql(i,r,o,u){um=!1;var h=i.updateQueue;Ms=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var x=w,B=x.next;x.next=null,b===null?g=B:b.next=B,b=x;var $=i.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==b&&(w===null?$.firstBaseUpdate=B:w.next=B,$.lastBaseUpdate=x))}if(g!==null){var J=h.baseState;b=0,$=B=x=null,w=g;do{var H=w.lane&-536870913,G=H!==w.lane;if(G?(Ft&H)===H:(u&H)===H){H!==0&&H===no&&(um=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var St=i,Et=w;H=r;var ee=o;switch(Et.tag){case 1:if(St=Et.payload,typeof St=="function"){J=St.call(ee,J,H);break t}J=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Et.payload,H=typeof St=="function"?St.call(ee,J,H):St,H==null)break t;J=v({},J,H);break t;case 2:Ms=!0}}H=w.callback,H!==null&&(i.flags|=64,G&&(i.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(B=$=G,x=J):$=$.next=G,b|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;G=w,w=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(x=J),h.baseState=x,h.firstBaseUpdate=B,h.lastBaseUpdate=$,g===null&&(h.shared.lanes=0),Fs|=b,i.lanes=b,i.memoizedState=J}}function u_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function c_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)u_(o[i],r)}var so=it(null),Kc=it(0);function f_(i,r){i=as,st(Kc,i),st(so,r),as=i|r.baseLanes}function cm(){st(Kc,as),st(so,so.current)}function fm(){as=Kc.current,nt(so),nt(Kc)}var ks=0,Ot=null,Jt=null,we=null,Xc=!1,ro=!1,aa=!1,$c=0,Hl=0,ao=null,kR=0;function ve(){throw Error(s(321))}function hm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!En(i[o],r[o]))return!1;return!0}function dm(i,r,o,u,h,g){return ks=g,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?K_:X_,aa=!1,g=o(u,h),aa=!1,ro&&(g=d_(r,o,u,h)),h_(i),g}function h_(i){Q.H=nf;var r=Jt!==null&&Jt.next!==null;if(ks=0,we=Jt=Ot=null,Xc=!1,Hl=0,ao=null,r)throw Error(s(300));i===null||ze||(i=i.dependencies,i!==null&&qc(i)&&(ze=!0))}function d_(i,r,o,u){Ot=i;var h=0;do{if(ro&&(ao=null),Hl=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,we=Jt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=FR,g=r(o,u)}while(ro);return g}function VR(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?Gl(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Ot.flags|=1024),r}function mm(){var i=$c!==0;return $c=0,i}function pm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function gm(i){if(Xc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xc=!1}ks=0,we=Jt=Ot=null,ro=!1,Hl=$c=0,ao=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=i:we=we.next=i,we}function Ae(){if(Jt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=we===null?Ot.memoizedState:we.next;if(r!==null)we=r,Jt=i;else{if(i===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Ot.memoizedState=we=i:we=we.next=i}return we}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(i){var r=Hl;return Hl+=1,ao===null&&(ao=[]),i=a_(ao,i,r),r=Ot,(we===null?r.memoizedState:we.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?K_:X_),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gl(i);if(i.$$typeof===Z)return Ze(i)}throw Error(s(438,String(i)))}function vm(i){var r=null,o=Ot.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ym(),Ot.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function ts(i,r){return typeof r=="function"?r(i):r}function Zc(i){var r=Ae();return _m(r,Jt,i)}function _m(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var h=i.baseQueue,g=u.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}r.baseQueue=h=g,u.pending=null}if(g=i.baseState,h===null)i.memoizedState=g;else{r=h.next;var w=b=null,x=null,B=r,$=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Ft&J)===J:(ks&J)===J){var H=B.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===no&&($=!0);else if((ks&H)===H){B=B.next,H===no&&($=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(w=x=J,b=g):x=x.next=J,Ot.lanes|=H,Fs|=H;J=B.action,aa&&o(g,J),g=B.hasEagerState?B.eagerState:o(g,J)}else H={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(w=x=H,b=g):x=x.next=H,Ot.lanes|=J,Fs|=J;B=B.next}while(B!==null&&B!==r);if(x===null?b=g:x.next=w,!En(g,i.memoizedState)&&(ze=!0,$&&(o=io,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=x,u.lastRenderedState=g}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function bm(i){var r=Ae(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,h=o.pending,g=r.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do g=i(g,b.action),b=b.next;while(b!==h);En(g,r.memoizedState)||(ze=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function m_(i,r,o){var u=Ot,h=Ae(),g=Yt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!En((Jt||h).memoizedState,o);b&&(h.memoizedState=o,ze=!0),h=h.queue;var w=y_.bind(null,u,h,i);if(Yl(2048,8,w,[i]),h.getSnapshot!==r||b||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,oo(9,Jc(),g_.bind(null,u,h,o,r),null),re===null)throw Error(s(349));g||(ks&124)!==0||p_(u,r,o)}return o}function p_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ot.updateQueue,r===null?(r=ym(),Ot.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function g_(i,r,o,u){r.value=o,r.getSnapshot=u,v_(r)&&__(i)}function y_(i,r,o){return o(function(){v_(r)&&__(i)})}function v_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!En(i,o)}catch{return!0}}function __(i){var r=Za(i,2);r!==null&&In(r,i,2)}function Em(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),aa){_n(!0);try{o()}finally{_n(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:i},r}function b_(i,r,o,u){return i.baseState=o,_m(i,Jt,typeof u=="function"?u:ts)}function LR(i,r,o,u,h){if(ef(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,E_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function E_(i,r){var o=r.action,u=r.payload,h=i.state;if(r.isTransition){var g=Q.T,b={};Q.T=b;try{var w=o(h,u),x=Q.S;x!==null&&x(b,w),T_(i,r,w)}catch(B){Tm(i,r,B)}finally{Q.T=g}}else try{g=o(h,u),T_(i,r,g)}catch(B){Tm(i,r,B)}}function T_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){w_(i,r,u)},function(u){return Tm(i,r,u)}):w_(i,r,o)}function w_(i,r,o){r.status="fulfilled",r.value=o,A_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,E_(i,o)))}function Tm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,A_(r),r=r.next;while(r!==u)}i.action=null}function A_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function S_(i,r){return r}function R_(i,r){if(Yt){var o=re.formState;if(o!==null){t:{var u=Ot;if(Yt){if(pe){e:{for(var h=pe,g=vi;h.nodeType!==8;){if(!g){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){pe=Jn(h.nextSibling),u=h.data==="F!";break t}}na(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:r},o.queue=u,o=G_.bind(null,Ot,u),u.dispatch=o,u=Em(!1),g=Im.bind(null,Ot,!1,u.queue),u=dn(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,o=LR.bind(null,Ot,h,g,o),h.dispatch=o,u.memoizedState=i,[r,o,!1]}function I_(i){var r=Ae();return C_(r,Jt,i)}function C_(i,r,o){if(r=_m(i,r,S_)[0],i=Zc(ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Gl(r)}catch(b){throw b===Ul?Yc:b}else u=r;r=Ae();var h=r.queue,g=h.dispatch;return o!==r.memoizedState&&(Ot.flags|=2048,oo(9,Jc(),zR.bind(null,h,o),null)),[u,g,i]}function zR(i,r){i.action=r}function x_(i){var r=Ae(),o=Jt;if(o!==null)return C_(r,o,i);Ae(),r=r.memoizedState,o=Ae();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function oo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=ym(),Ot.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Jc(){return{destroy:void 0,resource:void 0}}function O_(){return Ae().memoizedState}function tf(i,r,o,u){var h=dn();u=u===void 0?null:u,Ot.flags|=i,h.memoizedState=oo(1|r,Jc(),o,u)}function Yl(i,r,o,u){var h=Ae();u=u===void 0?null:u;var g=h.memoizedState.inst;Jt!==null&&u!==null&&hm(u,Jt.memoizedState.deps)?h.memoizedState=oo(r,g,o,u):(Ot.flags|=i,h.memoizedState=oo(1|r,g,o,u))}function D_(i,r){tf(8390656,8,i,r)}function M_(i,r){Yl(2048,8,i,r)}function P_(i,r){return Yl(4,2,i,r)}function N_(i,r){return Yl(4,4,i,r)}function k_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function V_(i,r,o){o=o!=null?o.concat([i]):null,Yl(4,4,k_.bind(null,r,i),o)}function wm(){}function L_(i,r){var o=Ae();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&hm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function z_(i,r){var o=Ae();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&hm(r,u[1]))return u[0];if(u=i(),aa){_n(!0);try{i()}finally{_n(!1)}}return o.memoizedState=[u,r],u}function Am(i,r,o){return o===void 0||(ks&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=B0(),Ot.lanes|=i,Fs|=i,o)}function U_(i,r,o,u){return En(o,r)?o:so.current!==null?(i=Am(i,o,u),En(i,r)||(ze=!0),i):(ks&42)===0?(ze=!0,i.memoizedState=o):(i=B0(),Ot.lanes|=i,Fs|=i,r)}function j_(i,r,o,u,h){var g=ft.p;ft.p=g!==0&&8>g?g:8;var b=Q.T,w={};Q.T=w,Im(i,!1,r,o);try{var x=h(),B=Q.S;if(B!==null&&B(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=NR(x,u);Ql(i,r,$,Rn(i))}else Ql(i,r,u,Rn(i))}catch(J){Ql(i,r,{then:function(){},status:"rejected",reason:J},Rn())}finally{ft.p=g,Q.T=b}}function UR(){}function Sm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var h=B_(i).queue;j_(i,h,r,gt,o===null?UR:function(){return F_(i),o(u)})}function B_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:gt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function F_(i){var r=B_(i).next.queue;Ql(i,r,{},Rn())}function Rm(){return Ze(fu)}function q_(){return Ae().memoizedState}function H_(){return Ae().memoizedState}function jR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Rn();i=Ps(o);var u=Ns(r,i,o);u!==null&&(In(u,r,o),Bl(u,r,o)),r={cache:nm()},i.payload=r;return}r=r.return}}function BR(i,r,o){var u=Rn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ef(i)?Y_(r,o):(o=Yd(i,r,o,u),o!==null&&(In(o,i,u),Q_(o,r,u)))}function G_(i,r,o){var u=Rn();Ql(i,r,o,u)}function Ql(i,r,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ef(i))Y_(r,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(h.hasEagerState=!0,h.eagerState=w,En(w,b))return zc(i,r,h,0),re===null&&Lc(),!1}catch{}finally{}if(o=Yd(i,r,h,u),o!==null)return In(o,i,u),Q_(o,r,u),!0}return!1}function Im(i,r,o,u){if(u={lane:2,revertLane:rp(),action:u,hasEagerState:!1,eagerState:null,next:null},ef(i)){if(r)throw Error(s(479))}else r=Yd(i,o,u,2),r!==null&&In(r,i,2)}function ef(i){var r=i.alternate;return i===Ot||r!==null&&r===Ot}function Y_(i,r){ro=Xc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Q_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,pl(i,o)}}var nf={readContext:Ze,use:Wc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},K_={readContext:Ze,use:Wc,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Ze,useEffect:D_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,tf(4194308,4,k_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return tf(4194308,4,i,r)},useInsertionEffect:function(i,r){tf(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(aa){_n(!0);try{i()}finally{_n(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var h=o(r);if(aa){_n(!0);try{o(r)}finally{_n(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=BR.bind(null,Ot,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Em(i);var r=i.queue,o=G_.bind(null,Ot,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:wm,useDeferredValue:function(i,r){var o=dn();return Am(o,i,r)},useTransition:function(){var i=Em(!1);return i=j_.bind(null,Ot,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ot,h=dn();if(Yt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),re===null)throw Error(s(349));(Ft&124)!==0||p_(u,r,o)}h.memoizedState=o;var g={value:o,getSnapshot:r};return h.queue=g,D_(y_.bind(null,u,g,i),[i]),u.flags|=2048,oo(9,Jc(),g_.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=re.identifierPrefix;if(Yt){var o=Wi,u=$i;o=(u&~(1<<32-We(u)-1)).toString(32)+o,r=""+r+"R"+o,o=$c++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=kR++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Rm,useFormState:R_,useActionState:R_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Im.bind(null,Ot,!0,o),o.dispatch=r,[i,r]},useMemoCache:vm,useCacheRefresh:function(){return dn().memoizedState=jR.bind(null,Ot)}},X_={readContext:Ze,use:Wc,useCallback:L_,useContext:Ze,useEffect:M_,useImperativeHandle:V_,useInsertionEffect:P_,useLayoutEffect:N_,useMemo:z_,useReducer:Zc,useRef:O_,useState:function(){return Zc(ts)},useDebugValue:wm,useDeferredValue:function(i,r){var o=Ae();return U_(o,Jt.memoizedState,i,r)},useTransition:function(){var i=Zc(ts)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Gl(i),r]},useSyncExternalStore:m_,useId:q_,useHostTransitionStatus:Rm,useFormState:I_,useActionState:I_,useOptimistic:function(i,r){var o=Ae();return b_(o,Jt,i,r)},useMemoCache:vm,useCacheRefresh:H_},FR={readContext:Ze,use:Wc,useCallback:L_,useContext:Ze,useEffect:M_,useImperativeHandle:V_,useInsertionEffect:P_,useLayoutEffect:N_,useMemo:z_,useReducer:bm,useRef:O_,useState:function(){return bm(ts)},useDebugValue:wm,useDeferredValue:function(i,r){var o=Ae();return Jt===null?Am(o,i,r):U_(o,Jt.memoizedState,i,r)},useTransition:function(){var i=bm(ts)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Gl(i),r]},useSyncExternalStore:m_,useId:q_,useHostTransitionStatus:Rm,useFormState:x_,useActionState:x_,useOptimistic:function(i,r){var o=Ae();return Jt!==null?b_(o,Jt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:vm,useCacheRefresh:H_},lo=null,Kl=0;function sf(i){var r=Kl;return Kl+=1,lo===null&&(lo=[]),a_(lo,i,r)}function Xl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rf(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function $_(i){var r=i._init;return r(i._payload)}function W_(i){function r(L,P){if(i){var j=L.deletions;j===null?(L.deletions=[P],L.flags|=16):j.push(P)}}function o(L,P){if(!i)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function u(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Xi(L,P),L.index=0,L.sibling=null,L}function g(L,P,j){return L.index=j,i?(j=L.alternate,j!==null?(j=j.index,j<P?(L.flags|=67108866,P):j):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function b(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function w(L,P,j,W){return P===null||P.tag!==6?(P=Kd(j,L.mode,W),P.return=L,P):(P=h(P,j),P.return=L,P)}function x(L,P,j,W){var pt=j.type;return pt===k?$(L,P,j.props.children,W,j.key):P!==null&&(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&$_(pt)===P.type)?(P=h(P,j.props),Xl(P,j),P.return=L,P):(P=jc(j.type,j.key,j.props,null,L.mode,W),Xl(P,j),P.return=L,P)}function B(L,P,j,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=Xd(j,L.mode,W),P.return=L,P):(P=h(P,j.children||[]),P.return=L,P)}function $(L,P,j,W,pt){return P===null||P.tag!==7?(P=Zr(j,L.mode,W,pt),P.return=L,P):(P=h(P,j),P.return=L,P)}function J(L,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Kd(""+P,L.mode,j),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return j=jc(P.type,P.key,P.props,null,L.mode,j),Xl(j,P),j.return=L,j;case R:return P=Xd(P,L.mode,j),P.return=L,P;case S:var W=P._init;return P=W(P._payload),J(L,P,j)}if(ne(P)||V(P))return P=Zr(P,L.mode,j,null),P.return=L,P;if(typeof P.then=="function")return J(L,sf(P),j);if(P.$$typeof===Z)return J(L,Hc(L,P),j);rf(L,P)}return null}function H(L,P,j,W){var pt=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pt!==null?null:w(L,P,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===pt?x(L,P,j,W):null;case R:return j.key===pt?B(L,P,j,W):null;case S:return pt=j._init,j=pt(j._payload),H(L,P,j,W)}if(ne(j)||V(j))return pt!==null?null:$(L,P,j,W,null);if(typeof j.then=="function")return H(L,P,sf(j),W);if(j.$$typeof===Z)return H(L,P,Hc(L,j),W);rf(L,j)}return null}function G(L,P,j,W,pt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(j)||null,w(P,L,""+W,pt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return L=L.get(W.key===null?j:W.key)||null,x(P,L,W,pt);case R:return L=L.get(W.key===null?j:W.key)||null,B(P,L,W,pt);case S:var Pt=W._init;return W=Pt(W._payload),G(L,P,j,W,pt)}if(ne(W)||V(W))return L=L.get(j)||null,$(P,L,W,pt,null);if(typeof W.then=="function")return G(L,P,j,sf(W),pt);if(W.$$typeof===Z)return G(L,P,j,Hc(P,W),pt);rf(P,W)}return null}function St(L,P,j,W){for(var pt=null,Pt=null,vt=P,Tt=P=0,je=null;vt!==null&&Tt<j.length;Tt++){vt.index>Tt?(je=vt,vt=null):je=vt.sibling;var Ht=H(L,vt,j[Tt],W);if(Ht===null){vt===null&&(vt=je);break}i&&vt&&Ht.alternate===null&&r(L,vt),P=g(Ht,P,Tt),Pt===null?pt=Ht:Pt.sibling=Ht,Pt=Ht,vt=je}if(Tt===j.length)return o(L,vt),Yt&&ta(L,Tt),pt;if(vt===null){for(;Tt<j.length;Tt++)vt=J(L,j[Tt],W),vt!==null&&(P=g(vt,P,Tt),Pt===null?pt=vt:Pt.sibling=vt,Pt=vt);return Yt&&ta(L,Tt),pt}for(vt=u(vt);Tt<j.length;Tt++)je=G(vt,L,Tt,j[Tt],W),je!==null&&(i&&je.alternate!==null&&vt.delete(je.key===null?Tt:je.key),P=g(je,P,Tt),Pt===null?pt=je:Pt.sibling=je,Pt=je);return i&&vt.forEach(function(Ws){return r(L,Ws)}),Yt&&ta(L,Tt),pt}function Et(L,P,j,W){if(j==null)throw Error(s(151));for(var pt=null,Pt=null,vt=P,Tt=P=0,je=null,Ht=j.next();vt!==null&&!Ht.done;Tt++,Ht=j.next()){vt.index>Tt?(je=vt,vt=null):je=vt.sibling;var Ws=H(L,vt,Ht.value,W);if(Ws===null){vt===null&&(vt=je);break}i&&vt&&Ws.alternate===null&&r(L,vt),P=g(Ws,P,Tt),Pt===null?pt=Ws:Pt.sibling=Ws,Pt=Ws,vt=je}if(Ht.done)return o(L,vt),Yt&&ta(L,Tt),pt;if(vt===null){for(;!Ht.done;Tt++,Ht=j.next())Ht=J(L,Ht.value,W),Ht!==null&&(P=g(Ht,P,Tt),Pt===null?pt=Ht:Pt.sibling=Ht,Pt=Ht);return Yt&&ta(L,Tt),pt}for(vt=u(vt);!Ht.done;Tt++,Ht=j.next())Ht=G(vt,L,Tt,Ht.value,W),Ht!==null&&(i&&Ht.alternate!==null&&vt.delete(Ht.key===null?Tt:Ht.key),P=g(Ht,P,Tt),Pt===null?pt=Ht:Pt.sibling=Ht,Pt=Ht);return i&&vt.forEach(function(qI){return r(L,qI)}),Yt&&ta(L,Tt),pt}function ee(L,P,j,W){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:t:{for(var pt=j.key;P!==null;){if(P.key===pt){if(pt=j.type,pt===k){if(P.tag===7){o(L,P.sibling),W=h(P,j.props.children),W.return=L,L=W;break t}}else if(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&$_(pt)===P.type){o(L,P.sibling),W=h(P,j.props),Xl(W,j),W.return=L,L=W;break t}o(L,P);break}else r(L,P);P=P.sibling}j.type===k?(W=Zr(j.props.children,L.mode,W,j.key),W.return=L,L=W):(W=jc(j.type,j.key,j.props,null,L.mode,W),Xl(W,j),W.return=L,L=W)}return b(L);case R:t:{for(pt=j.key;P!==null;){if(P.key===pt)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){o(L,P.sibling),W=h(P,j.children||[]),W.return=L,L=W;break t}else{o(L,P);break}else r(L,P);P=P.sibling}W=Xd(j,L.mode,W),W.return=L,L=W}return b(L);case S:return pt=j._init,j=pt(j._payload),ee(L,P,j,W)}if(ne(j))return St(L,P,j,W);if(V(j)){if(pt=V(j),typeof pt!="function")throw Error(s(150));return j=pt.call(j),Et(L,P,j,W)}if(typeof j.then=="function")return ee(L,P,sf(j),W);if(j.$$typeof===Z)return ee(L,P,Hc(L,j),W);rf(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,P!==null&&P.tag===6?(o(L,P.sibling),W=h(P,j),W.return=L,L=W):(o(L,P),W=Kd(j,L.mode,W),W.return=L,L=W),b(L)):o(L,P)}return function(L,P,j,W){try{Kl=0;var pt=ee(L,P,j,W);return lo=null,pt}catch(vt){if(vt===Ul||vt===Yc)throw vt;var Pt=Tn(29,vt,null,L.mode);return Pt.lanes=W,Pt.return=L,Pt}finally{}}}var uo=W_(!0),Z_=W_(!1),Fn=it(null),_i=null;function Vs(i){var r=i.alternate;st(De,De.current&1),st(Fn,i),_i===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(_i=i)}function J_(i){if(i.tag===22){if(st(De,De.current),st(Fn,i),_i===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(_i=i)}}else Ls()}function Ls(){st(De,De.current),st(Fn,Fn.current)}function es(i){nt(Fn),_i===i&&(_i=null),nt(De)}var De=it(0);function af(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||yp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Cm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var xm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Rn(),h=Ps(u);h.payload=r,o!=null&&(h.callback=o),r=Ns(i,h,u),r!==null&&(In(r,i,u),Bl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Rn(),h=Ps(u);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=Ns(i,h,u),r!==null&&(In(r,i,u),Bl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Rn(),u=Ps(o);u.tag=2,r!=null&&(u.callback=r),r=Ns(i,u,o),r!==null&&(In(r,i,o),Bl(r,i,o))}};function t0(i,r,o,u,h,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Dl(o,u)||!Dl(h,g):!0}function e0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&xm.enqueueReplaceState(r,r.state,null)}function oa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function n0(i){of(i)}function i0(i){console.error(i)}function s0(i){of(i)}function lf(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function r0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Om(i,r,o){return o=Ps(o),o.tag=3,o.payload={element:null},o.callback=function(){lf(i,r)},o}function a0(i){return i=Ps(i),i.tag=3,i}function o0(i,r,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;i.payload=function(){return h(g)},i.callback=function(){r0(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){r0(r,o,u),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function qR(i,r,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Vl(r,o,h,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return _i===null?tp():o.alternate===null&&ge===0&&(ge=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===rm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),np(i,u,h)),!1;case 22:return o.flags|=65536,u===rm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),np(i,u,h)),!1}throw Error(s(435,o.tag))}return np(i,u,h),tp(),!1}if(Yt)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Zd&&(i=Error(s(422),{cause:u}),kl(zn(i,o)))):(u!==Zd&&(r=Error(s(423),{cause:u}),kl(zn(r,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=zn(u,o),h=Om(i.stateNode,u,h),lm(i,h),ge!==4&&(ge=2)),!1;var g=Error(s(520),{cause:u});if(g=zn(g,o),nu===null?nu=[g]:nu.push(g),ge!==4&&(ge=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=Om(o.stateNode,u,i),lm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qs===null||!qs.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=a0(h),o0(h,i,o,u),lm(o,h),!1}o=o.return}while(o!==null);return!1}var l0=Error(s(461)),ze=!1;function Ge(i,r,o,u){r.child=i===null?Z_(r,null,o,u):uo(r,i.child,o,u)}function u0(i,r,o,u,h){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return sa(r),u=dm(i,r,o,b,g,h),w=mm(),i!==null&&!ze?(pm(i,r,h),ns(i,r,h)):(Yt&&w&&$d(r),r.flags|=1,Ge(i,r,u,h),r.child)}function c0(i,r,o,u,h){if(i===null){var g=o.type;return typeof g=="function"&&!Qd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,f0(i,r,g,u,h)):(i=jc(o.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!zm(i,h)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(b,u)&&i.ref===r.ref)return ns(i,r,h)}return r.flags|=1,i=Xi(g,u),i.ref=r.ref,i.return=r,r.child=i}function f0(i,r,o,u,h){if(i!==null){var g=i.memoizedProps;if(Dl(g,u)&&i.ref===r.ref)if(ze=!1,r.pendingProps=u=g,zm(i,h))(i.flags&131072)!==0&&(ze=!0);else return r.lanes=i.lanes,ns(i,r,h)}return Dm(i,r,o,u,h)}function h0(i,r,o){var u=r.pendingProps,h=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(h=r.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return d0(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gc(r,g!==null?g.cachePool:null),g!==null?f_(r,g):cm(),J_(r);else return r.lanes=r.childLanes=536870912,d0(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Gc(r,g.cachePool),f_(r,g),Ls(),r.memoizedState=null):(i!==null&&Gc(r,null),cm(),Ls());return Ge(i,r,h,o),r.child}function d0(i,r,o,u){var h=sm();return h=h===null?null:{parent:Oe._currentValue,pool:h},r.memoizedState={baseLanes:o,cachePool:h},i!==null&&Gc(r,null),cm(),J_(r),i!==null&&Vl(i,r,u,!0),null}function uf(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Dm(i,r,o,u,h){return sa(r),o=dm(i,r,o,u,void 0,h),u=mm(),i!==null&&!ze?(pm(i,r,h),ns(i,r,h)):(Yt&&u&&$d(r),r.flags|=1,Ge(i,r,o,h),r.child)}function m0(i,r,o,u,h,g){return sa(r),r.updateQueue=null,o=d_(r,u,o,h),h_(i),u=mm(),i!==null&&!ze?(pm(i,r,g),ns(i,r,g)):(Yt&&u&&$d(r),r.flags|=1,Ge(i,r,o,g),r.child)}function p0(i,r,o,u,h){if(sa(r),r.stateNode===null){var g=Ja,b=o.contextType;typeof b=="object"&&b!==null&&(g=Ze(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},am(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Ze(b):Ja,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Cm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&xm.enqueueReplaceState(g,g.state,null),ql(r,u,g,h),Fl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,x=oa(o,w);g.props=x;var B=g.context,$=o.contextType;b=Ja,typeof $=="object"&&$!==null&&(b=Ze($));var J=o.getDerivedStateFromProps;$=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||B!==b)&&e0(r,g,u,b),Ms=!1;var H=r.memoizedState;g.state=H,ql(r,u,g,h),Fl(),B=r.memoizedState,w||H!==B||Ms?(typeof J=="function"&&(Cm(r,o,J,u),B=r.memoizedState),(x=Ms||t0(r,o,x,u,H,B,b))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=B),g.props=u,g.state=B,g.context=b,u=x):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,om(i,r),b=r.memoizedProps,$=oa(o,b),g.props=$,J=r.pendingProps,H=g.context,B=o.contextType,x=Ja,typeof B=="object"&&B!==null&&(x=Ze(B)),w=o.getDerivedStateFromProps,(B=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==J||H!==x)&&e0(r,g,u,x),Ms=!1,H=r.memoizedState,g.state=H,ql(r,u,g,h),Fl();var G=r.memoizedState;b!==J||H!==G||Ms||i!==null&&i.dependencies!==null&&qc(i.dependencies)?(typeof w=="function"&&(Cm(r,o,w,u),G=r.memoizedState),($=Ms||t0(r,o,$,u,H,G,x)||i!==null&&i.dependencies!==null&&qc(i.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,x)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=x,u=$):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,uf(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=uo(r,i.child,null,h),r.child=uo(r,null,o,h)):Ge(i,r,o,h),r.memoizedState=g.state,i=r.child):i=ns(i,r,h),i}function g0(i,r,o,u){return Nl(),r.flags|=256,Ge(i,r,o,u),r.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(i){return{baseLanes:i,cachePool:i_()}}function Nm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=qn),i}function y0(i,r,o){var u=r.pendingProps,h=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Yt){if(h?Vs(r):Ls(),Yt){var w=pe,x;if(x=w){t:{for(x=w,w=vi;x.nodeType!==8;){if(!w){w=null;break t}if(x=Jn(x.nextSibling),x===null){w=null;break t}}w=x}w!==null?(r.memoizedState={dehydrated:w,treeContext:Jr!==null?{id:$i,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},x=Tn(18,null,null,0),x.stateNode=w,x.return=r,r.child=x,fn=r,pe=null,x=!0):x=!1}x||na(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return yp(w)?r.lanes=32:r.lanes=536870912,null;es(r)}return w=u.children,u=u.fallback,h?(Ls(),h=r.mode,w=cf({mode:"hidden",children:w},h),u=Zr(u,h,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,h=r.child,h.memoizedState=Pm(o),h.childLanes=Nm(i,b,o),r.memoizedState=Mm,u):(Vs(r),km(r,w))}if(x=i.memoizedState,x!==null&&(w=x.dehydrated,w!==null)){if(g)r.flags&256?(Vs(r),r.flags&=-257,r=Vm(i,r,o)):r.memoizedState!==null?(Ls(),r.child=i.child,r.flags|=128,r=null):(Ls(),h=u.fallback,w=r.mode,u=cf({mode:"visible",children:u.children},w),h=Zr(h,w,o,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,uo(r,i.child,null,o),u=r.child,u.memoizedState=Pm(o),u.childLanes=Nm(i,b,o),r.memoizedState=Mm,r=h);else if(Vs(r),yp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var B=b.dgst;b=B,u=Error(s(419)),u.stack="",u.digest=b,kl({value:u,source:null,stack:null}),r=Vm(i,r,o)}else if(ze||Vl(i,r,o,!1),b=(o&i.childLanes)!==0,ze||b){if(b=re,b!==null&&(u=o&-o,u=(u&42)!==0?1:As(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,Za(i,u),In(b,i,u),l0;w.data==="$?"||tp(),r=Vm(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,pe=Jn(w.nextSibling),fn=r,Yt=!0,ea=null,vi=!1,i!==null&&(jn[Bn++]=$i,jn[Bn++]=Wi,jn[Bn++]=Jr,$i=i.id,Wi=i.overflow,Jr=r),r=km(r,u.children),r.flags|=4096);return r}return h?(Ls(),h=u.fallback,w=r.mode,x=i.child,B=x.sibling,u=Xi(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,B!==null?h=Xi(B,h):(h=Zr(h,w,o,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,w=i.child.memoizedState,w===null?w=Pm(o):(x=w.cachePool,x!==null?(B=Oe._currentValue,x=x.parent!==B?{parent:B,pool:B}:x):x=i_(),w={baseLanes:w.baseLanes|o,cachePool:x}),h.memoizedState=w,h.childLanes=Nm(i,b,o),r.memoizedState=Mm,u):(Vs(r),o=i.child,i=o.sibling,o=Xi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function km(i,r){return r=cf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function cf(i,r){return i=Tn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Vm(i,r,o){return uo(r,i.child,null,o),i=km(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function v0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),tm(i.return,r,o)}function Lm(i,r,o,u,h){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function _0(i,r,o){var u=r.pendingProps,h=u.revealOrder,g=u.tail;if(Ge(i,r,u.children,o),u=De.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&v0(i,o,r);else if(i.tag===19)v0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(st(De,u),h){case"forwards":for(o=r.child,h=null;o!==null;)i=o.alternate,i!==null&&af(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Lm(r,!1,h,o,g);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&af(i)===null){r.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}Lm(r,!0,o,null,g);break;case"together":Lm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Fs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Vl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Xi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Xi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function zm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&qc(i)))}function HR(i,r,o){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),Ds(r,Oe,i.memoizedState.cache),Nl();break;case 27:case 5:ws(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:Ds(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Vs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?y0(i,r,o):(Vs(r),i=ns(i,r,o),i!==null?i.sibling:null);Vs(r);break;case 19:var h=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Vl(i,r,o,!1),u=(o&r.childLanes)!==0),h){if(u)return _0(i,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(De,De.current),u)break;return null;case 22:case 23:return r.lanes=0,h0(i,r,o);case 24:Ds(r,Oe,i.memoizedState.cache)}return ns(i,r,o)}function b0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ze=!0;else{if(!zm(i,o)&&(r.flags&128)===0)return ze=!1,HR(i,r,o);ze=(i.flags&131072)!==0}else ze=!1,Yt&&(r.flags&1048576)!==0&&$v(r,Fc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Qd(u)?(i=oa(u,i),r.tag=1,r=p0(null,r,u,i,o)):(r.tag=0,r=Dm(null,r,u,i,o));else{if(u!=null){if(h=u.$$typeof,h===ut){r.tag=11,r=u0(null,r,u,i,o);break t}else if(h===O){r.tag=14,r=c0(null,r,u,i,o);break t}}throw r=de(u)||u,Error(s(306,r,""))}}return r;case 0:return Dm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,h=oa(u,r.pendingProps),p0(i,r,u,h,o);case 3:t:{if(se(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;h=g.element,om(i,r),ql(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Ds(r,Oe,u),u!==g.cache&&em(r,[Oe],o,!0),Fl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=g0(i,r,u,o);break t}else if(u!==h){h=zn(Error(s(424)),r),kl(h),r=g0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pe=Jn(i.firstChild),fn=r,Yt=!0,ea=null,vi=!0,o=Z_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nl(),u===h){r=ns(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return uf(i,r),i===null?(o=Ab(r.type,null,r.pendingProps,null))?r.memoizedState=o:Yt||(o=r.type,i=r.pendingProps,u=Af(Rt.current).createElement(o),u[Ie]=r,u[Ee]=i,Qe(u,o,i),ye(u),r.stateNode=u):r.memoizedState=Ab(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ws(r),i===null&&Yt&&(u=r.stateNode=Eb(r.type,r.pendingProps,Rt.current),fn=r,vi=!0,h=pe,Ys(r.type)?(vp=h,pe=Jn(u.firstChild)):pe=h),Ge(i,r,r.pendingProps.children,o),uf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Yt&&((h=u=pe)&&(u=vI(u,r.type,r.pendingProps,vi),u!==null?(r.stateNode=u,fn=r,pe=Jn(u.firstChild),vi=!1,h=!0):h=!1),h||na(r)),ws(r),h=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,mp(h,g)?u=null:b!==null&&mp(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=dm(i,r,VR,null,null,o),fu._currentValue=h),uf(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&Yt&&((i=o=pe)&&(o=_I(o,r.pendingProps,vi),o!==null?(r.stateNode=o,fn=r,pe=null,i=!0):i=!1),i||na(r)),null;case 13:return y0(i,r,o);case 4:return se(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=uo(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return u0(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ds(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,sa(r),h=Ze(h),u=u(h),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return c0(i,r,r.type,r.pendingProps,o);case 15:return f0(i,r,r.type,r.pendingProps,o);case 19:return _0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=cf(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Xi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return h0(i,r,o);case 24:return sa(r),u=Ze(Oe),i===null?(h=sm(),h===null&&(h=re,g=nm(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),r.memoizedState={parent:u,cache:h},am(r),Ds(r,Oe,h)):((i.lanes&o)!==0&&(om(i,r),ql(r,null,null,o),Fl()),h=i.memoizedState,g=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ds(r,Oe,u)):(u=g.cache,Ds(r,Oe,u),u!==h.cache&&em(r,[Oe],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function is(i){i.flags|=4}function E0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xb(r)){if(r=Fn.current,r!==null&&((Ft&4194048)===Ft?_i!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||r!==_i))throw jl=rm,s_;i.flags|=8192}}function ff(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?dl():536870912,i.lanes|=r,mo|=r)}function $l(i,r){if(!Yt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ce(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function GR(i,r,o){var u=r.pendingProps;switch(Wd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ji(Oe),ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Pl(r)?is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jv())),ce(r),null;case 26:return o=r.memoizedState,i===null?(is(r),o!==null?(ce(r),E0(r,o)):(ce(r),r.flags&=-16777217)):o?o!==i.memoizedState?(is(r),ce(r),E0(r,o)):(ce(r),r.flags&=-16777217):(i.memoizedProps!==u&&is(r),ce(r),r.flags&=-16777217),null;case 27:Vi(r),o=Rt.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ce(r),null}i=ht.current,Pl(r)?Wv(r):(i=Eb(h,u,o),r.stateNode=i,is(r))}return ce(r),null;case 5:if(Vi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ce(r),null}if(i=ht.current,Pl(r))Wv(r);else{switch(h=Af(Rt.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}i[Ie]=r,i[Ee]=u;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;t:switch(Qe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&is(r)}}return ce(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Rt.current,Pl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,h=fn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Ie]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||mb(i.nodeValue,o)),i||na(r)}else i=Af(i).createTextNode(u),i[Ie]=r,r.stateNode=i}return ce(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Pl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=r}else Nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),h=!1}else h=Jv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(es(r),r):(es(r),null)}if(es(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),ff(r,r.updateQueue),ce(r),null;case 4:return ai(),i===null&&up(r.stateNode.containerInfo),ce(r),null;case 10:return Ji(r.type),ce(r),null;case 19:if(nt(De),h=r.memoizedState,h===null)return ce(r),null;if(u=(r.flags&128)!==0,g=h.rendering,g===null)if(u)$l(h,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=af(i),g!==null){for(r.flags|=128,$l(h,!1),i=g.updateQueue,r.updateQueue=i,ff(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Xv(o,i),o=o.sibling;return st(De,De.current&1|2),r.child}i=i.sibling}h.tail!==null&&Mn()>mf&&(r.flags|=128,u=!0,$l(h,!1),r.lanes=4194304)}else{if(!u)if(i=af(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,ff(r,i),$l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Yt)return ce(r),null}else 2*Mn()-h.renderingStartTime>mf&&o!==536870912&&(r.flags|=128,u=!0,$l(h,!1),r.lanes=4194304);h.isBackwards?(g.sibling=r.child,r.child=g):(i=h.last,i!==null?i.sibling=g:r.child=g,h.last=g)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Mn(),r.sibling=null,i=De.current,st(De,u?i&1|2:i&1),r):(ce(r),null);case 22:case 23:return es(r),fm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),o=r.updateQueue,o!==null&&ff(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ji(Oe),ce(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function YR(i,r){switch(Wd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ji(Oe),ai(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(es(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Nl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(De),null;case 4:return ai(),null;case 10:return Ji(r.type),null;case 22:case 23:return es(r),fm(),i!==null&&nt(ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ji(Oe),null;case 25:return null;default:return null}}function T0(i,r){switch(Wd(r),r.tag){case 3:Ji(Oe),ai();break;case 26:case 27:case 5:Vi(r);break;case 4:ai();break;case 13:es(r);break;case 19:nt(De);break;case 10:Ji(r.type);break;case 22:case 23:es(r),fm(),i!==null&&nt(ra);break;case 24:Ji(Oe)}}function Wl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==h)}}catch(w){ie(r,r.return,w)}}function zs(i,r,o){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=r;var x=o,B=w;try{B()}catch($){ie(h,x,$)}}}u=u.next}while(u!==g)}}catch($){ie(r,r.return,$)}}function w0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{c_(r,o)}catch(u){ie(i,i.return,u)}}}function A0(i,r,o){o.props=oa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ie(i,r,u)}}function Zl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(h){ie(i,r,h)}}function bi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ie(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ie(i,r,h)}else o.current=null}function S0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ie(i,i.return,h)}}function Um(i,r,o){try{var u=i.stateNode;dI(u,i.type,o,r),u[Ee]=r}catch(h){ie(i,i.return,h)}}function R0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function jm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||R0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=wf));else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Bm(i,r,o),i=i.sibling;i!==null;)Bm(i,r,o),i=i.sibling}function hf(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(hf(i,r,o),i=i.sibling;i!==null;)hf(i,r,o),i=i.sibling}function I0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Qe(r,u,o),r[Ie]=i,r[Ee]=o}catch(g){ie(i,i.return,g)}}var ss=!1,_e=!1,Fm=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function QR(i,r){if(i=i.containerInfo,hp=Of,i=Uv(i),jd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,x=-1,B=0,$=0,J=i,H=null;e:for(;;){for(var G;J!==o||h!==0&&J.nodeType!==3||(w=b+h),J!==g||u!==0&&J.nodeType!==3||(x=b+u),J.nodeType===3&&(b+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===i)break e;if(H===o&&++B===h&&(w=b),H===g&&++$===u&&(x=b),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}o=w===-1||x===-1?null:{start:w,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:i,selectionRange:o},Of=!1,Ue=r;Ue!==null;)if(r=Ue,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Ue=i;else for(;Ue!==null;){switch(r=Ue,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var St=oa(o.type,h,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(St,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){ie(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ue=i;break}Ue=r.return}}function x0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Us(i,o),u&4&&Wl(5,o);break;case 1:if(Us(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){ie(o,o.return,b)}else{var h=oa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ie(o,o.return,b)}}u&64&&w0(o),u&512&&Zl(o,o.return);break;case 3:if(Us(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{c_(i,r)}catch(b){ie(o,o.return,b)}}break;case 27:r===null&&u&4&&I0(o);case 26:case 5:Us(i,o),r===null&&u&4&&S0(o),u&512&&Zl(o,o.return);break;case 12:Us(i,o);break;case 13:Us(i,o),u&4&&M0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=nI.bind(null,o),bI(i,o))));break;case 22:if(u=o.memoizedState!==null||ss,!u){r=r!==null&&r.memoizedState!==null||_e,h=ss;var g=_e;ss=u,(_e=r)&&!g?js(i,o,(o.subtreeFlags&8772)!==0):Us(i,o),ss=h,_e=g}break;case 30:break;default:Us(i,o)}}function O0(i){var r=i.alternate;r!==null&&(i.alternate=null,O0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Is(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,mn=!1;function rs(i,r,o){for(o=o.child;o!==null;)D0(i,r,o),o=o.sibling}function D0(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(me,o)}catch{}switch(o.tag){case 26:_e||bi(o,r),rs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_e||bi(o,r);var u=ue,h=mn;Ys(o.type)&&(ue=o.stateNode,mn=!1),rs(i,r,o),ou(o.stateNode),ue=u,mn=h;break;case 5:_e||bi(o,r);case 6:if(u=ue,h=mn,ue=null,rs(i,r,o),ue=u,mn=h,ue!==null)if(mn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(g){ie(o,r,g)}else try{ue.removeChild(o.stateNode)}catch(g){ie(o,r,g)}break;case 18:ue!==null&&(mn?(i=ue,_b(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),pu(i)):_b(ue,o.stateNode));break;case 4:u=ue,h=mn,ue=o.stateNode.containerInfo,mn=!0,rs(i,r,o),ue=u,mn=h;break;case 0:case 11:case 14:case 15:_e||zs(2,o,r),_e||zs(4,o,r),rs(i,r,o);break;case 1:_e||(bi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&A0(o,r,u)),rs(i,r,o);break;case 21:rs(i,r,o);break;case 22:_e=(u=_e)||o.memoizedState!==null,rs(i,r,o),_e=u;break;default:rs(i,r,o)}}function M0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{pu(i)}catch(o){ie(r,r.return,o)}}function KR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new C0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new C0),r;default:throw Error(s(435,i.tag))}}function qm(i,r){var o=KR(i);r.forEach(function(u){var h=iI.bind(null,i,u);o.has(u)||(o.add(u),u.then(h,h))})}function wn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=i,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Ys(w.type)){ue=w.stateNode,mn=!1;break t}break;case 5:ue=w.stateNode,mn=!1;break t;case 3:case 4:ue=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(ue===null)throw Error(s(160));D0(g,b,h),ue=null,mn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)P0(r,i),r=r.sibling}var Zn=null;function P0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),An(i),u&4&&(zs(3,i,i.return),Wl(3,i),zs(5,i,i.return));break;case 1:wn(r,i),An(i),u&512&&(_e||o===null||bi(o,o.return)),u&64&&ss&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Zn;if(wn(r,i),An(i),u&512&&(_e||o===null||bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Vr]||g[Ie]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Qe(g,u,o),g[Ie]=i,ye(g),u=g;break t;case"link":var b=Ib("link","href",h).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=h.createElement(u),Qe(g,u,o),h.head.appendChild(g);break;case"meta":if(b=Ib("meta","content",h).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=h.createElement(u),Qe(g,u,o),h.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ie]=i,ye(g),u=g}i.stateNode=u}else Cb(h,i.type,i.stateNode);else i.stateNode=Rb(h,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Cb(h,i.type,i.stateNode):Rb(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Um(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),An(i),u&512&&(_e||o===null||bi(o,o.return)),o!==null&&u&4&&Um(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),An(i),u&512&&(_e||o===null||bi(o,o.return)),i.flags&32){h=i.stateNode;try{Nn(h,"")}catch(G){ie(i,i.return,G)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,Um(i,h,o!==null?o.memoizedProps:h)),u&1024&&(Fm=!0);break;case 6:if(wn(r,i),An(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(G){ie(i,i.return,G)}}break;case 3:if(If=null,h=Zn,Zn=Sf(r.containerInfo),wn(r,i),Zn=h,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pu(r.containerInfo)}catch(G){ie(i,i.return,G)}Fm&&(Fm=!1,N0(i));break;case 4:u=Zn,Zn=Sf(i.stateNode.containerInfo),wn(r,i),An(i),Zn=u;break;case 12:wn(r,i),An(i);break;case 13:wn(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xm=Mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qm(i,u)));break;case 22:h=i.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,B=ss,$=_e;if(ss=B||h,_e=$||x,wn(r,i),_e=$,ss=B,An(i),u&8192)t:for(r=i.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||x||ss||_e||la(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(g=x.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=x.stateNode;var J=x.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ie(x,x.return,G)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(G){ie(x,x.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qm(i,o))));break;case 19:wn(r,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qm(i,u)));break;case 30:break;case 21:break;default:wn(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(R0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,g=jm(i);hf(i,g,h);break;case 5:var b=o.stateNode;o.flags&32&&(Nn(b,""),o.flags&=-33);var w=jm(i);hf(i,w,b);break;case 3:case 4:var x=o.stateNode.containerInfo,B=jm(i);Bm(i,B,x);break;default:throw Error(s(161))}}catch($){ie(i,i.return,$)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function N0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;N0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Us(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)x0(i,r.alternate,r),r=r.sibling}function la(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:zs(4,r,r.return),la(r);break;case 1:bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&A0(r,r.return,o),la(r);break;case 27:ou(r.stateNode);case 26:case 5:bi(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}i=i.sibling}}function js(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:js(h,g,o),Wl(4,g);break;case 1:if(js(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ie(u,u.return,B)}if(u=g,h=u.updateQueue,h!==null){var w=u.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)u_(x[h],w)}catch(B){ie(u,u.return,B)}}o&&b&64&&w0(g),Zl(g,g.return);break;case 27:I0(g);case 26:case 5:js(h,g,o),o&&u===null&&b&4&&S0(g),Zl(g,g.return);break;case 12:js(h,g,o);break;case 13:js(h,g,o),o&&b&4&&M0(h,g);break;case 22:g.memoizedState===null&&js(h,g,o),Zl(g,g.return);break;case 30:break;default:js(h,g,o)}r=r.sibling}}function Hm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ll(o))}function Gm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ll(i))}function Ei(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k0(i,r,o,u),r=r.sibling}function k0(i,r,o,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(i,r,o,u),h&2048&&Wl(9,r);break;case 1:Ei(i,r,o,u);break;case 3:Ei(i,r,o,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ll(i)));break;case 12:if(h&2048){Ei(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){ie(r,r.return,x)}}else Ei(i,r,o,u);break;case 13:Ei(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Ei(i,r,o,u):Jl(i,r):g._visibility&2?Ei(i,r,o,u):(g._visibility|=2,co(i,r,o,u,(r.subtreeFlags&10256)!==0)),h&2048&&Hm(b,r);break;case 24:Ei(i,r,o,u),h&2048&&Gm(r.alternate,r);break;default:Ei(i,r,o,u)}}function co(i,r,o,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,w=o,x=u,B=b.flags;switch(b.tag){case 0:case 11:case 15:co(g,b,w,x,h),Wl(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?co(g,b,w,x,h):Jl(g,b):($._visibility|=2,co(g,b,w,x,h)),h&&B&2048&&Hm(b.alternate,b);break;case 24:co(g,b,w,x,h),h&&B&2048&&Gm(b.alternate,b);break;default:co(g,b,w,x,h)}r=r.sibling}}function Jl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,h=u.flags;switch(u.tag){case 22:Jl(o,u),h&2048&&Hm(u.alternate,u);break;case 24:Jl(o,u),h&2048&&Gm(u.alternate,u);break;default:Jl(o,u)}r=r.sibling}}var tu=8192;function fo(i){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)V0(i),i=i.sibling}function V0(i){switch(i.tag){case 26:fo(i),i.flags&tu&&i.memoizedState!==null&&PI(Zn,i.memoizedState,i.memoizedProps);break;case 5:fo(i);break;case 3:case 4:var r=Zn;Zn=Sf(i.stateNode.containerInfo),fo(i),Zn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=tu,tu=16777216,fo(i),tu=r):fo(i));break;default:fo(i)}}function L0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function eu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ue=u,U0(u,i)}L0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z0(i),i=i.sibling}function z0(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&zs(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,df(i)):eu(i);break;default:eu(i)}}function df(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ue=u,U0(u,i)}L0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:zs(8,r,r.return),df(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,df(r));break;default:df(r)}i=i.sibling}}function U0(i,r){for(;Ue!==null;){var o=Ue;switch(o.tag){case 0:case 11:case 15:zs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ll(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ue=u;else t:for(o=i;Ue!==null;){u=Ue;var h=u.sibling,g=u.return;if(O0(u),u===o){Ue=null;break t}if(h!==null){h.return=g,Ue=h;break t}Ue=g}}}var XR={getCacheForType:function(i){var r=Ze(Oe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},$R=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Nt=null,Ft=0,Wt=0,Sn=null,Bs=!1,ho=!1,Ym=!1,as=0,ge=0,Fs=0,ua=0,Qm=0,qn=0,mo=0,nu=null,pn=null,Km=!1,Xm=0,mf=1/0,pf=null,qs=null,Ye=0,Hs=null,po=null,go=0,$m=0,Wm=null,j0=null,iu=0,Zm=null;function Rn(){if(($t&2)!==0&&Ft!==0)return Ft&-Ft;if(Q.T!==null){var i=no;return i!==0?i:rp()}return Ss()}function B0(){qn===0&&(qn=(Ft&536870912)===0||Yt?hl():536870912);var i=Fn.current;return i!==null&&(i.flags|=32),qn}function In(i,r,o){(i===re&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(yo(i,0),Gs(i,Ft,qn,!1)),zi(i,o),(($t&2)===0||i!==re)&&(i===re&&(($t&2)===0&&(ua|=o),ge===4&&Gs(i,Ft,qn,!1)),Ti(i))}function F0(i,r,o){if(($t&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||kr(i,r),h=u?JR(i,r):ep(i,r,!0),g=u;do{if(h===0){ho&&!u&&Gs(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!WR(o)){h=ep(i,r,!1),g=!1;continue}if(h===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=i;h=nu;var x=w.current.memoizedState.isDehydrated;if(x&&(yo(w,b).flags|=256),b=ep(w,b,!1),b!==2){if(Ym&&!x){w.errorRecoveryDisabledLanes|=g,ua|=g,h=4;break t}g=pn,pn=h,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){yo(i,0),Gs(i,r,0,!0);break}t:{switch(u=i,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gs(u,r,qn,!Bs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Xm+300-Mn(),10<h)){if(Gs(u,r,qn,!Bs),Pa(u,0,!0)!==0)break t;u.timeoutHandle=yb(q0.bind(null,u,o,pn,pf,Km,r,qn,ua,mo,Bs,g,2,-0,0),h);break t}q0(u,o,pn,pf,Km,r,qn,ua,mo,Bs,g,0,-0,0)}}break}while(!0);Ti(i)}function q0(i,r,o,u,h,g,b,w,x,B,$,J,H,G){if(i.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(cu={stylesheets:null,count:0,unsuspend:MI},V0(r),J=NI(),J!==null)){i.cancelPendingCommit=J($0.bind(null,i,r,g,o,u,h,b,w,x,$,1,H,G)),Gs(i,g,b,!B);return}$0(i,r,g,o,u,h,b,w,x)}function WR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!En(g(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gs(i,r,o,u){r&=~Qm,r&=~ua,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var g=31-We(h),b=1<<g;u[g]=-1,h&=~b}o!==0&&oi(i,o,r)}function gf(){return($t&6)===0?(su(0),!1):!0}function Jm(){if(Nt!==null){if(Wt===0)var i=Nt.return;else i=Nt,Zi=ia=null,gm(i),lo=null,Kl=0,i=Nt;for(;i!==null;)T0(i.alternate,i),i=i.return;Nt=null}}function yo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,pI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Jm(),re=i,Nt=o=Xi(i.current,null),Ft=r,Wt=0,Sn=null,Bs=!1,ho=kr(i,r),Ym=!1,mo=qn=Qm=ua=Fs=ge=0,pn=nu=null,Km=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-We(u),g=1<<h;r|=i[h],u&=~g}return as=r,Lc(),o}function H0(i,r){Ot=null,Q.H=nf,r===Ul||r===Yc?(r=o_(),Wt=3):r===s_?(r=o_(),Wt=4):Wt=r===l0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Nt===null&&(ge=1,lf(i,zn(r,i.current)))}function G0(){var i=Q.H;return Q.H=nf,i===null?nf:i}function Y0(){var i=Q.A;return Q.A=XR,i}function tp(){ge=4,Bs||(Ft&4194048)!==Ft&&Fn.current!==null||(ho=!0),(Fs&134217727)===0&&(ua&134217727)===0||re===null||Gs(re,Ft,qn,!1)}function ep(i,r,o){var u=$t;$t|=2;var h=G0(),g=Y0();(re!==i||Ft!==r)&&(pf=null,yo(i,r)),r=!1;var b=ge;t:do try{if(Wt!==0&&Nt!==null){var w=Nt,x=Sn;switch(Wt){case 8:Jm(),b=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(r=!0);var B=Wt;if(Wt=0,Sn=null,vo(i,w,x,B),o&&ho){b=0;break t}break;default:B=Wt,Wt=0,Sn=null,vo(i,w,x,B)}}ZR(),b=ge;break}catch($){H0(i,$)}while(!0);return r&&i.shellSuspendCounter++,Zi=ia=null,$t=u,Q.H=h,Q.A=g,Nt===null&&(re=null,Ft=0,Lc()),b}function ZR(){for(;Nt!==null;)Q0(Nt)}function JR(i,r){var o=$t;$t|=2;var u=G0(),h=Y0();re!==i||Ft!==r?(pf=null,mf=Mn()+500,yo(i,r)):ho=kr(i,r);t:do try{if(Wt!==0&&Nt!==null){r=Nt;var g=Sn;e:switch(Wt){case 1:Wt=0,Sn=null,vo(i,r,g,1);break;case 2:case 9:if(r_(g)){Wt=0,Sn=null,K0(r);break}r=function(){Wt!==2&&Wt!==9||re!==i||(Wt=7),Ti(i)},g.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:r_(g)?(Wt=0,Sn=null,K0(r)):(Wt=0,Sn=null,vo(i,r,g,7));break;case 5:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var w=Nt;if(!b||xb(b)){Wt=0,Sn=null;var x=w.sibling;if(x!==null)Nt=x;else{var B=w.return;B!==null?(Nt=B,yf(B)):Nt=null}break e}}Wt=0,Sn=null,vo(i,r,g,5);break;case 6:Wt=0,Sn=null,vo(i,r,g,6);break;case 8:Jm(),ge=6;break t;default:throw Error(s(462))}}tI();break}catch($){H0(i,$)}while(!0);return Zi=ia=null,Q.H=u,Q.A=h,$t=o,Nt!==null?0:(re=null,Ft=0,Lc(),ge)}function tI(){for(;Nt!==null&&!ll();)Q0(Nt)}function Q0(i){var r=b0(i.alternate,i,as);i.memoizedProps=i.pendingProps,r===null?yf(i):Nt=r}function K0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=m0(o,r,r.pendingProps,r.type,void 0,Ft);break;case 11:r=m0(o,r,r.pendingProps,r.type.render,r.ref,Ft);break;case 5:gm(r);default:T0(o,r),r=Nt=Xv(r,as),r=b0(o,r,as)}i.memoizedProps=i.pendingProps,r===null?yf(i):Nt=r}function vo(i,r,o,u){Zi=ia=null,gm(r),lo=null,Kl=0;var h=r.return;try{if(qR(i,h,r,o,Ft)){ge=1,lf(i,zn(o,i.current)),Nt=null;return}}catch(g){if(h!==null)throw Nt=h,g;ge=1,lf(i,zn(o,i.current)),Nt=null;return}r.flags&32768?(Yt||u===1?i=!0:ho||(Ft&536870912)!==0?i=!1:(Bs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),X0(r,i)):yf(r)}function yf(i){var r=i;do{if((r.flags&32768)!==0){X0(r,Bs);return}i=r.return;var o=GR(r.alternate,r,as);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);ge===0&&(ge=5)}function X0(i,r){do{var o=YR(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);ge=6,Nt=null}function $0(i,r,o,u,h,g,b,w,x){i.cancelPendingCommit=null;do vf();while(Ye!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Gd,ml(i,o,g,b,w,x),i===re&&(Nt=re=null,Ft=0),po=r,Hs=i,go=o,$m=g,Wm=h,j0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,sI(Dr,function(){return eb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,h=ft.p,ft.p=2,b=$t,$t|=4;try{QR(i,r,o)}finally{$t=b,ft.p=h,Q.T=u}}Ye=1,W0(),Z0(),J0()}}function W0(){if(Ye===1){Ye=0;var i=Hs,r=po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=ft.p;ft.p=2;var h=$t;$t|=4;try{P0(r,i);var g=dp,b=Uv(i.containerInfo),w=g.focusedElem,x=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&zv(w.ownerDocument.documentElement,w)){if(x!==null&&jd(w)){var B=x.start,$=x.end;if($===void 0&&($=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min($,w.value.length);else{var J=w.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),St=w.textContent.length,Et=Math.min(x.start,St),ee=x.end===void 0?Et:Math.min(x.end,St);!G.extend&&Et>ee&&(b=ee,ee=Et,Et=b);var L=Lv(w,Et),P=Lv(w,ee);if(L&&P&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var j=J.createRange();j.setStart(L.node,L.offset),G.removeAllRanges(),Et>ee?(G.addRange(j),G.extend(P.node,P.offset)):(j.setEnd(P.node,P.offset),G.addRange(j))}}}}for(J=[],G=w;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<J.length;w++){var W=J[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Of=!!hp,dp=hp=null}finally{$t=h,ft.p=u,Q.T=o}}i.current=r,Ye=2}}function Z0(){if(Ye===2){Ye=0;var i=Hs,r=po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=ft.p;ft.p=2;var h=$t;$t|=4;try{x0(i,r.alternate,r)}finally{$t=h,ft.p=u,Q.T=o}}Ye=3}}function J0(){if(Ye===4||Ye===3){Ye=0,hc();var i=Hs,r=po,o=go,u=j0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ye=5:(Ye=0,po=Hs=null,tb(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(qs=null),Na(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(me,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,h=ft.p,ft.p=2,Q.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{Q.T=r,ft.p=h}}(go&3)!==0&&vf(),Ti(i),h=i.pendingLanes,(o&4194090)!==0&&(h&42)!==0?i===Zm?iu++:(iu=0,Zm=i):iu=0,su(0)}}function tb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ll(r)))}function vf(i){return W0(),Z0(),J0(),eb()}function eb(){if(Ye!==5)return!1;var i=Hs,r=$m;$m=0;var o=Na(go),u=Q.T,h=ft.p;try{ft.p=32>o?32:o,Q.T=null,o=Wm,Wm=null;var g=Hs,b=go;if(Ye=0,po=Hs=null,go=0,($t&6)!==0)throw Error(s(331));var w=$t;if($t|=4,z0(g.current),k0(g,g.current,b,o),$t=w,su(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(me,g)}catch{}return!0}finally{ft.p=h,Q.T=u,tb(i,r)}}function nb(i,r,o){r=zn(o,r),r=Om(i.stateNode,r,2),i=Ns(i,r,2),i!==null&&(zi(i,2),Ti(i))}function ie(i,r,o){if(i.tag===3)nb(i,i,o);else for(;r!==null;){if(r.tag===3){nb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){i=zn(o,i),o=a0(2),u=Ns(r,o,2),u!==null&&(o0(o,u,r,i),zi(u,2),Ti(u));break}}r=r.return}}function np(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new $R;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(Ym=!0,h.add(o),i=eI.bind(null,i,r,o),r.then(i,i))}function eI(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,re===i&&(Ft&o)===o&&(ge===4||ge===3&&(Ft&62914560)===Ft&&300>Mn()-Xm?($t&2)===0&&yo(i,0):Qm|=o,mo===Ft&&(mo=0)),Ti(i)}function ib(i,r){r===0&&(r=dl()),i=Za(i,r),i!==null&&(zi(i,r),Ti(i))}function nI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),ib(i,o)}function iI(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),ib(i,o)}function sI(i,r){return xr(i,r)}var _f=null,_o=null,ip=!1,bf=!1,sp=!1,ca=0;function Ti(i){i!==_o&&i.next===null&&(_o===null?_f=_o=i:_o=_o.next=i),bf=!0,ip||(ip=!0,aI())}function su(i,r){if(!sp&&bf){sp=!0;do for(var o=!1,u=_f;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-We(42|i)+1)-1,g&=h&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,ob(u,g))}else g=Ft,g=Pa(u,u===re?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||kr(u,g)||(o=!0,ob(u,g));u=u.next}while(o);sp=!1}}function rI(){sb()}function sb(){bf=ip=!1;var i=0;ca!==0&&(mI()&&(i=ca),ca=0);for(var r=Mn(),o=null,u=_f;u!==null;){var h=u.next,g=rb(u,r);g===0?(u.next=null,o===null?_f=h:o.next=h,h===null&&(_o=o)):(o=u,(i!==0||(g&3)!==0)&&(bf=!0)),u=h}su(i)}function rb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-We(g),w=1<<b,x=h[b];x===-1?((w&o)===0||(w&u)!==0)&&(h[b]=fl(w,r)):x<=r&&(i.expiredLanes|=w),g&=~w}if(r=re,o=Ft,o=Pa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Or(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||kr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Or(u),Na(o)){case 2:case 8:o=Da;break;case 32:o=Dr;break;case 268435456:o=Ma;break;default:o=Dr}return u=ab.bind(null,i),o=xr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Or(u),i.callbackPriority=2,i.callbackNode=null,2}function ab(i,r){if(Ye!==0&&Ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(vf()&&i.callbackNode!==o)return null;var u=Ft;return u=Pa(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(F0(i,u,r),rb(i,Mn()),i.callbackNode!=null&&i.callbackNode===o?ab.bind(null,i):null)}function ob(i,r){if(vf())return null;F0(i,r,!0)}function aI(){gI(function(){($t&6)!==0?xr(ul,rI):sb()})}function rp(){return ca===0&&(ca=hl()),ca}function lb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ja(""+i)}function ub(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function oI(i,r,o,u,h){if(r==="submit"&&o&&o.stateNode===h){var g=lb((h[Ee]||null).action),b=u.submitter;b&&(r=(r=b[Ee]||null)?lb(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new Ba("action","action",null,u,h);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ca!==0){var x=b?ub(h,b):new FormData(h);Sm(o,{pending:!0,data:x,method:h.method,action:g},null,x)}}else typeof g=="function"&&(w.preventDefault(),x=b?ub(h,b):new FormData(h),Sm(o,{pending:!0,data:x,method:h.method,action:g},g,x))},currentTarget:h}]})}}for(var ap=0;ap<Hd.length;ap++){var op=Hd[ap],lI=op.toLowerCase(),uI=op[0].toUpperCase()+op.slice(1);Wn(lI,"on"+uI)}Wn(Fv,"onAnimationEnd"),Wn(qv,"onAnimationIteration"),Wn(Hv,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(RR,"onTransitionRun"),Wn(IR,"onTransitionStart"),Wn(CR,"onTransitionCancel"),Wn(Gv,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function cb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],h=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],x=w.instance,B=w.currentTarget;if(w=w.listener,x!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=B;try{g(h)}catch($){of($)}h.currentTarget=null,g=x}else for(b=0;b<u.length;b++){if(w=u[b],x=w.instance,B=w.currentTarget,w=w.listener,x!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=B;try{g(h)}catch($){of($)}h.currentTarget=null,g=x}}}}function kt(i,r){var o=r[gl];o===void 0&&(o=r[gl]=new Set);var u=i+"__bubble";o.has(u)||(fb(r,i,2,!1),o.add(u))}function lp(i,r,o){var u=0;r&&(u|=4),fb(o,i,u,r)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function up(i){if(!i[Ef]){i[Ef]=!0,yl.forEach(function(o){o!=="selectionchange"&&(cI.has(o)||lp(o,!1,i),lp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ef]||(r[Ef]=!0,lp("selectionchange",!1,r))}}function fb(i,r,o,u){switch(kb(r)){case 2:var h=LI;break;case 8:h=zI;break;default:h=wp}o=h.bind(null,r,o,i),h=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,o,{capture:!0,passive:h}):i.addEventListener(r,o,!0):h!==void 0?i.addEventListener(r,o,{passive:h}):i.addEventListener(r,o,!1)}function cp(i,r,o,u,h){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=u.return;b!==null;){var x=b.tag;if((x===3||x===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=Ui(w),b===null)return;if(x=b.tag,x===5||x===6||x===26||x===27){u=g=b;continue t}w=w.parentNode}}u=u.return}Tc(function(){var B=g,$=kn(o),J=[];t:{var H=Yv.get(i);if(H!==void 0){var G=Ba,St=i;switch(i){case"keypress":if(di(o)===0)break t;case"keydown":case"keyup":G=Qa;break;case"focusin":St="focus",G=Ha;break;case"focusout":St="blur",G=Ha;break;case"beforeblur":case"afterblur":G=Ha;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Oc;break;case Fv:case qv:case Hv:G=Ga;break;case Gv:G=Mc;break;case"scroll":case"scrollend":G=wc;break;case"wheel":G=Ka;break;case"copy":case"cut":case"paste":G=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=xl;break;case"toggle":case"beforetoggle":G=Nc}var Et=(r&4)!==0,ee=!Et&&(i==="scroll"||i==="scrollend"),L=Et?H!==null?H+"Capture":null:H;Et=[];for(var P=B,j;P!==null;){var W=P;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||L===null||(W=qr(P,L),W!=null&&Et.push(au(P,W,j))),ee)break;P=P.return}0<Et.length&&(H=new G(H,St,null,o,$),J.push({event:H,listeners:Et}))}}if((r&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",H&&o!==qi&&(St=o.relatedTarget||o.fromElement)&&(Ui(St)||St[Pn]))break t;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(St=o.relatedTarget||o.toElement,G=B,St=St?Ui(St):null,St!==null&&(ee=l(St),Et=St.tag,St!==ee||Et!==5&&Et!==27&&Et!==6)&&(St=null)):(G=null,St=B),G!==St)){if(Et=Ln,W="onMouseLeave",L="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(Et=xl,W="onPointerLeave",L="onPointerEnter",P="pointer"),ee=G==null?H:ui(G),j=St==null?H:ui(St),H=new Et(W,P+"leave",G,o,$),H.target=ee,H.relatedTarget=j,W=null,Ui($)===B&&(Et=new Et(L,P+"enter",St,o,$),Et.target=j,Et.relatedTarget=ee,W=Et),ee=W,G&&St)e:{for(Et=G,L=St,P=0,j=Et;j;j=bo(j))P++;for(j=0,W=L;W;W=bo(W))j++;for(;0<P-j;)Et=bo(Et),P--;for(;0<j-P;)L=bo(L),j--;for(;P--;){if(Et===L||L!==null&&Et===L.alternate)break e;Et=bo(Et),L=bo(L)}Et=null}else Et=null;G!==null&&hb(J,H,G,Et,!1),St!==null&&ee!==null&&hb(J,ee,St,Et,!0)}}t:{if(H=B?ui(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var pt=Dv;else if(xe(H))if(Mv)pt=wR;else{pt=ER;var Pt=bR}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Tl(B.elementType)&&(pt=Dv):pt=TR;if(pt&&(pt=pt(i,B))){Ki(J,pt,o,$);break t}Pt&&Pt(i,H,B),i==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&xs(H,"number",H.value)}switch(Pt=B?ui(B):window,i){case"focusin":(xe(Pt)||Pt.contentEditable==="true")&&(Xa=Pt,Bd=B,Ml=null);break;case"focusout":Ml=Bd=Xa=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,jv(J,o,$);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":jv(J,o,$)}var vt;if(gi)t:{switch(i){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else jt?Y(i,o)&&(Tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&o.locale!=="ko"&&(jt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jt&&(vt=Al()):(hi=$,Os="value"in hi?hi.value:hi.textContent,jt=!0)),Pt=Tf(B,Tt),0<Pt.length&&(Tt=new Il(Tt,i,null,o,$),J.push({event:Tt,listeners:Pt}),vt?Tt.data=vt:(vt=ot(o),vt!==null&&(Tt.data=vt)))),(vt=y?Ce(i,o):Bt(i,o))&&(Tt=Tf(B,"onBeforeInput"),0<Tt.length&&(Pt=new Il("onBeforeInput","beforeinput",null,o,$),J.push({event:Pt,listeners:Tt}),Pt.data=vt)),oI(J,i,B,o,$)}cb(J,r)})}function au(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Tf(i,r){for(var o=r+"Capture",u=[];i!==null;){var h=i,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=qr(i,o),h!=null&&u.unshift(au(i,h,g)),h=qr(i,r),h!=null&&u.push(au(i,h,g))),i.tag===3)return u;i=i.return}return[]}function bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hb(i,r,o,u,h){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,x=w.alternate,B=w.stateNode;if(w=w.tag,x!==null&&x===u)break;w!==5&&w!==26&&w!==27||B===null||(x=B,h?(B=qr(o,g),B!=null&&b.unshift(au(o,B,x))):h||(B=qr(o,g),B!=null&&b.push(au(o,B,x)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var fI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function db(i){return(typeof i=="string"?i:""+i).replace(fI,`
`).replace(hI,"")}function mb(i,r){return r=db(r),db(i)===r}function wf(){}function te(i,r,o,u,h,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Nn(i,""+u);break;case"className":ci(i,"class",u);break;case"tabIndex":ci(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(i,o,u);break;case"style":El(i,u,g);break;case"data":if(r!=="object"){ci(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ja(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&te(i,r,"name",h.name,h,null),te(i,r,"formEncType",h.formEncType,h,null),te(i,r,"formMethod",h.formMethod,h,null),te(i,r,"formTarget",h.formTarget,h,null)):(te(i,r,"encType",h.encType,h,null),te(i,r,"method",h.method,h,null),te(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ja(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=wf);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ja(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Cs(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nd.get(o)||o,Cs(i,o,u))}}function fp(i,r,o,u,h,g){switch(o){case"style":El(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&Nn(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),g=i[Ee]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,h);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Cs(i,o,u)}}}function Qe(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,g,b,o,null)}}h&&te(i,r,"srcSet",o.srcSet,o,null),u&&te(i,r,"src",o.src,o,null);return;case"input":kt("invalid",i);var w=g=b=h=null,x=null,B=null;for(u in o)if(o.hasOwnProperty(u)){var $=o[u];if($!=null)switch(u){case"name":h=$;break;case"type":b=$;break;case"checked":x=$;break;case"defaultChecked":B=$;break;case"value":g=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:te(i,r,u,$,o,null)}}jr(i,g,w,x,B,b,h,!1),Ua(i);return;case"select":kt("invalid",i),u=b=g=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:te(i,r,h,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Fi(i,!!u,r,!1):o!=null&&Fi(i,!!u,o,!0);return;case"textarea":kt("invalid",i),g=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":h=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:te(i,r,b,w,o,null)}Br(i,u,h,g),Ua(i);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,r,x,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<ru.length;u++)kt(ru[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,B,u,o,null)}return;default:if(Tl(r)){for($ in o)o.hasOwnProperty($)&&(u=o[$],u!==void 0&&fp(i,r,$,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&te(i,r,w,u,o,null))}function dI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,w=null,x=null,B=null,$=null;for(G in o){var J=o[G];if(o.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=J;default:u.hasOwnProperty(G)||te(i,r,G,null,u,J)}}for(var H in u){var G=u[H];if(J=o[H],u.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":g=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":b=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&te(i,r,H,G,u,J)}}bn(i,b,w,x,B,$,g,h);return;case"select":G=b=w=H=null;for(g in o)if(x=o[g],o.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":G=x;default:u.hasOwnProperty(g)||te(i,r,g,null,u,x)}for(h in u)if(g=u[h],x=o[h],u.hasOwnProperty(h)&&(g!=null||x!=null))switch(h){case"value":H=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==x&&te(i,r,h,g,u,x)}r=w,o=b,u=G,H!=null?Fi(i,!!o,H,!1):!!u!=!!o&&(r!=null?Fi(i,!!o,r,!0):Fi(i,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(i,r,w,null,u,h)}for(b in u)if(h=u[b],g=o[b],u.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&te(i,r,b,h,u,g)}Zt(i,H,G);return;case"option":for(var St in o)if(H=o[St],o.hasOwnProperty(St)&&H!=null&&!u.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:te(i,r,St,null,u,H)}for(x in u)if(H=u[x],G=o[x],u.hasOwnProperty(x)&&H!==G&&(H!=null||G!=null))switch(x){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(i,r,x,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)H=o[Et],o.hasOwnProperty(Et)&&H!=null&&!u.hasOwnProperty(Et)&&te(i,r,Et,null,u,H);for(B in u)if(H=u[B],G=o[B],u.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:te(i,r,B,H,u,G)}return;default:if(Tl(r)){for(var ee in o)H=o[ee],o.hasOwnProperty(ee)&&H!==void 0&&!u.hasOwnProperty(ee)&&fp(i,r,ee,void 0,u,H);for($ in u)H=u[$],G=o[$],!u.hasOwnProperty($)||H===G||H===void 0&&G===void 0||fp(i,r,$,H,u,G);return}}for(var L in o)H=o[L],o.hasOwnProperty(L)&&H!=null&&!u.hasOwnProperty(L)&&te(i,r,L,null,u,H);for(J in u)H=u[J],G=o[J],!u.hasOwnProperty(J)||H===G||H==null&&G==null||te(i,r,J,H,u,G)}var hp=null,dp=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function pb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pp=null;function mI(){var i=window.event;return i&&i.type==="popstate"?i===pp?!1:(pp=i,!0):(pp=null,!1)}var yb=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,vb=typeof Promise=="function"?Promise:void 0,gI=typeof queueMicrotask=="function"?queueMicrotask:typeof vb<"u"?function(i){return vb.resolve(null).then(i).catch(yI)}:yb;function yI(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function _b(i,r){var o=r,u=0,h=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&ou(b.documentElement),o&2&&ou(b.body),o&4)for(o=b.head,ou(o),b=o.firstChild;b;){var w=b.nextSibling,x=b.nodeName;b[Vr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(h===0){i.removeChild(g),pu(r);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);pu(r)}function gp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),Is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function vI(i,r,o,u){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Vr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function _I(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function bI(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var vp=null;function bb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function Eb(i,r,o){switch(r=Af(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ou(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Is(i)}var Hn=new Map,Tb=new Set;function Sf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var os=ft.d;ft.d={f:EI,r:TI,D:wI,C:AI,L:SI,m:RI,X:CI,S:II,M:xI};function EI(){var i=os.f(),r=gf();return i||r}function TI(i){var r=li(i);r!==null&&r.tag===5&&r.type==="form"?F_(r):os.r(i)}var Eo=typeof document>"u"?null:document;function wb(i,r,o){var u=Eo;if(u&&typeof r=="string"&&r){var h=Te(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Tb.has(h)||(Tb.add(h),i={rel:i,crossOrigin:o,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),Qe(r,"link",i),ye(r),u.head.appendChild(r)))}}function wI(i){os.D(i),wb("dns-prefetch",i,null)}function AI(i,r){os.C(i,r),wb("preconnect",i,r)}function SI(i,r,o){os.L(i,r,o);var u=Eo;if(u&&i&&r){var h='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Te(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Te(o.imageSizes)+'"]')):h+='[href="'+Te(i)+'"]';var g=h;switch(r){case"style":g=To(i);break;case"script":g=wo(i)}Hn.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Hn.set(g,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(lu(g))||r==="script"&&u.querySelector(uu(g))||(r=u.createElement("link"),Qe(r,"link",i),ye(r),u.head.appendChild(r)))}}function RI(i,r){os.m(i,r);var o=Eo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Te(u)+'"][href="'+Te(i)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(i)}if(!Hn.has(g)&&(i=v({rel:"modulepreload",href:i},r),Hn.set(g,i),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uu(g)))return}u=o.createElement("link"),Qe(u,"link",i),ye(u),o.head.appendChild(u)}}}function II(i,r,o){os.S(i,r,o);var u=Eo;if(u&&i){var h=ln(u).hoistableStyles,g=To(i);r=r||"default";var b=h.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(lu(g)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Hn.get(g))&&_p(i,o);var x=b=u.createElement("link");ye(x),Qe(x,"link",i),x._p=new Promise(function(B,$){x.onload=B,x.onerror=$}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Rf(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(g,b)}}}function CI(i,r){os.X(i,r);var o=Eo;if(o&&i){var u=ln(o).hoistableScripts,h=wo(i),g=u.get(h);g||(g=o.querySelector(uu(h)),g||(i=v({src:i,async:!0},r),(r=Hn.get(h))&&bp(i,r),g=o.createElement("script"),ye(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function xI(i,r){os.M(i,r);var o=Eo;if(o&&i){var u=ln(o).hoistableScripts,h=wo(i),g=u.get(h);g||(g=o.querySelector(uu(h)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Hn.get(h))&&bp(i,r),g=o.createElement("script"),ye(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function Ab(i,r,o,u){var h=(h=Rt.current)?Sf(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=To(o.href),o=ln(h).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=To(o.href);var g=ln(h).hoistableStyles,b=g.get(i);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=h.querySelector(lu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),g||OI(h,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wo(o),o=ln(h).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function To(i){return'href="'+Te(i)+'"'}function lu(i){return'link[rel="stylesheet"]['+i+"]"}function Sb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function OI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Qe(r,"link",o),ye(r),i.head.appendChild(r))}function wo(i){return'[src="'+Te(i)+'"]'}function uu(i){return"script[async]"+i}function Rb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Te(o.href)+'"]');if(u)return r.instance=u,ye(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ye(u),Qe(u,"style",h),Rf(u,o.precedence,i),r.instance=u;case"stylesheet":h=To(o.href);var g=i.querySelector(lu(h));if(g)return r.state.loading|=4,r.instance=g,ye(g),g;u=Sb(o),(h=Hn.get(h))&&_p(u,h),g=(i.ownerDocument||i).createElement("link"),ye(g);var b=g;return b._p=new Promise(function(w,x){b.onload=w,b.onerror=x}),Qe(g,"link",u),r.state.loading|=4,Rf(g,o.precedence,i),r.instance=g;case"script":return g=wo(o.src),(h=i.querySelector(uu(g)))?(r.instance=h,ye(h),h):(u=o,(h=Hn.get(g))&&(u=v({},o),bp(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),ye(h),Qe(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Rf(u,o.precedence,i));return r.instance}function Rf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==h)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function _p(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function bp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var If=null;function Ib(i,r,o){if(If===null){var u=new Map,h=If=new Map;h.set(o,u)}else h=If,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var g=o[h];if(!(g[Vr]||g[Ie]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function Cb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function DI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var cu=null;function MI(){}function PI(i,r,o){if(cu===null)throw Error(s(475));var u=cu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=To(o.href),g=i.querySelector(lu(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Cf.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,ye(g);return}g=i.ownerDocument||i,o=Sb(o),(h=Hn.get(h))&&_p(o,h),g=g.createElement("link"),ye(g);var b=g;b._p=new Promise(function(w,x){b.onload=w,b.onerror=x}),Qe(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Cf.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function NI(){if(cu===null)throw Error(s(475));var i=cu;return i.stylesheets&&i.count===0&&Ep(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Ep(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)Ep(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var xf=null;function Ep(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,xf=new Map,r.forEach(kI,i),xf=null,Cf.call(i))}function kI(i,r){if(!(r.state.loading&4)){var o=xf.get(i);if(o)var u=o.get(null);else{o=new Map,xf.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=r.instance,b=h.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,h),o.set(b,h),this.count++,u=Cf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var fu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function VI(i,r,o,u,h,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ob(i,r,o,u,h,g,b,w,x,B,$,J){return i=new VI(i,r,o,b,w,x,B,J),r=1,g===!0&&(r|=24),g=Tn(3,null,null,r),i.current=g,g.stateNode=i,r=nm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},am(g),i}function Db(i){return i?(i=Ja,i):Ja}function Mb(i,r,o,u,h,g){h=Db(h),u.context===null?u.context=h:u.pendingContext=h,u=Ps(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ns(i,u,r),o!==null&&(In(o,i,r),Bl(o,i,r))}function Pb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Tp(i,r){Pb(i,r),(i=i.alternate)&&Pb(i,r)}function Nb(i){if(i.tag===13){var r=Za(i,67108864);r!==null&&In(r,i,67108864),Tp(i,67108864)}}var Of=!0;function LI(i,r,o,u){var h=Q.T;Q.T=null;var g=ft.p;try{ft.p=2,wp(i,r,o,u)}finally{ft.p=g,Q.T=h}}function zI(i,r,o,u){var h=Q.T;Q.T=null;var g=ft.p;try{ft.p=8,wp(i,r,o,u)}finally{ft.p=g,Q.T=h}}function wp(i,r,o,u){if(Of){var h=Ap(u);if(h===null)cp(i,r,u,Df,o),Vb(i,u);else if(jI(h,i,r,o,u))u.stopPropagation();else if(Vb(i,u),r&4&&-1<UI.indexOf(i)){for(;h!==null;){var g=li(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Kn(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var x=1<<31-We(b);w.entanglements[1]|=x,b&=~x}Ti(g),($t&6)===0&&(mf=Mn()+500,su(0))}}break;case 13:w=Za(g,2),w!==null&&In(w,g,2),gf(),Tp(g,2)}if(g=Ap(u),g===null&&cp(i,r,u,Df,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else cp(i,r,u,null,o)}}function Ap(i){return i=kn(i),Sp(i)}var Df=null;function Sp(i){if(Df=null,i=Ui(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Df=i,null}function kb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cd()){case ul:return 2;case Da:return 8;case Dr:case xd:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var Rp=!1,Qs=null,Ks=null,Xs=null,hu=new Map,du=new Map,$s=[],UI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vb(i,r){switch(i){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":hu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(r.pointerId)}}function mu(i,r,o,u,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},r!==null&&(r=li(r),r!==null&&Nb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function jI(i,r,o,u,h){switch(r){case"focusin":return Qs=mu(Qs,i,r,o,u,h),!0;case"dragenter":return Ks=mu(Ks,i,r,o,u,h),!0;case"mouseover":return Xs=mu(Xs,i,r,o,u,h),!0;case"pointerover":var g=h.pointerId;return hu.set(g,mu(hu.get(g)||null,i,r,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,du.set(g,mu(du.get(g)||null,i,r,o,u,h)),!0}return!1}function Lb(i){var r=Ui(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,pc(i.priority,function(){if(o.tag===13){var u=Rn();u=As(u);var h=Za(o,u);h!==null&&In(h,o,u),Tp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Ap(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);qi=u,o.target.dispatchEvent(u),qi=null}else return r=li(o),r!==null&&Nb(r),i.blockedOn=o,!1;r.shift()}return!0}function zb(i,r,o){Mf(i)&&o.delete(r)}function BI(){Rp=!1,Qs!==null&&Mf(Qs)&&(Qs=null),Ks!==null&&Mf(Ks)&&(Ks=null),Xs!==null&&Mf(Xs)&&(Xs=null),hu.forEach(zb),du.forEach(zb)}function Pf(i,r){i.blockedOn===r&&(i.blockedOn=null,Rp||(Rp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BI)))}var Nf=null;function Ub(i){Nf!==i&&(Nf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nf===i&&(Nf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(Sp(u||o)===null)continue;break}var g=li(o);g!==null&&(i.splice(r,3),r-=3,Sm(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function pu(i){function r(x){return Pf(x,i)}Qs!==null&&Pf(Qs,i),Ks!==null&&Pf(Ks,i),Xs!==null&&Pf(Xs,i),hu.forEach(r),du.forEach(r);for(var o=0;o<$s.length;o++){var u=$s[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<$s.length&&(o=$s[0],o.blockedOn===null);)Lb(o),o.blockedOn===null&&$s.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],b=h[Ee]||null;if(typeof g=="function")b||Ub(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[Ee]||null)w=b.formAction;else if(Sp(h)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Ub(o)}}}function Ip(i){this._internalRoot=i}kf.prototype.render=Ip.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Rn();Mb(o,u,i,r,null,null)},kf.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Mb(i.current,2,null,i,null,null),gf(),r[Pn]=null}};function kf(i){this._internalRoot=i}kf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ss();i={blockedOn:null,target:i,priority:r};for(var o=0;o<$s.length&&r!==0&&r<$s[o].priority;o++);$s.splice(o,0,i),o===0&&Lb(i)}};var jb=t.version;if(jb!=="19.1.0")throw Error(s(527,jb,"19.1.0"));ft.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var FI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{me=Vf.inject(FI),Xt=Vf}catch{}}return yu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",h=n0,g=i0,b=s0,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Ob(i,1,!1,null,null,o,u,h,g,b,w,null),i[Pn]=r.current,up(i),new Ip(r)},yu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,h="",g=n0,b=i0,w=s0,x=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),r=Ob(i,1,!0,r,o??null,u,h,g,b,w,x,B),r.context=Db(null),o=r.current,u=Rn(),u=As(u),h=Ps(u),h.callback=null,Ns(o,h,u),o=u,r.current.lanes=o,zi(r,o),Ti(r),i[Pn]=r.current,up(i),new kf(r)},yu.version="19.1.0",yu}var $b;function ZI(){if($b)return Op.exports;$b=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Op.exports=WI(),Op.exports}var JI=ZI();const Su="generated",t2="pointerdown",e2="pointerup",Wb="pointerleave",n2="pointerout",Zb="pointermove",i2="touchstart",Jb="touchend",s2="touchmove",r2="touchcancel",a2="resize",o2="visibilitychange",ya="tsParticles - Error";class Cn{constructor(t,e,s){if(this._updateFromAngle=(a,l)=>{this.x=Math.cos(a)*l,this.y=Math.sin(a)*l},!ii(t)&&t){this.x=t.x,this.y=t.y;const a=t;this.z=a.z?a.z:0}else if(t!==void 0&&e!==void 0)this.x=t,this.y=e,this.z=s??0;else throw new Error(`${ya} Vector3d not initialized correctly`)}static get origin(){return Cn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return Cn.create(t.x,t.y,t.z)}static create(t,e,s){return new Cn(t,e,s)}add(t){return Cn.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return Cn.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return Cn.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return Cn.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;t!=0&&this.multTo(1/t)}rotate(t){return Cn.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),0)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}sub(t){return Cn.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class ni extends Cn{constructor(t,e){super(t,e,0)}static get origin(){return ni.create(0,0)}static clone(t){return ni.create(t.x,t.y)}static create(t,e){return new ni(t,e)}}let l2=Math.random;function Me(){return Bo(l2(),0,1-1e-16)}function Bo(n,t,e){return Math.min(Math.max(n,t),e)}function ti(n){const t=qh(n);let e=vy(n);return t===e&&(e=0),Me()*(t-e)+e}function Ut(n){return ii(n)?n:ti(n)}function vy(n){return ii(n)?n:n.min}function qh(n){return ii(n)?n:n.max}function Gt(n,t){if(n===t||t===void 0&&ii(n))return n;const e=vy(n),s=qh(n);return t!==void 0?{min:Math.min(e,t),max:Math.max(s,t)}:Gt(e,s)}function _y(n){const t=n.random,{enable:e,minimumValue:s}=ar(t)?{enable:t,minimumValue:0}:t;return Ut(e?Gt(n.value,s):n.value)}function No(n,t){const e=n.x-t.x,s=n.y-t.y;return{dx:e,dy:s,distance:Math.sqrt(e**2+s**2)}}function Hh(n,t){return No(n,t).distance}function u2(n,t,e){if(ii(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(e.y-t.y,e.x-t.x);case"outside":return Math.atan2(t.y-e.y,t.x-e.x);default:return Me()*Math.PI*2}}function c2(n){const t=ni.origin;return t.length=1,t.angle=n,t}function f2(n){var t,e;return{x:((t=n.position)==null?void 0:t.x)??Me()*n.size.width,y:((e=n.position)==null?void 0:e.y)??Me()*n.size.height}}function jT(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const h2={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Vu(){return h2}function Gh(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function d2(){return!Gh()&&typeof matchMedia<"u"}function BT(n){if(d2())return matchMedia(n)}function m2(n){if(!(Gh()||typeof MutationObserver>"u"))return new MutationObserver(n)}function p2(n,t){return n===t||Ci(t)&&t.indexOf(n)>-1}function g2(n){return Math.floor(Me()*n.length)}function by(n,t,e=!0){return n[t!==void 0&&e?t%n.length:g2(n)]}function Ey(n,t,e,s,a){return y2(Ty(n,s??0),t,e,a)}function y2(n,t,e,s){let a=!0;return(!s||s==="bottom")&&(a=n.top<t.height+e.x),a&&(!s||s==="left")&&(a=n.right>e.x),a&&(!s||s==="right")&&(a=n.left<t.width+e.y),a&&(!s||s==="top")&&(a=n.bottom>e.y),a}function Ty(n,t){return{bottom:n.y+t,left:n.x-t,right:n.x+t,top:n.y-t}}function sn(n,...t){for(const e of t){if(e==null)continue;if(!xo(e)){n=e;continue}const s=Array.isArray(e);s&&(xo(n)||!n||!Array.isArray(n))?n=[]:!s&&(xo(n)||!n||Array.isArray(n))&&(n={});for(const a in e){if(a==="__proto__")continue;const l=e,c=l[a],d=n;d[a]=xo(c)&&Array.isArray(c)?c.map(m=>sn(d[a],m)):sn(d[a],c)}}return n}function va(n,t){return Ci(n)?n.map((e,s)=>t(e,s)):t(n,0)}function Ru(n,t,e){return Ci(n)?by(n,t,e):n}function FT(n,t){const e=n.value,s=n.animation,a={delayTime:Ut(s.delay)*1e3,enable:s.enable,value:Ut(n.value)*t,max:qh(e)*t,min:vy(e)*t,loops:0,maxLoops:Ut(s.count),time:0};if(s.enable){switch(a.decay=1-Ut(s.decay),s.mode){case"increase":a.status="increasing";break;case"decrease":a.status="decreasing";break;case"random":a.status=Me()>=.5?"increasing":"decreasing";break}const l=s.mode==="auto";switch(s.startValue){case"min":a.value=a.min,l&&(a.status="increasing");break;case"max":a.value=a.max,l&&(a.status="decreasing");break;case"random":default:a.value=ti(a),l&&(a.status=Me()>=.5?"increasing":"decreasing");break}}return a.initialValue=a.value,a}function v2(n,t){if(!(n.mode==="percent")){const{mode:a,...l}=n;return l}return"x"in n?{x:n.x/100*t.width,y:n.y/100*t.height}:{width:n.width/100*t.width,height:n.height/100*t.height}}function qT(n,t){return v2(n,t)}function ar(n){return typeof n=="boolean"}function Ii(n){return typeof n=="string"}function ii(n){return typeof n=="number"}function HT(n){return typeof n=="function"}function xo(n){return typeof n=="object"&&n!==null}function Ci(n){return Array.isArray(n)}const _2="random",Yh=new Map;function t1(n){Yh.set(n.key,n)}function Np(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function b2(n){for(const[,l]of Yh)if(n.startsWith(l.stringPrefix))return l.parseString(n);const t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,e=n.replace(t,(l,c,d,m,p)=>c+c+d+d+m+m+(p!==void 0?p+p:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,a=s.exec(e);return a?{a:a[4]!==void 0?parseInt(a[4],16)/255:1,b:parseInt(a[3],16),g:parseInt(a[2],16),r:parseInt(a[1],16)}:void 0}function ko(n,t,e=!0){if(!n)return;const s=Ii(n)?{value:n}:n;if(Ii(s.value))return GT(s.value,t,e);if(Ci(s.value))return ko({value:by(s.value,t,e)});for(const[,a]of Yh){const l=a.handleRangeColor(s);if(l)return l}}function GT(n,t,e=!0){if(!n)return;const s=Ii(n)?{value:n}:n;if(Ii(s.value))return s.value===_2?A2():T2(s.value);if(Ci(s.value))return GT({value:by(s.value,t,e)});for(const[,a]of Yh){const l=a.handleColor(s);if(l)return l}}function vg(n,t,e=!0){const s=ko(n,t,e);return s?E2(s):void 0}function E2(n){const t=n.r/255,e=n.g/255,s=n.b/255,a=Math.max(t,e,s),l=Math.min(t,e,s),c={h:0,l:(a+l)/2,s:0};return a!==l&&(c.s=c.l<.5?(a-l)/(a+l):(a-l)/(2-a-l),c.h=t===a?(e-s)/(a-l):c.h=e===a?2+(s-t)/(a-l):4+(t-e)/(a-l)),c.l*=100,c.s*=100,c.h*=60,c.h<0&&(c.h+=360),c.h>=360&&(c.h-=360),c}function T2(n){return b2(n)}function _g(n){const t={b:0,g:0,r:0},e={h:n.h/360,l:n.l/100,s:n.s/100};if(!e.s)t.r=t.g=t.b=e.l;else{const s=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,a=2*e.l-s;t.r=Np(a,s,e.h+1/3),t.g=Np(a,s,e.h),t.b=Np(a,s,e.h-1/3)}return t.r=Math.floor(t.r*255),t.g=Math.floor(t.g*255),t.b=Math.floor(t.b*255),t}function w2(n){const t=_g(n);return{a:n.a,b:t.b,g:t.g,r:t.r}}function A2(n){return{b:Math.floor(ti(Gt(0,256))),g:Math.floor(ti(Gt(0,256))),r:Math.floor(ti(Gt(0,256)))}}function eh(n,t){return`rgba(${n.r}, ${n.g}, ${n.b}, ${t??1})`}function e1(n,t){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${t??1})`}function n1(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function S2(n,t,e){const s={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return t&&(kp(s.h,t.h,e),kp(s.s,t.s,e),kp(s.l,t.l,e)),s}function kp(n,t,e){n.enable=t.enable,n.enable?(n.velocity=Ut(t.speed)/100*e,n.decay=1-Ut(t.decay),n.status="increasing",n.loops=0,n.maxLoops=Ut(t.count),n.time=0,n.delayTime=Ut(t.delay)*1e3,t.sync||(n.velocity*=Me(),n.value*=Me()),n.initialValue=n.value):n.velocity=0}function R2(n,t,e){n.fillStyle=e??"rgba(0,0,0,0)",n.fillRect(0,0,t.width,t.height)}function I2(n,t,e,s){e&&(n.globalAlpha=s,n.drawImage(e,0,0,t.width,t.height),n.globalAlpha=1)}function Vp(n,t){n.clearRect(0,0,t.width,t.height)}function C2(n){const{container:t,context:e,particle:s,delta:a,colorStyles:l,backgroundMask:c,composite:d,radius:m,opacity:p,shadow:v,transform:E}=n,T=s.getPosition(),R=s.rotation+(s.pathRotation?s.velocity.angle:0),k={sin:Math.sin(R),cos:Math.cos(R)},q={a:k.cos*(E.a??1),b:k.sin*(E.b??1),c:-k.sin*(E.c??1),d:k.cos*(E.d??1)};e.setTransform(q.a,q.b,q.c,q.d,T.x,T.y),e.beginPath(),c&&(e.globalCompositeOperation=d);const z=s.shadowColor;v.enable&&z&&(e.shadowBlur=v.blur,e.shadowColor=eh(z),e.shadowOffsetX=v.offset.x,e.shadowOffsetY=v.offset.y),l.fill&&(e.fillStyle=l.fill);const K=s.strokeWidth??0;e.lineWidth=K,l.stroke&&(e.strokeStyle=l.stroke),x2(t,e,s,m,p,a),K>0&&e.stroke(),s.close&&e.closePath(),s.fill&&e.fill(),O2(t,e,s,m,p,a),e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0)}function x2(n,t,e,s,a,l){if(!e.shape)return;const c=n.drawers.get(e.shape);c&&c.draw(t,e,s,a,l,n.retina.pixelRatio)}function O2(n,t,e,s,a,l){if(!e.shape)return;const c=n.drawers.get(e.shape);!c||!c.afterEffect||c.afterEffect(t,e,s,a,l,n.retina.pixelRatio)}function D2(n,t,e){t.draw&&t.draw(n,e)}function M2(n,t,e,s){t.drawParticle&&t.drawParticle(n,e,s)}function P2(n,t,e){return{h:n.h,s:n.s,l:n.l+(t==="darken"?-1:1)*e}}function N2(n,t,e){const s=t[e];s!==void 0&&(n[e]=(n[e]??1)*s)}class k2{constructor(t){this.container=t,this._applyPostDrawUpdaters=e=>{for(const s of this._postDrawUpdaters)s.afterDraw&&s.afterDraw(e)},this._applyPreDrawUpdaters=(e,s,a,l,c,d)=>{for(const m of this._preDrawUpdaters){if(m.getColorStyles){const{fill:p,stroke:v}=m.getColorStyles(s,e,a,l);p&&(c.fill=p),v&&(c.stroke=v)}if(m.getTransformValues){const p=m.getTransformValues(s);for(const v in p)N2(d,p,v)}m.beforeDraw&&m.beforeDraw(s)}},this._applyResizePlugins=()=>{for(const e of this._resizePlugins)e.resize&&e.resize()},this._getPluginParticleColors=e=>{let s,a;for(const l of this._colorPlugins)if(!s&&l.particleFillColor&&(s=vg(l.particleFillColor(e))),!a&&l.particleStrokeColor&&(a=vg(l.particleStrokeColor(e))),s&&a)break;return[s,a]},this._initCover=()=>{const e=this.container.actualOptions,s=e.backgroundMask.cover,a=s.color,l=ko(a);if(l){const c={...l,a:s.opacity};this._coverColorStyle=eh(c,c.a)}},this._initStyle=()=>{const e=this.element,s=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=sn({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const a in s.style){if(!a||!s.style)continue;const l=s.style[a];l&&e.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const e=this.container.actualOptions,s=e.particles.move.trail,a=s.fill;if(s.enable)if(a.color){const l=ko(a.color);if(!l)return;const c=e.particles.move.trail;this._trailFill={color:{...l},opacity:1/c.length}}else await new Promise((l,c)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:1/s.length},l()}),d.addEventListener("error",m=>{c(m.error)}),d.src=a.image})},this._paintBase=e=>{this.draw(s=>R2(s,this.size,e))},this._paintImage=(e,s)=>{this.draw(a=>I2(a,this.size,e,s))},this._repairStyle=()=>{const e=this.element;e&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>s.observe(e,{attributes:!0})))},this._resetOriginalStyle=()=>{const e=this.element,s=this._originalStyle;if(!(e&&s))return;const a=e.style;a.position=s.position,a.zIndex=s.zIndex,a.top=s.top,a.left=s.left,a.width=s.width,a.height=s.height},this._safeMutationObserver=e=>{this._mutationObserver&&e(this._mutationObserver)},this._setFullScreenStyle=()=>{const e=this.element;if(!e)return;const s="important",a=e.style;a.setProperty("position","fixed",s),a.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),a.setProperty("top","0",s),a.setProperty("left","0",s),a.setProperty("width","100%",s),a.setProperty("height","100%",s)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,s=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&s?s.color?this._paintBase(eh(s.color,s.opacity)):s.image&&this._paintImage(s.image,s.opacity):this.draw(a=>{Vp(a,this.size)})}destroy(){if(this.stop(),this._generated){const t=this.element;t&&t.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){if(t.spawning||t.destroyed)return;const s=t.getRadius();if(s<=0)return;const a=t.getFillColor(),l=t.getStrokeColor()??a;let[c,d]=this._getPluginParticleColors(t);c||(c=a),d||(d=l),!(!c&&!d)&&this.draw(m=>{var Z;const p=this.container,v=p.actualOptions,E=t.options.zIndex,T=(1-t.zIndexFactor)**E.opacityRate,R=t.bubble.opacity??((Z=t.opacity)==null?void 0:Z.value)??1,k=t.strokeOpacity??R,q=R*T,z=k*T,K={},X={fill:c?e1(c,q):void 0};X.stroke=d?e1(d,z):X.fill,this._applyPreDrawUpdaters(m,t,s,q,X,K),C2({container:p,context:m,particle:t,delta:e,colorStyles:X,backgroundMask:v.backgroundMask.enable,composite:v.backgroundMask.composite,radius:s*(1-t.zIndexFactor)**E.sizeRate,opacity:q,shadow:t.options.shadow,transform:K}),this._applyPostDrawUpdaters(t)})}drawParticlePlugin(t,e,s){this.draw(a=>M2(a,t,e,s))}drawPlugin(t,e){this.draw(s=>D2(s,t,e))}async init(){this._safeMutationObserver(t=>t.disconnect()),this._mutationObserver=m2(t=>{for(const e of t)e.type==="attributes"&&e.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(t){Vu().error(t)}this.initBackground(),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions,e=t.background,s=this.element;if(!s)return;const a=s.style;if(a){if(e.color){const l=ko(e.color);a.backgroundColor=l?eh(l,e.opacity):""}else a.backgroundColor="";a.backgroundImage=e.image||"",a.backgroundPosition=e.position||"",a.backgroundRepeat=e.repeat||"",a.backgroundSize=e.size||""}}initPlugins(){this._resizePlugins=[];for(const[,t]of this.container.plugins)t.resize&&this._resizePlugins.push(t),(t.particleFillColor||t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles||t.getTransformValues||t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&Su in t.dataset?t.dataset[Su]==="true":this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=sn({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw(e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(Vp(e,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,s=t.canvas.size,a={width:this.element.offsetWidth*e,height:this.element.offsetHeight*e};if(a.height===s.height&&a.width===s.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const l={...s};return this.element.width=s.width=this.element.offsetWidth*e,this.element.height=s.height=this.element.offsetHeight*e,this.container.started&&(this.resizeFactor={width:s.width/l.width,height:s.height/l.height}),!0}stop(){this._safeMutationObserver(t=>t.disconnect()),this._mutationObserver=void 0,this.draw(t=>Vp(t,this.size))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}function Gn(n,t,e,s,a){if(s){let l={passive:!0};ar(a)?l.capture=a:a!==void 0&&(l=a),n.addEventListener(t,e,l)}else{const l=a;n.removeEventListener(t,e,l)}}class V2{constructor(t){this.container=t,this._doMouseTouchClick=e=>{const s=this.container,a=s.actualOptions;if(this._canPush){const l=s.interactivity.mouse,c=l.position;if(!c)return;l.clickPosition={...c},l.clickTime=new Date().getTime();const d=a.interactivity.events.onClick;va(d.mode,m=>this.container.handleClickMode(m))}e.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=e=>{const s=e,a=this.container,l=a.options,c=l.defaultThemes,d=s.matches?c.dark:c.light,m=l.themes.find(p=>p.name===d);m&&m.default.auto&&a.loadTheme(d)},this._handleVisibilityChange=()=>{const e=this.container,s=e.actualOptions;this._mouseTouchFinish(),s.pauseOnBlur&&(document&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const e=this.container.canvas;e&&await e.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(e,s)=>{const a=this._handlers,l=this.container,c=l.actualOptions,d=l.interactivity.element;if(!d)return;const m=d,p=l.canvas.element;p&&(p.style.pointerEvents=m===p?"initial":"none"),(c.interactivity.events.onHover.enable||c.interactivity.events.onClick.enable)&&(Gn(d,Zb,a.mouseMove,s),Gn(d,i2,a.touchStart,s),Gn(d,s2,a.touchMove,s),c.interactivity.events.onClick.enable?(Gn(d,Jb,a.touchEndClick,s),Gn(d,e2,a.mouseUp,s),Gn(d,t2,a.mouseDown,s)):Gn(d,Jb,a.touchEnd,s),Gn(d,e,a.mouseLeave,s),Gn(d,r2,a.touchCancel,s))},this._manageListeners=e=>{const s=this._handlers,a=this.container,l=a.actualOptions,c=l.interactivity.detectsOn,d=a.canvas.element;let m=Wb;c==="window"?(a.interactivity.element=window,m=n2):c==="parent"&&d?a.interactivity.element=d.parentElement??d.parentNode:a.interactivity.element=d,this._manageMediaMatch(e),this._manageResize(e),this._manageInteractivityListeners(m,e),document&&Gn(document,o2,s.visibilityChange,e,!1)},this._manageMediaMatch=e=>{const s=this._handlers,a=BT("(prefers-color-scheme: dark)");if(a){if(a.addEventListener!==void 0){Gn(a,"change",s.themeChange,e);return}a.addListener!==void 0&&(e?a.addListener(s.oldThemeChange):a.removeListener(s.oldThemeChange))}},this._manageResize=e=>{const s=this._handlers,a=this.container;if(!a.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Gn(window,a2,s.resize,e);return}const c=a.canvas.element;this._resizeObserver&&!e?(c&&this._resizeObserver.unobserve(c),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&e&&c&&(this._resizeObserver=new ResizeObserver(async d=>{d.find(p=>p.target===c)&&await this._handleWindowResize()}),this._resizeObserver.observe(c))},this._mouseDown=()=>{const{interactivity:e}=this.container;if(!e)return;const{mouse:s}=e;s.clicking=!0,s.downPosition=s.position},this._mouseTouchClick=e=>{const s=this.container,a=s.actualOptions,{mouse:l}=s.interactivity;l.inside=!0;let c=!1;const d=l.position;if(!(!d||!a.interactivity.events.onClick.enable)){for(const[,m]of s.plugins)if(m.clickPositionValid&&(c=m.clickPositionValid(d),c))break;c||this._doMouseTouchClick(e),l.clicking=!1}},this._mouseTouchFinish=()=>{const e=this.container.interactivity;if(!e)return;const s=e.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,e.status=Wb,s.inside=!1,s.clicking=!1},this._mouseTouchMove=e=>{const s=this.container,a=s.actualOptions,l=s.interactivity,c=s.canvas.element;if(!l||!l.element)return;l.mouse.inside=!0;let d;if(e.type.startsWith("pointer")){this._canPush=!0;const p=e;if(l.element===window){if(c){const v=c.getBoundingClientRect();d={x:p.clientX-v.left,y:p.clientY-v.top}}}else if(a.interactivity.detectsOn==="parent"){const v=p.target,E=p.currentTarget;if(v&&E&&c){const T=v.getBoundingClientRect(),R=E.getBoundingClientRect(),k=c.getBoundingClientRect();d={x:p.offsetX+2*T.left-(R.left+k.left),y:p.offsetY+2*T.top-(R.top+k.top)}}else d={x:p.offsetX??p.clientX,y:p.offsetY??p.clientY}}else p.target===c&&(d={x:p.offsetX??p.clientX,y:p.offsetY??p.clientY})}else if(this._canPush=e.type!=="touchmove",c){const p=e,v=p.touches[p.touches.length-1],E=c.getBoundingClientRect();d={x:v.clientX-(E.left??0),y:v.clientY-(E.top??0)}}const m=s.retina.pixelRatio;d&&(d.x*=m,d.y*=m),l.mouse.position=d,l.status=Zb},this._touchEnd=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchFinish()},this._touchEndClick=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchClick(e)},this._touchStart=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.set(l.identifier,performance.now());this._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:e=>this._mouseTouchMove(e),mouseUp:e=>this._mouseTouchClick(e),touchStart:e=>this._touchStart(e),touchMove:e=>this._mouseTouchMove(e),touchEnd:e=>this._touchEnd(e),touchCancel:e=>this._touchEnd(e),touchEndClick:e=>this._touchEndClick(e),visibilityChange:()=>this._handleVisibilityChange(),themeChange:e=>this._handleThemeChange(e),oldThemeChange:e=>this._handleThemeChange(e),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Ni{constructor(){this.value=""}static create(t,e){const s=new Ni;return s.load(t),e!==void 0&&(Ii(e)||Ci(e)?s.load({value:e}):s.load(e)),s}load(t){(t==null?void 0:t.value)!==void 0&&(this.value=t.value)}}class L2{constructor(){this.color=new Ni,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=Ni.create(this.color,t.color)),t.image!==void 0&&(this.image=t.image),t.position!==void 0&&(this.position=t.position),t.repeat!==void 0&&(this.repeat=t.repeat),t.size!==void 0&&(this.size=t.size),t.opacity!==void 0&&(this.opacity=t.opacity))}}class z2{constructor(){this.color=new Ni,this.color.value="#fff",this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=Ni.create(this.color,t.color)),t.opacity!==void 0&&(this.opacity=t.opacity))}}class U2{constructor(){this.composite="destination-out",this.cover=new z2,this.enable=!1}load(t){if(t){if(t.composite!==void 0&&(this.composite=t.composite),t.cover!==void 0){const e=t.cover,s=Ii(t.cover)?{color:t.cover}:t.cover;this.cover.load(e.color!==void 0?e:{color:s})}t.enable!==void 0&&(this.enable=t.enable)}}}class j2{constructor(){this.enable=!0,this.zIndex=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.zIndex!==void 0&&(this.zIndex=t.zIndex))}}class B2{constructor(){this.enable=!1,this.mode=[]}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode))}}class i1{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(t){this.elementId=t}get elementId(){return this.ids}set elementId(t){this.ids=t}get ids(){return va(this.selectors,t=>t.replace("#",""))}set ids(t){this.selectors=va(t,e=>`#${e}`)}load(t){if(!t)return;const e=t.ids??t.elementId??t.el;e!==void 0&&(this.ids=e),t.selectors!==void 0&&(this.selectors=t.selectors),t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode),t.type!==void 0&&(this.type=t.type)}}class F2{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.force!==void 0&&(this.force=t.force),t.smooth!==void 0&&(this.smooth=t.smooth))}}class q2{constructor(){this.enable=!1,this.mode=[],this.parallax=new F2}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class H2{constructor(){this.delay=.5,this.enable=!0}load(t){t!==void 0&&(t.delay!==void 0&&(this.delay=t.delay),t.enable!==void 0&&(this.enable=t.enable))}}class G2{constructor(){this.onClick=new B2,this.onDiv=new i1,this.onHover=new q2,this.resize=new H2}get onclick(){return this.onClick}set onclick(t){this.onClick=t}get ondiv(){return this.onDiv}set ondiv(t){this.onDiv=t}get onhover(){return this.onHover}set onhover(t){this.onHover=t}load(t){if(!t)return;this.onClick.load(t.onClick??t.onclick);const e=t.onDiv??t.ondiv;e!==void 0&&(this.onDiv=va(e,s=>{const a=new i1;return a.load(s),a})),this.onHover.load(t.onHover??t.onhover),ar(t.resize)?this.resize.enable=t.resize:this.resize.load(t.resize)}}class Y2{constructor(t,e){this._engine=t,this._container=e}load(t){if(!t||!this._container)return;const e=this._engine.plugins.interactors.get(this._container);if(e)for(const s of e)s.loadModeOptions&&s.loadModeOptions(this,t)}}class YT{constructor(t,e){this.detectsOn="window",this.events=new G2,this.modes=new Y2(t,e)}get detect_on(){return this.detectsOn}set detect_on(t){this.detectsOn=t}load(t){if(!t)return;const e=t.detectsOn??t.detect_on;e!==void 0&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class Q2{load(t){t&&(t.position&&(this.position={x:t.position.x??50,y:t.position.y??50,mode:t.position.mode??"percent"}),t.options&&(this.options=sn({},t.options)))}}class K2{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(t){t&&(t.maxWidth!==void 0&&(this.maxWidth=t.maxWidth),t.mode!==void 0&&(t.mode==="screen"?this.mode="screen":this.mode="canvas"),t.options!==void 0&&(this.options=sn({},t.options)))}}class X2{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(t){t&&(t.auto!==void 0&&(this.auto=t.auto),t.mode!==void 0&&(this.mode=t.mode),t.value!==void 0&&(this.value=t.value))}}class $2{constructor(){this.name="",this.default=new X2}load(t){t&&(t.name!==void 0&&(this.name=t.name),this.default.load(t.default),t.options!==void 0&&(this.options=sn({},t.options)))}}class Lp{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(t){t&&(t.count!==void 0&&(this.count=Gt(t.count)),t.enable!==void 0&&(this.enable=t.enable),t.offset!==void 0&&(this.offset=Gt(t.offset)),t.speed!==void 0&&(this.speed=Gt(t.speed)),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.delay!==void 0&&(this.delay=Gt(t.delay)),t.sync!==void 0&&(this.sync=t.sync))}}class W2{constructor(){this.h=new Lp,this.s=new Lp,this.l=new Lp}load(t){t&&(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class Lu extends Ni{constructor(){super(),this.animation=new W2}static create(t,e){const s=new Lu;return s.load(t),e!==void 0&&(Ii(e)||Ci(e)?s.load({value:e}):s.load(e)),s}load(t){if(super.load(t),!t)return;const e=t.animation;e!==void 0&&(e.enable!==void 0?this.animation.h.load(e):this.animation.load(t.animation))}}class Z2{constructor(){this.speed=2}load(t){t&&t.speed!==void 0&&(this.speed=t.speed)}}class J2{constructor(){this.enable=!0,this.retries=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.retries!==void 0&&(this.retries=t.retries))}}class tC{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){t&&(t.count!==void 0&&(this.count=Gt(t.count)),t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0&&(this.speed=Gt(t.speed)),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.delay!==void 0&&(this.delay=Gt(t.delay)),t.sync!==void 0&&(this.sync=t.sync))}}class QT extends tC{constructor(){super(),this.mode="auto",this.startValue="random"}load(t){super.load(t),t&&(t.minimumValue!==void 0&&(this.minimumValue=t.minimumValue),t.mode!==void 0&&(this.mode=t.mode),t.startValue!==void 0&&(this.startValue=t.startValue))}}class eC{constructor(){this.enable=!1,this.minimumValue=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.minimumValue!==void 0&&(this.minimumValue=t.minimumValue))}}class Wu{constructor(){this.random=new eC,this.value=0}load(t){t&&(ar(t.random)?this.random.enable=t.random:this.random.load(t.random),t.value!==void 0&&(this.value=Gt(t.value,this.random.enable?this.random.minimumValue:void 0)))}}class s1 extends Wu{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class KT{constructor(){this.horizontal=new s1,this.vertical=new s1}load(t){t&&(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class nC{constructor(){this.absorb=new Z2,this.bounce=new KT,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new J2}load(t){t&&(this.absorb.load(t.absorb),this.bounce.load(t.bounce),t.enable!==void 0&&(this.enable=t.enable),t.maxSpeed!==void 0&&(this.maxSpeed=Gt(t.maxSpeed)),t.mode!==void 0&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class iC{constructor(){this.offset=0,this.value=90}load(t){t&&(t.offset!==void 0&&(this.offset=Gt(t.offset)),t.value!==void 0&&(this.value=Gt(t.value)))}}class sC{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(t){this.rotate.x=t}get rotateY(){return this.rotate.y}set rotateY(t){this.rotate.y=t}load(t){var a,l;if(!t)return;t.distance!==void 0&&(this.distance=Gt(t.distance)),t.enable!==void 0&&(this.enable=t.enable);const e=((a=t.rotate)==null?void 0:a.x)??t.rotateX;e!==void 0&&(this.rotate.x=e);const s=((l=t.rotate)==null?void 0:l.y)??t.rotateY;s!==void 0&&(this.rotate.y=s)}}class rC{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(t){t&&(t.x!==void 0&&(this.x=t.x),t.y!==void 0&&(this.y=t.y),t.mode!==void 0&&(this.mode=t.mode),t.radius!==void 0&&(this.radius=t.radius))}}class aC{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){t&&(t.acceleration!==void 0&&(this.acceleration=Gt(t.acceleration)),t.enable!==void 0&&(this.enable=t.enable),t.inverse!==void 0&&(this.inverse=t.inverse),t.maxSpeed!==void 0&&(this.maxSpeed=Gt(t.maxSpeed)))}}class oC{constructor(){this.clamp=!0,this.delay=new Wu,this.enable=!1,this.options={}}load(t){t&&(t.clamp!==void 0&&(this.clamp=t.clamp),this.delay.load(t.delay),t.enable!==void 0&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=sn(this.options,t.options)))}}class lC{load(t){t&&(t.color!==void 0&&(this.color=Ni.create(this.color,t.color)),t.image!==void 0&&(this.image=t.image))}}class uC{constructor(){this.enable=!1,this.length=10,this.fill=new lC}get fillColor(){return this.fill.color}set fillColor(t){this.fill.load({color:t})}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),(t.fill!==void 0||t.fillColor!==void 0)&&this.fill.load(t.fill||{color:t.fillColor}),t.length!==void 0&&(this.length=t.length))}}class cC{constructor(){this.default="out"}load(t){t&&(t.default!==void 0&&(this.default=t.default),this.bottom=t.bottom??t.default,this.left=t.left??t.default,this.right=t.right??t.default,this.top=t.top??t.default)}}class fC{constructor(){this.acceleration=0,this.enable=!1}load(t){t&&(t.acceleration!==void 0&&(this.acceleration=Gt(t.acceleration)),t.enable!==void 0&&(this.enable=t.enable),t.position&&(this.position=sn({},t.position)))}}class hC{constructor(){this.angle=new iC,this.attract=new sC,this.center=new rC,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new aC,this.path=new oC,this.outModes=new cC,this.random=!1,this.size=!1,this.speed=2,this.spin=new fC,this.straight=!1,this.trail=new uC,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(t){this.collisions=t}get collisions(){return!1}set collisions(t){}get noise(){return this.path}set noise(t){this.path=t}get outMode(){return this.outModes.default}set outMode(t){this.outModes.default=t}get out_mode(){return this.outMode}set out_mode(t){this.outMode=t}load(t){if(!t)return;this.angle.load(ii(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.direction!==void 0&&(this.direction=t.direction),t.distance!==void 0&&(this.distance=ii(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),t.drift!==void 0&&(this.drift=Gt(t.drift)),t.enable!==void 0&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes??t.outMode??t.out_mode;e!==void 0&&(xo(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path??t.noise),t.random!==void 0&&(this.random=t.random),t.size!==void 0&&(this.size=t.size),t.speed!==void 0&&(this.speed=Gt(t.speed)),this.spin.load(t.spin),t.straight!==void 0&&(this.straight=t.straight),this.trail.load(t.trail),t.vibrate!==void 0&&(this.vibrate=t.vibrate),t.warp!==void 0&&(this.warp=t.warp)}}class dC extends QT{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(t){this.minimumValue=t}load(t){(t==null?void 0:t.opacity_min)!==void 0&&t.minimumValue===void 0&&(t.minimumValue=t.opacity_min),super.load(t),t&&t.destroy!==void 0&&(this.destroy=t.destroy)}}class mC extends Wu{constructor(){super(),this.animation=new dC,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(!t)return;super.load(t);const e=t.animation??t.anim;e!==void 0&&(this.animation.load(e),this.value=Gt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class pC{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(t){this.width=t}get factor(){return this.height}set factor(t){this.height=t}get value_area(){return this.area}set value_area(t){this.area=t}load(t){if(!t)return;t.enable!==void 0&&(this.enable=t.enable);const e=t.width??t.area??t.value_area;e!==void 0&&(this.width=e);const s=t.height??t.factor;s!==void 0&&(this.height=s)}}class gC{constructor(){this.density=new pC,this.limit=0,this.value=0}get max(){return this.limit}set max(t){this.limit=t}load(t){if(!t)return;this.density.load(t.density);const e=t.limit??t.max;e!==void 0&&(this.limit=e),t.value!==void 0&&(this.value=t.value)}}class yC{constructor(){this.blur=0,this.color=new Ni,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){t&&(t.blur!==void 0&&(this.blur=t.blur),this.color=Ni.create(this.color,t.color),t.enable!==void 0&&(this.enable=t.enable),t.offset!==void 0&&(t.offset.x!==void 0&&(this.offset.x=t.offset.x),t.offset.y!==void 0&&(this.offset.y=t.offset.y)))}}const zp="character",Up="char",jp="image",Bp="images",Fp="polygon",qp="star";class vC{constructor(){this.loadShape=(t,e,s,a)=>{if(!t)return;const l=Ci(t),c=l?[]:{},d=l!==Ci(this.options[e]),m=l!==Ci(this.options[s]);d&&(this.options[e]=c),m&&a&&(this.options[s]=c),this.options[e]=sn(this.options[e]??c,t),(!this.options[s]||a)&&(this.options[s]=sn(this.options[s]??c,t))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[zp]??this.options[Up]}set character(t){this.options[Up]=this.options[zp]=t}get custom(){return this.options}set custom(t){this.options=t}get image(){return this.options[jp]??this.options[Bp]}set image(t){this.options[Bp]=this.options[jp]=t}get images(){return this.image}set images(t){this.image=t}get polygon(){return this.options[Fp]??this.options[qp]}set polygon(t){this.options[qp]=this.options[Fp]=t}get stroke(){return[]}set stroke(t){}load(t){if(!t)return;const e=t.options??t.custom;if(e!==void 0)for(const s in e){const a=e[s];a&&(this.options[s]=sn(this.options[s]??{},a))}this.loadShape(t.character,zp,Up,!0),this.loadShape(t.polygon,Fp,qp,!1),this.loadShape(t.image??t.images,jp,Bp,!0),t.close!==void 0&&(this.close=t.close),t.fill!==void 0&&(this.fill=t.fill),t.type!==void 0&&(this.type=t.type)}}class _C extends QT{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(t){this.minimumValue=t}load(t){(t==null?void 0:t.size_min)!==void 0&&t.minimumValue===void 0&&(t.minimumValue=t.size_min),super.load(t),t&&t.destroy!==void 0&&(this.destroy=t.destroy)}}class bC extends Wu{constructor(){super(),this.animation=new _C,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(super.load(t),!t)return;const e=t.animation??t.anim;e!==void 0&&(this.animation.load(e),this.value=Gt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class r1{constructor(){this.width=0}load(t){t&&(t.color!==void 0&&(this.color=Lu.create(this.color,t.color)),t.width!==void 0&&(this.width=Gt(t.width)),t.opacity!==void 0&&(this.opacity=Gt(t.opacity)))}}class EC extends Wu{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),t&&(t.opacityRate!==void 0&&(this.opacityRate=t.opacityRate),t.sizeRate!==void 0&&(this.sizeRate=t.sizeRate),t.velocityRate!==void 0&&(this.velocityRate=t.velocityRate))}}class TC{constructor(t,e){this._engine=t,this._container=e,this.bounce=new KT,this.collisions=new nC,this.color=new Lu,this.color.value="#fff",this.groups={},this.move=new hC,this.number=new gC,this.opacity=new mC,this.reduceDuplicates=!1,this.shadow=new yC,this.shape=new vC,this.size=new bC,this.stroke=new r1,this.zIndex=new EC}load(t){var a,l,c;if(!t)return;if(this.bounce.load(t.bounce),this.color.load(Lu.create(this.color,t.color)),t.groups!==void 0)for(const d in t.groups){const m=t.groups[d];m!==void 0&&(this.groups[d]=sn(this.groups[d]??{},m))}this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),t.reduceDuplicates!==void 0&&(this.reduceDuplicates=t.reduceDuplicates),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex);const e=((a=t.move)==null?void 0:a.collisions)??((l=t.move)==null?void 0:l.bounce);e!==void 0&&(this.collisions.enable=e),this.collisions.load(t.collisions),t.interactivity!==void 0&&(this.interactivity=sn({},t.interactivity));const s=t.stroke??((c=t.shape)==null?void 0:c.stroke);if(s&&(this.stroke=va(s,d=>{const m=new r1;return m.load(d),m})),this._container){const d=this._engine.plugins.updaters.get(this._container);if(d)for(const p of d)p.loadOptions&&p.loadOptions(this,t);const m=this._engine.plugins.interactors.get(this._container);if(m)for(const p of m)p.loadParticlesOptions&&p.loadParticlesOptions(this,t)}}}function XT(n,...t){for(const e of t)n.load(e)}function $T(n,t,...e){const s=new TC(n,t);return XT(s,...e),s}class wC{constructor(t,e){this._findDefaultTheme=s=>this.themes.find(a=>a.default.value&&a.default.mode===s)??this.themes.find(a=>a.default.value&&a.default.mode==="any"),this._importPreset=s=>{this.load(this._engine.plugins.getPreset(s))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new L2,this.backgroundMask=new U2,this.defaultThemes={},this.delay=0,this.fullScreen=new j2,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new YT(t,e),this.manualParticles=[],this.particles=$T(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(t){this.fullScreen.load(t)}get fps_limit(){return this.fpsLimit}set fps_limit(t){this.fpsLimit=t}get retina_detect(){return this.detectRetina}set retina_detect(t){this.detectRetina=t}load(t){var c,d;if(!t)return;t.preset!==void 0&&va(t.preset,m=>this._importPreset(m)),t.autoPlay!==void 0&&(this.autoPlay=t.autoPlay),t.delay!==void 0&&(this.delay=Gt(t.delay));const e=t.detectRetina??t.retina_detect;e!==void 0&&(this.detectRetina=e),t.duration!==void 0&&(this.duration=Gt(t.duration));const s=t.fpsLimit??t.fps_limit;s!==void 0&&(this.fpsLimit=s),t.pauseOnBlur!==void 0&&(this.pauseOnBlur=t.pauseOnBlur),t.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),t.zLayers!==void 0&&(this.zLayers=t.zLayers),this.background.load(t.background);const a=t.fullScreen??t.backgroundMode;ar(a)?this.fullScreen.enable=a:this.fullScreen.load(a),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map(m=>{const p=new Q2;return p.load(m),p})),this.particles.load(t.particles),this.style=sn(this.style,t.style),this._engine.plugins.loadOptions(this,t),t.smooth!==void 0&&(this.smooth=t.smooth);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const m of l)m.loadOptions&&m.loadOptions(this,t);if(t.responsive!==void 0)for(const m of t.responsive){const p=new K2;p.load(m),this.responsive.push(p)}if(this.responsive.sort((m,p)=>m.maxWidth-p.maxWidth),t.themes!==void 0)for(const m of t.themes){const p=this.themes.find(v=>v.name===m.name);if(p)p.load(m);else{const v=new $2;v.load(m),this.themes.push(v)}}this.defaultThemes.dark=(c=this._findDefaultTheme("dark"))==null?void 0:c.name,this.defaultThemes.light=(d=this._findDefaultTheme("light"))==null?void 0:d.name}setResponsive(t,e,s){this.load(s);const a=this.responsive.find(l=>l.mode==="screen"&&screen?l.maxWidth>screen.availWidth:l.maxWidth*e>t);return this.load(a==null?void 0:a.options),a==null?void 0:a.maxWidth}setTheme(t){if(t){const e=this.themes.find(s=>s.name===t);e&&this.load(e.options)}else{const e=BT("(prefers-color-scheme: dark)"),s=e&&e.matches,a=this._findDefaultTheme(s?"dark":"light");a&&this.load(a.options)}}}class AC{constructor(t,e){this.container=e,this._engine=t,this._interactors=t.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&await e.interact(t)}handleClickMode(t){for(const e of this._externalInteractors)e.handleClickMode&&e.handleClickMode(t)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case"external":this._externalInteractors.push(t);break;case"particles":this._particleInteractors.push(t);break}t.init()}}async particlesInteract(t,e){for(const s of this._externalInteractors)s.clear(t,e);for(const s of this._particleInteractors)s.isEnabled(t)&&await s.interact(t,e)}async reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}const a1=n=>{if(!p2(n.outMode,n.checkModes))return;const t=n.radius*2;n.coord>n.maxCoord-t?n.setCb(-n.radius):n.coord<t&&n.setCb(n.radius)};class SC{constructor(t,e,s,a,l,c){this.container=s,this._calcPosition=(d,m,p,v=0)=>{for(const[,X]of d.plugins){const Z=X.particlePosition!==void 0?X.particlePosition(m,this):void 0;if(Z)return Cn.create(Z.x,Z.y,p)}const E=d.canvas.size,T=f2({size:E,position:m}),R=Cn.create(T.x,T.y,p),k=this.getRadius(),q=this.options.move.outModes,z=X=>{a1({outMode:X,checkModes:["bounce","bounce-horizontal"],coord:R.x,maxCoord:d.canvas.size.width,setCb:Z=>R.x+=Z,radius:k})},K=X=>{a1({outMode:X,checkModes:["bounce","bounce-vertical"],coord:R.y,maxCoord:d.canvas.size.height,setCb:Z=>R.y+=Z,radius:k})};return z(q.left??q.default),z(q.right??q.default),K(q.top??q.default),K(q.bottom??q.default),this._checkOverlap(R,v)?this._calcPosition(d,void 0,p,v+1):R},this._calculateVelocity=()=>{const d=c2(this.direction),m=d.copy(),p=this.options.move;if(p.direction==="inside"||p.direction==="outside")return m;const v=Math.PI/180*Ut(p.angle.value),E=Math.PI/180*Ut(p.angle.offset),T={left:E-v/2,right:E+v/2};return p.straight||(m.angle+=ti(Gt(T.left,T.right))),p.random&&typeof p.speed=="number"&&(m.length*=Me()),m},this._checkOverlap=(d,m=0)=>{const p=this.options.collisions,v=this.getRadius();if(!p.enable)return!1;const E=p.overlap;if(E.enable)return!1;const T=E.retries;if(T>=0&&m>T)throw new Error(`${ya} particle is overlapping and can't be placed`);return!!this.container.particles.find(R=>Hh(d,R.position)<v+R.getRadius())},this._getRollColor=d=>{if(!d||!this.roll||!this.backColor&&!this.roll.alter)return d;const m=this.roll.horizontal&&this.roll.vertical?2:1,p=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+p)/(Math.PI/m))%2?this.backColor?this.backColor:this.roll.alter?P2(d,this.roll.alter.type,this.roll.alter.value):d:d},this._initPosition=d=>{const m=this.container,p=Ut(this.options.zIndex.value);this.position=this._calcPosition(m,d,Bo(p,0,m.zLayers)),this.initialPosition=this.position.copy();const v=m.canvas.size;switch(this.moveCenter={...qT(this.options.move.center,v),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=u2(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=ni.origin},this._loadShapeData=(d,m)=>{const p=d.options[this.shape];if(p)return sn({close:d.close,fill:d.fill},Ru(p,this.id,m))},this._engine=t,this.init(e,a,l,c)}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const e=this.container,s=this.pathGenerator;for(const[,a]of e.plugins)a.particleDestroyed&&a.particleDestroyed(this,t);for(const a of e.particles.updaters)a.particleDestroyed&&a.particleDestroyed(this,t);s&&s.reset(this)}draw(t){const e=this.container;for(const[,s]of e.plugins)e.canvas.drawParticlePlugin(s,this,t);e.canvas.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??n1(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??n1(this.strokeColor))}init(t,e,s,a){const l=this.container,c=this._engine;this.id=t,this.group=a,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const d=l.retina.pixelRatio,m=l.actualOptions,p=$T(this._engine,l,m.particles),v=p.shape.type,{reduceDuplicates:E}=p;this.shape=Ru(v,this.id,E);const T=p.shape;if(s&&s.shape&&s.shape.type){const Z=s.shape.type,ut=Ru(Z,this.id,E);ut&&(this.shape=ut,T.load(s.shape))}this.shapeData=this._loadShapeData(T,E),p.load(s);const R=this.shapeData;R&&p.load(R.particles);const k=new YT(c,l);k.load(l.actualOptions.interactivity),k.load(p.interactivity),this.interactivity=k,this.fill=(R==null?void 0:R.fill)??p.shape.fill,this.close=(R==null?void 0:R.close)??p.shape.close,this.options=p;const q=this.options.move.path;this.pathDelay=_y(q.delay)*1e3,q.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(q.generator),this.pathGenerator&&l.addPath(q.generator,this.pathGenerator)&&this.pathGenerator.init(l)),l.retina.initParticle(this),this.size=FT(this.options.size,d),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Ut(this.options.move.decay);const z=l.particles;z.needsSort=z.needsSort||z.lastZIndex<this.position.z,z.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/l.zLayers,this.sides=24;let K=l.drawers.get(this.shape);K||(K=this._engine.plugins.getShapeDrawer(this.shape),K&&l.drawers.set(this.shape,K)),K&&K.loadShape&&K.loadShape(this);const X=K==null?void 0:K.getSidesCount;X&&(this.sides=X(this)),this.spawning=!1,this.shadowColor=ko(this.options.shadow.color);for(const Z of l.particles.updaters)Z.init(this);for(const Z of l.particles.movers)Z.init&&Z.init(this);K&&K.particleInit&&K.particleInit(l,this);for(const[,Z]of l.plugins)Z.particleCreated&&Z.particleCreated(this)}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,s=this.position;return s.x>=-t&&s.y>=-t&&s.y<=e.height+t&&s.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset&&t.reset(this)}}class RC{constructor(t,e){this.position=t,this.particle=e}}class WT{constructor(t,e){this.position={x:t,y:e}}}class Fo extends WT{constructor(t,e,s,a){super(t,e),this.size={height:a,width:s}}contains(t){const e=this.size.width,s=this.size.height,a=this.position;return t.x>=a.x&&t.x<=a.x+e&&t.y>=a.y&&t.y<=a.y+s}intersects(t){t instanceof Qh&&t.intersects(this);const e=this.size.width,s=this.size.height,a=this.position,l=t.position,c=t instanceof Fo?t.size:{width:0,height:0},d=c.width,m=c.height;return l.x<a.x+e&&l.x+d>a.x&&l.y<a.y+s&&l.y+m>a.y}}class Qh extends WT{constructor(t,e,s){super(t,e),this.radius=s}contains(t){return Hh(t,this.position)<=this.radius}intersects(t){const e=this.position,s=t.position,a={x:Math.abs(s.x-e.x),y:Math.abs(s.y-e.y)},l=this.radius;if(t instanceof Qh){const c=l+t.radius,d=Math.sqrt(a.x**2+a.y**2);return c>d}else if(t instanceof Fo){const{width:c,height:d}=t.size;return Math.pow(a.x-c,2)+Math.pow(a.y-d,2)<=l**2||a.x<=l+c&&a.y<=l+d||a.x<=c||a.y<=d}return!1}}class gh{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:s,y:a}=this.rectangle.position,{width:l,height:c}=this.rectangle.size,{capacity:d}=this;for(let m=0;m<4;m++)this._subs.push(new gh(new Fo(s+l/2*(m%2),a+c/2*(Math.round(m/2)-m%2),l/2,c/2),d));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return this.rectangle.contains(t.position)?this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some(e=>e.insert(t))):!1}query(t,e,s){const a=s||[];if(!t.intersects(this.rectangle))return[];for(const l of this._points)!t.contains(l.position)&&Hh(t.position,l.position)>l.particle.getRadius()&&(!e||e(l.particle))||a.push(l.particle);if(this._divided)for(const l of this._subs)l.query(t,e,a);return a}queryCircle(t,e,s){return this.query(new Qh(t.x,t.y,e),s)}queryRectangle(t,e,s){return this.query(new Fo(t.x,t.y,e.width,e.height),s)}}const o1=4,l1=n=>new Fo(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let IC=class{constructor(t,e){this._applyDensity=(a,l,c)=>{var R;if(!((R=a.number.density)!=null&&R.enable))return;const d=a.number,m=this._initDensityFactor(d.density),p=d.value,v=d.limit>0?d.limit:p,E=Math.min(p,v)*m+l,T=Math.min(this.count,this.filter(k=>k.group===c).length);this.limit=d.limit*m,T<E?this.push(Math.abs(E-T),void 0,a,c):T>E&&this.removeQuantity(T-E,c)},this._initDensityFactor=a=>{const l=this._container;if(!l.canvas.element||!a.enable)return 1;const c=l.canvas.element,d=l.retina.pixelRatio;return c.width*c.height/(a.factor*d**2*a.area)},this._pushParticle=(a,l,c,d)=>{try{let m=this.pool.pop();m?m.init(this._nextId,a,l,c):m=new SC(this._engine,this._nextId,this._container,a,l,c);let p=!0;return d&&(p=d(m)),p?(this._array.push(m),this._zArray.push(m),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:m}}),m):void 0}catch(m){Vu().warning(`${ya} adding particle: ${m}`);return}},this._removeParticle=(a,l,c)=>{const d=this._array[a];if(!d||d.group!==l)return!1;d.destroy(c);const m=this._zArray.indexOf(d);return this._array.splice(a,1),this._zArray.splice(m,1),this.pool.push(d),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:d}}),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new AC(t,e);const s=e.canvas.size;this.quadTree=new gh(l1(s),o1),this.movers=this._engine.plugins.getMovers(e,!0),this.updaters=this._engine.plugins.getUpdaters(e,!0)}get count(){return this._array.length}addManualParticles(){const t=this._container,e=t.actualOptions;for(const s of e.manualParticles)this.addParticle(s.position?qT(s.position,t.canvas.size):void 0,s.options)}addParticle(t,e,s,a){const l=this._container,c=l.actualOptions,d=c.particles.number.limit;if(d>0){const m=this.count+1-d;m>0&&this.removeQuantity(m)}return this._pushParticle(t,e,s,a)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(t){const e=this._container;e.canvas.clear(),await this.update(t);for(const[,s]of e.plugins)e.canvas.drawPlugin(s,t);for(const s of this._zArray)s.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}handleClickMode(t){this._interactionManager.handleClickMode(t)}init(){var a;const t=this._container,e=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let s=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this._interactionManager.init();for(const[,l]of t.plugins)if(l.particlesInitialization!==void 0&&(s=l.particlesInitialization()),s)break;this._interactionManager.init();for(const[,l]of t.pathGenerators)l.init(t);if(this.addManualParticles(),!s){for(const l in e.particles.groups){const c=e.particles.groups[l];for(let d=this.count,m=0;m<((a=c.number)==null?void 0:a.value)&&d<e.particles.number.value;d++,m++)this.addParticle(void 0,c,l)}for(let l=this.count;l<e.particles.number.value;l++)this.addParticle()}}push(t,e,s,a){this.pushing=!0;for(let l=0;l<t;l++)this.addParticle(e==null?void 0:e.position,s,a);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(t,e,s){this.removeAt(this._array.indexOf(t),void 0,e,s)}removeAt(t,e=1,s,a){if(t<0||t>this.count)return;let l=0;for(let c=t;l<e&&c<this.count;c++)this._removeParticle(c--,s,a)&&l++}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const s in e)this._applyDensity(e[s],0,s);this._applyDensity(t.particles,t.manualParticles.length)}async update(t){const e=this._container,s=new Set;this.quadTree=new gh(l1(e.canvas.size),o1);for(const[,a]of e.pathGenerators)a.update();for(const[,a]of e.plugins)a.update&&a.update(t);for(const a of this._array){const l=e.canvas.resizeFactor;l&&!a.ignoresResizeRatio&&(a.position.x*=l.width,a.position.y*=l.height,a.initialPosition.x*=l.width,a.initialPosition.y*=l.height),a.ignoresResizeRatio=!1,await this._interactionManager.reset(a);for(const[,c]of this._container.plugins){if(a.destroyed)break;c.particleUpdate&&c.particleUpdate(a,t)}for(const c of this.movers)c.isEnabled(a)&&c.move(a,t);if(a.destroyed){s.add(a);continue}this.quadTree.insert(new RC(a.getPosition(),a))}if(s.size){const a=l=>!s.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a),this.pool.push(...s)}await this._interactionManager.externalInteract(t);for(const a of this._array){for(const l of this.updaters)l.update(a,t);!a.destroyed&&!a.spawning&&await this._interactionManager.particlesInteract(a,t)}if(delete e.canvas.resizeFactor,this.needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this.lastZIndex=a[a.length-1].position.z,this.needsSort=!1}}};class CC{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||Gh()?1:window.devicePixelRatio,this.reduceFactor=1;const s=this.pixelRatio;if(t.canvas.element){const c=t.canvas.element;t.canvas.size.width=c.offsetWidth*s,t.canvas.size.height=c.offsetHeight*s}const a=e.particles,l=a.move;this.attractDistance=Ut(l.attract.distance)*s,this.maxSpeed=Ut(l.gravity.maxSpeed)*s,this.sizeAnimationSpeed=Ut(a.size.animation.speed)*s}initParticle(t){const e=t.options,s=this.pixelRatio,a=e.move,l=a.distance,c=t.retina;c.attractDistance=Ut(a.attract.distance)*s,c.moveDrift=Ut(a.drift)*s,c.moveSpeed=Ut(a.speed)*s,c.sizeAnimationSpeed=Ut(e.size.animation.speed)*s;const d=c.maxDistance;d.horizontal=l.horizontal!==void 0?l.horizontal*s:void 0,d.vertical=l.vertical!==void 0?l.vertical*s:void 0,c.maxSpeed=Ut(a.gravity.maxSpeed)*s}}function fe(n){return n&&!n.destroyed}function xC(n,t=60,e=!1){return{value:n,factor:e?60/t:60*n/1e3}}function Ao(n,t,...e){const s=new wC(n,t);return XT(s,...e),s}const OC="default",u1={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class DC{constructor(t,e,s){this.id=e,this._intersectionManager=a=>{if(!(!fe(this)||!this.actualOptions.pauseOnOutsideViewport))for(const l of a)l.target===this.interactivity.element&&(l.isIntersecting?this.play:this.pause)()},this._nextFrame=async a=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&a<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=a);const l=xC(a-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(l.value),this.lastFrameTime=a,l.value>1e3){this.draw(!1);return}if(await this.particles.draw(l),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(l){Vu().error(`${ya} in animation loop`,l)}},this._engine=t,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=s,this._initialSourceOptions=s,this.retina=new CC(this),this.canvas=new k2(this),this.particles=new IC(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Ao(this._engine,this),this.actualOptions=Ao(this._engine,this),this._eventListeners=new V2(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(a=>this._intersectionManager(a))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!fe(this))return;const e=this.interactivity.element;if(!e)return;const s=(E,T,R)=>{if(!fe(this))return;const k=this.retina.pixelRatio,q={x:T.x*k,y:T.y*k},z=this.particles.quadTree.queryCircle(q,R*k);t(E,z)},a=E=>{if(!fe(this))return;const T=E,R={x:T.offsetX||T.clientX,y:T.offsetY||T.clientY};s(E,R,1)},l=()=>{fe(this)&&(p=!0,v=!1)},c=()=>{fe(this)&&(v=!0)},d=E=>{if(fe(this)){if(p&&!v){const T=E;let R=T.touches[T.touches.length-1];if(!R&&(R=T.changedTouches[T.changedTouches.length-1],!R))return;const k=this.canvas.element,q=k?k.getBoundingClientRect():void 0,z={x:R.clientX-(q?q.left:0),y:R.clientY-(q?q.top:0)};s(E,z,Math.max(R.radiusX,R.radiusY))}p=!1,v=!1}},m=()=>{fe(this)&&(p=!1,v=!1)};let p=!1,v=!1;e.addEventListener("click",a),e.addEventListener("touchstart",l),e.addEventListener("touchmove",c),e.addEventListener("touchend",d),e.addEventListener("touchcancel",m)}addLifeTime(t){this._lifeTime+=t}addPath(t,e,s=!1){return!fe(this)||!s&&this.pathGenerators.has(t)?!1:(this.pathGenerators.set(t,e??u1),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!fe(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.drawers)s.destroy&&s.destroy(this);for(const s of this.drawers.keys())this.drawers.delete(s);this._engine.plugins.destroy(this),this.destroyed=!0;const t=this._engine.dom(),e=t.findIndex(s=>s===this);e>=0&&t.splice(e,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(t){if(!fe(this))return;let e=t;this._drawAnimationFrame=requestAnimationFrame(async s=>{e&&(this.lastFrameTime=void 0,e=!1),await this._nextFrame(s)})}async export(t,e={}){for(const[,s]of this.plugins){if(!s.export)continue;const a=await s.export(t,e);if(a.supported)return a.blob}Vu().error(`${ya} - Export plugin with type ${t} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&fe(this)}handleClickMode(t){if(fe(this)){this.particles.handleClickMode(t);for(const[,e]of this.plugins)e.handleClickMode&&e.handleClickMode(t)}}async init(){if(!fe(this))return;const t=this._engine.plugins.getSupportedShapes();for(const s of t){const a=this._engine.plugins.getShapeDrawer(s);a&&this.drawers.set(s,a)}this._options=Ao(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Ao(this._engine,this,this._options);const e=this._engine.plugins.getAvailablePlugins(this);for(const[s,a]of e)this.plugins.set(s,a);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Ut(this.actualOptions.duration)*1e3,this._delay=Ut(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,s]of this.drawers)s.init&&await s.init(this);for(const[,s]of this.plugins)s.init&&await s.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup&&s.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(t){fe(this)&&(this._currentTheme=t,await this.refresh())}pause(){if(fe(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,t]of this.plugins)t.pause&&t.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(t){if(!fe(this))return;const e=this._paused||t;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),e)for(const[,s]of this.plugins)s.play&&s.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(e||!1)}async refresh(){if(fe(this))return this.stop(),this.start()}async reset(){if(fe(this))return this._initialSourceOptions=void 0,this._options=Ao(this._engine,this),this.actualOptions=Ao(this._engine,this,this._options),this.refresh()}setNoise(t,e,s){fe(this)&&this.setPath(t,e,s)}setPath(t,e,s){if(!t||!fe(this))return;const a={...u1};if(HT(t))a.generate=t,e&&(a.init=e),s&&(a.update=s);else{const l=a;a.generate=t.generate||l.generate,a.init=t.init||l.init,a.update=t.update||l.update}this.addPath(OC,a,!0)}async start(){!fe(this)||this.started||(await this.init(),this.started=!0,await new Promise(t=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,e]of this.plugins)e.start&&await e.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),t()},this._delay)}))}stop(){if(!(!fe(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,t]of this.plugins)t.stop&&t.stop();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===t?!1:(this.responsiveMaxWidth=t,!0)}}class MC{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let s=this._listeners.get(t);s||(s=[],this._listeners.set(t,s)),s.push(e)}dispatchEvent(t,e){const s=this._listeners.get(t);s&&s.forEach(a=>a(e))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const s=this._listeners.get(t);if(!s)return;const a=s.length,l=s.indexOf(e);l<0||(a===1?this._listeners.delete(t):s.splice(l,1))}}function Hp(n,t,e,s=!1){let a=t.get(n);return(!a||s)&&(a=[...e.values()].map(l=>l(n)),t.set(n,a)),a}class PC{constructor(t){this._engine=t,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(t,e){this._initializers.interactors.set(t,e)}addParticleMover(t,e){this._initializers.movers.set(t,e)}addParticleUpdater(t,e){this._initializers.updaters.set(t,e)}addPathGenerator(t,e){!this.getPathGenerator(t)&&this.pathGenerators.set(t,e)}addPlugin(t){!this.getPlugin(t.id)&&this.plugins.push(t)}addPreset(t,e,s=!1){(s||!this.getPreset(t))&&this.presets.set(t,e)}addShapeDrawer(t,e){va(t,s=>{!this.getShapeDrawer(s)&&this.drawers.set(s,e)})}destroy(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}getAvailablePlugins(t){const e=new Map;for(const s of this.plugins)s.needsPlugin(t.actualOptions)&&e.set(s.id,s.getPlugin(t));return e}getInteractors(t,e=!1){return Hp(t,this.interactors,this._initializers.interactors,e)}getMovers(t,e=!1){return Hp(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find(e=>e.id===t)}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.drawers.get(t)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(t,e=!1){return Hp(t,this.updaters,this._initializers.updaters,e)}loadOptions(t,e){for(const s of this.plugins)s.loadOptions(t,e)}loadParticlesOptions(t,e,...s){const a=this.updaters.get(t);if(a)for(const l of a)l.loadOptions&&l.loadOptions(e,...s)}}async function NC(n){const t=Ru(n.url,n.index);if(!t)return n.fallback;const e=await fetch(t);return e.ok?e.json():(Vu().error(`${ya} ${e.status} while retrieving config file`),n.fallback)}function kC(n){return!n.id&&!n.element&&!n.url&&!n.options}function VC(n){return!kC(n)}class LC{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new MC,this._initialized=!1,this.plugins=new PC(this)}get configs(){const t={};for(const[e,s]of this._configs)t[e]=s;return t}get version(){return"2.12.0"}addConfig(t,e){Ii(t)?e&&(e.name=t,this._configs.set(t,e)):this._configs.set(t.name??"default",t)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e,s=!0){this.plugins.addInteractor(t,e),await this.refresh(s)}async addMover(t,e,s=!0){this.plugins.addParticleMover(t,e),await this.refresh(s)}async addParticleUpdater(t,e,s=!0){this.plugins.addParticleUpdater(t,e),await this.refresh(s)}async addPathGenerator(t,e,s=!0){this.plugins.addPathGenerator(t,e),await this.refresh(s)}async addPlugin(t,e=!0){this.plugins.addPlugin(t),await this.refresh(e)}async addPreset(t,e,s=!1,a=!0){this.plugins.addPreset(t,e,s),await this.refresh(a)}async addShape(t,e,s,a,l,c=!0){let d,m=c,p,v,E;ar(s)?(m=s,p=void 0):p=s,ar(a)?(m=a,v=void 0):v=a,ar(l)?(m=l,E=void 0):E=l,HT(e)?d={afterEffect:v,destroy:E,draw:e,init:p}:d=e,this.plugins.addShapeDrawer(t,d),await this.refresh(m)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this._domArray}domItem(t){const e=this.dom(),s=e[t];if(!s||s.destroyed){e.splice(t,1);return}return s}init(){this._initialized||(this._initialized=!0)}async load(t,e){return this.loadFromArray(t,e)}async loadFromArray(t,e,s){let a;return VC(t)?a=t:(a={},Ii(t)?a.id=t:a.options=t,ii(e)?a.index=e:a.options=e??a.options,a.index=s??a.index),this._loadParams(a)}async loadJSON(t,e,s){let a,l;return ii(e)||e===void 0?a=t:(l=t,a=e),this._loadParams({id:l,url:a,index:s})}async refresh(t=!0){t&&this.dom().forEach(e=>e.refresh())}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}async set(t,e,s,a){const l={index:a};return Ii(t)?l.id=t:l.element=t,e instanceof HTMLElement?l.element=e:l.options=e,ii(s)?l.index=s:l.options=s??l.options,this._loadParams(l)}async setJSON(t,e,s,a){const l={};return t instanceof HTMLElement?(l.element=t,l.url=e,l.index=s):(l.id=t,l.element=e,l.url=s,l.index=a),this._loadParams(l)}setOnClickHandler(t){const e=this.dom();if(!e.length)throw new Error(`${ya} can only set click handlers after calling tsParticles.load()`);for(const s of e)s.addClickHandler(t)}async _loadParams(t){const e=t.id??`tsparticles${Math.floor(Me()*1e4)}`,{index:s,url:a}=t,l=a?await NC({fallback:t.options,url:a,index:s}):t.options;let c=t.element??document.getElementById(e);c||(c=document.createElement("div"),c.id=e,document.body.append(c));const d=Ru(l,s),m=this.dom(),p=m.findIndex(T=>T.id===e);if(p>=0){const T=this.domItem(p);T&&!T.destroyed&&(T.destroy(),m.splice(p,1))}let v;if(c.tagName.toLowerCase()==="canvas")v=c,v.dataset[Su]="false";else{const T=c.getElementsByTagName("canvas");T.length?(v=T[0],v.dataset[Su]="false"):(v=document.createElement("canvas"),v.dataset[Su]="true",c.appendChild(v))}v.style.width||(v.style.width="100%"),v.style.height||(v.style.height="100%");const E=new DC(this,e,d);return p>=0?m.splice(p,0,E):m.push(E),E.canvas.loadCanvas(v),await E.start(),E}}class zC{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){const e=t.value,s=e.hsl??t.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return _g(s)}handleRangeColor(t){const e=t.value,s=e.hsl??t.value;if(s.h!==void 0&&s.l!==void 0)return _g({h:Ut(s.h),l:Ut(s.l),s:Ut(s.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,s=e.exec(t);return s?w2({a:s.length>4?jT(s[5]):1,h:parseInt(s[1],10),l:parseInt(s[3],10),s:parseInt(s[2],10)}):void 0}}class UC{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){const e=t.value,s=e.rgb??t.value;if(s.r!==void 0)return s}handleRangeColor(t){const e=t.value,s=e.rgb??t.value;if(s.r!==void 0)return{r:Ut(s.r),g:Ut(s.g),b:Ut(s.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,s=e.exec(t);return s?{a:s.length>4?jT(s[5]):1,b:parseInt(s[3],10),g:parseInt(s[2],10),r:parseInt(s[1],10)}:void 0}}function jC(){const n=new UC,t=new zC;t1(n),t1(t);const e=new LC;return e.init(),e}const bg=jC();Gh()||(window.tsParticles=bg);const Oo=n=>typeof n=="object"&&n!==null;function yh(n,t,e=()=>!1){if(!Oo(n)||!Oo(t))return n===t;const s=Object.keys(n).filter(l=>!e(l)),a=Object.keys(t).filter(l=>!e(l));if(s.length!==a.length)return!1;for(const l of s){const c=n[l],d=t[l];if(Oo(c)&&Oo(d)){if(c===t&&d===n)continue;if(!yh(c,d,e))return!1}else if(Array.isArray(c)&&Array.isArray(d)){if(!ZT(c,d,e))return!1}else if(c!==d)return!1}return!0}function ZT(n,t,e){if(n.length!==t.length)return!1;for(let s=0;s<n.length;s++){const a=n[s],l=t[s];if(Array.isArray(a)&&Array.isArray(l)){if(!ZT(a,l,e))return!1}else if(Oo(a)&&Oo(l)){if(!yh(a,l,e))return!1}else if(a!==l)return!1}return!0}const JT="tsparticles";class ha extends at.Component{constructor(t){super(t),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(t){const e=t.options??t.params,s=this.props.options??this.props.params;return t.url!==this.props.url||t.id!==this.props.id||t.canvasClassName!==this.props.canvasClassName||t.className!==this.props.className||t.height!==this.props.height||t.width!==this.props.width||!yh(t.style,this.props.style)||t.init!==this.props.init||t.loaded!==this.props.loaded||!yh(e,s,a=>a.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(bg),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:t,height:e,className:s,canvasClassName:a,id:l}=this.props;return ga.createElement("div",{className:s,id:l},ga.createElement("canvas",{className:a,style:{...this.props.style,width:t,height:e}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const t=this.props.id??ha.defaultProps.id??JT,e=await bg.load({url:this.props.url,id:t,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=e),this.setState({library:e}),this.props.loaded&&await this.props.loaded(e)}}ha.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:JT};function BC(n){const t=n.initialPosition,{dx:e,dy:s}=No(t,n.position),a=Math.abs(e),l=Math.abs(s),{maxDistance:c}=n.retina,d=c.horizontal,m=c.vertical;if(!(!d&&!m)){if((d&&a>=d||m&&l>=m)&&!n.misplaced)n.misplaced=!!d&&a>d||!!m&&l>m,d&&(n.velocity.x=n.velocity.y/2-n.velocity.x),m&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!d||a<d)&&(!m||l<m)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const p=n.position,v=n.velocity;d&&(p.x<t.x&&v.x<0||p.x>t.x&&v.x>0)&&(v.x*=-Me()),m&&(p.y<t.y&&v.y<0||p.y>t.y&&v.y>0)&&(v.y*=-Me())}}}function FC(n,t,e,s,a,l){HC(n,l);const c=n.gravity,d=c!=null&&c.enable&&c.inverse?-1:1;a&&e&&(n.velocity.x+=a*l.factor/(60*e)),c!=null&&c.enable&&e&&(n.velocity.y+=d*(c.acceleration*l.factor)/(60*e));const m=n.moveDecay;n.velocity.multTo(m);const p=n.velocity.mult(e);c!=null&&c.enable&&s>0&&(!c.inverse&&p.y>=0&&p.y>=s||c.inverse&&p.y<=0&&p.y<=-s)&&(p.y=d*s,e&&(n.velocity.y=p.y/e));const v=n.options.zIndex,E=(1-n.zIndexFactor)**v.velocityRate;p.multTo(E);const{position:T}=n;T.addTo(p),t.vibrate&&(T.x+=Math.sin(T.x*Math.cos(T.y)),T.y+=Math.cos(T.y*Math.sin(T.x)))}function qC(n,t){const e=n.container;if(!n.spin)return;const s={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const a=Math.max(e.canvas.size.width,e.canvas.size.height);n.spin.radius>a/2?(n.spin.radius=a/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=t/100*(1-n.spin.radius/a)}function HC(n,t){var c;const e=n.options,s=e.move.path;if(!s.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=t.value;return}const l=(c=n.pathGenerator)==null?void 0:c.generate(n,t);l&&n.velocity.addTo(l),s.clamp&&(n.velocity.x=Bo(n.velocity.x,-1,1),n.velocity.y=Bo(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function GC(n){return n.slow.inRange?n.slow.factor:1}const YC=2;class QC{constructor(){this._initSpin=t=>{const e=t.container,s=t.options,a=s.move.spin;if(!a.enable)return;const l=a.position??{x:50,y:50},c={x:l.x/100*e.canvas.size.width,y:l.y/100*e.canvas.size.height},d=t.getPosition(),m=Hh(d,c),p=Ut(a.acceleration);t.retina.spinAcceleration=p*e.retina.pixelRatio,t.spin={center:c,direction:t.velocity.x>=0?"clockwise":"counter-clockwise",angle:t.velocity.angle,radius:m,acceleration:t.retina.spinAcceleration}}}init(t){const e=t.options,s=e.move.gravity;t.gravity={enable:s.enable,acceleration:Ut(s.acceleration),inverse:s.inverse},this._initSpin(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){var k,q;const s=t.options,a=s.move;if(!a.enable)return;const l=t.container,c=l.retina.pixelRatio,d=GC(t),m=((k=t.retina).moveSpeed??(k.moveSpeed=Ut(a.speed)*c))*l.retina.reduceFactor,p=(q=t.retina).moveDrift??(q.moveDrift=Ut(t.options.move.drift)*c),v=qh(s.size.value)*c,E=a.size?t.getRadius()/v:1,T=m*E*d*(e.factor||1)/YC,R=t.retina.maxSpeed??l.retina.maxSpeed;a.spin.enable?qC(t,T):FC(t,a,T,R,p,e),BC(t)}}async function KC(n,t=!0){await n.addMover("base",()=>new QC,t)}class XC{draw(t,e,s){e.circleRange||(e.circleRange={min:0,max:Math.PI*2});const a=e.circleRange;t.arc(0,0,s,a.min,a.max,!1)}getSidesCount(){return 12}particleInit(t,e){const s=e.shapeData,a=(s==null?void 0:s.angle)??{max:360,min:0};e.circleRange=xo(a)?{min:a.min*Math.PI/180,max:a.max*Math.PI/180}:{min:0,max:a*Math.PI/180}}}async function $C(n,t=!0){await n.addShape("circle",new XC,t)}function Gp(n,t,e,s,a){if(!t||!e.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=n.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const l=ti(e.offset),c=(t.velocity??0)*n.factor+l*3.6,d=t.decay??1;!a||t.status==="increasing"?(t.value+=c,t.value>s&&(t.loops||(t.loops=0),t.loops++,a&&(t.status="decreasing",t.value-=t.value%s))):(t.value-=c,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status="increasing",t.value+=t.value)),t.velocity&&d!==1&&(t.velocity*=d),t.value>s&&(t.value%=s)}function WC(n,t){const{h:e,s,l:a}=n.options.color.animation,{color:l}=n;if(!l)return;const{h:c,s:d,l:m}=l;c&&Gp(t,c,e,360,!1),d&&Gp(t,d,s,100,!0),m&&Gp(t,m,a,100,!0)}class ZC{constructor(t){this.container=t}init(t){const e=vg(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=S2(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s,l:a}=t.options.color.animation,{color:l}=t;return!t.destroyed&&!t.spawning&&((l==null?void 0:l.h.value)!==void 0&&e.enable||(l==null?void 0:l.s.value)!==void 0&&s.enable||(l==null?void 0:l.l.value)!==void 0&&a.enable)}update(t,e){WC(t,e)}}async function JC(n,t=!0){await n.addParticleUpdater("color",e=>new ZC(e),t)}function tx(n,t,e,s){switch(n.options.opacity.animation.destroy){case"max":t>=s&&n.destroy();break;case"min":t<=e&&n.destroy();break}}function ex(n,t){const e=n.opacity;if(n.destroyed||!(e!=null&&e.enable)||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const s=e.min,a=e.max,l=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case"increasing":e.value>=a?(e.status="decreasing",e.loops||(e.loops=0),e.loops++):e.value+=(e.velocity??0)*t.factor;break;case"decreasing":e.value<=s?(e.status="increasing",e.loops||(e.loops=0),e.loops++):e.value-=(e.velocity??0)*t.factor;break}e.velocity&&e.decay!==1&&(e.velocity*=l),tx(n,e.value,s,a),n.destroyed||(e.value=Bo(e.value,s,a))}}class nx{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=FT(e,1);const s=e.animation;s.enable&&(t.opacity.velocity=Ut(s.speed)/100*this.container.retina.reduceFactor,s.sync||(t.opacity.velocity*=Me()))}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((t.opacity.maxLoops??0)<=0||(t.opacity.maxLoops??0)>0&&(t.opacity.loops??0)<(t.opacity.maxLoops??0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&ex(t,e)}}async function ix(n,t=!0){await n.addParticleUpdater("opacity",e=>new nx(e),t)}function sx(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const t=n.particle.velocity.x;let e=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&t>0||n.direction==="left"&&n.bounds.left<=0&&t<0){const a=_y(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-a,e=!0}if(!e)return;const s=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-s:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=s),n.outMode==="split"&&n.particle.destroy()}function rx(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const t=n.particle.velocity.y;let e=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&t>0||n.direction==="top"&&n.bounds.top<=0&&t<0){const a=_y(n.particle.options.bounce.vertical);n.particle.velocity.y*=-a,e=!0}if(!e)return;const s=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-s:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=s),n.outMode==="split"&&n.particle.destroy()}class ax{constructor(t){this.container=t,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;let c=!1;for(const[,T]of l.plugins)if(T.particleBounce!==void 0&&(c=T.particleBounce(t,s,e)),c)break;if(c)return;const d=t.getPosition(),m=t.offset,p=t.getRadius(),v=Ty(d,p),E=l.canvas.size;sx({particle:t,outMode:a,direction:e,bounds:v,canvasSize:E,offset:m,size:p}),rx({particle:t,outMode:a,direction:e,bounds:v,canvasSize:E,offset:m,size:p})}}class ox{constructor(t){this.container=t,this.modes=["destroy"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(t.outType){case"normal":case"outside":if(Ey(t.position,l.canvas.size,ni.origin,t.getRadius(),e))return;break;case"inside":{const{dx:c,dy:d}=No(t.position,t.moveCenter),{x:m,y:p}=t.velocity;if(m<0&&c>t.moveCenter.radius||p<0&&d>t.moveCenter.radius||m>=0&&c<-t.moveCenter.radius||p>=0&&d<-t.moveCenter.radius)return;break}}l.particles.remove(t,void 0,!0)}}class lx{constructor(t){this.container=t,this.modes=["none"]}update(t,e,s,a){if(!this.modes.includes(a)||t.options.move.distance.horizontal&&(e==="left"||e==="right")||t.options.move.distance.vertical&&(e==="top"||e==="bottom"))return;const l=t.options.move.gravity,c=this.container,d=c.canvas.size,m=t.getRadius();if(l.enable){const p=t.position;(!l.inverse&&p.y>d.height+m&&e==="bottom"||l.inverse&&p.y<-m&&e==="top")&&c.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=d.height+m||t.velocity.y<0&&t.position.y>=-m||t.velocity.x>0&&t.position.x<=d.width+m||t.velocity.x<0&&t.position.x>=-m)return;Ey(t.position,c.canvas.size,ni.origin,m,e)||c.particles.remove(t)}}}class ux{constructor(t){this.container=t,this.modes=["out"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(t.outType){case"inside":{const{x:c,y:d}=t.velocity,m=ni.origin;m.length=t.moveCenter.radius,m.angle=t.velocity.angle+Math.PI,m.addTo(ni.create(t.moveCenter));const{dx:p,dy:v}=No(t.position,m);if(c<=0&&p>=0||d<=0&&v>=0||c>=0&&p<=0||d>=0&&v<=0)return;t.position.x=Math.floor(ti({min:0,max:l.canvas.size.width})),t.position.y=Math.floor(ti({min:0,max:l.canvas.size.height}));const{dx:E,dy:T}=No(t.position,t.moveCenter);t.direction=Math.atan2(-T,-E),t.velocity.angle=t.direction;break}default:{if(Ey(t.position,l.canvas.size,ni.origin,t.getRadius(),e))return;switch(t.outType){case"outside":{t.position.x=Math.floor(ti({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(ti({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:c,dy:d}=No(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(d,c),t.velocity.angle=t.direction);break}case"normal":{const c=t.options.move.warp,d=l.canvas.size,m={bottom:d.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:d.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},p=t.getRadius(),v=Ty(t.position,p);e==="right"&&v.left>d.width+t.offset.x?(t.position.x=m.left,t.initialPosition.x=t.position.x,c||(t.position.y=Me()*d.height,t.initialPosition.y=t.position.y)):e==="left"&&v.right<-t.offset.x&&(t.position.x=m.right,t.initialPosition.x=t.position.x,c||(t.position.y=Me()*d.height,t.initialPosition.y=t.position.y)),e==="bottom"&&v.top>d.height+t.offset.y?(c||(t.position.x=Me()*d.width,t.initialPosition.x=t.position.x),t.position.y=m.top,t.initialPosition.y=t.position.y):e==="top"&&v.bottom<-t.offset.y&&(c||(t.position.x=Me()*d.width,t.initialPosition.x=t.position.x),t.position.y=m.bottom,t.initialPosition.y=t.position.y);break}}break}}}}class cx{constructor(t){this.container=t,this._updateOutMode=(e,s,a,l)=>{for(const c of this.updaters)c.update(e,l,s,a)},this.updaters=[new ax(t),new ox(t),new ux(t),new lx(t)]}init(){}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){const s=t.options.move.outModes;this._updateOutMode(t,e,s.bottom??s.default,"bottom"),this._updateOutMode(t,e,s.left??s.default,"left"),this._updateOutMode(t,e,s.right??s.default,"right"),this._updateOutMode(t,e,s.top??s.default,"top")}}async function fx(n,t=!0){await n.addParticleUpdater("outModes",e=>new cx(e),t)}function hx(n,t,e,s){switch(n.options.size.animation.destroy){case"max":t>=s&&n.destroy();break;case"min":t<=e&&n.destroy();break}}function dx(n,t){const e=n.size;if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const s=(e.velocity??0)*t.factor,a=e.min,l=e.max,c=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case"increasing":e.value>=l?(e.status="decreasing",e.loops||(e.loops=0),e.loops++):e.value+=s;break;case"decreasing":e.value<=a?(e.status="increasing",e.loops||(e.loops=0),e.loops++):e.value-=s}e.velocity&&c!==1&&(e.velocity*=c),hx(n,e.value,a,l),n.destroyed||(e.value=Bo(e.value,a,l))}}class mx{init(t){const e=t.container,s=t.options.size,a=s.animation;a.enable&&(t.size.velocity=(t.retina.sizeAnimationSpeed??e.retina.sizeAnimationSpeed)/100*e.retina.reduceFactor,a.sync||(t.size.velocity*=Me()))}isEnabled(t){return!t.destroyed&&!t.spawning&&t.size.enable&&((t.size.maxLoops??0)<=0||(t.size.maxLoops??0)>0&&(t.size.loops??0)<(t.size.maxLoops??0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&dx(t,e)}}async function px(n,t=!0){await n.addParticleUpdater("size",()=>new mx,t)}async function gx(n,t=!0){await KC(n,!1),await $C(n,!1),await JC(n,!1),await ix(n,!1),await fx(n,!1),await px(n,!1),await n.refresh(t)}const yx={background:{color:"#000"},particles:{number:{value:100},move:{direction:"none",enable:!0,outModes:{default:"out"},random:!0,speed:.1,straight:!1},opacity:{animation:{enable:!0,speed:1,sync:!1},value:{min:0,max:1}},size:{value:{min:1,max:3}}}};async function vx(n,t=!0){await gx(n,!1),await n.addPreset("stars",yx,t)}function _x(){const n=at.useCallback(async t=>{await vx(t)},[]);return F.jsxs(F.Fragment,{children:[F.jsx(ha,{id:"nebula",options:{fullScreen:{enable:!0,zIndex:0},background:{color:"black"},particles:{number:{value:10,density:{enable:!1}},color:{value:["#0b0c40","#1b1b5e","#301934"]},opacity:{value:.2,random:{enable:!0,minimumValue:.1},animation:{enable:!0,speed:.1,minimumValue:.1,sync:!1}},size:{value:450,random:{enable:!0,minimumValue:250},animation:{enable:!0,speed:.8,minimumValue:250,sync:!1}},move:{enable:!0,speed:.1,direction:"none",outModes:{default:"out"},random:!0,straight:!1},shape:{type:"circle"}},detectRetina:!0},style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,filter:"blur(45px)",pointerEvents:"none"}}),F.jsx(ha,{id:"tsparticles",init:n,options:{preset:"stars",fullScreen:{enable:!0,zIndex:1},background:{color:"black"},detectRetina:!0,interactivity:{detectsOn:"canvas",events:{onHover:{enable:!0,mode:"parallax"},resize:!0},modes:{parallax:{enable:!0,force:30,smooth:10}}},particles:{number:{value:150,density:{enable:!0,area:800}},color:{value:["#ffffff","#a3c9ff","#0f52ba","#6ec1e4","#7f00ff"]},opacity:{value:1,random:{enable:!0,minimumValue:.3},animation:{enable:!0,speed:2,minimumValue:.3,sync:!1}},size:{value:{min:.5,max:2}},move:{enable:!0,speed:.6,direction:"none",outModes:"out"},rotate:{value:0,random:!0,direction:"clockwise",animation:{enable:!0,speed:2}},twinkle:{particles:{enable:!0,frequency:.3,color:"#ffffff",opacity:1}}}},style:{position:"fixed",top:0,left:0,zIndex:1}}),F.jsx(ha,{id:"foreground-stars",options:{fullScreen:{enable:!0,zIndex:2},background:{color:"black"},detectRetina:!0,particles:{number:{value:80,density:{enable:!0,area:600}},color:{value:"#ffffff"},size:{value:{min:.3,max:1.2}},move:{enable:!0,speed:1.2,direction:"none",outModes:"out"},opacity:{value:.9,random:!0}}},style:{position:"fixed",top:0,left:0,zIndex:2}}),F.jsx(ha,{id:"comets",options:{fullScreen:{enable:!0,zIndex:3},background:{color:"black"},detectRetina:!0,particles:{number:{value:2},shape:{type:"triangle"},size:{value:2},move:{enable:!0,speed:2,direction:"right",straight:!0,outModes:"out"},opacity:{value:.8,animation:{enable:!0,speed:.3,minimumValue:.2,sync:!1}},life:{duration:{value:2,sync:!1},count:1},color:{value:["#ffffff","#a3c9ff"]}}},style:{position:"fixed",top:0,left:0,zIndex:3}})]})}function bx(){const[n,t]=at.useState(null),[e,s]=at.useState("Unknown location"),[a,l]=at.useState(null),[c,d]=at.useState("km/h"),[m,p]=at.useState("F"),v=K=>m==="F"?(K*9/5+32).toFixed(1):K.toFixed(1),E=K=>{switch(c){case"mph":return(K*.621371).toFixed(1);case"knots":return(K*.539957).toFixed(1);default:return K.toFixed(1)}};if(at.useEffect(()=>{let K,X;async function Z(ct,O){try{const I=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${ct}&longitude=${O}&current_weather=true&hourly=precipitation_probability`)).json();I.current_weather?t(I):l("Weather data unavailable")}catch{l("Failed to fetch weather data")}}async function ut(ct,O){try{const I=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ct}&lon=${O}`,{headers:{"User-Agent":"MyVoiceAssistantApp/1.0 (your-email@example.com)"}})).json();s(I.address.city||I.address.town||I.address.village||I.address.county||"Unknown location")}catch{s("Unknown location")}}function lt(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ct=>{const{latitude:O,longitude:S}=ct.coords;Z(O,S),X&&clearTimeout(X),X=setTimeout(()=>{ut(O,S)},1e3)},()=>l("Location permission denied")):l("Geolocation not supported")}return lt(),K=setInterval(lt,18e4),()=>{clearInterval(K),clearTimeout(X)}},[]),a)return F.jsx("div",{style:Yp,children:a});if(!n)return F.jsx("div",{style:Yp,children:"Loading weather..."});const T=n.current_weather,R=n.hourly||{};function k(K,X){const Z=new Date(K),ut=new Date(Z.toISOString().slice(0,13)+":00:00");return X==null?void 0:X.findIndex(lt=>lt===ut.toISOString().slice(0,13)+":00")}const q=k(T.time,R.time||[]),z=q!==-1&&R.precipitation_probability?R.precipitation_probability[q]:"N/A";return F.jsxs("div",{style:Yp,children:[F.jsx("h3",{style:{margin:"0 0 10px 0"},children:e}),F.jsxs("p",{children:[F.jsx("strong",{children:"Temp:"})," ",v(T.temperature),F.jsxs("select",{value:m,onChange:K=>p(K.target.value),style:c1,"aria-label":"Select temperature unit",children:[F.jsx("option",{value:"F",children:"F"}),F.jsx("option",{value:"C",children:"C"})]})]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Wind:"})," ",E(T.windspeed),F.jsxs("select",{value:c,onChange:K=>d(K.target.value),style:c1,"aria-label":"Select wind speed unit",children:[F.jsx("option",{value:"km/h",children:"km/h"}),F.jsx("option",{value:"mph",children:"mph"}),F.jsx("option",{value:"knots",children:"knots"})]})]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Chance of Rain:"})," ",z,"%"]})]})}const Yp={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},c1={backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",border:"1px solid #444",borderRadius:4,padding:"2px 24px 2px 6px",fontSize:"inherit",fontWeight:"bold",marginLeft:4,appearance:"auto",cursor:"pointer"},Ex=()=>{};var f1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Tx=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(T=64)),s.push(e[v],e[E],e[T],e[R])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(tw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Tx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||E==null)throw new wx;const T=l<<2|d>>4;if(s.push(T),p!==64){const R=d<<4&240|p>>2;if(s.push(R),E!==64){const k=p<<6&192|E;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ax=function(n){const t=tw(n);return ew.encodeByteArray(t,!0)},vh=function(n){return Ax(n).replace(/\./g,"")},nw=function(n){try{return ew.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=()=>Sx().__FIREBASE_DEFAULTS__,Ix=()=>{if(typeof process>"u"||typeof f1>"u")return;const n=f1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Cx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&nw(n[1]);return t&&JSON.parse(t)},Kh=()=>{try{return Ex()||Rx()||Ix()||Cx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iw=n=>{var t,e;return(e=(t=Kh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},xx=n=>{const t=iw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},sw=()=>{var n;return(n=Kh())===null||n===void 0?void 0:n.config},rw=n=>{var t;return(t=Kh())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(n){return n.endsWith(".cloudworkstations.dev")}async function aw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vh(JSON.stringify(e)),vh(JSON.stringify(c)),""].join(".")}const Iu={};function Mx(){const n={prod:[],emulator:[]};for(const t of Object.keys(Iu))Iu[t]?n.emulator.push(t):n.prod.push(t);return n}function Px(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let h1=!1;function ow(n,t){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||Iu[n]===t||Iu[n]||h1)return;Iu[n]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=Mx().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{h1=!0,c()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=Px(s),R=e("text"),k=document.getElementById(R)||document.createElement("span"),q=e("learnmore"),z=document.getElementById(q)||document.createElement("a"),K=e("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;d(Z),v(z,q);const ut=p();m(X,K),Z.append(X,k,z,ut),document.body.appendChild(Z)}l?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function kx(){var n;const t=(n=Kh())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ux(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jx(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bx(){try{return typeof indexedDB=="object"}catch{return!1}}function Fx(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="FirebaseError";class Es extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=qx,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?Hx(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Es(a,d,s)}}function Hx(n,t){return n.replace(Gx,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const Gx=/\{\$([^}]+)}/g;function Yx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function _a(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],c=t[a];if(d1(l)&&d1(c)){if(!_a(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function d1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function vu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function _u(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function Qx(n,t){const e=new Kx(n,t);return e.subscribe.bind(e)}class Kx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");Xx(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=Qp),a.error===void 0&&(a.error=Qp),a.complete===void 0&&(a.complete=Qp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n){return n&&n._delegate?n._delegate:n}class ba{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new Ox;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zx(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(n){return n===fa?void 0:n}function Zx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new $x(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const tO={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},eO=Vt.INFO,nO={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},iO=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=nO[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wy{constructor(t){this.name=t,this._logLevel=eO,this._logHandler=iO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const sO=(n,t)=>t.some(e=>n instanceof e);let m1,p1;function rO(){return m1||(m1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return p1||(p1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lw=new WeakMap,Eg=new WeakMap,uw=new WeakMap,Kp=new WeakMap,Ay=new WeakMap;function oO(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(or(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&lw.set(e,n)}).catch(()=>{}),Ay.set(t,n),t}function lO(n){if(Eg.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Eg.set(n,t)}let Tg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Eg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||uw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function uO(n){Tg=n(Tg)}function cO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Xp(this),t,...e);return uw.set(s,t.sort?t.sort():[t]),or(s)}:aO().includes(n)?function(...t){return n.apply(Xp(this),t),or(lw.get(this))}:function(...t){return or(n.apply(Xp(this),t))}}function fO(n){return typeof n=="function"?cO(n):(n instanceof IDBTransaction&&lO(n),sO(n,rO())?new Proxy(n,Tg):n)}function or(n){if(n instanceof IDBRequest)return oO(n);if(Kp.has(n))return Kp.get(n);const t=fO(n);return t!==n&&(Kp.set(n,t),Ay.set(t,n)),t}const Xp=n=>Ay.get(n);function hO(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=or(c);return s&&c.addEventListener("upgradeneeded",m=>{s(or(c.result),m.oldVersion,m.newVersion,or(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const dO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],$p=new Map;function g1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if($p.get(t))return $p.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=mO.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||dO.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),a&&m.done]))[0]};return $p.set(t,l),l}uO(n=>({...n,get:(t,e,s)=>g1(t,e)||n.get(t,e,s),has:(t,e)=>!!g1(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(gO(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function gO(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wg="@firebase/app",y1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new wy("@firebase/app"),yO="@firebase/app-compat",vO="@firebase/analytics-compat",_O="@firebase/analytics",bO="@firebase/app-check-compat",EO="@firebase/app-check",TO="@firebase/auth",wO="@firebase/auth-compat",AO="@firebase/database",SO="@firebase/data-connect",RO="@firebase/database-compat",IO="@firebase/functions",CO="@firebase/functions-compat",xO="@firebase/installations",OO="@firebase/installations-compat",DO="@firebase/messaging",MO="@firebase/messaging-compat",PO="@firebase/performance",NO="@firebase/performance-compat",kO="@firebase/remote-config",VO="@firebase/remote-config-compat",LO="@firebase/storage",zO="@firebase/storage-compat",UO="@firebase/firestore",jO="@firebase/ai",BO="@firebase/firestore-compat",FO="firebase",qO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",HO={[wg]:"fire-core",[yO]:"fire-core-compat",[_O]:"fire-analytics",[vO]:"fire-analytics-compat",[EO]:"fire-app-check",[bO]:"fire-app-check-compat",[TO]:"fire-auth",[wO]:"fire-auth-compat",[AO]:"fire-rtdb",[SO]:"fire-data-connect",[RO]:"fire-rtdb-compat",[IO]:"fire-fn",[CO]:"fire-fn-compat",[xO]:"fire-iid",[OO]:"fire-iid-compat",[DO]:"fire-fcm",[MO]:"fire-fcm-compat",[PO]:"fire-perf",[NO]:"fire-perf-compat",[kO]:"fire-rc",[VO]:"fire-rc-compat",[LO]:"fire-gcs",[zO]:"fire-gcs-compat",[UO]:"fire-fst",[BO]:"fire-fst-compat",[jO]:"fire-vertex","fire-js":"fire-js",[FO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,GO=new Map,Sg=new Map;function v1(n,t){try{n.container.addComponent(t)}catch(e){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function qo(n){const t=n.name;if(Sg.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;Sg.set(t,n);for(const e of _h.values())v1(e,n);for(const e of GO.values())v1(e,n);return!0}function Sy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Zu("app","Firebase",YO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=qO;function cw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ag,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw lr.create("bad-app-name",{appName:String(a)});if(e||(e=sw()),!e)throw lr.create("no-options");const l=_h.get(a);if(l){if(_a(e,l.options)&&_a(s,l.config))return l;throw lr.create("duplicate-app",{appName:a})}const c=new Jx(a);for(const m of Sg.values())c.addComponent(m);const d=new QO(e,s,c);return _h.set(a,d),d}function fw(n=Ag){const t=_h.get(n);if(!t&&n===Ag&&sw())return cw();if(!t)throw lr.create("no-app",{appName:n});return t}function ur(n,t,e){var s;let a=(s=HO[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}qo(new ba(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="firebase-heartbeat-database",XO=1,zu="firebase-heartbeat-store";let Wp=null;function hw(){return Wp||(Wp=hO(KO,XO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(zu)}catch(e){console.warn(e)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),Wp}async function $O(n){try{const e=(await hw()).transaction(zu),s=await e.objectStore(zu).get(dw(n));return await e.done,s}catch(t){if(t instanceof Es)ds.warn(t.message);else{const e=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ds.warn(e.message)}}}async function _1(n,t){try{const s=(await hw()).transaction(zu,"readwrite");await s.objectStore(zu).put(t,dw(n)),await s.done}catch(e){if(e instanceof Es)ds.warn(e.message);else{const s=lr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ds.warn(s.message)}}}function dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1024,ZO=30;class JO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new eD(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=b1();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ZO){const c=nD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ds.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b1(),{heartbeatsToSend:s,unsentEntries:a}=tD(this._heartbeatsCache.heartbeats),l=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ds.warn(e),""}}}function b1(){return new Date().toISOString().substring(0,10)}function tD(n,t=WO){const e=[];let s=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),E1(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),E1(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class eD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bx()?Fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await $O(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return _1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return _1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function E1(n){return vh(JSON.stringify({version:2,heartbeats:n})).length}function nD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){qo(new ba("platform-logger",t=>new pO(t),"PRIVATE")),qo(new ba("heartbeat",t=>new JO(t),"PRIVATE")),ur(wg,y1,n),ur(wg,y1,"esm2017"),ur("fire-js","")}iD("");function Ry(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sD=mw,pw=new Zu("auth","Firebase",mw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new wy("@firebase/auth");function rD(n,...t){bh.logLevel<=Vt.WARN&&bh.warn(`Auth (${Jo}): ${n}`,...t)}function nh(n,...t){bh.logLevel<=Vt.ERROR&&bh.error(`Auth (${Jo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...t){throw Iy(n,...t)}function xi(n,...t){return Iy(n,...t)}function gw(n,t,e){const s=Object.assign(Object.assign({},sD()),{[t]:e});return new Zu("auth","Firebase",s).create(t,{appName:n.name})}function fs(n){return gw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return pw.create(n,...t)}function wt(n,t,...e){if(!n)throw Iy(t,...e)}function us(n){const t="INTERNAL ASSERTION FAILED: "+n;throw nh(t),new Error(t)}function ms(n,t){n||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aD(){return T1()==="http:"||T1()==="https:"}function T1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aD()||Lx()||"connection"in navigator)?navigator.onLine:!0}function lD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,e){this.shortDelay=t,this.longDelay=e,ms(e>t,"Short delay should be less than long delay!"),this.isMobile=Nx()||zx()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,t){ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fD=new tc(3e4,6e4);function Tr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function wr(n,t,e,s,a={}){return vw(n,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Ju(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:t,headers:m},l);return Vx()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(p.credentials="include"),yw.fetch()(await _w(n,n.config.apiHost,e,d),p)})}async function vw(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},uD),t);try{const a=new dD(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Lf(n,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gw(n,v,p);si(n,v)}}catch(a){if(a instanceof Es)throw a;si(n,"network-request-failed",{message:String(a)})}}async function ec(n,t,e,s,a={}){const l=await wr(n,t,e,s,a);return"mfaPendingCredential"in l&&si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function _w(n,t,e,s){const a=`${t}${e}?${s}`,l=n,c=l.config.emulator?Cy(n.config,a):`${n.config.apiScheme}://${a}`;return cD.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function hD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),fD.get())})}}function Lf(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=xi(n,t,s);return a.customData._tokenResponse=e,a}function w1(n){return n!==void 0&&n.enterprise!==void 0}class mD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return hD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pD(n,t){return wr(n,"GET","/v2/recaptchaConfig",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,t){return wr(n,"POST","/v1/accounts:delete",t)}async function Eh(n,t){return wr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yD(n,t=!1){const e=Fe(n),s=await e.getIdToken(t),a=xy(s);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Cu(Zp(a.auth_time)),issuedAtTime:Cu(Zp(a.iat)),expirationTime:Cu(Zp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Zp(n){return Number(n)*1e3}function xy(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const a=nw(e);return a?JSON.parse(a):(nh("Failed to decode base64 JWT payload"),null)}catch(a){return nh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function A1(n){const t=xy(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Es&&vD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function vD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(n){var t;const e=n.auth,s=await n.getIdToken(),a=await Uu(n,Eh(e,{idToken:s}));wt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?bw(l.providerUserInfo):[],d=ED(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ig(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function bD(n){const t=Fe(n);await Th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ED(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function bw(n){return n.map(t=>{var{providerId:e}=t,s=Ry(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(n,t){const e=await vw(n,{},async()=>{const s=Ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await _w(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(m.credentials="include"),yw.fetch()(c,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function wD(n,t){return wr(n,"POST","/v2/accounts:revokeToken",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):A1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=A1(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await TD(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,c=new Vo;return s&&(wt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ei{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,l=Ry(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ig(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Uu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return yD(this,t)}reload(){return bD(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ei(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await Uu(this,gD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,l,c,d,m,p,v;const E=(s=e.displayName)!==null&&s!==void 0?s:void 0,T=(a=e.email)!==null&&a!==void 0?a:void 0,R=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=e.photoURL)!==null&&c!==void 0?c:void 0,q=(d=e.tenantId)!==null&&d!==void 0?d:void 0,z=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,K=(p=e.createdAt)!==null&&p!==void 0?p:void 0,X=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:ut,isAnonymous:lt,providerData:ct,stsTokenManager:O}=e;wt(Z&&O,t,"internal-error");const S=Vo.fromJSON(this.name,O);wt(typeof Z=="string",t,"internal-error"),Zs(E,t.name),Zs(T,t.name),wt(typeof ut=="boolean",t,"internal-error"),wt(typeof lt=="boolean",t,"internal-error"),Zs(R,t.name),Zs(k,t.name),Zs(q,t.name),Zs(z,t.name),Zs(K,t.name),Zs(X,t.name);const I=new ei({uid:Z,auth:t,email:T,emailVerified:ut,displayName:E,isAnonymous:lt,photoURL:k,phoneNumber:R,tenantId:q,stsTokenManager:S,createdAt:K,lastLoginAt:X});return ct&&Array.isArray(ct)&&(I.providerData=ct.map(M=>Object.assign({},M))),z&&(I._redirectEventId=z),I}static async _fromIdTokenResponse(t,e,s=!1){const a=new Vo;a.updateFromServerResponse(e);const l=new ei({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Th(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?bw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Vo;d.updateFromIdToken(s);const m=new ei({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ig(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;function cs(n){ms(n instanceof Function,"Expected a class definition");let t=S1.get(n);return t?(ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,S1.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Ew.type="NONE";const R1=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n,t,e){return`firebase:${n}:${t}:${e}`}class Lo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=ih(this.userKey,a.apiKey,l),this.fullPersistenceKey=ih("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Eh(this.auth,{idToken:t}).catch(()=>{});return e?ei._fromGetAccountInfoResponse(this.auth,e,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Lo(cs(R1),t,s);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||cs(R1);const c=ih(s,t.config.apiKey,t.name);let d=null;for(const p of e)try{const v=await p._get(c);if(v){let E;if(typeof v=="string"){const T=await Eh(t,{idToken:v}).catch(()=>{});if(!T)break;E=await ei._fromGetAccountInfoResponse(t,T,v)}else E=ei._fromJSON(t,v);p!==l&&(d=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Lo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Lo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Iw(t))return"Blackberry";if(Cw(t))return"Webos";if(ww(t))return"Safari";if((t.includes("chrome/")||Aw(t))&&!t.includes("edge/"))return"Chrome";if(Rw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Tw(n=an()){return/firefox\//i.test(n)}function ww(n=an()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Aw(n=an()){return/crios\//i.test(n)}function Sw(n=an()){return/iemobile/i.test(n)}function Rw(n=an()){return/android/i.test(n)}function Iw(n=an()){return/blackberry/i.test(n)}function Cw(n=an()){return/webos/i.test(n)}function Oy(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AD(n=an()){var t;return Oy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function SD(){return Ux()&&document.documentMode===10}function xw(n=an()){return Oy(n)||Rw(n)||Cw(n)||Iw(n)||/windows phone/i.test(n)||Sw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n,t=[]){let e;switch(n){case"Browser":e=I1(an());break;case"Worker":e=`${I1(an())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(n,t={}){return wr(n,"GET","/v2/passwordPolicy",Tr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=6;class xD{constructor(t){var e,s,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:CD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C1(this),this.idTokenSubscription=new C1(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cs(e)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Eh(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Th(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(fs(this));const e=t?Fe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ID(this),e=new xD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await wD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cs(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&rD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ia(n){return Fe(n)}class C1{constructor(t){this.auth=t,this.observer=null,this.addObserver=Qx(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DD(n){Xh=n}function Dw(n){return Xh.loadJS(n)}function MD(){return Xh.recaptchaEnterpriseScript}function PD(){return Xh.gapiScript}function ND(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kD{constructor(){this.enterprise=new VD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class VD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const LD="recaptcha-enterprise",Mw="NO_RECAPTCHA";class zD{constructor(t){this.type=LD,this.auth=Ia(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{pD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new mD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;w1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(Mw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!e&&w1(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=MD();m.length!==0&&(m+=d),Dw(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function x1(n,t,e,s=!1,a=!1){const l=new zD(n);let c;if(a)c=Mw;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Cg(n,t,e,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await x1(n,t,e,e==="getOobCode");return s(n,c)}else return s(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await x1(n,t,e,e==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n,t){const e=Sy(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(_a(l,t??{}))return a;si(a,"already-initialized")}return e.initialize({options:t})}function jD(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(cs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function BD(n,t,e){const s=Ia(n);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Pw(t),{host:c,port:d}=FD(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(_a(p,s.config.emulator)&&_a(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Zo(c)?(aw(`${l}//${c}${m}`),ow("Auth",!0)):qD()}function Pw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function FD(n){const t=Pw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:O1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:O1(c)}}}function O1(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function qD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,e){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function HD(n,t){return wr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(n,t){return ec(n,"POST","/v1/accounts:signInWithPassword",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,t){return ec(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,t))}async function QD(n,t){return ec(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Dy{constructor(t,e,s,a=null){super("password",s),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new ju(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new ju(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(t,e,"signInWithPassword",GD);case"emailLink":return YD(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(t,s,"signUpPassword",HD);case"emailLink":return QD(t,{idToken:e,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,t){return ec(n,"POST","/v1/accounts:signInWithIdp",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="http://localhost";class Ea extends Dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):si("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,l=Ry(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Ea(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return zo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,zo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zo(t,e)}buildRequest(){const t={requestUri:KD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ju(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $D(n){const t=vu(_u(n)).link,e=t?vu(_u(t)).deep_link_id:null,s=vu(_u(n)).deep_link_id;return(s?vu(_u(s)).link:null)||s||e||t||n}class My{constructor(t){var e,s,a,l,c,d;const m=vu(_u(t)),p=(e=m.apiKey)!==null&&e!==void 0?e:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,E=XD((a=m.mode)!==null&&a!==void 0?a:null);wt(p&&v&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=$D(t);try{return new My(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(t,e){return ju._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=My.parseLink(e);return wt(s,"argument-error"),ju._fromEmailAndCode(t,s.code,s.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Nw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends nc{constructor(){super("facebook.com")}static credential(t){return Ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return er.credential(e,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends nc{constructor(){super("github.com")}static credential(t){return Ea._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends nc{constructor(){super("twitter.com")}static credential(t,e){return Ea._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return ir.credential(e,s)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,t){return ec(n,"POST","/v1/accounts:signUp",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await ei._fromIdTokenResponse(t,s,a),c=D1(s);return new Ta({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=D1(s);return new Ta({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function D1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends Es{constructor(t,e,s,a){var l;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new wh(t,e,s,a)}}function kw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(n,l,t,s):l})}async function ZD(n,t,e=!1){const s=await Uu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ta._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,t,e=!1){const{auth:s}=n;if(Yn(s.app))return Promise.reject(fs(s));const a="reauthenticate";try{const l=await Uu(n,kw(s,a,t,n),e);wt(l.idToken,s,"internal-error");const c=xy(l.idToken);wt(c,s,"internal-error");const{sub:d}=c;return wt(n.uid===d,s,"user-mismatch"),Ta._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(n,t,e=!1){if(Yn(n.app))return Promise.reject(fs(n));const s="signIn",a=await kw(n,s,t),l=await Ta._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}async function tM(n,t){return Vw(Ia(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(n){const t=Ia(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eM(n,t,e){if(Yn(n.app))return Promise.reject(fs(n));const s=Ia(n),c=await Cg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Lw(n),m}),d=await Ta._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function nM(n,t,e){return Yn(n.app)?Promise.reject(fs(n)):tM(Fe(n),tl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Lw(n),s})}function iM(n,t,e,s){return Fe(n).onIdTokenChanged(t,e,s)}function sM(n,t,e){return Fe(n).beforeAuthStateChanged(t,e)}function rM(n,t,e,s){return Fe(n).onAuthStateChanged(t,e,s)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=1e3,oM=10;class Uw extends zw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);SD()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,oM):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Uw.type="LOCAL";const lM=Uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends zw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jw.type="SESSION";const Bw=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new $h(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(e.origin,l)),m=await uM(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Py("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function fM(n){Oi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function hM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mM(){return Fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebaseLocalStorageDb",pM=1,Sh="firebaseLocalStorage",Hw="fbase_key";class ic{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Wh(n,t){return n.transaction([Sh],t?"readwrite":"readonly").objectStore(Sh)}function gM(){const n=indexedDB.deleteDatabase(qw);return new ic(n).toPromise()}function xg(){const n=indexedDB.open(qw,pM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Sh,{keyPath:Hw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Sh)?t(s):(s.close(),await gM(),t(await xg()))})})}async function M1(n,t,e){const s=Wh(n,!0).put({[Hw]:t,value:e});return new ic(s).toPromise()}async function yM(n,t){const e=Wh(n,!1).get(t),s=await new ic(e).toPromise();return s===void 0?null:s.value}function P1(n,t){const e=Wh(n,!0).delete(t);return new ic(e).toPromise()}const vM=800,_M=3;class Gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>_M)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(mM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await hM(),!this.activeServiceWorker)return;this.sender=new cM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xg();return await M1(t,Ah,"1"),await P1(t,Ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>M1(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>yM(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>P1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Wh(a,!1).getAll();return new ic(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gw.type="LOCAL";const bM=Gw;new tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n,t){return t?cs(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends Dy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function TM(n){return Vw(n.auth,new Ny(n),n.bypassAuthState)}function wM(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),JD(e,new Ny(n),n.bypassAuthState)}async function AM(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),ZD(e,new Ny(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TM;case"linkViaPopup":case"linkViaRedirect":return AM;case"reauthViaPopup":case"reauthViaRedirect":return wM;default:si(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new tc(2e3,1e4);class Do extends Yw{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SM.get())};t()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="pendingRedirect",sh=new Map;class IM extends Yw{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=sh.get(this.auth._key());if(!t){try{const s=await CM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}sh.set(this.auth._key(),t)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CM(n,t){const e=DM(t),s=OM(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function xM(n,t){sh.set(n._key(),t)}function OM(n){return cs(n._redirectPersistence)}function DM(n){return ih(RM,n.config.apiKey,n.name)}async function MM(n,t,e=!1){if(Yn(n.app))return Promise.reject(fs(n));const s=Ia(n),a=EM(s,t),c=await new IM(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=10*60*1e3;class NM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!Qw(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(xi(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PM&&this.cachedEventUids.clear(),this.cachedEventUids.has(N1(t))}saveEventToCache(t){this.cachedEventUids.add(N1(t)),this.lastProcessedEventTime=Date.now()}}function N1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Qw({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(n,t={}){return wr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zM=/^https?/;async function UM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await VM(n);for(const e of t)try{if(jM(e))return}catch{}si(n,"unauthorized-domain")}function jM(n){const t=Rg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!zM.test(e))return!1;if(LM.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new tc(3e4,6e4);function k1(){const n=Oi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function FM(n){return new Promise((t,e)=>{var s,a,l;function c(){k1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k1(),e(xi(n,"network-request-failed"))},timeout:BM.get()})}if(!((a=(s=Oi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Oi().gapi)===null||l===void 0)&&l.load)c();else{const d=ND("iframefcb");return Oi()[d]=()=>{gapi.load?c():e(xi(n,"network-request-failed"))},Dw(`${PD()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw rh=null,t})}let rh=null;function qM(n){return rh=rh||FM(n),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new tc(5e3,15e3),GM="__/auth/iframe",YM="emulator/auth/iframe",QM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XM(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Cy(t,YM):`https://${n.config.authDomain}/${GM}`,s={apiKey:t.apiKey,appName:n.name,v:Jo},a=KM.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Ju(s).slice(1)}`}async function $M(n){const t=await qM(n),e=Oi().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:XM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),d=Oi().setTimeout(()=>{l(c)},HM.get());function m(){Oi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZM=500,JM=600,tP="_blank",eP="http://localhost";class V1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nP(n,t,e,s=ZM,a=JM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},WM),{width:s.toString(),height:a.toString(),top:l,left:c}),p=an().toLowerCase();e&&(d=Aw(p)?tP:e),Tw(p)&&(t=t||eP,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,k])=>`${T}${R}=${k},`,"");if(AD(p)&&d!=="_self")return iP(t||"",d),new V1(null);const E=window.open(t||"",d,v);wt(E,n,"popup-blocked");try{E.focus()}catch{}return new V1(E)}function iP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="__/auth/handler",rP="emulator/auth/handler",aP=encodeURIComponent("fac");async function L1(n,t,e,s,a,l){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Jo,eventId:a};if(t instanceof Nw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",Yx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof nc){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${aP}=${encodeURIComponent(m)}`:"";return`${oP(n)}?${Ju(d).slice(1)}${p}`}function oP({config:n}){return n.emulator?Cy(n,rP):`https://${n.authDomain}/${sP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class lP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bw,this._completeRedirectFn=MM,this._overrideRedirectResult=xM}async _openPopup(t,e,s,a){var l;ms((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await L1(t,e,s,Rg(),a);return nP(t,c,Py())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await L1(t,e,s,Rg(),a);return fM(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await $M(t),s=new NM(t);return e.register("authEvent",a=>(wt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Jp,{type:Jp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Jp];c!==void 0&&e(!!c),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xw()||ww()||Oy()}}const uP=lP;var z1="@firebase/auth",U1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(n){qo(new ba("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(n)},p=new OD(s,a,l,m);return jD(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),qo(new ba("auth-internal",t=>{const e=Ia(t.getProvider("auth").getImmediate());return(s=>new cP(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(z1,U1,fP(n)),ur(z1,U1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=5*60,mP=rw("authIdTokenMaxAge")||dP;let j1=null;const pP=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>mP)return;const a=e==null?void 0:e.token;j1!==a&&(j1=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gP(n=fw()){const t=Sy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=UD(n,{popupRedirectResolver:uP,persistence:[bM,lM,Bw]}),s=rw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=pP(l.toString());sM(e,c,()=>c(e.currentUser)),iM(e,d=>c(d))}}const a=iw("auth");return a&&BD(e,`http://${a}`),e}function yP(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}DD({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=xi("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",yP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");var vP="firebase",_P="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(vP,_P,"app");var B1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,Kw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function I(){}I.prototype=S.prototype,O.D=S.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,N,V){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return S.prototype[N].apply(M,C)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,S,I){I||(I=0);var M=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)M[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;16>N;++N)M[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=O.g[0],I=O.g[1],N=O.g[2];var V=O.g[3],C=S+(V^I&(N^V))+M[0]+3614090360&4294967295;S=I+(C<<7&4294967295|C>>>25),C=V+(N^S&(I^N))+M[1]+3905402710&4294967295,V=S+(C<<12&4294967295|C>>>20),C=N+(I^V&(S^I))+M[2]+606105819&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(S^N&(V^S))+M[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=S+(V^I&(N^V))+M[4]+4118548399&4294967295,S=I+(C<<7&4294967295|C>>>25),C=V+(N^S&(I^N))+M[5]+1200080426&4294967295,V=S+(C<<12&4294967295|C>>>20),C=N+(I^V&(S^I))+M[6]+2821735955&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(S^N&(V^S))+M[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=S+(V^I&(N^V))+M[8]+1770035416&4294967295,S=I+(C<<7&4294967295|C>>>25),C=V+(N^S&(I^N))+M[9]+2336552879&4294967295,V=S+(C<<12&4294967295|C>>>20),C=N+(I^V&(S^I))+M[10]+4294925233&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(S^N&(V^S))+M[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=S+(V^I&(N^V))+M[12]+1804603682&4294967295,S=I+(C<<7&4294967295|C>>>25),C=V+(N^S&(I^N))+M[13]+4254626195&4294967295,V=S+(C<<12&4294967295|C>>>20),C=N+(I^V&(S^I))+M[14]+2792965006&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(S^N&(V^S))+M[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=S+(N^V&(I^N))+M[1]+4129170786&4294967295,S=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(S^I))+M[6]+3225465664&4294967295,V=S+(C<<9&4294967295|C>>>23),C=N+(S^I&(V^S))+M[11]+643717713&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^S&(N^V))+M[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=S+(N^V&(I^N))+M[5]+3593408605&4294967295,S=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(S^I))+M[10]+38016083&4294967295,V=S+(C<<9&4294967295|C>>>23),C=N+(S^I&(V^S))+M[15]+3634488961&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^S&(N^V))+M[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=S+(N^V&(I^N))+M[9]+568446438&4294967295,S=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(S^I))+M[14]+3275163606&4294967295,V=S+(C<<9&4294967295|C>>>23),C=N+(S^I&(V^S))+M[3]+4107603335&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^S&(N^V))+M[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=S+(N^V&(I^N))+M[13]+2850285829&4294967295,S=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(S^I))+M[2]+4243563512&4294967295,V=S+(C<<9&4294967295|C>>>23),C=N+(S^I&(V^S))+M[7]+1735328473&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^S&(N^V))+M[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=S+(I^N^V)+M[5]+4294588738&4294967295,S=I+(C<<4&4294967295|C>>>28),C=V+(S^I^N)+M[8]+2272392833&4294967295,V=S+(C<<11&4294967295|C>>>21),C=N+(V^S^I)+M[11]+1839030562&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^S)+M[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=S+(I^N^V)+M[1]+2763975236&4294967295,S=I+(C<<4&4294967295|C>>>28),C=V+(S^I^N)+M[4]+1272893353&4294967295,V=S+(C<<11&4294967295|C>>>21),C=N+(V^S^I)+M[7]+4139469664&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^S)+M[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=S+(I^N^V)+M[13]+681279174&4294967295,S=I+(C<<4&4294967295|C>>>28),C=V+(S^I^N)+M[0]+3936430074&4294967295,V=S+(C<<11&4294967295|C>>>21),C=N+(V^S^I)+M[3]+3572445317&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^S)+M[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=S+(I^N^V)+M[9]+3654602809&4294967295,S=I+(C<<4&4294967295|C>>>28),C=V+(S^I^N)+M[12]+3873151461&4294967295,V=S+(C<<11&4294967295|C>>>21),C=N+(V^S^I)+M[15]+530742520&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^S)+M[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=S+(N^(I|~V))+M[0]+4096336452&4294967295,S=I+(C<<6&4294967295|C>>>26),C=V+(I^(S|~N))+M[7]+1126891415&4294967295,V=S+(C<<10&4294967295|C>>>22),C=N+(S^(V|~I))+M[14]+2878612391&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~S))+M[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=S+(N^(I|~V))+M[12]+1700485571&4294967295,S=I+(C<<6&4294967295|C>>>26),C=V+(I^(S|~N))+M[3]+2399980690&4294967295,V=S+(C<<10&4294967295|C>>>22),C=N+(S^(V|~I))+M[10]+4293915773&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~S))+M[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=S+(N^(I|~V))+M[8]+1873313359&4294967295,S=I+(C<<6&4294967295|C>>>26),C=V+(I^(S|~N))+M[15]+4264355552&4294967295,V=S+(C<<10&4294967295|C>>>22),C=N+(S^(V|~I))+M[6]+2734768916&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~S))+M[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=S+(N^(I|~V))+M[4]+4149444226&4294967295,S=I+(C<<6&4294967295|C>>>26),C=V+(I^(S|~N))+M[11]+3174756917&4294967295,V=S+(C<<10&4294967295|C>>>22),C=N+(S^(V|~I))+M[2]+718787259&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~S))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+V&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var I=S-this.blockSize,M=this.B,N=this.h,V=0;V<S;){if(N==0)for(;V<=I;)a(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<S;)if(M[N++]=O.charCodeAt(V++),N==this.blockSize){a(this,M),N=0;break}}else for(;V<S;)if(M[N++]=O[V++],N==this.blockSize){a(this,M),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var I=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=I&255,I/=256;for(this.u(O),O=Array(16),S=I=0;4>S;++S)for(var M=0;32>M;M+=8)O[I++]=this.g[S]>>>M&255;return O};function l(O,S){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=S(O)}function c(O,S){this.h=S;for(var I=[],M=!0,N=O.length-1;0<=N;N--){var V=O[N]|0;M&&V==S||(I[N]=V,M=!1)}this.g=I}var d={};function m(O){return-128<=O&&128>O?l(O,function(S){return new c([S|0],0>S?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return z(p(-O));for(var S=[],I=1,M=0;O>=I;M++)S[M]=O/I|0,I*=4294967296;return new c(S,0)}function v(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return z(v(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(S,8)),M=E,N=0;N<O.length;N+=8){var V=Math.min(8,O.length-N),C=parseInt(O.substring(N,N+V),S);8>V?(V=p(Math.pow(S,V)),M=M.j(V).add(p(C))):(M=M.j(I),M=M.add(p(C)))}return M}var E=m(0),T=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(q(this))return-z(this).m();for(var O=0,S=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*S,S*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(q(this))return"-"+z(this).toString(O);for(var S=p(Math.pow(O,6)),I=this,M="";;){var N=ut(I,S).g;I=K(I,N.j(S));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=N,k(I))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function q(O){return O.h==-1}n.l=function(O){return O=K(this,O),q(O)?-1:k(O)?0:1};function z(O){for(var S=O.g.length,I=[],M=0;M<S;M++)I[M]=~O.g[M];return new c(I,~O.h).add(T)}n.abs=function(){return q(this)?z(this):this},n.add=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0,N=0;N<=S;N++){var V=M+(this.i(N)&65535)+(O.i(N)&65535),C=(V>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);M=C>>>16,V&=65535,C&=65535,I[N]=C<<16|V}return new c(I,I[I.length-1]&-2147483648?-1:0)};function K(O,S){return O.add(z(S))}n.j=function(O){if(k(this)||k(O))return E;if(q(this))return q(O)?z(this).j(z(O)):z(z(this).j(O));if(q(O))return z(this.j(z(O)));if(0>this.l(R)&&0>O.l(R))return p(this.m()*O.m());for(var S=this.g.length+O.g.length,I=[],M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<O.g.length;N++){var V=this.i(M)>>>16,C=this.i(M)&65535,de=O.i(N)>>>16,ne=O.i(N)&65535;I[2*M+2*N]+=C*ne,X(I,2*M+2*N),I[2*M+2*N+1]+=V*ne,X(I,2*M+2*N+1),I[2*M+2*N+1]+=C*de,X(I,2*M+2*N+1),I[2*M+2*N+2]+=V*de,X(I,2*M+2*N+2)}for(M=0;M<S;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=S;M<2*S;M++)I[M]=0;return new c(I,0)};function X(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function Z(O,S){this.g=O,this.h=S}function ut(O,S){if(k(S))throw Error("division by zero");if(k(O))return new Z(E,E);if(q(O))return S=ut(z(O),S),new Z(z(S.g),z(S.h));if(q(S))return S=ut(O,z(S)),new Z(z(S.g),S.h);if(30<O.g.length){if(q(O)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var I=T,M=S;0>=M.l(O);)I=lt(I),M=lt(M);var N=ct(I,1),V=ct(M,1);for(M=ct(M,2),I=ct(I,2);!k(M);){var C=V.add(M);0>=C.l(O)&&(N=N.add(I),V=C),M=ct(M,1),I=ct(I,1)}return S=K(O,N.j(S)),new Z(N,S)}for(N=E;0<=O.l(S);){for(I=Math.max(1,Math.floor(O.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=p(I),C=V.j(S);q(C)||0<C.l(O);)I-=M,V=p(I),C=V.j(S);k(V)&&(V=T),N=N.add(V),O=K(O,C)}return new Z(N,O)}n.A=function(O){return ut(this,O).h},n.and=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)&O.i(M);return new c(I,this.h&O.h)},n.or=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)|O.i(M);return new c(I,this.h|O.h)},n.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)^O.i(M);return new c(I,this.h^O.h)};function lt(O){for(var S=O.g.length+1,I=[],M=0;M<S;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(I,O.h)}function ct(O,S){var I=S>>5;S%=32;for(var M=O.g.length-I,N=[],V=0;V<M;V++)N[V]=0<S?O.i(V+I)>>>S|O.i(V+I+1)<<32-S:O.i(V+I);return new c(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Kw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,cr=c}).apply(typeof B1<"u"?B1:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xw,bu,$w,ah,Og,Ww,Zw,Jw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function a(f,y){if(y)t:{var _=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var U=f[A];if(!(U in _))break t;_=_[U]}f=f[f.length-1],A=_[f],y=y(A),y!=A&&y!=null&&t(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,A=!1,U={next:function(){if(!A&&_<f.length){var Y=_++;return{value:y(Y,f[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function E(f,y,_){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),f.apply(y,U)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function R(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function k(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(A,U,Y){for(var ot=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ot[jt-2]=arguments[jt];return y.prototype[U].apply(A,ot)}}function q(f){const y=f.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=f[A];return _}return[]}function z(f,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const U=f.length||0,Y=A.length||0;f.length=U+Y;for(let ot=0;ot<Y;ot++)f[U+ot]=A[ot]}else f.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(f){return/^[\s\xa0]*$/.test(f)}function Z(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function ut(f){return ut[" "](f),f}ut[" "]=function(){};var lt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ct(f,y,_){for(const A in f)y.call(_,f[A],A,f)}function O(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function S(f){const y={};for(const _ in f)y[_]=f[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,y){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)f[_]=A[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(A,_)&&(f[_]=A[_])}}function N(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function V(f){d.setTimeout(()=>{throw f},0)}function C(){var f=zt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class de{constructor(){this.h=this.g=null}add(y,_){const A=ne.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new K(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,gt=!1,zt=new de,D=()=>{const f=d.Promise.resolve(void 0);ft=()=>{f.then(it)}};var it=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(_){V(_)}var y=ne;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}gt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function Mt(f,y){if(st.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(lt){t:{try{ut(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Rt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Mt.aa.h.call(this)}}k(Mt,st);var Rt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),se=0;function ai(f,y,_,A,U){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=U,this.key=++se,this.da=this.fa=!1}function ws(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Vi(f){this.src=f,this.g={},this.h=0}Vi.prototype.add=function(f,y,_,A,U){var Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);var ot=xr(f,y,A,U);return-1<ot?(y=f[ot],_||(y.fa=!1)):(y=new ai(y,this.src,Y,!!A,U),y.fa=_,f.push(y)),y};function Cr(f,y){var _=y.type;if(_ in f.g){var A=f.g[_],U=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(A,U,1),Y&&(ws(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function xr(f,y,_,A){for(var U=0;U<f.length;++U){var Y=f[U];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return U}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),ll={};function hc(f,y,_,A,U){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)hc(f,y[Y],_,A,U);return null}return _=dc(_),f&&f[ke]?f.K(y,_,p(A)?!!A.capture:!1,U):Mn(f,y,_,!1,A,U)}function Mn(f,y,_,A,U,Y){if(!y)throw Error("Invalid event type");var ot=p(U)?!!U.capture:!!U,jt=Ma(f);if(jt||(f[Or]=jt=new Vi(f)),_=jt.add(y,_,A,ot,Y),_.proxy)return _;if(A=Cd(),_.proxy=A,A.src=f,A.listener=_,f.addEventListener)ht||(U=ot),U===void 0&&(U=!1),f.addEventListener(y.toString(),A,U);else if(f.attachEvent)f.attachEvent(Dr(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cd(){function f(_){return y.call(f.src,f.listener,_)}const y=xd;return f}function ul(f,y,_,A,U){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ul(f,y[Y],_,A,U);else A=p(A)?!!A.capture:!!A,_=dc(_),f&&f[ke]?(f=f.i,y=String(y).toString(),y in f.g&&(Y=f.g[y],_=xr(Y,_,A,U),-1<_&&(ws(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ma(f))&&(y=f.g[y.toString()],f=-1,y&&(f=xr(y,_,A,U)),(_=-1<f?y[f]:null)&&Da(_))}function Da(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ke])Cr(y.i,f);else{var _=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(_,A,f.capture):y.detachEvent?y.detachEvent(Dr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Ma(y))?(Cr(_,f),_.h==0&&(_.src=null,y[Or]=null)):ws(f)}}}function Dr(f){return f in ll?ll[f]:ll[f]="on"+f}function xd(f,y){if(f.da)f=!0;else{y=new Mt(y,this);var _=f.listener,A=f.ha||f.src;f.fa&&Da(f),f=_.call(A,y)}return f}function Ma(f){return f=f[Or],f instanceof Vi?f:null}var cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(f){return typeof f=="function"?f:(f[cl]||(f[cl]=function(y){return f.handleEvent(y)}),f[cl])}function me(){nt.call(this),this.i=new Vi(this),this.M=this,this.F=null}k(me,nt),me.prototype[ke]=!0,me.prototype.removeEventListener=function(f,y,_,A){ul(this,f,y,_,A)};function Xt(f,y){var _,A=f.F;if(A)for(_=[];A;A=A.F)_.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new st(y,f);else if(y instanceof st)y.target=y.target||f;else{var U=y;y=new st(A,f),M(y,U)}if(U=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ot=y.g=_[Y];U=_n(ot,A,!0,y)&&U}if(ot=y.g=f,U=_n(ot,A,!0,y)&&U,U=_n(ot,A,!1,y)&&U,_)for(Y=0;Y<_.length;Y++)ot=y.g=_[Y],U=_n(ot,A,!1,y)&&U}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],A=0;A<_.length;A++)ws(_[A]);delete f.g[y],f.h--}}this.F=null},me.prototype.K=function(f,y,_,A){return this.i.add(String(f),y,!1,_,A)},me.prototype.L=function(f,y,_,A){return this.i.add(String(f),y,!0,_,A)};function _n(f,y,_,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Y=0;Y<y.length;++Y){var ot=y[Y];if(ot&&!ot.da&&ot.capture==_){var jt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&Cr(f.i,ot),U=jt.call(Ce,A)!==!1&&U}}return U&&!A.defaultPrevented}function We(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function mc(f){f.g=We(()=>{f.g=null,f.i&&(f.i=!1,mc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Od extends nt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(f){nt.call(this),this.h=f,this.g={}}k(Mr,nt);var Pr=[];function Nr(f){ct(f.g,function(y,_){this.g.hasOwnProperty(_)&&Da(y)},f),f.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Nr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Pa=d.JSON.parse,kr=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function fl(){}fl.prototype.h=null;function hl(f){return f.h||(f.h=f.i())}function dl(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){st.call(this,"d")}k(zi,st);function ml(){st.call(this,"c")}k(ml,st);var oi={},pl=null;function As(){return pl=pl||new me}oi.La="serverreachability";function Na(f){st.call(this,oi.La,f)}k(Na,st);function Ss(f){const y=As();Xt(y,new Na(y))}oi.STAT_EVENT="statevent";function pc(f,y){st.call(this,oi.STAT_EVENT,f),this.stat=y}k(pc,st);function le(f){const y=As();Xt(y,new pc(y,f))}oi.Ma="timingevent";function Ie(f,y){st.call(this,oi.Ma,f),this.size=y}k(Ie,st);function Ee(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function gl(f,y,_,A,U,Y){f.info(function(){if(f.g)if(Y)for(var ot="",jt=Y.split("&"),Ce=0;Ce<jt.length;Ce++){var Bt=jt[Ce].split("=");if(1<Bt.length){var Le=Bt[0];Bt=Bt[1];var xe=Le.split("_");ot=2<=xe.length&&xe[1]=="type"?ot+(Le+"="+Bt+"&"):ot+(Le+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+_+`
`+ot})}function Dd(f,y,_,A,U,Y,ot){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+_+`
`+Y+" "+ot})}function Rs(f,y,_,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vr(f,_)+(A?" "+A:"")})}function gc(f,y){f.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function Vr(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var A=_[f];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<U.length;ot++)U[ot]=""}}}}return Kn(_)}catch{return y}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}k(ui,fl),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function ln(f,y,_,A){this.j=f,this.i=y,this.l=_,this.R=A||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var yl={},ka={};function Xn(f,y,_){f.L=1,f.v=Br(bn(y)),f.m=_,f.P=!0,ji(f,null)}function ji(f,y){f.F=Date.now(),Lr(f),f.A=bn(f.v);var _=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),wl(_.i,"t",A),f.C=0,_=f.j.J,f.h=new ye,f.g=Mc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new Od(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,A=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(Pr[0]=U.toString()),U=Pr);for(var Y=0;Y<U.length;Y++){var ot=hc(_,U[Y],A||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ss(),gl(f.i,f.u,f.A,f.l,f.R,f.m)}ln.prototype.ca=function(f){f=f.target;const y=this.M;y&&Ln(f)==3?y.j():this.Y(f)},ln.prototype.Y=function(f){try{if(f==this.g)t:{const xe=Ln(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Ac(this.g)))){this.J||xe!=4||y==7||(y==8||0>=Ki?Ss(3):Ss(2)),Cs(this);var _=this.g.Z();this.X=_;e:if(yc(this)){var A=Ac(this.g);f="";var U=A.length,Y=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ci(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(Y&&y==U-1)});A.length=0,this.h.g+=f,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,Dd(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ce=this.g;if((jt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(jt)){var Bt=jt;break e}}Bt=null}if(_=Bt)Rs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,_);else{this.o=!1,this.s=3,le(12),qe(this),ci(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ot.length;)if(He=vc(this,ot),He==ka){xe==4&&(this.s=4,le(14),_=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(He==yl){this.s=4,le(15),Rs(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else Rs(this.i,this.l,He,null),zr(this,He);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||ot.length!=0||this.h.h||(this.s=1,le(16),_=!1),this.o=this.o&&_,!_)Rs(this.i,this.l,ot,"[Invalid Chunked Response]"),qe(this),ci(this);else if(0<ot.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Xr(Le),Le.M=!0,le(11))}}else Rs(this.i,this.l,ot,null),zr(this,ot);xe==4&&qe(this),this.o&&!this.J&&(xe==4?xc(this.j,this):(this.o=!1,Lr(this)))}else Vd(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),qe(this),ci(this)}}}catch{}finally{}};function yc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vc(f,y){var _=f.C,A=y.indexOf(`
`,_);return A==-1?ka:(_=Number(y.substring(_,A)),isNaN(_)?yl:(A+=1,A+_>y.length?ka:(y=y.slice(A,A+_),f.C=A+_,y)))}ln.prototype.cancel=function(){this.J=!0,qe(this)};function Lr(f){f.S=Date.now()+f.I,_c(f,f.I)}function _c(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ee(T(f.ba,f),y)}function Cs(f){f.B&&(d.clearTimeout(f.B),f.B=null)}ln.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(gc(this.i,this.A),this.L!=2&&(Ss(),le(17)),qe(this),this.s=2,ci(this)):_c(this,this.S-f)};function ci(f){f.j.G==0||f.J||xc(f.j,f)}function qe(f){Cs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Nr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function zr(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||vl(_.h,f))){if(!f.K&&vl(_.h,f)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Qa(_),Ga(_);else break t;Cl(_),le(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(T(_.Za,_),6e3));if(1>=La(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((f.K||_.g==f)&&Qa(_),!X(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Bt=U[y];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const Le=Bt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const xe=Bt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const Ki=Bt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const He=f.g;if(He){const yi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var Y=A.h;Y.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(za(Y,Y.h),Y.h=null))}if(A.D){const Ol=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(A.ya=Ol,Zt(A.I,A.D,Ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ot=f;if(A.qa=Dc(A,A.J?A.ia:null,A.W),ot.K){un(A.h,ot);var jt=ot,Ce=A.L;Ce&&(jt.I=Ce),jt.B&&(Cs(jt),Lr(jt)),A.g=ot}else Ic(A);0<_.i.length&&Ya(_)}else Bt[0]!="stop"&&Bt[0]!="close"||Qi(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Qi(_,7):Rl(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}Ss(4)}catch{}}var bc=class{constructor(f,y){this.g=f,this.map=y}};function Bi(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Va(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function La(f){return f.h?1:f.g?f.g.size:0}function vl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function za(f,y){f.g?f.g.add(y):f.h=y}function un(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _l(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return q(f.i)}function Md(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],_=f.length,A=0;A<_;A++)y.push(f[A]);return y}y=[],_=0;for(A in f)y[_++]=f[A];return y}function Ua(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const A in f)y[_++]=A;return y}}}function bl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=Ua(f),A=Md(f),U=A.length,Y=0;Y<U;Y++)y.call(void 0,A[Y],_&&_[Y],f)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pd(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var A=f[_].indexOf("="),U=null;if(0<=A){var Y=f[_].substring(0,A);U=f[_].substring(A+1)}else Y=f[_];y(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Te(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Te){this.h=f.h,jr(this,f.j),this.o=f.o,this.g=f.g,xs(this,f.s),this.l=f.l;var y=f.i,_=new qi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fi(this,_),this.m=f.m}else f&&(y=String(f).match(Ur))?(this.h=!1,jr(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),xs(this,y[4]),this.l=Nn(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Te.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Fr(y,El,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Fr(y,El,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Fr(_,_.charAt(0)=="/"?Nd:Tl,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Fr(_,ja)),f.join("")};function bn(f){return new Te(f)}function jr(f,y,_){f.j=_?Nn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function xs(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Fi(f,y,_){y instanceof qi?(f.i=y,Tc(f.i,f.h)):(_||(y=Fr(y,kd)),f.i=new qi(y,f.h))}function Zt(f,y,_){f.i.set(y,_)}function Br(f){return Zt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Nn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Fr(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,Ec),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ec(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var El=/[#\/\?@]/g,Tl=/[#\?:]/g,Nd=/[#\?]/g,kd=/[#\?@]/g,ja=/#/g;function qi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function kn(f){f.g||(f.g=new Map,f.h=0,f.i&&Pd(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=qi.prototype,n.add=function(f,y){kn(this),this.i=null,f=fi(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function Hi(f,y){kn(f),y=fi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Gi(f,y){return kn(f),y=fi(f,y),f.g.has(y)}n.forEach=function(f,y){kn(this),this.g.forEach(function(_,A){_.forEach(function(U){f.call(y,U,A,this)},this)},this)},n.na=function(){kn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const U=f[A];for(let Y=0;Y<U.length;Y++)_.push(y[A])}return _},n.V=function(f){kn(this);let y=[];if(typeof f=="string")Gi(this,f)&&(y=y.concat(this.g.get(fi(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return kn(this),this.i=null,f=fi(this,f),Gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function wl(f,y,_){Hi(f,y),0<_.length&&(f.i=null,f.g.set(fi(f,y),q(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Y=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var U=Y;ot[A]!==""&&(U+="="+encodeURIComponent(String(ot[A]))),f.push(U)}}return this.i=f.join("&")};function fi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Tc(f,y){y&&!f.j&&(kn(f),f.i=null,f.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Hi(this,A),wl(this,U,_))},f)),f.j=y}function qr(f,y){const _=new Pn;if(d.Image){const A=new Image;A.onload=R(Vn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=R(Vn,_,"TestLoadImage: error",!1,y,A),A.onabort=R(Vn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=R(Vn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function $n(f,y){const _=new Pn,A=new AbortController,U=setTimeout(()=>{A.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(Y=>{clearTimeout(U),Y.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vn(_,"TestPingServer: error",!1,y)})}function Vn(f,y,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function Hr(){this.g=new kr}function hi(f,y,_){const A=_||"";try{bl(f,function(U,Y){let ot=U;p(U)&&(ot=Kn(U)),y.push(A+Y+"="+encodeURIComponent(ot))})}catch(U){throw y.push(A+"type="+encodeURIComponent("_badmap")),U}}function Os(f){this.l=f.Ub||null,this.j=f.eb||!1}k(Os,fl),Os.prototype.g=function(){return new Yi(this.l,this.j)},Os.prototype.i=function(f){return function(){return f}}({});function Yi(f,y){me.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Yi,me),n=Yi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,mi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?di(this):mi(this),this.readyState==3&&Al(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,di(this))},n.Qa=function(f){this.g&&(this.response=f,di(this))},n.ga=function(){this.g&&di(this)};function di(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mi(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function mi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Sl(f){let y="";return ct(f,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ve(f,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Sl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):Zt(f,y,_))}function Qt(f){me.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Qt,me);var Ba=/^https?$/i,Gr=["POST","PUT"];n=Qt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?hl(this.o):hl(li),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Y){wc(this,Y);return}if(f=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Gr,y,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of _)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(f),this.u=!1}catch(Y){wc(this,Y)}};function wc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Fa(f),pi(f)}function Fa(f){f.A||(f.A=!0,Xt(f,"complete"),Xt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Xt(this,"complete"),Xt(this,"abort"),pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},n.bb=function(){qa(this)};function qa(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ln(f)!=4||f.Z()!=2)){if(f.u&&Ln(f)==4)We(f.Ea,0,f);else if(Xt(f,"readystatechange"),Ln(f)==4){f.h=!1;try{const ot=f.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=ot===0){var U=String(f.D).match(Ur)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),A=!Ba.test(U?U.toLowerCase():"")}_=A}if(_)Xt(f,"complete"),Xt(f,"success");else{f.m=6;try{var Y=2<Ln(f)?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.Z()+"]",Fa(f)}}finally{pi(f)}}}}function pi(f,y){if(f.g){Yr(f);const _=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Xt(f,"ready");try{_.onreadystatechange=A}catch{}}}function Yr(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ln(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Pa(y)}};function Ac(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(f){const y={};f=(f.g&&2<=Ln(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(X(f[A]))continue;var _=N(f[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[U]||[];y[U]=Y,Y.push(_)}O(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function Ha(f){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,f),this.cb=Qr("retryDelaySeedMs",1e4,f),this.Wa=Qr("forwardChannelMaxRetries",2,f),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(f&&f.concurrentRequestLimit),this.Da=new Hr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,A){le(0),this.W=f,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Dc(this,null,this.W),Ya(this)};function Rl(f){if(Sc(f),f.G==3){var y=f.U++,_=bn(f.I);if(Zt(_,"SID",f.K),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),Kr(f,_),y=new ln(f,f.j,y),y.L=2,y.v=Br(bn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Lr(y)}Oc(f)}function Ga(f){f.g&&(Xr(f),f.g.cancel(),f.g=null)}function Sc(f){Ga(f),f.u&&(d.clearTimeout(f.u),f.u=null),Qa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ya(f){if(!Va(f.h)&&!f.s){f.s=!0;var y=f.Ga;ft||D(),gt||(ft(),gt=!0),zt.add(y,f),f.B=0}}function Ld(f,y){return La(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ee(T(f.Ga,f,y),xl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new ln(this,this.j,f);let Y=this.o;if(this.S&&(Y?(Y=S(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Rc(this,U,y),_=bn(this.I),Zt(_,"RID",f),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Kr(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Sl(Y)))+"&"+y:this.m&&Ve(_,this.m,Y)),za(this.h,U),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",y),Zt(_,"SID","null"),U.T=!0,Xn(U,_,null)):Xn(U,_,y),this.G=2}}else this.G==3&&(f?Il(this,f):this.i.length==0||Va(this.h)||Il(this))};function Il(f,y){var _;y?_=y.l:_=f.U++;const A=bn(f.I);Zt(A,"SID",f.K),Zt(A,"RID",_),Zt(A,"AID",f.T),Kr(f,A),f.m&&f.o&&Ve(A,f.m,f.o),_=new ln(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Rc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),za(f.h,_),Xn(_,A,y)}function Kr(f,y){f.H&&ct(f.H,function(_,A){Zt(y,A,_)}),f.l&&bl({},function(_,A){Zt(y,A,_)})}function Rc(f,y,_){_=Math.min(f.i.length,_);var A=f.l?T(f.l.Na,f.l,f):null;t:{var U=f.i;let Y=-1;for(;;){const ot=["count="+_];Y==-1?0<_?(Y=U[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let jt=!0;for(let Ce=0;Ce<_;Ce++){let Bt=U[Ce].g;const Le=U[Ce].map;if(Bt-=Y,0>Bt)Y=Math.max(0,U[Ce].g-100),jt=!1;else try{hi(Le,ot,"req"+Bt+"_")}catch{A&&A(Le)}}if(jt){A=ot.join("&");break t}}}return f=f.i.splice(0,_),y.D=f,A}function Ic(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ft||D(),gt||(ft(),gt=!0),zt.add(y,f),f.v=0}}function Cl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ee(T(f.Fa,f),xl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ee(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Ga(this),Cc(this))};function Xr(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Cc(f){f.g=new ln(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=bn(f.qa);Zt(y,"RID","rpc"),Zt(y,"SID",f.K),Zt(y,"AID",f.T),Zt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Zt(y,"TO",f.ja),Zt(y,"TYPE","xmlhttp"),Kr(f,y),f.m&&f.o&&Ve(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Br(bn(y)),_.m=null,_.P=!0,ji(_,f)}n.Za=function(){this.C!=null&&(this.C=null,Ga(this),Cl(this),le(19))};function Qa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function xc(f,y){var _=null;if(f.g==y){Qa(f),Xr(f),f.g=null;var A=2}else if(vl(f.h,y))_=y.D,un(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=f.B;A=As(),Xt(A,new Ie(A,_)),Ya(f)}else Ic(f);else if(U=y.s,U==3||U==0&&0<y.X||!(A==1&&Ld(f,y)||A==2&&Cl(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),U){case 1:Qi(f,5);break;case 4:Qi(f,10);break;case 3:Qi(f,6);break;default:Qi(f,2)}}}function xl(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function Qi(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),A=f.Xa;const U=!A;A=new Te(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jr(A,"https"),Br(A),U?qr(A.toString(),_):$n(A.toString(),_)}else le(2);f.G=0,f.l&&f.l.sa(y),Oc(f),Sc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Oc(f){if(f.G=0,f.ka=[],f.l){const y=_l(f.h);(y.length!=0||f.i.length!=0)&&(z(f.ka,y),z(f.ka,f.i),f.h.i.length=0,q(f.i),f.i.length=0),f.l.ra()}}function Dc(f,y,_){var A=_ instanceof Te?bn(_):new Te(_);if(A.g!="")y&&(A.g=y+"."+A.g),xs(A,A.s);else{var U=d.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Y=new Te(null);A&&jr(Y,A),y&&(Y.g=y),U&&xs(Y,U),_&&(Y.l=_),A=Y}return _=f.D,y=f.ya,_&&y&&Zt(A,_,y),Zt(A,"VER",f.la),Kr(f,A),A}function Mc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Qt(new Os({eb:_})):new Qt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}n=Pc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ka(){}Ka.prototype.g=function(f,y){return new cn(f,y)};function cn(f,y){me.call(this),this.g=new Ha(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!X(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new gi(this)}k(cn,me),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Rl(this.g)},cn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Kn(f),f=_);y.i.push(new bc(y.Ya++,f)),y.G==3&&Ya(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,cn.aa.N.call(this)};function Nc(f){zi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const _ in y){f=_;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}k(Nc,zi);function kc(){ml.call(this),this.status=1}k(kc,ml);function gi(f){this.g=f}k(gi,Pc),gi.prototype.ua=function(){Xt(this.g,"a")},gi.prototype.ta=function(f){Xt(this.g,new Nc(f))},gi.prototype.sa=function(f){Xt(this.g,new kc)},gi.prototype.ra=function(){Xt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Jw=function(){return new Ka},Zw=function(){return As()},Ww=oi,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,ah=Is,Ui.COMPLETE="complete",$w=Ui,dl.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",me.prototype.listen=me.prototype.K,bu=dl,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,Xw=Qt}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const F1="@firebase/firestore",q1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new wy("@firebase/firestore");function So(){return wa.logLevel}function dt(n,...t){if(wa.logLevel<=Vt.DEBUG){const e=t.map(ky);wa.debug(`Firestore (${el}): ${n}`,...e)}}function ps(n,...t){if(wa.logLevel<=Vt.ERROR){const e=t.map(ky);wa.error(`Firestore (${el}): ${n}`,...e)}}function Ho(n,...t){if(wa.logLevel<=Vt.WARN){const e=t.map(ky);wa.warn(`Firestore (${el}): ${n}`,...e)}}function ky(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,tA(n,s,e)}function tA(n,t,e){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ps(s),new Error(s)}function Kt(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||tA(t,a,s)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class EP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class TP{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new eA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class wP{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AP{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new wP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new H1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=RP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function Dt(n,t){return n<t?-1:n>t?1:0}function Dg(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Dt(s,a);{const l=nA(),c=IP(l.encode(G1(n,e)),l.encode(G1(t,e)));return c!==0?c:Dt(s,a)}}e+=s>65535?2:1}return Dt(n.length,t.length)}function G1(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function IP(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Dt(n[e],t[e]);return Dt(n.length,t.length)}function Go(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=-62135596800,Q1=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(t){return Pe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*Q1);return new Pe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Y1)throw new mt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q1}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Y1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Pe(0,0))}static max(){return new It(new Pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__name__";class wi{constructor(t,e,s){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&At(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=wi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Dt(t.length,e.length)}static compareSegments(t,e){const s=wi.isNumericId(t),a=wi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?wi.extractNumericId(t).compare(wi.extractNumericId(e)):Dg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class ae extends wi{construct(t,e,s){return new ae(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const CP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends wi{construct(t,e,s){return new Xe(t,e,s)}static isValidIdentifier(t){return CP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K1}static keyField(){return new Xe([K1])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new mt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new mt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new mt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(ae.fromString(t))}static fromName(t){return new bt(ae.fromString(t).popFirst(5))}static empty(){return new bt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;function xP(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=It.fromTimestamp(s===1e9?new Pe(e+1,0):new Pe(e,s));return new hr(a,bt.empty(),t)}function OP(n){return new hr(n.readTime,n.key,Bu)}class hr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new hr(It.min(),bt.empty(),Bu)}static max(){return new hr(It.max(),bt.empty(),Bu)}}function DP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=bt.comparator(n.documentKey,t.documentKey),e!==0?e:Dt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==MP)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,s)=>{e(t)})}static reject(t){return new et((e,s)=>{s(t)})}static waitFor(t){return new et((e,s)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},m=>s(m))}),c=!0,l===a&&e()})}static or(t){let e=et.resolve(!1);for(const s of t)e=e.next(a=>a?et.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,l)=>{s.push(e.call(this,a,l))}),this.waitFor(s)}static mapArray(t,e){return new et((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next(v=>{c[p]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(t,e){return new et((s,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):s()};l()})}}function NP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function Jh(n){return n==null}function Rh(n){return n===0&&1/n==-1/0}function kP(n){return typeof n=="number"&&Number.isInteger(n)&&!Rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="";function VP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=X1(t)),t=LP(n.get(e),t);return X1(t)}function LP(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case sA:e+="";break;default:e+=l}}return e}function X1(n){return n+sA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ar(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function rA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,e){this.comparator=t,this.root=e||Ke.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uf(this.root,t,this.comparator,!0)}}class Uf{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??Ke.RED,this.left=a??Ke.EMPTY,this.right=l??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new Ke(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ke.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(t){return new W1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class W1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new xn([])}unionWith(t){let e=new Ne(Xe.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new xn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aA("Invalid base64 string: "+l):l}}(t);return new $e(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const zP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=zP.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="server_timestamp",lA="__type__",uA="__previous_value__",cA="__local_write_time__";function Ly(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[lA])===null||e===void 0?void 0:e.stringValue)===oA}function td(n){const t=n.mapValue.fields[uA];return Ly(t)?td(t):t}function Fu(n){const t=dr(n.mapValue.fields[cA].timestampValue);return new Pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,e,s,a,l,c,d,m,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Ih="(default)";class qu{constructor(t,e){this.projectId=t,this.database=e||Ih}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(t){return t instanceof qu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="__type__",jP="__max__",jf={mapValue:{}},hA="__vector__",Ch="value";function pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ly(n)?4:FP(n)?9007199254740991:BP(n)?10:11:At(28295,{value:n})}function ki(n,t){if(n===t)return!0;const e=pr(n);if(e!==pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fu(n).isEqual(Fu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=dr(a.timestampValue),d=dr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return mr(a.bytesValue).isEqual(mr(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),d=be(l.doubleValue);return c===d?Rh(c)===Rh(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Go(n.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if($1(c)!==$1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ki(c[m],d[m])))return!1;return!0}(n,t);default:return At(52216,{left:n})}}function Hu(n,t){return(n.values||[]).find(e=>ki(e,t))!==void 0}function Yo(n,t){if(n===t)return 0;const e=pr(n),s=pr(t);if(e!==s)return Dt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=be(l.integerValue||l.doubleValue),m=be(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return Z1(n.timestampValue,t.timestampValue);case 4:return Z1(Fu(n),Fu(t));case 5:return Dg(n.stringValue,t.stringValue);case 6:return function(l,c){const d=mr(l),m=mr(c);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Dt(d[p],m[p]);if(v!==0)return v}return Dt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Dt(be(l.latitude),be(c.latitude));return d!==0?d:Dt(be(l.longitude),be(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return J1(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,v;const E=l.fields||{},T=c.fields||{},R=(d=E[Ch])===null||d===void 0?void 0:d.arrayValue,k=(m=T[Ch])===null||m===void 0?void 0:m.arrayValue,q=Dt(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:J1(R,k)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===jf.mapValue&&c===jf.mapValue)return 0;if(l===jf.mapValue)return 1;if(c===jf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const T=Dg(m[E],v[E]);if(T!==0)return T;const R=Yo(d[m[E]],p[v[E]]);if(R!==0)return R}return Dt(m.length,v.length)}(n.mapValue,t.mapValue);default:throw At(23264,{Pe:e})}}function Z1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Dt(n,t);const e=dr(n),s=dr(t),a=Dt(e.seconds,s.seconds);return a!==0?a:Dt(e.nanos,s.nanos)}function J1(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=Yo(e[a],s[a]);if(l)return l}return Dt(e.length,s.length)}function Qo(n){return Mg(n)}function Mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=dr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return mr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return bt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=Mg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Mg(e.fields[c])}`;return a+"}"}(n.mapValue):At(61005,{value:n})}function oh(n){switch(pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=td(n);return t?16+oh(t):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+oh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Ar(s.fields,(l,c)=>{a+=l.length+oh(c)}),a}(n.mapValue);default:throw At(13486,{value:n})}}function tE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Pg(n){return!!n&&"integerValue"in n}function zy(n){return!!n&&"arrayValue"in n}function eE(n){return!!n&&"nullValue"in n}function nE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lh(n){return!!n&&"mapValue"in n}function BP(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[fA])===null||e===void 0?void 0:e.stringValue)===hA}function xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ar(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=xu(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=xu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function FP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!lh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xu(e)}setAll(t){let e=Xe.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=xu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());lh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];lh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Ar(e,(a,l)=>t[a]=l);for(const a of s)delete t[a]}clone(){return new yn(xu(this.value))}}function dA(n){const t=[];return Ar(n.fields,(e,s)=>{const a=new Xe([e]);if(lh(s)){const l=dA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,s,a,l,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,It.min(),It.min(),It.min(),yn.empty(),0)}static newFoundDocument(t,e,s,a){return new nn(t,1,e,It.min(),s,a,0)}static newNoDocument(t,e){return new nn(t,2,e,It.min(),It.min(),yn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,It.min(),It.min(),yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,e){this.position=t,this.inclusive=e}}function iE(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?s=bt.comparator(bt.fromName(c.referenceValue),e.key):s=Yo(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ki(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,e="asc"){this.field=t,this.dir=e}}function qP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class Re extends mA{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new GP(t,e,s):e==="array-contains"?new KP(t,s):e==="in"?new XP(t,s):e==="not-in"?new $P(t,s):e==="array-contains-any"?new WP(t,s):new Re(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new YP(t,s):new QP(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yo(e,this.value)):e!==null&&pr(this.value)===pr(e)&&this.matchesComparison(Yo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends mA{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ri(t,e)}matches(t){return pA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function pA(n){return n.op==="and"}function gA(n){return HP(n)&&pA(n)}function HP(n){for(const t of n.filters)if(t instanceof ri)return!1;return!0}function Ng(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(gA(n))return n.filters.map(t=>Ng(t)).join(",");{const t=n.filters.map(e=>Ng(e)).join(",");return`${n.op}(${t})`}}function yA(n,t){return n instanceof Re?function(s,a){return a instanceof Re&&s.op===a.op&&s.field.isEqual(a.field)&&ki(s.value,a.value)}(n,t):n instanceof ri?function(s,a){return a instanceof ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&yA(c,a.filters[d]),!0):!1}(n,t):void At(19439)}function vA(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Qo(e.value)}`}(n):n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(vA).join(" ,")+"}"}(n):"Filter"}class GP extends Re{constructor(t,e,s){super(t,e,s),this.key=bt.fromName(s.referenceValue)}matches(t){const e=bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class YP extends Re{constructor(t,e){super(t,"in",e),this.keys=_A("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class QP extends Re{constructor(t,e){super(t,"not-in",e),this.keys=_A("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function _A(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>bt.fromName(s.referenceValue))}class KP extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zy(e)&&Hu(e.arrayValue,this.value)}}class XP extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hu(this.value.arrayValue,e)}}class $P extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hu(this.value.arrayValue,e)}}class WP extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(t,e=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function rE(n,t=null,e=[],s=[],a=null,l=null,c=null){return new ZP(n,t,e,s,a,l,c)}function Uy(n){const t=Ct(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Ng(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Jh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Qo(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Qo(s)).join(",")),t.Ie=e}return t.Ie}function jy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!qP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!yA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!sE(n.startAt,t.startAt)&&sE(n.endAt,t.endAt)}function kg(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,e=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JP(n,t,e,s,a,l,c,d){return new sl(n,t,e,s,a,l,c,d)}function ed(n){return new sl(n)}function aE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bA(n){return n.collectionGroup!==null}function Ou(n){const t=Ct(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ne(Xe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Gu(l,s))}),e.has(Xe.keyField().canonicalString())||t.Ee.push(new Gu(Xe.keyField(),s))}return t.Ee}function Di(n){const t=Ct(n);return t.de||(t.de=tN(t,Ou(n))),t.de}function tN(n,t){if(n.limitType==="F")return rE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Gu(a.field,l)});const e=n.endAt?new xh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new xh(n.startAt.position,n.startAt.inclusive):null;return rE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Vg(n,t){const e=n.filters.concat([t]);return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Lg(n,t,e){return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function nd(n,t){return jy(Di(n),Di(t))&&n.limitType===t.limitType}function EA(n){return`${Uy(Di(n))}|lt:${n.limitType}`}function Ro(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>vA(a)).join(", ")}]`),Jh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>Qo(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>Qo(a)).join(",")),`Target(${s})`}(Di(n))}; limitType=${n.limitType})`}function id(n,t){return t.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):bt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,t)&&function(s,a){for(const l of Ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=iE(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,Ou(s),a)||s.endAt&&!function(c,d,m){const p=iE(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,Ou(s),a))}(n,t)}function eN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TA(n){return(t,e)=>{let s=!1;for(const a of Ou(n)){const l=nN(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function nN(n,t,e){const s=n.field.isKeyField()?bt.comparator(t.key,e.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Yo(m,p):At(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,(e,s)=>{for(const[a,l]of s)t(a,l)})}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new he(bt.comparator);function gs(){return iN}const wA=new he(bt.comparator);function Eu(...n){let t=wA;for(const e of n)t=t.insert(e.key,e);return t}function AA(n){let t=wA;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function da(){return Du()}function SA(){return Du()}function Du(){return new Ca(n=>n.toString(),(n,t)=>n.isEqual(t))}const sN=new he(bt.comparator),rN=new Ne(bt.comparator);function Lt(...n){let t=rN;for(const e of n)t=t.add(e);return t}const aN=new Ne(Dt);function oN(){return aN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(t)?"-0":t}}function RA(n){return{integerValue:""+n}}function lN(n,t){return kP(t)?RA(t):By(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function uN(n,t,e){return n instanceof Oh?function(a,l){const c={fields:{[lA]:{stringValue:oA},[cA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ly(l)&&(l=td(l)),l&&(c.fields[uA]=l),{mapValue:c}}(e,t):n instanceof Yu?CA(n,t):n instanceof Qu?xA(n,t):function(a,l){const c=IA(a,l),d=oE(c)+oE(a.Re);return Pg(c)&&Pg(a.Re)?RA(d):By(a.serializer,d)}(n,t)}function cN(n,t,e){return n instanceof Yu?CA(n,t):n instanceof Qu?xA(n,t):e}function IA(n,t){return n instanceof Dh?function(s){return Pg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Oh extends sd{}class Yu extends sd{constructor(t){super(),this.elements=t}}function CA(n,t){const e=OA(t);for(const s of n.elements)e.some(a=>ki(a,s))||e.push(s);return{arrayValue:{values:e}}}class Qu extends sd{constructor(t){super(),this.elements=t}}function xA(n,t){let e=OA(t);for(const s of n.elements)e=e.filter(a=>!ki(a,s));return{arrayValue:{values:e}}}class Dh extends sd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function oE(n){return be(n.integerValue||n.doubleValue)}function OA(n){return zy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fN(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof Yu&&a instanceof Yu||s instanceof Qu&&a instanceof Qu?Go(s.elements,a.elements,ki):s instanceof Dh&&a instanceof Dh?ki(s.Re,a.Re):s instanceof Oh&&a instanceof Oh}(n.transform,t.transform)}class hN{constructor(t,e){this.version=t,this.transformResults=e}}class Qn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class rd{}function DA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Fy(n.key,Qn.none()):new sc(n.key,n.data,Qn.none());{const e=n.data,s=yn.empty();let a=new Ne(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Sr(n.key,s,new xn(a.toArray()),Qn.none())}}function dN(n,t,e){n instanceof sc?function(a,l,c){const d=a.value.clone(),m=uE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Sr?function(a,l,c){if(!uh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=uE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(MA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Mu(n,t,e,s){return n instanceof sc?function(l,c,d,m){if(!uh(l.precondition,c))return d;const p=l.value.clone(),v=cE(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,t,e,s):n instanceof Sr?function(l,c,d,m){if(!uh(l.precondition,c))return d;const p=cE(l.fieldTransforms,m,c),v=c.data;return v.setAll(MA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(l,c,d){return uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function mN(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=IA(s.transform,a||null);l!=null&&(e===null&&(e=yn.empty()),e.set(s.field,l))}return e||null}function lE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Go(s,a,(l,c)=>fN(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class sc extends rd{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sr extends rd{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function MA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function uE(n,t,e){const s=new Map;Kt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,cN(c,d,e[a]))}return s}function cE(n,t,e){const s=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);s.set(a.field,uN(l,c,t))}return s}class Fy extends rd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pN extends rd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&dN(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Mu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Mu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=SA();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const m=DA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,(e,s)=>lE(e,s))&&Go(this.baseMutations,t.baseMutations,(e,s)=>lE(e,s))}}class qy{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let a=function(){return sN}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new qy(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,qt;function _N(n){switch(n){case tt.OK:return At(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function PA(n){if(n===void 0)return ps("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Se.OK:return tt.OK;case Se.CANCELLED:return tt.CANCELLED;case Se.UNKNOWN:return tt.UNKNOWN;case Se.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Se.INTERNAL:return tt.INTERNAL;case Se.UNAVAILABLE:return tt.UNAVAILABLE;case Se.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Se.NOT_FOUND:return tt.NOT_FOUND;case Se.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Se.ABORTED:return tt.ABORTED;case Se.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Se.DATA_LOSS:return tt.DATA_LOSS;default:return At(39323,{code:n})}}(qt=Se||(Se={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new cr([4294967295,4294967295],0);function fE(n){const t=nA().encode(n),e=new Kw;return e.update(t),new Uint8Array(e.digest())}function hE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new cr([e,s],0),new cr([a,l],0)]}class Hy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Tu(`Invalid padding: ${e}`);if(s<0)throw new Tu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=cr.fromNumber(this.pe)}we(t,e,s){let a=t.add(e.multiply(cr.fromNumber(s)));return a.compare(bN)===1&&(a=new cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=fE(t),[s,a]=hE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Hy(l,a,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=fE(t),[s,a]=hE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,rc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new ad(It.min(),a,new he(Dt),gs(),Lt())}}class rc{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new rc(s,e,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,e,s,a){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=a}}class NA{constructor(t,e){this.targetId=t,this.Ce=e}}class kA{constructor(t,e,s=$e.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class dE{constructor(){this.Fe=0,this.Me=mE(),this.xe=$e.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),e=Lt(),s=Lt();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:At(38017,{changeType:l})}}),new rc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=mE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EN{constructor(t){this.ze=t,this.je=new Map,this.He=gs(),this.Je=Bf(),this.Ye=Bf(),this.Ze=new he(Dt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,s=t.Ce.count,a=this._t(e);if(a){const l=a.target;if(kg(l))if(s===0){const c=new bt(l.path);this.tt(e,c,nn.newNoDocument(c,It.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this.ut(e);if(c!==s){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=mr(s).toUint8Array()}catch(m){if(m instanceof aA)return Ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Hy(c,a,l)}catch(m){return Ho(m instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),a++)}),a}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&kg(d.target)){const m=new bt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,nn.newNoDocument(m,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let s=Lt();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new ad(t,e,this.Ze,this.He,s);return this.He=gs(),this.Je=Bf(),this.Ye=Bf(),this.Ze=new he(Dt),a}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new dE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ne(Dt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ne(Dt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new dE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Bf(){return new he(bt.comparator)}function mE(){return new he(bt.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},wN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AN={and:"AND",or:"OR"};class SN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zg(n,t){return n.useProto3Json||Jh(t)?t:{value:t}}function Mh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function RN(n,t){return Mh(n,t.toTimestamp())}function Mi(n){return Kt(!!n,49232),It.fromTimestamp(function(e){const s=dr(e);return new Pe(s.seconds,s.nanos)}(n))}function Gy(n,t){return Ug(n,t).canonicalString()}function Ug(n,t){const e=function(a){return new ae(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function LA(n){const t=ae.fromString(n);return Kt(FA(t),10190,{key:t.toString()}),t}function jg(n,t){return Gy(n.databaseId,t.path)}function tg(n,t){const e=LA(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new bt(UA(e))}function zA(n,t){return Gy(n.databaseId,t)}function IN(n){const t=LA(n);return t.length===4?ae.emptyPath():UA(t)}function Bg(n){return new ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UA(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pE(n,t,e){return{name:jg(n,t),fields:e.value.mapValue.fields}}function CN(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:At(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),$e.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$e.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const v=p.code===void 0?tt.UNKNOWN:PA(p.code);return new mt(v,p.message||"")}(c);e=new kA(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=tg(n,s.document.name),l=Mi(s.document.updateTime),c=s.document.createTime?Mi(s.document.createTime):It.min(),d=new yn({mapValue:{fields:s.document.fields}}),m=nn.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];e=new ch(p,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=tg(n,s.document),l=s.readTime?Mi(s.readTime):It.min(),c=nn.newNoDocument(a,l),d=s.removedTargetIds||[];e=new ch([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=tg(n,s.document),l=s.removedTargetIds||[];e=new ch([],l,a,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new vN(a,l),d=s.targetId;e=new NA(d,c)}}return e}function xN(n,t){let e;if(t instanceof sc)e={update:pE(n,t.key,t.value)};else if(t instanceof Fy)e={delete:jg(n,t.key)};else if(t instanceof Sr)e={update:pE(n,t.key,t.data),updateMask:zN(t.fieldMask)};else{if(!(t instanceof pN))return At(16599,{ft:t.type});e={verify:jg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Oh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw At(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:RN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:At(27497)}(n,t.precondition)),e}function ON(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(a,l){let c=a.updateTime?Mi(a.updateTime):Mi(l);return c.isEqual(It.min())&&(c=Mi(l)),new hN(c,a.transformResults||[])}(e,t))):[]}function DN(n,t){return{documents:[zA(n,t.path)]}}function MN(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=zA(n,a);const l=function(p){if(p.length!==0)return BA(ri.create(p,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(T){return{field:Io(T.field),direction:kN(T.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=zg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:e,parent:a}}function PN(n){let t=IN(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=function(E){const T=jA(E);return T instanceof ri&&gA(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(T=>function(k){return new Gu(Co(k.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(e.orderBy));let d=null;e.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Jh(T)?null:T}(e.limit));let m=null;e.startAt&&(m=function(E){const T=!!E.before,R=E.values||[];return new xh(R,T)}(e.startAt));let p=null;return e.endAt&&(p=function(E){const T=!E.before,R=E.values||[];return new xh(R,T)}(e.endAt)),JP(t,a,c,l,d,"F",m,p)}function NN(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function jA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Co(e.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Co(e.unaryFilter.field);return Re.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(e.unaryFilter.field);return Re.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(e.unaryFilter.field);return Re.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Co(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ri.create(e.compositeFilter.filters.map(s=>jA(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(e.compositeFilter.op))}(n):At(30097,{filter:n})}function kN(n){return TN[n]}function VN(n){return wN[n]}function LN(n){return AN[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Co(n){return Xe.fromServerFormat(n.fieldPath)}function BA(n){return n instanceof Re?function(e){if(e.op==="=="){if(nE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NAN"}};if(eE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(nE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NAN"}};if(eE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(e.field),op:VN(e.op),value:e.value}}}(n):n instanceof ri?function(e){const s=e.getFilters().map(a=>BA(a));return s.length===1?s[0]:{compositeFilter:{op:LN(e.op),filters:s}}}(n):At(54877,{filter:n})}function zN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function FA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,e,s,a,l=It.min(),c=It.min(),d=$e.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.wt=t}}function jN(n){const t=PN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.Cn=new FN}addToCollectionParentIndex(t,e){return this.Cn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(hr.min())}updateCollectionGroup(t,e,s){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class FN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Ne(ae.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ne(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qA=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(qA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ko(0)}static lr(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",qN=1048576;function vE([n,t],[e,s]){const a=Dt(n,e);return a===0?Dt(t,s):a}class HN{constructor(t){this.Er=t,this.buffer=new Ne(vE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();vE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class GN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt(yE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){il(e)?dt(yE,"Ignoring IndexedDB error during garbage collection: ",e):await nl(e)}await this.mr(3e5)})}}class YN{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Zh.le);const s=new HN(e);return this.gr.forEachTarget(t,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(gE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(p=Date.now(),So()<=Vt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function QN(n,t){return new YN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.changes=new Ca(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?et.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&Mu(s.mutation,a,xn.empty(),Pe.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Lt()){const a=da();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(l=>{let c=Eu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=da();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Lt()))}populateOverlays(t,e,s){const a=[];return s.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,a){let l=gs();const c=Du(),d=function(){return Du()}();return e.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Sr)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Mu(v.mutation,p,v.mutation.getFieldMask(),Pe.now())):c.set(p.key,xn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),e.forEach((p,v)=>{var E;return d.set(p,new XN(v,(E=c.get(p))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,e){const s=Du();let a=new he((c,d)=>c-d),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=e.get(m);if(p===null)return;let v=s.get(m)||xn.empty();v=d.applyToLocalView(p,v),s.set(m,v);const E=(a.get(d.batchId)||Lt()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,E=SA();v.forEach(T=>{if(!l.has(T)){const R=DA(e.get(T),s.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,E))}return et.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(c){return bt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):bA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):et.resolve(da());let d=Bu,m=l;return c.next(p=>et.forEach(p,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Lt())).next(v=>({batchId:d,changes:AA(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new bt(e)).next(s=>{let a=Eu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(t,l).next(d=>et.forEach(d,m=>{const p=function(E,T){return new sl(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))});let d=Eu();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&Mu(v.mutation,p,xn.empty(),Pe.now()),id(e,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return et.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Mi(a.createTime)}}(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:jN(a.bundledQuery),readTime:Mi(a.readTime)}}(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.overlays=new he(bt.comparator),this.Qr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const s=da();return et.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,l)=>{this.St(t,e,l)}),et.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),et.resolve()}getOverlaysForCollection(t,e,s){const a=da(),l=e.length+1,c=new bt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new he((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=da(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=da(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return et.resolve(d)}St(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new yN(e,s));let l=this.Qr.get(e);l===void 0&&(l=Lt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.$r=new Ne(Be.Ur),this.Kr=new Ne(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Be(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Be(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new bt(new ae([])),s=new Be(e,t),a=new Be(e,t+1),l=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new bt(new ae([])),s=new Be(e,t),a=new Be(e,t+1);let l=Lt();return this.Kr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Be(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return bt.comparator(t.key,e.key)||Dt(t.Zr,e.Zr)}static Wr(t,e){return Dt(t.Zr,e.Zr)||bt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ne(Be.Ur)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gN(l,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Be(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.ti(s),l=a<0?0:a;return et.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Vy:this.nr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Be(e,0),a=new Be(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);l.push(d)}),et.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ne(Dt);return e.forEach(a=>{const l=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{s=s.add(d.Zr)})}),et.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;bt.isDocumentKey(l)||(l=l.child(""));const c=new Be(new bt(l),0);let d=new Ne(Dt);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},c),et.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const a=this.ei(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Kt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return et.forEach(e.mutations,a=>{const l=new Be(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Be(e,0),a=this.Xr.firstAfterOrEqual(s);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this.ii=t,this.docs=function(){return new he(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return et.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let s=gs();return e.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))}),et.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=gs();const c=e.path,d=new bt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||DP(OP(v),s)<=0||(a.has(v.key)||id(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return et.resolve(l)}getAllFromCollectionGroup(t,e,s,a){At(9500)}si(t,e){return et.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new nk(this)}getSize(t){return et.resolve(this.size)}}class nk extends KN{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(s)}),et.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.persistence=t,this.oi=new Ca(e=>Uy(e),jy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this._i=0,this.ai=new Yy,this.targetCount=0,this.ui=Ko.cr()}forEachTarget(t,e){return this.oi.forEach((s,a)=>e(a)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),et.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Ko(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.Tr(e),et.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),et.waitFor(l).next(()=>a)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return et.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),et.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),et.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return et.resolve(s)}containsKey(t,e){return et.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,e){this.ci={},this.overlays={},this.li=new Zh(0),this.hi=!1,this.hi=!0,this.Pi=new JN,this.referenceDelegate=t(this),this.Ti=new ik(this),this.indexManager=new BN,this.remoteDocumentCache=function(a){return new ek(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new UN(e),this.Ei=new WN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ZN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new tk(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const a=new sk(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,e){return et.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class sk extends PP{constructor(t){super(),this.currentSequenceNumber=t}}class Qy{constructor(t){this.persistence=t,this.Vi=new Yy,this.mi=null}static fi(t){return new Qy(t)}get gi(){if(this.mi)return this.mi;throw At(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),et.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.gi,s=>{const a=bt.fromPath(s);return this.pi(t,a).next(l=>{l||e.removeEntry(a,It.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return et.or([()=>et.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Ph{constructor(t,e){this.persistence=t,this.yi=new Ca(s=>VP(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=QN(this,e)}static fi(t,e){return new Ph(t,e)}di(){}Ai(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return et.forEach(this.yi,(s,a)=>this.Dr(t,s,a).next(l=>l?et.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(s++,l.removeEntry(c,It.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),et.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=oh(t.data.value)),e}Dr(t,e,s){return et.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return et.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.ds=s,this.As=a}static Rs(t,e){let s=Lt(),a=Lt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ky(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return jx()?8:NP(an())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.ws(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(t,e,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new rk;return this.Ss(t,e,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>l.result)}Ds(t,e,s,a){return s.documentReadCount<this.gs?(So()<=Vt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Ro(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),et.resolve()):(So()<=Vt.DEBUG&&dt("QueryEngine","Query:",Ro(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(So()<=Vt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(e))):et.resolve())}ws(t,e){if(aE(e))return et.resolve(null);let s=Di(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=Lg(e,null,"F"),s=Di(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=Lt(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const p=this.vs(e,d);return this.Cs(e,p,c,m.readTime)?this.ws(t,Lg(e,null,"F")):this.Fs(t,p,e,m)}))})))}bs(t,e,s,a){return aE(e)||a.isEqual(It.min())?et.resolve(null):this.ys.getDocuments(t,s).next(l=>{const c=this.vs(e,l);return this.Cs(e,c,s,a)?et.resolve(null):(So()<=Vt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(e)),this.Fs(t,c,e,xP(a,Bu)).next(d=>d))})}vs(t,e){let s=new Ne(TA(t));return e.forEach((a,l)=>{id(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,s){return So()<=Vt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Ro(e)),this.ys.getDocumentsMatchingQuery(t,e,hr.min(),s)}Fs(t,e,s,a){return this.ys.getDocumentsMatchingQuery(t,s,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LocalStore",ok=3e8;class lk{constructor(t,e,s,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new he(Dt),this.Os=new Ca(l=>Uy(l),jy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $N(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function uk(n,t,e,s){return new lk(n,t,e,s)}async function GA(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=Lt();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(s,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function ck(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const E=p.batch,T=E.keys();let R=et.resolve();return T.forEach(k=>{R=R.next(()=>v.getEntry(m,k)).next(q=>{const z=p.docVersions.get(k);Kt(z!==null,48541),q.version.compareTo(z)<0&&(E.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),v.addEntry(q)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Lt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function YA(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function fk(n,t){const e=Ct(n),s=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;d.push(e.Ti.removeMatchingKeys(l,v.removedDocuments,E).next(()=>e.Ti.addMatchingKeys(l,v.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken($e.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(E,R),function(q,z,K){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=ok?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(T,R,v)&&d.push(e.Ti.updateTargetData(l,R))});let m=gs(),p=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(hk(l,c,t.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!s.isEqual(It.min())){const v=e.Ti.getLastRemoteSnapshotVersion(l).next(E=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return et.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(e.xs=a,l))}function hk(n,t,e){let s=Lt(),a=Lt();return e.forEach(l=>s=s.add(l)),t.getEntries(n,s).next(l=>{let c=gs();return e.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(It.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(Xy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function dk(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Vy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function mk(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Ti.getTargetData(s,t).next(l=>l?(a=l,et.resolve(a)):e.Ti.allocateTargetId(s).next(c=>(a=new rr(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Fg(n,t,e){const s=Ct(n),a=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!il(c))throw c;dt(Xy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.xs=s.xs.remove(t),s.Os.delete(a.target)}function _E(n,t,e){const s=Ct(n);let a=It.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const E=Ct(m),T=E.Os.get(v);return T!==void 0?et.resolve(E.xs.get(T)):E.Ti.getTargetData(p,v)}(s,c,Di(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,t,e?a:It.min(),e?l:Lt())).next(d=>(pk(s,eN(t),d),{documents:d,$s:l})))}function pk(n,t,e){let s=n.Ns.get(t)||It.min();e.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Ns.set(t,s)}class bE{constructor(){this.activeTargetIds=oN()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gk{constructor(){this.xo=new bE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new bE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(EE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(EE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function qg(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",vk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _k{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(t,e,s,a,l){const c=qg(),d=this.jo(t,e.toUriEncodedString());dt(eg,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(d),v=Zo(p);return this.Jo(t,d,m,s,v).then(E=>(dt(eg,`Received RPC '${t}' ${c}: `,E),E),E=>{throw Ho(eg,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Yo(t,e,s,a,l,c){return this.zo(t,e,s,a,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}jo(t,e){const s=vk[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class Ek extends _k{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,a,l){const c=qg();return new Promise((d,m)=>{const p=new Xw;p.setWithCredentials(!0),p.listenOnce($w.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const E=p.getResponseJson();dt(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case ah.TIMEOUT:dt(tn,`RPC '${t}' ${c} timed out`),m(new mt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const T=p.getStatus();if(dt(tn,`RPC '${t}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R==null?void 0:R.error;if(k&&k.status&&k.message){const q=function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(X)>=0?X:tt.UNKNOWN}(k.status);m(new mt(q,k.message))}else m(new mt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(tt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{h_:t,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{dt(tn,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(a);dt(tn,`RPC '${t}' ${c} sending request:`,a),p.send(e,"POST",v,s,15)})}I_(t,e,s){const a=qg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Jw(),d=Zw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const v=l.join("");dt(tn,`Creating RPC '${t}' stream ${a}: ${v}`,m);const E=c.createWebChannel(v,m);this.E_(E);let T=!1,R=!1;const k=new bk({Zo:z=>{R?dt(tn,`Not sending because RPC '${t}' stream ${a} is closed:`,z):(T||(dt(tn,`Opening RPC '${t}' stream ${a} transport.`),E.open(),T=!0),dt(tn,`RPC '${t}' stream ${a} sending:`,z),E.send(z))},Xo:()=>E.close()}),q=(z,K,X)=>{z.listen(K,Z=>{try{X(Z)}catch(ut){setTimeout(()=>{throw ut},0)}})};return q(E,bu.EventType.OPEN,()=>{R||(dt(tn,`RPC '${t}' stream ${a} transport opened.`),k.__())}),q(E,bu.EventType.CLOSE,()=>{R||(R=!0,dt(tn,`RPC '${t}' stream ${a} transport closed`),k.u_(),this.d_(E))}),q(E,bu.EventType.ERROR,z=>{R||(R=!0,Ho(tn,`RPC '${t}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),k.u_(new mt(tt.UNAVAILABLE,"The operation could not be completed")))}),q(E,bu.EventType.MESSAGE,z=>{var K;if(!R){const X=z.data[0];Kt(!!X,16349);const Z=X,ut=(Z==null?void 0:Z.error)||((K=Z[0])===null||K===void 0?void 0:K.error);if(ut){dt(tn,`RPC '${t}' stream ${a} received error:`,ut);const lt=ut.status;let ct=function(I){const M=Se[I];if(M!==void 0)return PA(M)}(lt),O=ut.message;ct===void 0&&(ct=tt.INTERNAL,O="Unknown error status: "+lt+" with message "+ut.message),R=!0,k.u_(new mt(ct,O)),E.close()}else dt(tn,`RPC '${t}' stream ${a} received:`,X),k.c_(X)}}),q(d,Ww.STAT_EVENT,z=>{z.stat===Og.PROXY?dt(tn,`RPC '${t}' stream ${a} detected buffering proxy`):z.stat===Og.NOPROXY&&dt(tn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){return new SN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t,e,s=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,e-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class KA{constructor(t,e,s,a,l,c,d,m){this.xi=t,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new QA(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(ps(e.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===e&&this.z_(s,a)},s=>{t(()=>{const a=new mt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return dt(wE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(dt(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tk extends KA{constructor(t,e,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=CN(this.serializer,t),s=function(l){if(!("targetChange"in l))return It.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?Mi(c.readTime):It.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Bg(this.serializer),e.addTarget=function(l,c){let d;const m=c.target;if(d=kg(m)?{documents:DN(l,m)}:{query:MN(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=VA(l,c.resumeToken);const p=zg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=Mh(l,c.snapshotVersion.toTimestamp());const p=zg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const s=NN(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Bg(this.serializer),e.removeTarget=t,this.Q_(e)}}class wk extends KA{constructor(t,e,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=ON(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Bg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>xN(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{}class Sk extends Ak{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new mt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,Ug(e,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(tt.UNKNOWN,l.toString())})}Yo(t,e,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,Ug(e,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(tt.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Rk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ps(e),this.ua=!1):dt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class Ik{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{s.enqueueAndForget(async()=>{xa(this)&&(dt(Aa,"Restarting streams for network reachability change."),await async function(m){const p=Ct(m);p.da.add(4),await ac(p),p.Va.set("Unknown"),p.da.delete(4),await ld(p)}(this))})}),this.Va=new Rk(s,a)}}async function ld(n){if(xa(n))for(const t of n.Aa)await t(!0)}async function ac(n){for(const t of n.Aa)await t(!1)}function XA(n,t){const e=Ct(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Jy(e)?Zy(e):rl(e).N_()&&Wy(e,t))}function $y(n,t){const e=Ct(n),s=rl(e);e.Ea.delete(t),s.N_()&&$A(e,t),e.Ea.size===0&&(s.N_()?s.k_():xa(e)&&e.Va.set("Unknown"))}function Wy(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}rl(n).Z_(t)}function $A(n,t){n.ma.Ke(t),rl(n).X_(t)}function Zy(n){n.ma=new EN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.Va.ca()}function Jy(n){return xa(n)&&!rl(n).O_()&&n.Ea.size>0}function xa(n){return Ct(n).da.size===0}function WA(n){n.ma=void 0}async function Ck(n){n.Va.set("Online")}async function xk(n){n.Ea.forEach((t,e)=>{Wy(n,t)})}async function Ok(n,t){WA(n),Jy(n)?(n.Va.Pa(t),Zy(n)):n.Va.set("Unknown")}async function Dk(n,t,e){if(n.Va.set("Online"),t instanceof kA&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,t)}catch(s){dt(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Nh(n,s)}else if(t instanceof ch?n.ma.Xe(t):t instanceof NA?n.ma.ot(t):n.ma.nt(t),!e.isEqual(It.min()))try{const s=await YA(n.localStore);e.compareTo(s)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),$A(l,m);const E=new rr(v.target,m,p,v.sequenceNumber);Wy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){dt(Aa,"Failed to raise snapshot:",s),await Nh(n,s)}}async function Nh(n,t,e){if(!il(t))throw t;n.da.add(1),await ac(n),n.Va.set("Offline"),e||(e=()=>YA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(Aa,"Retrying IndexedDB access"),await e(),n.da.delete(1),await ld(n)})}function ZA(n,t){return t().catch(e=>Nh(n,e,t))}async function ud(n){const t=Ct(n),e=gr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Vy;for(;Mk(t);)try{const a=await dk(t.localStore,s);if(a===null){t.Ia.length===0&&e.k_();break}s=a.batchId,Pk(t,a)}catch(a){await Nh(t,a)}JA(t)&&tS(t)}function Mk(n){return xa(n)&&n.Ia.length<10}function Pk(n,t){n.Ia.push(t);const e=gr(n);e.N_()&&e.ea&&e.ta(t.mutations)}function JA(n){return xa(n)&&!gr(n).O_()&&n.Ia.length>0}function tS(n){gr(n).start()}async function Nk(n){gr(n).ia()}async function kk(n){const t=gr(n);for(const e of n.Ia)t.ta(e.mutations)}async function Vk(n,t,e){const s=n.Ia.shift(),a=qy.from(s,t,e);await ZA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await ud(n)}async function Lk(n,t){t&&gr(n).ea&&await async function(s,a){if(function(c){return _N(c)&&c!==tt.ABORTED}(a.code)){const l=s.Ia.shift();gr(s).L_(),await ZA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await ud(s)}}(n,t),JA(n)&&tS(n)}async function AE(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),dt(Aa,"RemoteStore received new credentials");const s=xa(e);e.da.add(3),await ac(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await ld(e)}async function zk(n,t){const e=Ct(n);t?(e.da.delete(2),await ld(e)):t||(e.da.add(2),await ac(e),e.Va.set("Unknown"))}function rl(n){return n.fa||(n.fa=function(e,s,a){const l=Ct(e);return l.oa(),new Tk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:Ck.bind(null,n),n_:xk.bind(null,n),i_:Ok.bind(null,n),Y_:Dk.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),Jy(n)?Zy(n):n.Va.set("Unknown")):(await n.fa.stop(),WA(n))})),n.fa}function gr(n){return n.ga||(n.ga=function(e,s,a){const l=Ct(e);return l.oa(),new wk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Nk.bind(null,n),i_:Lk.bind(null,n),na:kk.bind(null,n),ra:Vk.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await ud(n)):(await n.ga.stop(),n.Ia.length>0&&(dt(Aa,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const c=Date.now()+s,d=new tv(t,e,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(n,t){if(ps("AsyncQueue",`${t}: ${n}`),il(n))return new mt(tt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||bt.comparator(e.key,s.key):(e,s)=>bt.comparator(e.key,s.key),this.keyedMap=Eu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.pa=new he(bt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):At(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Xo{constructor(t,e,s,a,l,c,d,m,p){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,s,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Xo(t,e,Uo.emptySet(e),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class jk{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Ct(e),l=a.queries;a.queries=RE(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new mt(tt.ABORTED,"Firestore shutting down"))}}function RE(){return new Ca(n=>EA(n),nd)}async function nv(n,t){const e=Ct(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Da()&&t.va()&&(s=2):(l=new Uk,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(a,!0);break;case 1:l.ba=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=ev(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&sv(e)}async function iv(n,t){const e=Ct(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.va()?0:1:!l.Da()&&t.va()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Bk(n,t){const e=Ct(n);let s=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(s=!0);c.ba=a}}s&&sv(e)}function Fk(n,t,e){const s=Ct(n),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);s.queries.delete(t)}function sv(n){n.Ca.forEach(t=>{t.next()})}var Hg,IE;(IE=Hg||(Hg={})).xa="default",IE.Cache="cache";class rv{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t){this.key=t}}class nS{constructor(t){this.key=t}}class qk{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.Za=TA(t),this.Xa=new Uo(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new SE,a=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const T=a.get(v),R=id(this.query,E)?E:null,k=!!T&&this.mutatedKeys.has(T.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;T&&R?T.data.isEqual(R.data)?k!==q&&(s.track({type:3,doc:R}),z=!0):this.ru(T,R)||(s.track({type:2,doc:R}),z=!0,(m&&this.Za(R,m)>0||p&&this.Za(R,p)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),z=!0):T&&!R&&(s.track({type:1,doc:T}),z=!0,(m||p)&&(d=!0)),z&&(R?(c=c.add(R),l=q?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Xa:c,nu:s,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((v,E)=>function(R,k){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:z})}};return q(R)-q(k)}(v.type,E.type)||this.Za(v.doc,E.doc)),this.iu(s),a=a!=null&&a;const d=e&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new Xo(this.query,t.Xa,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new SE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new nS(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new eS(s))}),e}au(t){this.Ha=t.$s,this.Ya=Lt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Xo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const av="SyncEngine";class Hk{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class Gk{constructor(t){this.key=t,this.cu=!1}}class Yk{constructor(t,e,s,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ca(d=>EA(d),nd),this.Pu=new Map,this.Tu=new Set,this.Iu=new he(bt.comparator),this.Eu=new Map,this.du=new Yy,this.Au={},this.Ru=new Map,this.Vu=Ko.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Qk(n,t,e=!0){const s=lS(n);let a;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await iS(s,t,e,!0),a}async function Kk(n,t){const e=lS(n);await iS(e,t,!0,!1)}async function iS(n,t,e,s){const a=await mk(n.localStore,Di(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await Xk(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&XA(n.remoteStore,a),d}async function Xk(n,t,e,s,a){n.fu=(E,T,R)=>async function(q,z,K,X){let Z=z.view.tu(K);Z.Cs&&(Z=await _E(q.localStore,z.query,!1).then(({documents:O})=>z.view.tu(O,Z)));const ut=X&&X.targetChanges.get(z.targetId),lt=X&&X.targetMismatches.get(z.targetId)!=null,ct=z.view.applyChanges(Z,q.isPrimaryClient,ut,lt);return xE(q,z.targetId,ct.ou),ct.snapshot}(n,E,T,R);const l=await _E(n.localStore,t,!0),c=new qk(t,l.$s),d=c.tu(l.documents),m=rc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);xE(n,e,p.ou);const v=new Hk(t,e,c);return n.hu.set(t,v),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),p.snapshot}async function $k(n,t,e){const s=Ct(n),a=s.hu.get(t),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(c=>!nd(c,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Fg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&$y(s.remoteStore,a.targetId),Gg(s,a.targetId)}).catch(nl)):(Gg(s,a.targetId),await Fg(s.localStore,a.targetId,!0))}async function Wk(n,t){const e=Ct(n),s=e.hu.get(t),a=e.Pu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),$y(e.remoteStore,s.targetId))}async function Zk(n,t,e){const s=r4(n);try{const a=await function(c,d){const m=Ct(c),p=Pe.now(),v=d.reduce((R,k)=>R.add(k.key),Lt());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=gs(),q=Lt();return m.Bs.getEntries(R,v).next(z=>{k=z,k.forEach((K,X)=>{X.isValidDocument()||(q=q.add(K))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,k)).next(z=>{E=z;const K=[];for(const X of d){const Z=mN(X,E.get(X.key).overlayedDocument);Z!=null&&K.push(new Sr(X.key,Z,dA(Z.value.mapValue),Qn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,K,d)}).next(z=>{T=z;const K=z.applyToLocalDocumentSet(E,q);return m.documentOverlayCache.saveOverlays(R,z.batchId,K)})}).then(()=>({batchId:T.batchId,changes:AA(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Au[c.currentUser.toKey()];p||(p=new he(Dt)),p=p.insert(d,m),c.Au[c.currentUser.toKey()]=p}(s,a.batchId,e),await oc(s,a.changes),await ud(s.remoteStore)}catch(a){const l=ev(a,"Failed to persist write");e.reject(l)}}async function sS(n,t){const e=Ct(n);try{const s=await fk(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Eu.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?Kt(c.cu,14607):a.removedDocuments.size>0&&(Kt(c.cu,42227),c.cu=!1))}),await oc(e,s,t)}catch(s){await nl(s)}}function CE(n,t,e){const s=Ct(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.hu.forEach((l,c)=>{const d=c.view.Fa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ct(c);m.onlineState=d;let p=!1;m.queries.forEach((v,E)=>{for(const T of E.Sa)T.Fa(d)&&(p=!0)}),p&&sv(m)}(s.eventManager,t),a.length&&s.lu.Y_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Jk(n,t,e){const s=Ct(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Eu.get(t),l=a&&a.key;if(l){let c=new he(bt.comparator);c=c.insert(l,nn.newNoDocument(l,It.min()));const d=Lt().add(l),m=new ad(It.min(),new Map,new he(Dt),c,d);await sS(s,m),s.Iu=s.Iu.remove(l),s.Eu.delete(t),ov(s)}else await Fg(s.localStore,t,!1).then(()=>Gg(s,t,e)).catch(nl)}async function t4(n,t){const e=Ct(n),s=t.batch.batchId;try{const a=await ck(e.localStore,t);aS(e,s,null),rS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await oc(e,a)}catch(a){await nl(a)}}async function e4(n,t,e){const s=Ct(n);try{const a=await function(c,d){const m=Ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(E=>(Kt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(p,E))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(s.localStore,t);aS(s,t,e),rS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await oc(s,a)}catch(a){await nl(a)}}function rS(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function aS(n,t,e){const s=Ct(n);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.Au[s.currentUser.toKey()]=a}}function Gg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Pu.get(t))n.hu.delete(s),e&&n.lu.gu(s,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(s=>{n.du.containsKey(s)||oS(n,s)})}function oS(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&($y(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),ov(n))}function xE(n,t,e){for(const s of e)s instanceof eS?(n.du.addReference(s.key,t),n4(n,s)):s instanceof nS?(dt(av,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,t),n.du.containsKey(s.key)||oS(n,s.key)):At(19791,{pu:s})}function n4(n,t){const e=t.key,s=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(s)||(dt(av,"New document in limbo: "+e),n.Tu.add(s),ov(n))}function ov(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new bt(ae.fromString(t)),s=n.Vu.next();n.Eu.set(s,new Gk(e)),n.Iu=n.Iu.insert(e,s),XA(n.remoteStore,new rr(Di(ed(e.path)),s,"TargetPurposeLimboResolution",Zh.le))}}async function oc(n,t,e){const s=Ct(n),a=[],l=[],c=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{c.push(s.fu(m,t,e).then(p=>{var v;if((p||e)&&s.isPrimaryClient){const E=p?!p.fromCache:(v=e==null?void 0:e.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(p){a.push(p);const E=Ky.Rs(m.targetId,p);l.push(E)}}))}),await Promise.all(c),s.lu.Y_(a),await async function(m,p){const v=Ct(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>et.forEach(p,T=>et.forEach(T.ds,R=>v.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>et.forEach(T.As,R=>v.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!il(E))throw E;dt(Xy,"Failed to update sequence numbers: "+E)}for(const E of p){const T=E.targetId;if(!E.fromCache){const R=v.xs.get(T),k=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(k);v.xs=v.xs.insert(T,q)}}}(s.localStore,l))}async function i4(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){dt(av,"User change. New user:",t.toKey());const s=await GA(e.localStore,t);e.currentUser=t,function(l,c){l.Ru.forEach(d=>{d.forEach(m=>{m.reject(new mt(tt.CANCELLED,c))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await oc(e,s.ks)}}function s4(n,t){const e=Ct(n),s=e.Eu.get(t);if(s&&s.cu)return Lt().add(s.key);{let a=Lt();const l=e.Pu.get(t);if(!l)return a;for(const c of l){const d=e.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function lS(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jk.bind(null,t),t.lu.Y_=Bk.bind(null,t.eventManager),t.lu.gu=Fk.bind(null,t.eventManager),t}function r4(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e4.bind(null,t),t}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=od(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return uk(this.persistence,new ak,t.initialUser,this.serializer)}Su(t){return new HA(Qy.fi,this.serializer)}bu(t){return new gk}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class a4 extends kh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Kt(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GN(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new HA(s=>Ph.fi(s,e),this.serializer)}}class Yg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i4.bind(null,this.syncEngine),await zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jk}()}createDatastore(t){const e=od(t.databaseInfo.databaseId),s=function(l){return new Ek(l)}(t.databaseInfo);return function(l,c,d,m){return new Sk(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,l,c,d){return new Ik(s,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>CE(this.syncEngine,e,0),function(){return TE.C()?new TE:new yk}())}createSyncEngine(t,e){return function(a,l,c,d,m,p,v){const E=new Yk(a,l,c,d,m,p);return v&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=Ct(a);dt(Aa,"RemoteStore shutting down."),l.da.add(5),await ac(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class o4{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=iA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{dt(yr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(dt(yr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=ev(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ig(n,t){n.asyncQueue.verifyOperationInProgress(),dt(yr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await GA(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function OE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await l4(n);dt(yr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>AE(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>AE(t.remoteStore,a)),n._onlineComponents=t}async function l4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(yr,"Using user provided OfflineComponentProvider");try{await ig(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Ho("Error using user provided cache. Falling back to memory cache: "+e),await ig(n,new kh)}}else dt(yr,"Using default OfflineComponentProvider"),await ig(n,new a4(void 0));return n._offlineComponents}async function uS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(yr,"Using user provided OnlineComponentProvider"),await OE(n,n._uninitializedComponentsProvider._online)):(dt(yr,"Using default OnlineComponentProvider"),await OE(n,new Yg))),n._onlineComponents}function u4(n){return uS(n).then(t=>t.syncEngine)}async function Vh(n){const t=await uS(n),e=t.eventManager;return e.onListen=Qk.bind(null,t.syncEngine),e.onUnlisten=$k.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Kk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Wk.bind(null,t.syncEngine),e}function c4(n,t,e={}){const s=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new lv({next:T=>{v.xu(),c.enqueueAndForget(()=>iv(l,E));const R=T.docs.has(d);!R&&T.fromCache?p.reject(new mt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?p.reject(new mt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),E=new rv(ed(d.path),v,{includeMetadataChanges:!0,Qa:!0});return nv(l,E)}(await Vh(n),n.asyncQueue,t,e,s)),s.promise}function f4(n,t,e={}){const s=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new lv({next:T=>{v.xu(),c.enqueueAndForget(()=>iv(l,E)),T.fromCache&&m.source==="server"?p.reject(new mt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),E=new rv(d,v,{includeMetadataChanges:!0,Qa:!0});return nv(l,E)}(await Vh(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,t,e){if(!e)throw new mt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function h4(n,t,e,s){if(t===!0&&s===!0)throw new mt(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ME(n){if(!bt.isDocumentKey(n))throw new mt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PE(n){if(bt.isDocumentKey(n))throw new mt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cd(n);throw new mt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firestore.googleapis.com",NE=!0;class kE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=NE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:NE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qN)throw new mt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fd{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bP;switch(s.type){case"firstParty":return new AP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=DE.get(e);s&&(dt("ComponentProvider","Removing Datastore"),DE.delete(e),s.terminate())}(this),Promise.resolve()}}function d4(n,t,e,s={}){var a;n=vn(n,fd);const l=Zo(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${t}:${e}`;l&&(aw(`https://${m}`),ow("Firestore",!0)),c.host!==hS&&c.host!==m&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:s});if(!_a(p,d)&&(n._setSettings(p),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=en.MOCK_USER;else{v=Dx(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new mt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(T)}n._authCredentials=new EP(new eA(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rr(this.firestore,t,this._query)}}class rn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}}class fr extends Rr{constructor(t,e,s){super(t,e,ed(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new bt(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function al(n,t,...e){if(n=Fe(n),fS("collection","path",t),n instanceof fd){const s=ae.fromString(t,...e);return PE(s),new fr(n,null,s)}{if(!(n instanceof rn||n instanceof fr))throw new mt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return PE(s),new fr(n.firestore,null,s)}}function vr(n,t,...e){if(n=Fe(n),arguments.length===1&&(t=iA.newId()),fS("doc","path",t),n instanceof fd){const s=ae.fromString(t,...e);return ME(s),new rn(n,null,new bt(s))}{if(!(n instanceof rn||n instanceof fr))throw new mt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return ME(s),new rn(n.firestore,n instanceof fr?n.converter:null,new bt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new QA(this,"async_queue_retry"),this.rc=()=>{const s=ng();s&&dt(VE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=ng();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=ng();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new hs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!il(t))throw t;dt(VE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,ps("INTERNAL UNHANDLED ERROR: ",zE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const a=tv.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&At(47125,{cc:zE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function zE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ys extends fd{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new LE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function m4(n,t){const e=typeof n=="object"?n:fw(),s=typeof n=="string"?n:Ih,a=Sy(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=xx("firestore");l&&d4(a,...l)}return a}function hd(n){if(n._terminated)throw new mt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p4(n),n._firestoreClient}function p4(n){var t,e,s;const a=n._freezeSettings(),l=function(d,m,p,v){return new UP(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,cS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new o4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $o($e.fromBase64String(t))}catch(e){throw new mt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new $o($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=/^__.*__$/;class y4{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,e,this.fieldTransforms):new sc(t,this.data,e,this.fieldTransforms)}}class dS{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Sr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function mS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ic:n})}}class hv{constructor(t,e,s,a,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new hv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:s,Rc:!1});return a.Vc(t),a}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Lh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(mS(this.Ic)&&g4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class v4{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||od(t)}bc(t,e,s,a=!1){return new hv({Ic:t,methodName:e,wc:s,path:Xe.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function md(n){const t=n._freezeSettings(),e=od(n._databaseId);return new v4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function pS(n,t,e,s,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,t,e,a);dv("Data must be an object, but it was:",c,s);const d=gS(s,c);let m,p;if(l.merge)m=new xn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=Qg(t,E,e);if(!c.contains(T))throw new mt(tt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);vS(v,T)||v.push(T)}m=new xn(v),p=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,p=c.fieldTransforms;return new y4(new yn(d),m,p)}class pd extends uv{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pd}}function _4(n,t,e,s){const a=n.bc(1,t,e);dv("Data must be an object, but it was:",a,s);const l=[],c=yn.empty();Ar(s,(m,p)=>{const v=mv(t,m,e);p=Fe(p);const E=a.mc(v);if(p instanceof pd)l.push(v);else{const T=lc(p,E);T!=null&&(l.push(v),c.set(v,T))}});const d=new xn(l);return new dS(c,d,a.fieldTransforms)}function b4(n,t,e,s,a,l){const c=n.bc(1,t,e),d=[Qg(t,s,e)],m=[a];if(l.length%2!=0)throw new mt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Qg(t,l[T])),m.push(l[T+1]);const p=[],v=yn.empty();for(let T=d.length-1;T>=0;--T)if(!vS(p,d[T])){const R=d[T];let k=m[T];k=Fe(k);const q=c.mc(R);if(k instanceof pd)p.push(R);else{const z=lc(k,q);z!=null&&(p.push(R),v.set(R,z))}}const E=new xn(p);return new dS(v,E,c.fieldTransforms)}function E4(n,t,e,s=!1){return lc(e,n.bc(s?4:3,t))}function lc(n,t){if(yS(n=Fe(n)))return dv("Unsupported field value:",t,n),gS(n,t);if(n instanceof uv)return function(s,a){if(!mS(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=lc(d,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,t)}return function(s,a){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Pe.fromDate(s);return{timestampValue:Mh(a.serializer,l)}}if(s instanceof Pe){const l=new Pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(a.serializer,l)}}if(s instanceof cv)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $o)return{bytesValue:VA(a.serializer,s._byteString)};if(s instanceof rn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof fv)return function(c,d){return{mapValue:{fields:{[fA]:{stringValue:hA},[Ch]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return By(d.serializer,p)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${cd(s)}`)}(n,t)}function gS(n,t){const e={};return rA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(n,(s,a)=>{const l=lc(a,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function yS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pe||n instanceof cv||n instanceof $o||n instanceof rn||n instanceof uv||n instanceof fv)}function dv(n,t,e){if(!yS(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=cd(e);throw s==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+s)}}function Qg(n,t,e){if((t=Fe(t))instanceof dd)return t._internalPath;if(typeof t=="string")return mv(n,t);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,e)}const T4=new RegExp("[~\\*/\\[\\]]");function mv(n,t,e){if(t.search(T4)>=0)throw Lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dd(...t.split("."))._internalPath}catch{throw Lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lh(n,t,e,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new mt(tt.INVALID_ARGUMENT,d+n+m)}function vS(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new w4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class w4 extends _S{data(){return super.data()}}function gd(n,t){return typeof t=="string"?mv(n,t):t instanceof dd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{}class ES extends pv{}function yd(n,t,...e){let s=[];t instanceof pv&&s.push(t),s=s.concat(e),function(l){const c=l.filter(m=>m instanceof gv).length,d=l.filter(m=>m instanceof vd).length;if(c>1||c>0&&d>0)throw new mt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class vd extends ES{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new vd(t,e,s)}_apply(t){const e=this._parse(t);return TS(t._query,e),new Rr(t.firestore,t.converter,Vg(t._query,e))}_parse(t){const e=md(t.firestore);return function(l,c,d,m,p,v,E){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new mt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BE(E,v);const k=[];for(const q of E)k.push(jE(m,l,q));T={arrayValue:{values:k}}}else T=jE(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BE(E,v),T=E4(d,c,E,v==="in"||v==="not-in");return Re.create(p,v,T)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Ku(n,t,e){const s=t,a=gd("where",n);return vd._create(a,s,e)}class gv extends pv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new gv(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)TS(c,m),c=Vg(c,m)}(t._query,e),new Rr(t.firestore,t.converter,Vg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yv extends ES{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new yv(t,e)}_apply(t){const e=function(a,l,c){if(a.startAt!==null)throw new mt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(l,c)}(t._query,this._field,this._direction);return new Rr(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new sl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function A4(n,t="asc"){const e=t,s=gd("orderBy",n);return yv._create(s,e)}function jE(n,t,e){if(typeof(e=Fe(e))=="string"){if(e==="")throw new mt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bA(t)&&e.indexOf("/")!==-1)throw new mt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ae.fromString(e));if(!bt.isDocumentKey(s))throw new mt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tE(n,new bt(s))}if(e instanceof rn)return tE(n,e._key);throw new mt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(e)}.`)}function BE(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function TS(n,t){const e=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new mt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class S4{convertValue(t,e="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Ar(t,(a,l)=>{s[a]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,a;const l=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[Ch].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>be(c.doubleValue));return new fv(l)}convertGeoPoint(t){return new cv(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=td(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Fu(t));default:return null}}convertTimestamp(t){const e=dr(t);return new Pe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ae.fromString(t);Kt(FA(s),9688,{name:t});const a=new qu(s.get(1),s.get(3)),l=new bt(s.popFirst(5));return a.isEqual(e)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class AS extends _S{constructor(t,e,s,a,l,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(gd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class fh extends AS{data(t={}){return super.data(t)}}class SS{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new wu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new fh(this._firestore,this._userDataWriter,s.key,s,new wu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new fh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new wu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new fh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new wu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:R4(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function R4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){n=vn(n,rn);const t=vn(n.firestore,ys);return c4(hd(t),n._key).then(e=>DS(t,n,e))}class vv extends S4{constructor(t){super(),this.firestore=t}convertBytes(t){return new $o(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,e)}}function _v(n){n=vn(n,Rr);const t=vn(n.firestore,ys),e=hd(t),s=new vv(t);return bS(n._query),f4(e,n._query).then(a=>new SS(t,s,n,a))}function IS(n,t,e){n=vn(n,rn);const s=vn(n.firestore,ys),a=wS(n.converter,t,e);return _d(s,[pS(md(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Qn.none())])}function CS(n,t,e,...s){n=vn(n,rn);const a=vn(n.firestore,ys),l=md(a);let c;return c=typeof(t=Fe(t))=="string"||t instanceof dd?b4(l,"updateDoc",n._key,t,e,s):_4(l,"updateDoc",n._key,t),_d(a,[c.toMutation(n._key,Qn.exists(!0))])}function xS(n){return _d(vn(n.firestore,ys),[new Fy(n._key,Qn.none())])}function OS(n,t){const e=vn(n.firestore,ys),s=vr(n),a=wS(n.converter,t);return _d(e,[pS(md(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function I4(n,...t){var e,s,a;n=Fe(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||UE(t[c])||(l=t[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(UE(t[c])){const E=t[c];t[c]=(e=E.next)===null||e===void 0?void 0:e.bind(E),t[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),t[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,p,v;if(n instanceof rn)p=vn(n.firestore,ys),v=ed(n._key.path),m={next:E=>{t[c]&&t[c](DS(p,n,E))},error:t[c+1],complete:t[c+2]};else{const E=vn(n,Rr);p=vn(E.firestore,ys),v=E._query;const T=new vv(p);m={next:R=>{t[c]&&t[c](new SS(p,T,E,R))},error:t[c+1],complete:t[c+2]},bS(n._query)}return function(T,R,k,q){const z=new lv(q),K=new rv(R,z,k);return T.asyncQueue.enqueueAndForget(async()=>nv(await Vh(T),K)),()=>{z.xu(),T.asyncQueue.enqueueAndForget(async()=>iv(await Vh(T),K))}}(hd(p),v,d,m)}function _d(n,t){return function(s,a){const l=new hs;return s.asyncQueue.enqueueAndForget(async()=>Zk(await u4(s),a,l)),l.promise}(hd(n),t)}function DS(n,t,e){const s=e.docs.get(t._key),a=new vv(n);return new AS(n,a,t._key,s,new wu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){el=a})(Jo),qo(new ba("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ys(new TP(s.getProvider("auth-internal")),new SP(c,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new mt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ur(F1,q1,t),ur(F1,q1,"esm2017")})();const C4={apiKey:"AIzaSyBXLIIMWQj3KFQEUs4lcvk6NeR8Gr8zAbQ",authDomain:"project-sapphire-d8da8.firebaseapp.com",projectId:"project-sapphire-d8da8",appId:"1:641315751166:web:a06da9ec60ee071028d1af"},MS=cw(C4),Pi=gP(MS),On=m4(MS);function x4({mode:n,onClose:t}){const[e,s]=at.useState(""),[a,l]=at.useState(""),[c,d]=at.useState(""),m=async p=>{p.preventDefault(),d("");try{n==="signup"?await eM(Pi,e,a):await nM(Pi,e,a),t()}catch(v){d(v.message)}};return F.jsx("div",{className:"auth-modal-overlay",children:F.jsxs("div",{className:"auth-modal",children:[F.jsx("button",{className:"close-btn",onClick:t,children:""}),F.jsx("h2",{children:n==="signup"?"Sign Up":"Sign In"}),F.jsxs("form",{onSubmit:m,children:[F.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:p=>s(p.target.value),required:!0}),F.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:p=>l(p.target.value),required:!0}),c&&F.jsx("p",{className:"auth-error",children:c}),F.jsx("button",{type:"submit",children:n==="signup"?"Create Account":"Login"})]})]})})}function O4({onClose:n}){const[t,e]=at.useState([]),[s,a]=at.useState("all");at.useEffect(()=>{(async()=>{const m=Pi.currentUser;if(!m)return;const p=yd(al(On,"chats"),Ku("uid","==",m.uid)),E=(await _v(p)).docs.map(T=>({id:T.id,...T.data()}));e(E)})()},[]);const l=async(d,m)=>{const p=vr(On,"chats",d);await CS(p,{favorite:!m}),e(v=>v.map(E=>E.id===d?{...E,favorite:!m}:E))},c=s==="favorites"?t.filter(d=>d.favorite):t;return F.jsx("div",{className:"auth-modal-overlay",children:F.jsxs("div",{className:"auth-modal",children:[F.jsx("button",{className:"close-btn",onClick:n,children:""}),F.jsx("h2",{children:"Chat History"}),F.jsxs("div",{className:"tabs",children:[F.jsx("button",{className:`tab-button ${s==="all"?"active":""}`,onClick:()=>a("all"),children:"All Chats"}),F.jsx("button",{className:`tab-button ${s==="favorites"?"active":""}`,onClick:()=>a("favorites"),children:F.jsxs("span",{className:"favorites-tab-label",children:["Favorites ",F.jsx("span",{className:"star",children:""})]})})]}),c.length===0?F.jsx("p",{children:"No messages yet."}):F.jsx("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:c.map((d,m)=>F.jsxs("li",{style:{marginBottom:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[F.jsxs("div",{children:[F.jsx("strong",{children:"You:"})," ",d.userMessage,F.jsx("br",{}),F.jsx("strong",{children:"AI:"})," ",d.assistantMessage]}),F.jsx("button",{onClick:()=>l(d.id,d.favorite),style:{border:"none",background:"none",fontSize:d.favorite?"1.5rem":"1.25rem",cursor:"pointer",color:d.favorite?"#0a84ff":"#888",textShadow:d.favorite?"0 0 6px #0a84ff":"none",transition:"all 0.2s ease"},title:d.favorite?"Unfavorite":"Favorite",children:d.favorite?"":""})]},m))})]})})}function PS({userAvatar:n,assistantAvatar:t,userName:e="",assistantName:s="",onAvatarChange:a,onNameChange:l,onClose:c}){const[d,m]=at.useState(n),[p,v]=at.useState(t),[E,T]=at.useState(e),[R,k]=at.useState(s),q=()=>{d&&a("user",d),p&&a("assistant",p),E&&l("user",E),R&&l("assistant",R),c()};return F.jsx("div",{className:"profile-modal-overlay",children:F.jsxs("div",{className:"profile-modal",children:[F.jsx("h2",{children:"Customize Profile"}),F.jsxs("div",{className:"avatar-section",children:[F.jsx("label",{children:"User Avatar:"}),F.jsx("img",{src:d,alt:"User",className:"avatar-preview"}),F.jsx("input",{type:"text",value:d,onChange:z=>m(z.target.value),placeholder:"Image URL or /path/to/image.png"})]}),F.jsxs("div",{className:"avatar-section",children:[F.jsx("label",{children:"Assistant Avatar:"}),F.jsx("img",{src:p,alt:"Assistant",className:"avatar-preview"}),F.jsx("input",{type:"text",value:p,onChange:z=>v(z.target.value),placeholder:"Image URL or /path/to/image.png"})]}),F.jsxs("div",{className:"name-section",children:[F.jsx("label",{children:"User Name:"}),F.jsx("input",{type:"text",value:E,onChange:z=>T(z.target.value),placeholder:"Your name"})]}),F.jsxs("div",{className:"name-section",children:[F.jsx("label",{children:"Assistant Name:"}),F.jsx("input",{type:"text",value:R,onChange:z=>k(z.target.value),placeholder:"Assistant's name"})]}),F.jsxs("div",{className:"modal-buttons",children:[F.jsx("button",{onClick:q,children:"Save"}),F.jsx("button",{onClick:c,className:"cancel-button",children:"Cancel"})]})]})})}function D4({userAvatar:n,assistantAvatar:t,userName:e,assistantName:s,onAvatarChange:a,onNameChange:l}){const[c,d]=at.useState(!1),[m,p]=at.useState(null),[v,E]=at.useState(!1),[T,R]=at.useState(!1),[k,q]=at.useState(null);at.useEffect(()=>Pi.onAuthStateChanged(X=>{q(X)}),[]);const z=K=>{K==="Sign up"?p("signup"):K==="Sign in"?p("signin"):K==="Chat History"?E(!0):K==="Sign out"&&(Pi.signOut(),q(null),d(!1)),d(!1)};return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"sidebar-toggle-wrapper",children:[F.jsx("button",{className:"menu-toggle",onClick:()=>d(!c),children:" Menu"}),c&&F.jsxs("div",{className:"sidebar",children:[k&&F.jsxs("div",{className:"user-info",children:["Signed in as ",F.jsx("strong",{children:k.email})]}),!k&&F.jsxs(F.Fragment,{children:[F.jsx("button",{className:"sidebar-button",onClick:()=>z("Sign up"),children:"Sign up"}),F.jsx("button",{className:"sidebar-button",onClick:()=>z("Sign in"),children:"Sign in"})]}),k&&F.jsxs(F.Fragment,{children:[F.jsx("button",{className:"sidebar-button",onClick:()=>z("Sign out"),children:"Sign out"}),F.jsx("button",{className:"sidebar-button",onClick:()=>R(!0),children:"Profile"}),F.jsx("button",{className:"sidebar-button",onClick:()=>E(!0),children:"Chat History"})]})]})]}),m&&F.jsx(x4,{mode:m,onClose:()=>p(null)}),v&&F.jsx(O4,{onClose:()=>E(!1)}),T&&F.jsx(PS,{userAvatar:n,assistantAvatar:t,userName:e,assistantName:s,onAvatarChange:a,onNameChange:l,onClose:()=>R(!1)})]})}function M4({audioRef:n,isSpeaking:t}){const e=at.useRef(null),s=at.useRef(null),a=at.useRef(null),l=at.useRef(null),c=at.useRef(null),d=at.useRef(null),m=at.useRef(0);return at.useEffect(()=>{const p=e.current,v=p.getContext("2d"),E=p.width,T=p.height,R=E/2,k=T/2,q=60,z=64;if(a.current||(a.current=new(window.AudioContext||window.webkitAudioContext),l.current=a.current.createAnalyser(),l.current.fftSize=128,c.current=new Uint8Array(l.current.frequencyBinCount)),n.current&&!d.current)try{d.current=a.current.createMediaElementSource(n.current),d.current.connect(l.current),l.current.connect(a.current.destination)}catch(X){console.warn("Assistant audio source already connected or failed:",X)}const K=()=>{s.current=requestAnimationFrame(K),v.clearRect(0,0,E,T),l.current.getByteFrequencyData(c.current);let X=c.current.reduce((lt,ct)=>lt+ct,0)/c.current.length;X<2&&(X=Math.sin(Date.now()/600)*10+12),m.current+=.05;const Z=q+X*.2;v.beginPath();for(let lt=0;lt<=z;lt++){const ct=lt/z*Math.PI*2,O=Math.sin(ct*4+m.current)*(X/6),S=Z+O,I=R+S*Math.cos(ct),M=k+S*Math.sin(ct);lt===0?v.moveTo(I,M):v.lineTo(I,M)}v.closePath();const ut=v.createRadialGradient(R,k,Z*.4,R,k,Z);ut.addColorStop(0,"rgba(15,82,186, 0.9)"),ut.addColorStop(1,"rgba(15,82,186,0.2)"),v.fillStyle=ut,v.shadowColor="rgba(15,82,186, 0.9)",v.shadowBlur=30,v.fill()};return K(),()=>{cancelAnimationFrame(s.current),v&&v.clearRect(0,0,E,T)}},[n]),F.jsx("canvas",{ref:e,width:300,height:300,style:{display:"block",margin:"40px auto"}})}let P4={data:""},N4=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||P4,k4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,V4=/\/\*[^]*?\*\/|  +/g,FE=/\n+/g,sr=(n,t)=>{let e="",s="",a="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+c+";":s+=l[1]=="f"?sr(c,l):l+"{"+sr(c,l[1]=="k"?"":t)+"}":typeof c=="object"?s+=sr(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=sr.p?sr.p(l,c):l+":"+c+";")}return e+(t&&a?t+"{"+a+"}":a)+s},ls={},NS=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+NS(n[e]);return t}return n},L4=(n,t,e,s,a)=>{let l=NS(n),c=ls[l]||(ls[l]=(m=>{let p=0,v=11;for(;p<m.length;)v=101*v+m.charCodeAt(p++)>>>0;return"go"+v})(l));if(!ls[c]){let m=l!==n?n:(p=>{let v,E,T=[{}];for(;v=k4.exec(p.replace(V4,""));)v[4]?T.shift():v[3]?(E=v[3].replace(FE," ").trim(),T.unshift(T[0][E]=T[0][E]||{})):T[0][v[1]]=v[2].replace(FE," ").trim();return T[0]})(n);ls[c]=sr(a?{["@keyframes "+c]:m}:m,e?"":"."+c)}let d=e&&ls.g?ls.g:null;return e&&(ls.g=ls[c]),((m,p,v,E)=>{E?p.data=p.data.replace(E,m):p.data.indexOf(m)===-1&&(p.data=v?m+p.data:p.data+m)})(ls[c],t,s,d),c},z4=(n,t,e)=>n.reduce((s,a,l)=>{let c=t[l];if(c&&c.call){let d=c(e),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":sr(d,""):d===!1?"":d}return s+a+(c??"")},"");function bd(n){let t=this||{},e=n.call?n(t.p):n;return L4(e.unshift?e.raw?z4(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,N4(t.target),t.g,t.o,t.k)}let kS,Kg,Xg;bd.bind({g:1});let vs=bd.bind({k:1});function U4(n,t,e,s){sr.p=t,kS=n,Kg=e,Xg=s}function Ir(n,t){let e=this||{};return function(){let s=arguments;function a(l,c){let d=Object.assign({},l),m=d.className||a.className;e.p=Object.assign({theme:Kg&&Kg()},d),e.o=/ *go\d+/.test(m),d.className=bd.apply(e,s)+(m?" "+m:"");let p=n;return n[0]&&(p=d.as||n,delete d.as),Xg&&p[0]&&Xg(d),kS(p,d)}return a}}var j4=n=>typeof n=="function",zh=(n,t)=>j4(n)?n(t):n,B4=(()=>{let n=0;return()=>(++n).toString()})(),VS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),F4=20,LS=(n,t)=>{switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,F4)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:e}=t;return LS(n,{type:n.toasts.find(l=>l.id===e.id)?1:0,toast:e});case 3:let{toastId:s}=t;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let a=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},hh=[],ma={toasts:[],pausedAt:void 0},Oa=n=>{ma=LS(ma,n),hh.forEach(t=>{t(ma)})},q4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},H4=(n={})=>{let[t,e]=at.useState(ma),s=at.useRef(ma);at.useEffect(()=>(s.current!==ma&&e(ma),hh.push(e),()=>{let l=hh.indexOf(e);l>-1&&hh.splice(l,1)}),[]);let a=t.toasts.map(l=>{var c,d,m;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((d=n[l.type])==null?void 0:d.duration)||(n==null?void 0:n.duration)||q4[l.type],style:{...n.style,...(m=n[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},G4=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||B4()}),uc=n=>(t,e)=>{let s=G4(t,n,e);return Oa({type:2,toast:s}),s.id},hn=(n,t)=>uc("blank")(n,t);hn.error=uc("error");hn.success=uc("success");hn.loading=uc("loading");hn.custom=uc("custom");hn.dismiss=n=>{Oa({type:3,toastId:n})};hn.remove=n=>Oa({type:4,toastId:n});hn.promise=(n,t,e)=>{let s=hn.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?zh(t.success,a):void 0;return l?hn.success(l,{id:s,...e,...e==null?void 0:e.success}):hn.dismiss(s),a}).catch(a=>{let l=t.error?zh(t.error,a):void 0;l?hn.error(l,{id:s,...e,...e==null?void 0:e.error}):hn.dismiss(s)}),n};var Y4=(n,t)=>{Oa({type:1,toast:{id:n,height:t}})},Q4=()=>{Oa({type:5,time:Date.now()})},Pu=new Map,K4=1e3,X4=(n,t=K4)=>{if(Pu.has(n))return;let e=setTimeout(()=>{Pu.delete(n),Oa({type:4,toastId:n})},t);Pu.set(n,e)},$4=n=>{let{toasts:t,pausedAt:e}=H4(n);at.useEffect(()=>{if(e)return;let l=Date.now(),c=t.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(m<0){d.visible&&hn.dismiss(d.id);return}return setTimeout(()=>hn.dismiss(d.id),m)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[t,e]);let s=at.useCallback(()=>{e&&Oa({type:6,time:Date.now()})},[e]),a=at.useCallback((l,c)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:p}=c||{},v=t.filter(R=>(R.position||p)===(l.position||p)&&R.height),E=v.findIndex(R=>R.id===l.id),T=v.filter((R,k)=>k<E&&R.visible).length;return v.filter(R=>R.visible).slice(...d?[T+1]:[0,T]).reduce((R,k)=>R+(k.height||0)+m,0)},[t]);return at.useEffect(()=>{t.forEach(l=>{if(l.dismissed)X4(l.id,l.removeDelay);else{let c=Pu.get(l.id);c&&(clearTimeout(c),Pu.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:Y4,startPause:Q4,endPause:s,calculateOffset:a}}},W4=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Z4=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J4=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,t6=Ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Z4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${J4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,e6=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,n6=Ir("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${e6} 1s linear infinite;
`,i6=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,s6=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,r6=Ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${i6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${s6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,a6=Ir("div")`
  position: absolute;
`,o6=Ir("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,l6=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u6=Ir("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${l6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,c6=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?at.createElement(u6,null,t):t:e==="blank"?null:at.createElement(o6,null,at.createElement(n6,{...s}),e!=="loading"&&at.createElement(a6,null,e==="error"?at.createElement(t6,{...s}):at.createElement(r6,{...s})))},f6=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,h6=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,d6="0%{opacity:0;} 100%{opacity:1;}",m6="0%{opacity:1;} 100%{opacity:0;}",p6=Ir("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,g6=Ir("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,y6=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=VS()?[d6,m6]:[f6(e),h6(e)];return{animation:t?`${vs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},v6=at.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?y6(n.position||t||"top-center",n.visible):{opacity:0},l=at.createElement(c6,{toast:n}),c=at.createElement(g6,{...n.ariaProps},zh(n.message,n));return at.createElement(p6,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:l,message:c}):at.createElement(at.Fragment,null,l,c))});U4(at.createElement);var _6=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let l=at.useCallback(c=>{if(c){let d=()=>{let m=c.getBoundingClientRect().height;s(n,m)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return at.createElement("div",{ref:l,className:t,style:e},a)},b6=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:VS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},E6=bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qf=16,T6=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:m}=$4(e);return at.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qf,left:qf,right:qf,bottom:qf,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(p=>{let v=p.position||t,E=m.calculateOffset(p,{reverseOrder:n,gutter:s,defaultPosition:t}),T=b6(v,E);return at.createElement(_6,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?E6:"",style:T},p.type==="custom"?zh(p.message,p):a?a(p):at.createElement(v6,{toast:p,position:v}))}))},w6=hn;function A6({voiceEnabled:n,setVoiceEnabled:t,user:e}){const s=()=>{if(!e&&!n){w6("Please sign in to enable voice.",{icon:F.jsx("span",{style:{animation:"flash 1s infinite",fontSize:"20px"},children:""})});return}t(!n)};return F.jsxs("div",{className:"voice-toggle-wrapper",children:[F.jsxs("label",{className:"toggle-switch",children:[F.jsx("input",{type:"checkbox",checked:n,onChange:s}),F.jsx("span",{className:"slider"})]}),F.jsx("span",{className:"toggle-label",children:n?"Voice Enabled":"Voice Disabled"})]})}function S6(n,t){const[e,s]=at.useState(!1),a=at.useRef([]),l=at.useRef(!1),c=at.useRef(new Audio),d=async p=>{a.current.push(p),l.current||m()},m=async()=>{if(a.current.length===0){l.current=!1,s(!1);return}l.current=!0,s(!0);const p=a.current.shift();try{const v=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${t}`,{method:"POST",headers:{"xi-api-key":n,"Content-Type":"application/json"},body:JSON.stringify({text:p,voice_settings:{stability:.5,similarity_boost:.75}})});if(!v.ok){console.error("TTS error",await v.text()),m();return}const E=await v.blob(),T=URL.createObjectURL(E),R=c.current;R.src=T,R.onended=()=>m(),R.onerror=()=>m(),R.load(),await R.play()}catch(v){console.error("TTS playback error:",v),m()}};return{speakIncrementally:d,isSpeaking:e,audioRef:c}}function R6({onResult:n,onError:t,onStart:e,onEnd:s,enabled:a=!0}){const l=at.useRef(null);return at.useEffect(()=>{if(!a)return;const d=window.SpeechRecognition||window.webkitSpeechRecognition;if(!d){console.warn("Speech Recognition API not supported.");return}const m=new d;return m.lang="en-US",m.interimResults=!1,m.maxAlternatives=1,m.onresult=p=>{const v=p.results[0][0].transcript;n&&n(v)},m.onerror=p=>{console.error("Speech recognition error:",p.error),t&&t(p.error)},m.onstart=()=>{e&&e()},m.onend=()=>{s&&s()},l.current=m,()=>{m.stop(),l.current=null}},[a,n,t,e,s]),{startListening:()=>{l.current&&l.current.start()}}}async function I6(n,t){t.trim()&&await OS(al(On,"todos"),{uid:n,text:t.trim(),createdAt:new Date})}async function C6(n){const t=yd(al(On,"todos"),Ku("uid","==",n));return(await _v(t)).docs.map(s=>({id:s.id,...s.data()}))}async function x6(n,t){const e=yd(al(On,"todos"),Ku("uid","==",n),Ku("text","==",t.trim())),s=await _v(e);let a=!1;for(const l of s.docs)await xS(l.ref),a=!0;return a}async function qE(n){const t=vr(On,"memories",n),e=await RS(t);return e.exists()?e.data():{facts:[]}}async function O6(n,t){const e=vr(On,"memories",n);await IS(e,t,{merge:!0})}function D6(n){return["tonight","tomorrow","yesterday","next week","this weekend","today","in the morning","in the evening","at midnight","noon","later","soon","next","schedule","when does","what time","date","time","when"].some(e=>n.toLowerCase().includes(e))}function M6(){const n=new Date,t=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e=n.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return`The current local time is ${t}, and the date is ${e}.`}async function P6({userText:n,chatHistory:t,voiceEnabled:e,speakFn:s,setAssistantText:a,setChatHistory:l,CEREBRAS_API_KEY:c,userProfile:d}){var m,p,v,E;try{const T=n.toLowerCase(),R=Pi.currentUser;if(R&&/\bto[- ]?do\b/i.test(T)){if(T.startsWith("add")){const ct=n.toLowerCase().match(/add\s(.+?)(\s(to|into)?\s(my)?\s?to[- ]?do(\slist)?)?$/i),O=((m=ct==null?void 0:ct[1])==null?void 0:m.trim())||n.replace(/add\s?/i,"").trim();await I6(R.uid,O);const S=`I've added "${O}" to your to-do list.`;a(S),e&&await s(S);return}if(T.includes("list")){const ct=await C6(R.uid),O=ct.length>0?`Here are your tasks: ${ct.map(S=>S.text).join(", ")}.`:"You have no tasks.";a(O),e&&await s(O);return}if(T.startsWith("delete")){const ct=n.replace(/delete (to[- ]?do)?/i,"").trim(),S=await x6(R.uid,ct)?`Deleted "${ct}".`:`Couldn't find "${ct}".`;a(S),e&&await s(S);return}}a("");let k="",q=[];if(R&&(q=(await qE(R.uid)).facts.map(O=>({role:"system",content:O}))),d!=null&&d.userName||d!=null&&d.assistantName){const ct=`
You are a helpful AI assistant named "${d.assistantName||"Assistant"}".
You are chatting with a user named "${d.userName||"User"}".
Always address the user by their name during the conversation when appropriate.
Respond in a friendly and conversational tone.
      `.trim();q.unshift({role:"system",content:ct})}D6(n)&&q.unshift({role:"system",content:M6()});const K=(await fetch("https://api.cerebras.ai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({model:"llama-4-scout-17b-16e-instruct",messages:[...q,...t,{role:"user",content:n}],stream:!0})})).body.getReader(),X=new TextDecoder("utf-8");let Z="",ut="";for(;;){const{value:ct,done:O}=await K.read();if(O)break;Z+=X.decode(ct,{stream:!0});const S=Z.split(`
`).filter(Boolean);for(const I of S){if(!I.startsWith("data: "))continue;const M=I.replace("data: ","");try{const V=(E=(v=(p=JSON.parse(M).choices)==null?void 0:p[0])==null?void 0:v.delta)==null?void 0:E.content;V&&(a(C=>C+V),k+=V,ut+=V,(/[.!?]\s$/.test(ut)||ut.length>80)&&(e&&await s(ut.trim()),ut=""))}catch{console.warn("Skipping invalid JSON:",M)}}Z=""}ut&&e&&await s(ut.trim());const lt=Date.now();if(l(ct=>[...ct,{role:"user",content:n,timestamp:lt},{role:"assistant",content:k.trim(),timestamp:lt}]),R){await OS(al(On,"chats"),{uid:R.uid,userMessage:n,assistantMessage:k.trim(),timestamp:new Date});const ct=`${(d==null?void 0:d.userName)||"User"} said: "${n}". ${(d==null?void 0:d.assistantName)||"Assistant"} replied: "${k.trim()}"`,S=[...(await qE(R.uid)).facts.slice(-19),ct];await O6(R.uid,{facts:S})}}catch(T){console.error(" handleUserInput error:",T),a("Sorry, I had trouble understanding that.")}}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function N6(n,t,e){return(t=V6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function HE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function rt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(e),!0).forEach(function(s){N6(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HE(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function k6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function V6(n){var t=k6(n,"string");return typeof t=="symbol"?t:t+""}const GE=()=>{};let bv={},zS={},US=null,jS={mark:GE,measure:GE};try{typeof window<"u"&&(bv=window),typeof document<"u"&&(zS=document),typeof MutationObserver<"u"&&(US=MutationObserver),typeof performance<"u"&&(jS=performance)}catch{}const{userAgent:YE=""}=bv.navigator||{},_r=bv,oe=zS,QE=US,Hf=jS;_r.document;const Ts=!!oe.documentElement&&!!oe.head&&typeof oe.addEventListener=="function"&&typeof oe.createElement=="function",BS=~YE.indexOf("MSIE")||~YE.indexOf("Trident/");var L6=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,z6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,FS={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},U6={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},qS=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],on="classic",Ed="duotone",j6="sharp",B6="sharp-duotone",HS=[on,Ed,j6,B6],F6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},q6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},H6=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),G6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Y6=["fak","fa-kit","fakd","fa-kit-duotone"],KE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Q6=["kit"],K6={kit:{"fa-kit":"fak"}},X6=["fak","fakd"],$6={kit:{fak:"fa-kit"}},XE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Gf={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},W6=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Z6=["fak","fa-kit","fakd","fa-kit-duotone"],J6={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},t3={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},e3={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},$g={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},n3=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Wg=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...W6,...n3],i3=["solid","regular","light","thin","duotone","brands"],GS=[1,2,3,4,5,6,7,8,9,10],s3=GS.concat([11,12,13,14,15,16,17,18,19,20]),r3=[...Object.keys(e3),...i3,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Gf.GROUP,Gf.SWAP_OPACITY,Gf.PRIMARY,Gf.SECONDARY].concat(GS.map(n=>"".concat(n,"x"))).concat(s3.map(n=>"w-".concat(n))),a3={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const _s="___FONT_AWESOME___",Zg=16,YS="fa",QS="svg-inline--fa",Sa="data-fa-i2svg",Jg="data-fa-pseudo-element",o3="data-fa-pseudo-element-pending",Ev="data-prefix",Tv="data-icon",$E="fontawesome-i2svg",l3="async",u3=["HTML","HEAD","STYLE","SCRIPT"],KS=(()=>{try{return!0}catch{return!1}})();function cc(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[on]}})}const XS=rt({},FS);XS[on]=rt(rt(rt(rt({},{"fa-duotone":"duotone"}),FS[on]),KE.kit),KE["kit-duotone"]);const c3=cc(XS),ty=rt({},G6);ty[on]=rt(rt(rt(rt({},{duotone:"fad"}),ty[on]),XE.kit),XE["kit-duotone"]);const WE=cc(ty),ey=rt({},$g);ey[on]=rt(rt({},ey[on]),$6.kit);const wv=cc(ey),ny=rt({},t3);ny[on]=rt(rt({},ny[on]),K6.kit);cc(ny);const f3=L6,$S="fa-layers-text",h3=z6,d3=rt({},F6);cc(d3);const m3=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],sg=U6,p3=[...Q6,...r3],Nu=_r.FontAwesomeConfig||{};function g3(n){var t=oe.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function y3(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}oe&&typeof oe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,s]=t;const a=y3(g3(e));a!=null&&(Nu[s]=a)});const WS={styleDefault:"solid",familyDefault:on,cssPrefix:YS,replacementClass:QS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Nu.familyPrefix&&(Nu.cssPrefix=Nu.familyPrefix);const Wo=rt(rt({},WS),Nu);Wo.autoReplaceSvg||(Wo.observeMutations=!1);const yt={};Object.keys(WS).forEach(n=>{Object.defineProperty(yt,n,{enumerable:!0,set:function(t){Wo[n]=t,ku.forEach(e=>e(yt))},get:function(){return Wo[n]}})});Object.defineProperty(yt,"familyPrefix",{enumerable:!0,set:function(n){Wo.cssPrefix=n,ku.forEach(t=>t(yt))},get:function(){return Wo.cssPrefix}});_r.FontAwesomeConfig=yt;const ku=[];function v3(n){return ku.push(n),()=>{ku.splice(ku.indexOf(n),1)}}const Js=Zg,Si={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function _3(n){if(!n||!Ts)return;const t=oe.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;const e=oe.head.childNodes;let s=null;for(let a=e.length-1;a>-1;a--){const l=e[a],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(s=l)}return oe.head.insertBefore(t,s),n}const b3="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Xu(){let n=12,t="";for(;n-- >0;)t+=b3[Math.random()*62|0];return t}function ol(n){const t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function Av(n){return n.classList?ol(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function ZS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E3(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(ZS(n[e]),'" '),"").trim()}function Td(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function Sv(n){return n.size!==Si.size||n.x!==Si.x||n.y!==Si.y||n.rotate!==Si.rotate||n.flipX||n.flipY}function T3(n){let{transform:t,containerWidth:e,iconWidth:s}=n;const a={transform:"translate(".concat(e/2," 256)")},l="translate(".concat(t.x*32,", ").concat(t.y*32,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)"),m={transform:"".concat(l," ").concat(c," ").concat(d)},p={transform:"translate(".concat(s/2*-1," -256)")};return{outer:a,inner:m,path:p}}function w3(n){let{transform:t,width:e=Zg,height:s=Zg,startCentered:a=!1}=n,l="";return a&&BS?l+="translate(".concat(t.x/Js-e/2,"em, ").concat(t.y/Js-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Js,"em), calc(-50% + ").concat(t.y/Js,"em)) "):l+="translate(".concat(t.x/Js,"em, ").concat(t.y/Js,"em) "),l+="scale(".concat(t.size/Js*(t.flipX?-1:1),", ").concat(t.size/Js*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var A3=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function JS(){const n=YS,t=QS,e=yt.cssPrefix,s=yt.replacementClass;let a=A3;if(e!==n||s!==t){const l=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");a=a.replace(l,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(d,".".concat(s))}return a}let ZE=!1;function rg(){yt.autoAddCss&&!ZE&&(_3(JS()),ZE=!0)}var S3={mixout(){return{dom:{css:JS,insertCss:rg}}},hooks(){return{beforeDOMElementCreation(){rg()},beforeI2svg(){rg()}}}};const bs=_r||{};bs[_s]||(bs[_s]={});bs[_s].styles||(bs[_s].styles={});bs[_s].hooks||(bs[_s].hooks={});bs[_s].shims||(bs[_s].shims=[]);var Ri=bs[_s];const tR=[],eR=function(){oe.removeEventListener("DOMContentLoaded",eR),Uh=1,tR.map(n=>n())};let Uh=!1;Ts&&(Uh=(oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(oe.readyState),Uh||oe.addEventListener("DOMContentLoaded",eR));function R3(n){Ts&&(Uh?setTimeout(n,0):tR.push(n))}function fc(n){const{tag:t,attributes:e={},children:s=[]}=n;return typeof n=="string"?ZS(n):"<".concat(t," ").concat(E3(e),">").concat(s.map(fc).join(""),"</").concat(t,">")}function JE(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var ag=function(t,e,s,a){var l=Object.keys(t),c=l.length,d=e,m,p,v;for(s===void 0?(m=1,v=t[l[0]]):(m=0,v=s);m<c;m++)p=l[m],v=d(v,t[p],p,t);return v};function I3(n){const t=[];let e=0;const s=n.length;for(;e<s;){const a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<s){const l=n.charCodeAt(e++);(l&64512)==56320?t.push(((a&1023)<<10)+(l&1023)+65536):(t.push(a),e--)}else t.push(a)}return t}function iy(n){const t=I3(n);return t.length===1?t[0].toString(16):null}function C3(n,t){const e=n.length;let s=n.charCodeAt(t),a;return s>=55296&&s<=56319&&e>t+1&&(a=n.charCodeAt(t+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}function tT(n){return Object.keys(n).reduce((t,e)=>{const s=n[e];return!!s.icon?t[s.iconName]=s.icon:t[e]=s,t},{})}function sy(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:s=!1}=e,a=tT(t);typeof Ri.hooks.addPack=="function"&&!s?Ri.hooks.addPack(n,tT(t)):Ri.styles[n]=rt(rt({},Ri.styles[n]||{}),a),n==="fas"&&sy("fa",t)}const{styles:$u,shims:x3}=Ri,nR=Object.keys(wv),O3=nR.reduce((n,t)=>(n[t]=Object.keys(wv[t]),n),{});let Rv=null,iR={},sR={},rR={},aR={},oR={};function D3(n){return~p3.indexOf(n)}function M3(n,t){const e=t.split("-"),s=e[0],a=e.slice(1).join("-");return s===n&&a!==""&&!D3(a)?a:null}const lR=()=>{const n=s=>ag($u,(a,l,c)=>(a[c]=ag(l,s,{}),a),{});iR=n((s,a,l)=>(a[3]&&(s[a[3]]=l),a[2]&&a[2].filter(d=>typeof d=="number").forEach(d=>{s[d.toString(16)]=l}),s)),sR=n((s,a,l)=>(s[l]=l,a[2]&&a[2].filter(d=>typeof d=="string").forEach(d=>{s[d]=l}),s)),oR=n((s,a,l)=>{const c=a[2];return s[l]=l,c.forEach(d=>{s[d]=l}),s});const t="far"in $u||yt.autoFetchSvg,e=ag(x3,(s,a)=>{const l=a[0];let c=a[1];const d=a[2];return c==="far"&&!t&&(c="fas"),typeof l=="string"&&(s.names[l]={prefix:c,iconName:d}),typeof l=="number"&&(s.unicodes[l.toString(16)]={prefix:c,iconName:d}),s},{names:{},unicodes:{}});rR=e.names,aR=e.unicodes,Rv=wd(yt.styleDefault,{family:yt.familyDefault})};v3(n=>{Rv=wd(n.styleDefault,{family:yt.familyDefault})});lR();function Iv(n,t){return(iR[n]||{})[t]}function P3(n,t){return(sR[n]||{})[t]}function pa(n,t){return(oR[n]||{})[t]}function uR(n){return rR[n]||{prefix:null,iconName:null}}function N3(n){const t=aR[n],e=Iv("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function br(){return Rv}const cR=()=>({prefix:null,iconName:null,rest:[]});function k3(n){let t=on;const e=nR.reduce((s,a)=>(s[a]="".concat(yt.cssPrefix,"-").concat(a),s),{});return HS.forEach(s=>{(n.includes(e[s])||n.some(a=>O3[s].includes(a)))&&(t=s)}),t}function wd(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=on}=t,s=c3[e][n];if(e===Ed&&!n)return"fad";const a=WE[e][n]||WE[e][s],l=n in Ri.styles?n:null;return a||l||null}function V3(n){let t=[],e=null;return n.forEach(s=>{const a=M3(yt.cssPrefix,s);a?e=a:s&&t.push(s)}),{iconName:e,rest:t}}function eT(n){return n.sort().filter((t,e,s)=>s.indexOf(t)===e)}function Ad(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let s=null;const a=Wg.concat(Z6),l=eT(n.filter(E=>a.includes(E))),c=eT(n.filter(E=>!Wg.includes(E))),d=l.filter(E=>(s=E,!qS.includes(E))),[m=null]=d,p=k3(l),v=rt(rt({},V3(c)),{},{prefix:wd(m,{family:p})});return rt(rt(rt({},v),j3({values:n,family:p,styles:$u,config:yt,canonical:v,givenPrefix:s})),L3(e,s,v))}function L3(n,t,e){let{prefix:s,iconName:a}=e;if(n||!s||!a)return{prefix:s,iconName:a};const l=t==="fa"?uR(a):{},c=pa(s,a);return a=l.iconName||c||a,s=l.prefix||s,s==="far"&&!$u.far&&$u.fas&&!yt.autoFetchSvg&&(s="fas"),{prefix:s,iconName:a}}const z3=HS.filter(n=>n!==on||n!==Ed),U3=Object.keys($g).filter(n=>n!==on).map(n=>Object.keys($g[n])).flat();function j3(n){const{values:t,family:e,canonical:s,givenPrefix:a="",styles:l={},config:c={}}=n,d=e===Ed,m=t.includes("fa-duotone")||t.includes("fad"),p=c.familyDefault==="duotone",v=s.prefix==="fad"||s.prefix==="fa-duotone";if(!d&&(m||p||v)&&(s.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(s.prefix="fab"),!s.prefix&&z3.includes(e)&&(Object.keys(l).find(T=>U3.includes(T))||c.autoFetchSvg)){const T=H6.get(e).defaultShortPrefixId;s.prefix=T,s.iconName=pa(s.prefix,s.iconName)||s.iconName}return(s.prefix==="fa"||a==="fa")&&(s.prefix=br()||"fas"),s}class B3{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const a=e.reduce(this._pullDefinitions,{});Object.keys(a).forEach(l=>{this.definitions[l]=rt(rt({},this.definitions[l]||{}),a[l]),sy(l,a[l]);const c=wv[on][l];c&&sy(c,a[l]),lR()})}reset(){this.definitions={}}_pullDefinitions(t,e){const s=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(s).map(a=>{const{prefix:l,iconName:c,icon:d}=s[a],m=d[2];t[l]||(t[l]={}),m.length>0&&m.forEach(p=>{typeof p=="string"&&(t[l][p]=d)}),t[l][c]=d}),t}}let nT=[],Mo={};const jo={},F3=Object.keys(jo);function q3(n,t){let{mixoutsTo:e}=t;return nT=n,Mo={},Object.keys(jo).forEach(s=>{F3.indexOf(s)===-1&&delete jo[s]}),nT.forEach(s=>{const a=s.mixout?s.mixout():{};if(Object.keys(a).forEach(l=>{typeof a[l]=="function"&&(e[l]=a[l]),typeof a[l]=="object"&&Object.keys(a[l]).forEach(c=>{e[l]||(e[l]={}),e[l][c]=a[l][c]})}),s.hooks){const l=s.hooks();Object.keys(l).forEach(c=>{Mo[c]||(Mo[c]=[]),Mo[c].push(l[c])})}s.provides&&s.provides(jo)}),e}function ry(n,t){for(var e=arguments.length,s=new Array(e>2?e-2:0),a=2;a<e;a++)s[a-2]=arguments[a];return(Mo[n]||[]).forEach(c=>{t=c.apply(null,[t,...s])}),t}function Ra(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];(Mo[n]||[]).forEach(l=>{l.apply(null,e)})}function Er(){const n=arguments[0],t=Array.prototype.slice.call(arguments,1);return jo[n]?jo[n].apply(null,t):void 0}function ay(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n;const e=n.prefix||br();if(t)return t=pa(e,t)||t,JE(fR.definitions,e,t)||JE(Ri.styles,e,t)}const fR=new B3,H3=()=>{yt.autoReplaceSvg=!1,yt.observeMutations=!1,Ra("noAuto")},G3={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ts?(Ra("beforeI2svg",n),Er("pseudoElements2svg",n),Er("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=n;yt.autoReplaceSvg===!1&&(yt.autoReplaceSvg=!0),yt.observeMutations=!0,R3(()=>{Q3({autoReplaceSvgRoot:t}),Ra("watch",n)})}},Y3={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:pa(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=wd(n[0]);return{prefix:e,iconName:pa(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(yt.cssPrefix,"-"))>-1||n.match(f3))){const t=Ad(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||br(),iconName:pa(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){const t=br();return{prefix:t,iconName:pa(t,n)||n}}}},Dn={noAuto:H3,config:yt,dom:G3,parse:Y3,library:fR,findIconDefinition:ay,toHtml:fc},Q3=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=oe}=n;(Object.keys(Ri.styles).length>0||yt.autoFetchSvg)&&Ts&&yt.autoReplaceSvg&&Dn.dom.i2svg({node:t})};function Sd(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>fc(e))}}),Object.defineProperty(n,"node",{get:function(){if(!Ts)return;const e=oe.createElement("div");return e.innerHTML=n.html,e.children}}),n}function K3(n){let{children:t,main:e,mask:s,attributes:a,styles:l,transform:c}=n;if(Sv(c)&&e.found&&!s.found){const{width:d,height:m}=e,p={x:d/m/2,y:.5};a.style=Td(rt(rt({},l),{},{"transform-origin":"".concat(p.x+c.x/16,"em ").concat(p.y+c.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}function X3(n){let{prefix:t,iconName:e,children:s,attributes:a,symbol:l}=n;const c=l===!0?"".concat(t,"-").concat(yt.cssPrefix,"-").concat(e):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:rt(rt({},a),{},{id:c}),children:s}]}]}function Cv(n){const{icons:{main:t,mask:e},prefix:s,iconName:a,transform:l,symbol:c,title:d,maskId:m,titleId:p,extra:v,watchable:E=!1}=n,{width:T,height:R}=e.found?e:t,k=X6.includes(s),q=[yt.replacementClass,a?"".concat(yt.cssPrefix,"-").concat(a):""].filter(lt=>v.classes.indexOf(lt)===-1).filter(lt=>lt!==""||!!lt).concat(v.classes).join(" ");let z={children:[],attributes:rt(rt({},v.attributes),{},{"data-prefix":s,"data-icon":a,class:q,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(R)})};const K=k&&!~v.classes.indexOf("fa-fw")?{width:"".concat(T/R*16*.0625,"em")}:{};E&&(z.attributes[Sa]=""),d&&(z.children.push({tag:"title",attributes:{id:z.attributes["aria-labelledby"]||"title-".concat(p||Xu())},children:[d]}),delete z.attributes.title);const X=rt(rt({},z),{},{prefix:s,iconName:a,main:t,mask:e,maskId:m,transform:l,symbol:c,styles:rt(rt({},K),v.styles)}),{children:Z,attributes:ut}=e.found&&t.found?Er("generateAbstractMask",X)||{children:[],attributes:{}}:Er("generateAbstractIcon",X)||{children:[],attributes:{}};return X.children=Z,X.attributes=ut,c?X3(X):K3(X)}function iT(n){const{content:t,width:e,height:s,transform:a,title:l,extra:c,watchable:d=!1}=n,m=rt(rt(rt({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});d&&(m[Sa]="");const p=rt({},c.styles);Sv(a)&&(p.transform=w3({transform:a,startCentered:!0,width:e,height:s}),p["-webkit-transform"]=p.transform);const v=Td(p);v.length>0&&(m.style=v);const E=[];return E.push({tag:"span",attributes:m,children:[t]}),l&&E.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),E}function $3(n){const{content:t,title:e,extra:s}=n,a=rt(rt(rt({},s.attributes),e?{title:e}:{}),{},{class:s.classes.join(" ")}),l=Td(s.styles);l.length>0&&(a.style=l);const c=[];return c.push({tag:"span",attributes:a,children:[t]}),e&&c.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),c}const{styles:og}=Ri;function oy(n){const t=n[0],e=n[1],[s]=n.slice(4);let a=null;return Array.isArray(s)?a={tag:"g",attributes:{class:"".concat(yt.cssPrefix,"-").concat(sg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(sg.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(sg.PRIMARY),fill:"currentColor",d:s[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:e,icon:a}}const W3={found:!1,width:512,height:512};function Z3(n,t){!KS&&!yt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function ly(n,t){let e=t;return t==="fa"&&yt.styleDefault!==null&&(t=br()),new Promise((s,a)=>{if(e==="fa"){const l=uR(n)||{};n=l.iconName||n,t=l.prefix||t}if(n&&t&&og[t]&&og[t][n]){const l=og[t][n];return s(oy(l))}Z3(n,t),s(rt(rt({},W3),{},{icon:yt.showMissingIcons&&n?Er("missingIconAbstract")||{}:{}}))})}const sT=()=>{},uy=yt.measurePerformance&&Hf&&Hf.mark&&Hf.measure?Hf:{mark:sT,measure:sT},Au='FA "6.7.2"',J3=n=>(uy.mark("".concat(Au," ").concat(n," begins")),()=>hR(n)),hR=n=>{uy.mark("".concat(Au," ").concat(n," ends")),uy.measure("".concat(Au," ").concat(n),"".concat(Au," ").concat(n," begins"),"".concat(Au," ").concat(n," ends"))};var xv={begin:J3,end:hR};const dh=()=>{};function rT(n){return typeof(n.getAttribute?n.getAttribute(Sa):null)=="string"}function tV(n){const t=n.getAttribute?n.getAttribute(Ev):null,e=n.getAttribute?n.getAttribute(Tv):null;return t&&e}function eV(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(yt.replacementClass)}function nV(){return yt.autoReplaceSvg===!0?mh.replace:mh[yt.autoReplaceSvg]||mh.replace}function iV(n){return oe.createElementNS("http://www.w3.org/2000/svg",n)}function sV(n){return oe.createElement(n)}function dR(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=n.tag==="svg"?iV:sV}=t;if(typeof n=="string")return oe.createTextNode(n);const s=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){s.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){s.appendChild(dR(l,{ceFn:e}))}),s}function rV(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const mh={replace:function(n){const t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(dR(e),t)}),t.getAttribute(Sa)===null&&yt.keepOriginalSource){let e=oe.createComment(rV(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){const t=n[0],e=n[1];if(~Av(t).indexOf(yt.replacementClass))return mh.replace(n);const s=new RegExp("".concat(yt.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const l=e[0].attributes.class.split(" ").reduce((c,d)=>(d===yt.replacementClass||d.match(s)?c.toSvg.push(d):c.toNode.push(d),c),{toNode:[],toSvg:[]});e[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",l.toNode.join(" "))}const a=e.map(l=>fc(l)).join(`
`);t.setAttribute(Sa,""),t.innerHTML=a}};function aT(n){n()}function mR(n,t){const e=typeof t=="function"?t:dh;if(n.length===0)e();else{let s=aT;yt.mutateApproach===l3&&(s=_r.requestAnimationFrame||aT),s(()=>{const a=nV(),l=xv.begin("mutate");n.map(a),l(),e()})}}let Ov=!1;function pR(){Ov=!0}function cy(){Ov=!1}let jh=null;function oT(n){if(!QE||!yt.observeMutations)return;const{treeCallback:t=dh,nodeCallback:e=dh,pseudoElementsCallback:s=dh,observeMutationsRoot:a=oe}=n;jh=new QE(l=>{if(Ov)return;const c=br();ol(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!rT(d.addedNodes[0])&&(yt.searchPseudoElements&&s(d.target),t(d.target)),d.type==="attributes"&&d.target.parentNode&&yt.searchPseudoElements&&s(d.target.parentNode),d.type==="attributes"&&rT(d.target)&&~m3.indexOf(d.attributeName))if(d.attributeName==="class"&&tV(d.target)){const{prefix:m,iconName:p}=Ad(Av(d.target));d.target.setAttribute(Ev,m||c),p&&d.target.setAttribute(Tv,p)}else eV(d.target)&&e(d.target)})}),Ts&&jh.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function aV(){jh&&jh.disconnect()}function oV(n){const t=n.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((s,a)=>{const l=a.split(":"),c=l[0],d=l.slice(1);return c&&d.length>0&&(s[c]=d.join(":").trim()),s},{})),e}function lV(n){const t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),s=n.innerText!==void 0?n.innerText.trim():"";let a=Ad(Av(n));return a.prefix||(a.prefix=br()),t&&e&&(a.prefix=t,a.iconName=e),a.iconName&&a.prefix||(a.prefix&&s.length>0&&(a.iconName=P3(a.prefix,n.innerText)||Iv(a.prefix,iy(n.innerText))),!a.iconName&&yt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=n.firstChild.data)),a}function uV(n){const t=ol(n.attributes).reduce((a,l)=>(a.name!=="class"&&a.name!=="style"&&(a[l.name]=l.value),a),{}),e=n.getAttribute("title"),s=n.getAttribute("data-fa-title-id");return yt.autoA11y&&(e?t["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(s||Xu()):(t["aria-hidden"]="true",t.focusable="false")),t}function cV(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Si,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function lT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:s,rest:a}=lV(n),l=uV(n),c=ry("parseNodeAttributes",{},n);let d=t.styleParser?oV(n):[];return rt({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:s,transform:Si,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:d,attributes:l}},c)}const{styles:fV}=Ri;function gR(n){const t=yt.autoReplaceSvg==="nest"?lT(n,{styleParser:!1}):lT(n);return~t.extra.classes.indexOf($S)?Er("generateLayersText",n,t):Er("generateSvgReplacementMutation",n,t)}function hV(){return[...Y6,...Wg]}function uT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ts)return Promise.resolve();const e=oe.documentElement.classList,s=v=>e.add("".concat($E,"-").concat(v)),a=v=>e.remove("".concat($E,"-").concat(v)),l=yt.autoFetchSvg?hV():qS.concat(Object.keys(fV));l.includes("fa")||l.push("fa");const c=[".".concat($S,":not([").concat(Sa,"])")].concat(l.map(v=>".".concat(v,":not([").concat(Sa,"])"))).join(", ");if(c.length===0)return Promise.resolve();let d=[];try{d=ol(n.querySelectorAll(c))}catch{}if(d.length>0)s("pending"),a("complete");else return Promise.resolve();const m=xv.begin("onTree"),p=d.reduce((v,E)=>{try{const T=gR(E);T&&v.push(T)}catch(T){KS||T.name==="MissingIcon"&&console.error(T)}return v},[]);return new Promise((v,E)=>{Promise.all(p).then(T=>{mR(T,()=>{s("active"),s("complete"),a("pending"),typeof t=="function"&&t(),m(),v()})}).catch(T=>{m(),E(T)})})}function dV(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;gR(n).then(e=>{e&&mR([e],t)})}function mV(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(t||{}).icon?t:ay(t||{});let{mask:a}=e;return a&&(a=(a||{}).icon?a:ay(a||{})),n(s,rt(rt({},e),{},{mask:a}))}}const pV=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=Si,symbol:s=!1,mask:a=null,maskId:l=null,title:c=null,titleId:d=null,classes:m=[],attributes:p={},styles:v={}}=t;if(!n)return;const{prefix:E,iconName:T,icon:R}=n;return Sd(rt({type:"icon"},n),()=>(Ra("beforeDOMElementCreation",{iconDefinition:n,params:t}),yt.autoA11y&&(c?p["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(d||Xu()):(p["aria-hidden"]="true",p.focusable="false")),Cv({icons:{main:oy(R),mask:a?oy(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:T,transform:rt(rt({},Si),e),symbol:s,title:c,maskId:l,titleId:d,extra:{attributes:p,styles:v,classes:m}})))};var gV={mixout(){return{icon:mV(pV)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=uT,n.nodeCallback=dV,n}}},provides(n){n.i2svg=function(t){const{node:e=oe,callback:s=()=>{}}=t;return uT(e,s)},n.generateSvgReplacementMutation=function(t,e){const{iconName:s,title:a,titleId:l,prefix:c,transform:d,symbol:m,mask:p,maskId:v,extra:E}=e;return new Promise((T,R)=>{Promise.all([ly(s,c),p.iconName?ly(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[q,z]=k;T([t,Cv({icons:{main:q,mask:z},prefix:c,iconName:s,transform:d,symbol:m,maskId:v,title:a,titleId:l,extra:E,watchable:!0})])}).catch(R)})},n.generateAbstractIcon=function(t){let{children:e,attributes:s,main:a,transform:l,styles:c}=t;const d=Td(c);d.length>0&&(s.style=d);let m;return Sv(l)&&(m=Er("generateAbstractTransformGrouping",{main:a,transform:l,containerWidth:a.width,iconWidth:a.width})),e.push(m||a.icon),{children:e,attributes:s}}}},yV={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Sd({type:"layer"},()=>{Ra("beforeDOMElementCreation",{assembler:n,params:t});let s=[];return n(a=>{Array.isArray(a)?a.map(l=>{s=s.concat(l.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(yt.cssPrefix,"-layers"),...e].join(" ")},children:s}]})}}}},vV={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:s=[],attributes:a={},styles:l={}}=t;return Sd({type:"counter",content:n},()=>(Ra("beforeDOMElementCreation",{content:n,params:t}),$3({content:n.toString(),title:e,extra:{attributes:a,styles:l,classes:["".concat(yt.cssPrefix,"-layers-counter"),...s]}})))}}}},_V={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=Si,title:s=null,classes:a=[],attributes:l={},styles:c={}}=t;return Sd({type:"text",content:n},()=>(Ra("beforeDOMElementCreation",{content:n,params:t}),iT({content:n,transform:rt(rt({},Si),e),title:s,extra:{attributes:l,styles:c,classes:["".concat(yt.cssPrefix,"-layers-text"),...a]}})))}}},provides(n){n.generateLayersText=function(t,e){const{title:s,transform:a,extra:l}=e;let c=null,d=null;if(BS){const m=parseInt(getComputedStyle(t).fontSize,10),p=t.getBoundingClientRect();c=p.width/m,d=p.height/m}return yt.autoA11y&&!s&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,iT({content:t.innerHTML,width:c,height:d,transform:a,title:s,extra:l,watchable:!0})])}}};const bV=new RegExp('"',"ug"),cT=[1105920,1112319],fT=rt(rt(rt(rt({},{FontAwesome:{normal:"fas",400:"fas"}}),q6),a3),J6),fy=Object.keys(fT).reduce((n,t)=>(n[t.toLowerCase()]=fT[t],n),{}),EV=Object.keys(fy).reduce((n,t)=>{const e=fy[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function TV(n){const t=n.replace(bV,""),e=C3(t,0),s=e>=cT[0]&&e<=cT[1],a=t.length===2?t[0]===t[1]:!1;return{value:iy(a?t[0]:t),isSecondary:s||a}}function wV(n,t){const e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(t),a=isNaN(s)?"normal":s;return(fy[e]||{})[a]||EV[e]}function hT(n,t){const e="".concat(o3).concat(t.replace(":","-"));return new Promise((s,a)=>{if(n.getAttribute(e)!==null)return s();const c=ol(n.children).filter(T=>T.getAttribute(Jg)===t)[0],d=_r.getComputedStyle(n,t),m=d.getPropertyValue("font-family"),p=m.match(h3),v=d.getPropertyValue("font-weight"),E=d.getPropertyValue("content");if(c&&!p)return n.removeChild(c),s();if(p&&E!=="none"&&E!==""){const T=d.getPropertyValue("content");let R=wV(m,v);const{value:k,isSecondary:q}=TV(T),z=p[0].startsWith("FontAwesome");let K=Iv(R,k),X=K;if(z){const Z=N3(k);Z.iconName&&Z.prefix&&(K=Z.iconName,R=Z.prefix)}if(K&&!q&&(!c||c.getAttribute(Ev)!==R||c.getAttribute(Tv)!==X)){n.setAttribute(e,X),c&&n.removeChild(c);const Z=cV(),{extra:ut}=Z;ut.attributes[Jg]=t,ly(K,R).then(lt=>{const ct=Cv(rt(rt({},Z),{},{icons:{main:lt,mask:cR()},prefix:R,iconName:X,extra:ut,watchable:!0})),O=oe.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(O,n.firstChild):n.appendChild(O),O.outerHTML=ct.map(S=>fc(S)).join(`
`),n.removeAttribute(e),s()}).catch(a)}else s()}else s()})}function AV(n){return Promise.all([hT(n,"::before"),hT(n,"::after")])}function SV(n){return n.parentNode!==document.head&&!~u3.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Jg)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function dT(n){if(Ts)return new Promise((t,e)=>{const s=ol(n.querySelectorAll("*")).filter(SV).map(AV),a=xv.begin("searchPseudoElements");pR(),Promise.all(s).then(()=>{a(),cy(),t()}).catch(()=>{a(),cy(),e()})})}var RV={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=dT,n}}},provides(n){n.pseudoElements2svg=function(t){const{node:e=oe}=t;yt.searchPseudoElements&&dT(e)}}};let mT=!1;var IV={mixout(){return{dom:{unwatch(){pR(),mT=!0}}}},hooks(){return{bootstrap(){oT(ry("mutationObserverCallbacks",{}))},noAuto(){aV()},watch(n){const{observeMutationsRoot:t}=n;mT?cy():oT(ry("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const pT=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,s)=>{const a=s.toLowerCase().split("-"),l=a[0];let c=a.slice(1).join("-");if(l&&c==="h")return e.flipX=!0,e;if(l&&c==="v")return e.flipY=!0,e;if(c=parseFloat(c),isNaN(c))return e;switch(l){case"grow":e.size=e.size+c;break;case"shrink":e.size=e.size-c;break;case"left":e.x=e.x-c;break;case"right":e.x=e.x+c;break;case"up":e.y=e.y-c;break;case"down":e.y=e.y+c;break;case"rotate":e.rotate=e.rotate+c;break}return e},t)};var CV={mixout(){return{parse:{transform:n=>pT(n)}}},hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-transform");return e&&(n.transform=pT(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:s,containerWidth:a,iconWidth:l}=t;const c={transform:"translate(".concat(a/2," 256)")},d="translate(".concat(s.x*32,", ").concat(s.y*32,") "),m="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),p="rotate(".concat(s.rotate," 0 0)"),v={transform:"".concat(d," ").concat(m," ").concat(p)},E={transform:"translate(".concat(l/2*-1," -256)")},T={outer:c,inner:v,path:E};return{tag:"g",attributes:rt({},T.outer),children:[{tag:"g",attributes:rt({},T.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:rt(rt({},e.icon.attributes),T.path)}]}]}}}};const lg={x:0,y:0,width:"100%",height:"100%"};function gT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function xV(n){return n.tag==="g"?n.children:[n]}var OV={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-mask"),s=e?Ad(e.split(" ").map(a=>a.trim())):cR();return s.prefix||(s.prefix=br()),n.mask=s,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:s,main:a,mask:l,maskId:c,transform:d}=t;const{width:m,icon:p}=a,{width:v,icon:E}=l,T=T3({transform:d,containerWidth:v,iconWidth:m}),R={tag:"rect",attributes:rt(rt({},lg),{},{fill:"white"})},k=p.children?{children:p.children.map(gT)}:{},q={tag:"g",attributes:rt({},T.inner),children:[gT(rt({tag:p.tag,attributes:rt(rt({},p.attributes),T.path)},k))]},z={tag:"g",attributes:rt({},T.outer),children:[q]},K="mask-".concat(c||Xu()),X="clip-".concat(c||Xu()),Z={tag:"mask",attributes:rt(rt({},lg),{},{id:K,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,z]},ut={tag:"defs",children:[{tag:"clipPath",attributes:{id:X},children:xV(E)},Z]};return e.push(ut,{tag:"rect",attributes:rt({fill:"currentColor","clip-path":"url(#".concat(X,")"),mask:"url(#".concat(K,")")},lg)}),{children:e,attributes:s}}}},DV={provides(n){let t=!1;_r.matchMedia&&(t=_r.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const e=[],s={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:rt(rt({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=rt(rt({},a),{},{attributeName:"opacity"}),c={tag:"circle",attributes:rt(rt({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||c.children.push({tag:"animate",attributes:rt(rt({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:rt(rt({},l),{},{values:"1;0;1;1;0;1;"})}),e.push(c),e.push({tag:"path",attributes:rt(rt({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:rt(rt({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:rt(rt({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:rt(rt({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},MV={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-symbol"),s=e===null?!1:e===""?!0:e;return n.symbol=s,n}}}},PV=[S3,gV,yV,vV,_V,RV,IV,CV,OV,DV,MV];q3(PV,{mixoutsTo:Dn});Dn.noAuto;Dn.config;Dn.library;Dn.dom;const hy=Dn.parse;Dn.findIconDefinition;Dn.toHtml;const NV=Dn.icon;Dn.layer;Dn.text;Dn.counter;var ug={exports:{}},cg,yT;function kV(){if(yT)return cg;yT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cg=n,cg}var fg,vT;function VV(){if(vT)return fg;vT=1;var n=kV();function t(){}function e(){}return e.resetWarningCache=t,fg=function(){function s(c,d,m,p,v,E){if(E!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},fg}var _T;function LV(){return _T||(_T=1,ug.exports=VV()()),ug.exports}var zV=LV();const _t=Fh(zV);function bT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function Ai(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(e),!0).forEach(function(s){Po(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):bT(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function Bh(n){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(n)}function Po(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function UV(n,t){if(n==null)return{};var e={},s=Object.keys(n),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function jV(n,t){if(n==null)return{};var e=UV(n,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(e[s]=n[s])}return e}function dy(n){return BV(n)||FV(n)||qV(n)||HV()}function BV(n){if(Array.isArray(n))return my(n)}function FV(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qV(n,t){if(n){if(typeof n=="string")return my(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return my(n,t)}}function my(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}function HV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(n){var t,e=n.beat,s=n.fade,a=n.beatFade,l=n.bounce,c=n.shake,d=n.flash,m=n.spin,p=n.spinPulse,v=n.spinReverse,E=n.pulse,T=n.fixedWidth,R=n.inverse,k=n.border,q=n.listItem,z=n.flip,K=n.size,X=n.rotation,Z=n.pull,ut=(t={"fa-beat":e,"fa-fade":s,"fa-beat-fade":a,"fa-bounce":l,"fa-shake":c,"fa-flash":d,"fa-spin":m,"fa-spin-reverse":v,"fa-spin-pulse":p,"fa-pulse":E,"fa-fw":T,"fa-inverse":R,"fa-border":k,"fa-li":q,"fa-flip":z===!0,"fa-flip-horizontal":z==="horizontal"||z==="both","fa-flip-vertical":z==="vertical"||z==="both"},Po(t,"fa-".concat(K),typeof K<"u"&&K!==null),Po(t,"fa-rotate-".concat(X),typeof X<"u"&&X!==null&&X!==0),Po(t,"fa-pull-".concat(Z),typeof Z<"u"&&Z!==null),Po(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(ut).map(function(lt){return ut[lt]?lt:null}).filter(function(lt){return lt})}function YV(n){return n=n-0,n===n}function yR(n){return YV(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var QV=["style"];function KV(n){return n.charAt(0).toUpperCase()+n.slice(1)}function XV(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var s=e.indexOf(":"),a=yR(e.slice(0,s)),l=e.slice(s+1).trim();return a.startsWith("webkit")?t[KV(a)]=l:t[a]=l,t},{})}function vR(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(m){return vR(n,m)}),a=Object.keys(t.attributes||{}).reduce(function(m,p){var v=t.attributes[p];switch(p){case"class":m.attrs.className=v,delete t.attributes.class;break;case"style":m.attrs.style=XV(v);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?m.attrs[p.toLowerCase()]=v:m.attrs[yR(p)]=v}return m},{attrs:{}}),l=e.style,c=l===void 0?{}:l,d=jV(e,QV);return a.attrs.style=Ai(Ai({},a.attrs.style),c),n.apply(void 0,[t.tag,Ai(Ai({},a.attrs),d)].concat(dy(s)))}var _R=!1;try{_R=!0}catch{}function $V(){if(!_R&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function ET(n){if(n&&Bh(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(hy.icon)return hy.icon(n);if(n===null)return null;if(n&&Bh(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function hg(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Po({},n,t):{}}var TT={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Rd=ga.forwardRef(function(n,t){var e=Ai(Ai({},TT),n),s=e.icon,a=e.mask,l=e.symbol,c=e.className,d=e.title,m=e.titleId,p=e.maskId,v=ET(s),E=hg("classes",[].concat(dy(GV(e)),dy((c||"").split(" ")))),T=hg("transform",typeof e.transform=="string"?hy.transform(e.transform):e.transform),R=hg("mask",ET(a)),k=NV(v,Ai(Ai(Ai(Ai({},E),T),R),{},{symbol:l,title:d,titleId:m,maskId:p}));if(!k)return $V("Could not find icon",v),null;var q=k.abstract,z={ref:t};return Object.keys(e).forEach(function(K){TT.hasOwnProperty(K)||(z[K]=e[K])}),WV(q[0],z)});Rd.displayName="FontAwesomeIcon";Rd.propTypes={beat:_t.bool,border:_t.bool,beatFade:_t.bool,bounce:_t.bool,className:_t.string,fade:_t.bool,flash:_t.bool,mask:_t.oneOfType([_t.object,_t.array,_t.string]),maskId:_t.string,fixedWidth:_t.bool,inverse:_t.bool,flip:_t.oneOf([!0,!1,"horizontal","vertical","both"]),icon:_t.oneOfType([_t.object,_t.array,_t.string]),listItem:_t.bool,pull:_t.oneOf(["right","left"]),pulse:_t.bool,rotation:_t.oneOf([0,90,180,270]),shake:_t.bool,size:_t.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:_t.bool,spinPulse:_t.bool,spinReverse:_t.bool,symbol:_t.oneOfType([_t.bool,_t.string]),title:_t.string,titleId:_t.string,transform:_t.oneOfType([_t.string,_t.object]),swapOpacity:_t.bool};var WV=vR.bind(null,ga.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const ZV={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},JV={prefix:"fas",iconName:"circle-nodes",icon:[512,512,[],"e4e2","M418.4 157.9c35.3-8.3 61.6-40 61.6-77.9c0-44.2-35.8-80-80-80c-43.4 0-78.7 34.5-80 77.5L136.2 151.1C121.7 136.8 101.9 128 80 128c-44.2 0-80 35.8-80 80s35.8 80 80 80c12.2 0 23.8-2.7 34.1-7.6L259.7 407.8c-2.4 7.6-3.7 15.8-3.7 24.2c0 44.2 35.8 80 80 80s80-35.8 80-80c0-27.7-14-52.1-35.4-66.4l37.8-207.7zM156.3 232.2c2.2-6.9 3.5-14.2 3.7-21.7l183.8-73.5c3.6 3.5 7.4 6.7 11.6 9.5L317.6 354.1c-5.5 1.3-10.8 3.1-15.8 5.5L156.3 232.2z"]};function t5(){const[n,t]=at.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}));return at.useEffect(()=>{const e=setInterval(()=>{t(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>clearInterval(e)},[]),F.jsxs(F.Fragment,{children:[F.jsxs("h1",{style:{fontFamily:"'Orbitron', sans-serif",fontSize:"2.2rem",color:"#0f52ba",textAlign:"center",marginBottom:"1rem",letterSpacing:"1px",animation:"blip 0.3s ease-in-out"},children:[F.jsx(Rd,{icon:JV,style:{marginRight:8}}),n]},n),F.jsx("style",{children:`
        @keyframes blip {
          0%   { transform: scale(1.05); opacity: 0.8; }
          50%  { transform: scale(1); opacity: 1; }
          100% { transform: scale(1.05); opacity: 0.9; }
        }

        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap');
      `})]})}function e5(){const[n,t]=at.useState([]);at.useEffect(()=>{const a=rM(Pi,l=>{if(!l){t([]);return}const c=yd(al(On,"todos"),Ku("uid","==",l.uid),A4("createdAt","desc"));return I4(c,m=>{t(m.docs.map(p=>({id:p.id,...p.data()})))})});return()=>a()},[]);const e=async a=>{await CS(vr(On,"todos",a.id),{completed:!a.completed})},s=async a=>{await xS(vr(On,"todos",a))};return F.jsxs("div",{style:n5,children:[F.jsx("h3",{style:{marginBottom:8},children:" ToDo List"}),n.length===0&&F.jsx("p",{style:{margin:0},children:"No tasks yet."}),F.jsx("ul",{style:i5,children:n.map(a=>F.jsxs("li",{style:s5,children:[F.jsx("input",{type:"checkbox",checked:!!a.completed,onChange:()=>e(a)}),F.jsx("span",{style:{marginLeft:8,textDecoration:a.completed?"line-through":"none",flex:1},children:a.text}),F.jsx("button",{onClick:()=>s(a.id),style:r5,title:"Delete task","aria-label":`Delete task "${a.text}"`,onMouseEnter:l=>l.currentTarget.style.color="#ff6b6b",onMouseLeave:l=>l.currentTarget.style.color="#f55",children:""})]},a.id))})]})}const n5={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},i5={listStyle:"none",padding:0,margin:0},s5={display:"flex",alignItems:"center",padding:"4px 0"},r5={marginLeft:8,background:"transparent",border:"none",color:"#f55",fontSize:16,cursor:"pointer",transition:"color 0.2s ease"};function a5(n){return Object.fromEntries(Object.entries(n).filter(([t,e])=>e!==void 0))}async function o5(n,t){const e=a5(t),s=vr(On,"userProfiles",n);await IS(s,e,{merge:!0})}async function l5(n){const t=vr(On,"userProfiles",n),e=await RS(t);return e.exists()?e.data():{userName:"User",assistantName:"Assistant",userAvatar:"default-user.png",assistantAvatar:"default-assistant.png"}}const wT=[" Tip: You can ask the assistant to add things to your to-do list if signed in."," Tip: Signing in offers a more unique experience with the Assistant."," Tip: The profile option under menu offers customization options once signed in!"," Use the button to the right to mute or unmute background music."," Tip: The Show/Hide Tools button is a great way to uncramp the screen on mobile!"];function u5(){const[n,t]=at.useState(!1),[e,s]=at.useState(0),[a,l]=at.useState(!0);at.useEffect(()=>{const d=document.getElementById("bg-music");d&&t(d.muted);const m=setInterval(()=>{l(!1),setTimeout(()=>{s(p=>(p+1)%wT.length),l(!0)},500)},1e4);return()=>clearInterval(m)},[]);const c=()=>{const d=window.youtubePlayer;if(d){const m=!n;m?d.mute():d.unMute(),t(m)}};return F.jsxs(F.Fragment,{children:[F.jsx("footer",{style:{position:"fixed",bottom:10,right:20,zIndex:100,backgroundColor:"#0f52ba",color:"#fff",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",cursor:"pointer",userSelect:"none",boxShadow:"0 0 10px rgba(0,0,0,0.4)"},onClick:c,children:n?" Unmute Music":" Mute Music"}),a&&F.jsx("div",{style:{position:"fixed",bottom:50,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.75)",color:"#fff",padding:"8px 16px",borderRadius:"16px",fontSize:"14px",maxWidth:"90vw",width:"fit-content",textAlign:"center",whiteSpace:"normal",wordWrap:"break-word",zIndex:99,animation:"tip-scroll 8s ease-in-out forwards"},children:wT[e]},e),F.jsx("style",{children:`
          @keyframes tip-scroll {
            0% {
              transform: translateX(-100vw) translateY(0);
              opacity: 0;
            }
            30% {
              transform: translateX(-50%) translateY(0);
              opacity: 1;
            }
            50% {
              transform: translateX(-50%) translateY(0);
              opacity: 1;
            }
            70% {
              transform: translateX(-50%) translateY(20px);
              opacity: 0.8;
            }
            100% {
              transform: translateX(-50%) translateY(60px);
              opacity: 0;
            }

            @media (max-width: 480px) {
              div[style*="tip-scroll"] {
                font-size: 12px !important;
                padding: 6px 12px !important;
              }
            }
          }
        `})]})}function c5(){const t=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});return F.jsxs(F.Fragment,{children:[F.jsxs("div",{style:{fontFamily:"'Orbitron', sans-serif",fontSize:"1.5rem",color:"#6ec1e4",textAlign:"center",letterSpacing:"1px",animation:"pulseGlow 3s ease-in-out infinite",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:[F.jsx(Rd,{icon:ZV}),t]}),F.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap');

        @keyframes pulseGlow {
          0%, 100% {
            text-shadow: 0 0 6px #6ec1e4, 0 0 12px #0f52ba;
          }
          50% {
            text-shadow: 0 0 10px #a3c9ff, 0 0 20px #7f00ff;
          }
        }
      `})]})}function f5({onConfirm:n}){return F.jsx("div",{style:dg.overlay,children:F.jsxs("div",{style:dg.modal,children:[F.jsx("h2",{children:"Welcome to Your Virtual Assistant"}),F.jsx("p",{children:"This assistant responds to your voice and text input, plays background music (and sometimes ads), and shows live tools like weather and to-do lists."}),F.jsx("p",{children:"Click the button below to start the experience. "}),F.jsx("p",{children:"Signing in Offers a unique memory experience.(You can use a made up email, this is just a fun project.)"}),F.jsx("button",{style:dg.button,onClick:n,children:"Start Assistant"})]})})}const dg={overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},modal:{background:"#111",color:"#fff",padding:"30px 40px",borderRadius:12,maxWidth:500,textAlign:"center",boxShadow:"0 0 10px #0f52ba"},button:{marginTop:20,padding:"12px 20px",backgroundColor:"#0f52ba",border:"none",color:"#fff",borderRadius:8,fontSize:16,cursor:"pointer"}};var mg,AT;function h5(){return AT||(AT=1,mg=function n(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var s,a,l;if(Array.isArray(t)){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!n(t[a],e[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(l=Object.keys(t),s=l.length,s!==Object.keys(e).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,l[a]))return!1;for(a=s;a--!==0;){var c=l[a];if(!n(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}),mg}var d5=h5();const m5=Fh(d5);var Yf={exports:{}},pg,ST;function p5(){if(ST)return pg;ST=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var t={},e={};return t.on=function(s,a){var l={name:s,handler:a};return e[s]=e[s]||[],e[s].unshift(l),l},t.off=function(s){var a=e[s.name].indexOf(s);a!==-1&&e[s.name].splice(a,1)},t.trigger=function(s,a){var l=e[s],c;if(l)for(c=l.length;c--;)l[c].handler(a)},t},pg=n,pg}var Qf={exports:{}},gg,RT;function g5(){if(RT)return gg;RT=1,gg=function(a,l,c){var d=document.head||document.getElementsByTagName("head")[0],m=document.createElement("script");typeof l=="function"&&(c=l,l={}),l=l||{},c=c||function(){},m.type=l.type||"text/javascript",m.charset=l.charset||"utf8",m.async="async"in l?!!l.async:!0,m.src=a,l.attrs&&n(m,l.attrs),l.text&&(m.text=""+l.text);var p="onload"in m?t:e;p(m,c),m.onload||t(m,c),d.appendChild(m)};function n(s,a){for(var l in a)s.setAttribute(l,a[l])}function t(s,a){s.onload=function(){this.onerror=this.onload=null,a(null,s)},s.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),s)}}function e(s,a){s.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,s))}}return gg}var IT;function y5(){return IT||(IT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=g5(),s=a(e);function a(l){return l&&l.__esModule?l:{default:l}}t.default=function(l){var c=new Promise(function(d){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){d(window.YT);return}else{var m=window.location.protocol==="http:"?"http:":"https:";(0,s.default)(m+"//www.youtube.com/iframe_api",function(v){v&&l.trigger("error",v)})}var p=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){p&&p(),d(window.YT)}});return c},n.exports=t.default}(Qf,Qf.exports)),Qf.exports}var Kf={exports:{}},Xf={exports:{}},$f={exports:{}},yg,CT;function v5(){if(CT)return yg;CT=1;var n=1e3,t=n*60,e=t*60,s=e*24,a=s*365.25;yg=function(p,v){v=v||{};var E=typeof p;if(E==="string"&&p.length>0)return l(p);if(E==="number"&&isNaN(p)===!1)return v.long?d(p):c(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var v=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(p);if(v){var E=parseFloat(v[1]),T=(v[2]||"ms").toLowerCase();switch(T){case"years":case"year":case"yrs":case"yr":case"y":return E*a;case"days":case"day":case"d":return E*s;case"hours":case"hour":case"hrs":case"hr":case"h":return E*e;case"minutes":case"minute":case"mins":case"min":case"m":return E*t;case"seconds":case"second":case"secs":case"sec":case"s":return E*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function c(p){return p>=s?Math.round(p/s)+"d":p>=e?Math.round(p/e)+"h":p>=t?Math.round(p/t)+"m":p>=n?Math.round(p/n)+"s":p+"ms"}function d(p){return m(p,s,"day")||m(p,e,"hour")||m(p,t,"minute")||m(p,n,"second")||p+" ms"}function m(p,v,E){if(!(p<v))return p<v*1.5?Math.floor(p/v)+" "+E:Math.ceil(p/v)+" "+E+"s"}return yg}var xT;function _5(){return xT||(xT=1,function(n,t){t=n.exports=a.debug=a.default=a,t.coerce=m,t.disable=c,t.enable=l,t.enabled=d,t.humanize=v5(),t.names=[],t.skips=[],t.formatters={};var e;function s(p){var v=0,E;for(E in p)v=(v<<5)-v+p.charCodeAt(E),v|=0;return t.colors[Math.abs(v)%t.colors.length]}function a(p){function v(){if(v.enabled){var E=v,T=+new Date,R=T-(e||T);E.diff=R,E.prev=e,E.curr=T,e=T;for(var k=new Array(arguments.length),q=0;q<k.length;q++)k[q]=arguments[q];k[0]=t.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");var z=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,function(X,Z){if(X==="%%")return X;z++;var ut=t.formatters[Z];if(typeof ut=="function"){var lt=k[z];X=ut.call(E,lt),k.splice(z,1),z--}return X}),t.formatArgs.call(E,k);var K=v.log||t.log||console.log.bind(console);K.apply(E,k)}}return v.namespace=p,v.enabled=t.enabled(p),v.useColors=t.useColors(),v.color=s(p),typeof t.init=="function"&&t.init(v),v}function l(p){t.save(p),t.names=[],t.skips=[];for(var v=(typeof p=="string"?p:"").split(/[\s,]+/),E=v.length,T=0;T<E;T++)v[T]&&(p=v[T].replace(/\*/g,".*?"),p[0]==="-"?t.skips.push(new RegExp("^"+p.substr(1)+"$")):t.names.push(new RegExp("^"+p+"$")))}function c(){t.enable("")}function d(p){var v,E;for(v=0,E=t.skips.length;v<E;v++)if(t.skips[v].test(p))return!1;for(v=0,E=t.names.length;v<E;v++)if(t.names[v].test(p))return!0;return!1}function m(p){return p instanceof Error?p.stack||p.message:p}}($f,$f.exports)),$f.exports}var OT;function b5(){return OT||(OT=1,function(n,t){var e={};t=n.exports=_5(),t.log=l,t.formatArgs=a,t.save=c,t.load=d,t.useColors=s,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:m(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function s(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(p){try{return JSON.stringify(p)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}};function a(p){var v=this.useColors;if(p[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+p[0]+(v?"%c ":" ")+"+"+t.humanize(this.diff),!!v){var E="color: "+this.color;p.splice(1,0,E,"color: inherit");var T=0,R=0;p[0].replace(/%[a-zA-Z%]/g,function(k){k!=="%%"&&(T++,k==="%c"&&(R=T))}),p.splice(R,0,E)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(p){try{p==null?t.storage.removeItem("debug"):t.storage.debug=p}catch{}}function d(){var p;try{p=t.storage.debug}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=e.DEBUG),p}t.enable(d());function m(){try{return window.localStorage}catch{}}}(Xf,Xf.exports)),Xf.exports}var Wf={exports:{}},DT;function E5(){return DT||(DT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=t.default}(Wf,Wf.exports)),Wf.exports}var Zf={exports:{}},MT;function T5(){return MT||(MT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=t.default}(Zf,Zf.exports)),Zf.exports}var Jf={exports:{}},th={exports:{}},PT;function w5(){return PT||(PT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=t.default}(th,th.exports)),th.exports}var NT;function A5(){return NT||(NT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=w5(),s=a(e);function a(l){return l&&l.__esModule?l:{default:l}}t.default={pauseVideo:{acceptableStates:[s.default.ENDED,s.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[s.default.ENDED,s.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[s.default.ENDED,s.default.PLAYING,s.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=t.default}(Jf,Jf.exports)),Jf.exports}var kT;function S5(){return kT||(kT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=b5(),s=v(e),a=E5(),l=v(a),c=T5(),d=v(c),m=A5(),p=v(m);function v(R){return R&&R.__esModule?R:{default:R}}var E=(0,s.default)("youtube-player"),T={};T.proxyEvents=function(R){var k={},q=function(O){var S="on"+O.slice(0,1).toUpperCase()+O.slice(1);k[S]=function(I){E('event "%s"',S,I),R.trigger(O,I)}},z=!0,K=!1,X=void 0;try{for(var Z=d.default[Symbol.iterator](),ut;!(z=(ut=Z.next()).done);z=!0){var lt=ut.value;q(lt)}}catch(ct){K=!0,X=ct}finally{try{!z&&Z.return&&Z.return()}finally{if(K)throw X}}return k},T.promisifyPlayer=function(R){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q={},z=function(S){k&&p.default[S]?q[S]=function(){for(var I=arguments.length,M=Array(I),N=0;N<I;N++)M[N]=arguments[N];return R.then(function(V){var C=p.default[S],de=V.getPlayerState(),ne=V[S].apply(V,M);return C.stateChangeRequired||Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(de)===-1?new Promise(function(Q){var ft=function gt(){var zt=V.getPlayerState(),D=void 0;typeof C.timeout=="number"&&(D=setTimeout(function(){V.removeEventListener("onStateChange",gt),Q()},C.timeout)),Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(zt)!==-1&&(V.removeEventListener("onStateChange",gt),clearTimeout(D),Q())};V.addEventListener("onStateChange",ft)}).then(function(){return ne}):ne})}:q[S]=function(){for(var I=arguments.length,M=Array(I),N=0;N<I;N++)M[N]=arguments[N];return R.then(function(V){return V[S].apply(V,M)})}},K=!0,X=!1,Z=void 0;try{for(var ut=l.default[Symbol.iterator](),lt;!(K=(lt=ut.next()).done);K=!0){var ct=lt.value;z(ct)}}catch(O){X=!0,Z=O}finally{try{!K&&ut.return&&ut.return()}finally{if(X)throw Z}}return q},t.default=T,n.exports=t.default}(Kf,Kf.exports)),Kf.exports}var VT;function R5(){return VT||(VT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=p5(),a=p(s),l=y5(),c=p(l),d=S5(),m=p(d);function p(E){return E&&E.__esModule?E:{default:E}}var v=void 0;t.default=function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=(0,a.default)();if(v||(v=(0,c.default)(k)),T.events)throw new Error("Event handlers cannot be overwritten.");if(typeof E=="string"&&!document.getElementById(E))throw new Error('Element "'+E+'" does not exist.');T.events=m.default.proxyEvents(k);var q=new Promise(function(K){if((typeof E>"u"?"undefined":e(E))==="object"&&E.playVideo instanceof Function){var X=E;K(X)}else v.then(function(Z){var ut=new Z.Player(E,T);return k.on("ready",function(){K(ut)}),null})}),z=m.default.promisifyPlayer(q,R);return z.on=k.on,z.off=k.off,z},n.exports=t.default}(Yf,Yf.exports)),Yf.exports}var I5=R5();const C5=Fh(I5);var x5=Object.defineProperty,O5=Object.defineProperties,D5=Object.getOwnPropertyDescriptors,LT=Object.getOwnPropertySymbols,M5=Object.prototype.hasOwnProperty,P5=Object.prototype.propertyIsEnumerable,zT=(n,t,e)=>t in n?x5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,py=(n,t)=>{for(var e in t||(t={}))M5.call(t,e)&&zT(n,e,t[e]);if(LT)for(var e of LT(t))P5.call(t,e)&&zT(n,e,t[e]);return n},gy=(n,t)=>O5(n,D5(t)),N5=(n,t,e)=>new Promise((s,a)=>{var l=m=>{try{d(e.next(m))}catch(p){a(p)}},c=m=>{try{d(e.throw(m))}catch(p){a(p)}},d=m=>m.done?s(m.value):Promise.resolve(m.value).then(l,c);d((e=e.apply(n,t)).next())});function k5(n,t){var e,s;if(n.videoId!==t.videoId)return!0;const a=((e=n.opts)==null?void 0:e.playerVars)||{},l=((s=t.opts)==null?void 0:s.playerVars)||{};return a.start!==l.start||a.end!==l.end}function UT(n={}){return gy(py({},n),{height:0,width:0,playerVars:gy(py({},n.playerVars),{autoplay:0,start:0,end:0})})}function V5(n,t){return n.videoId!==t.videoId||!m5(UT(n.opts),UT(t.opts))}function L5(n,t){var e,s,a,l;return n.id!==t.id||n.className!==t.className||((e=n.opts)==null?void 0:e.width)!==((s=t.opts)==null?void 0:s.width)||((a=n.opts)==null?void 0:a.height)!==((l=t.opts)==null?void 0:l.height)||n.iframeClassName!==t.iframeClassName||n.title!==t.title}var z5={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},U5={videoId:_t.string,id:_t.string,className:_t.string,iframeClassName:_t.string,style:_t.object,title:_t.string,loading:_t.oneOf(["lazy","eager"]),opts:_t.objectOf(_t.any),onReady:_t.func,onError:_t.func,onPlay:_t.func,onPause:_t.func,onEnd:_t.func,onStateChange:_t.func,onPlaybackRateChange:_t.func,onPlaybackQualityChange:_t.func},ph=class extends ga.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var e,s;return(s=(e=this.props).onReady)==null?void 0:s.call(e,t)},this.onPlayerError=t=>{var e,s;return(s=(e=this.props).onError)==null?void 0:s.call(e,t)},this.onPlayerStateChange=t=>{var e,s,a,l,c,d,m,p;switch((s=(e=this.props).onStateChange)==null||s.call(e,t),t.data){case ph.PlayerState.ENDED:(l=(a=this.props).onEnd)==null||l.call(a,t);break;case ph.PlayerState.PLAYING:(d=(c=this.props).onPlay)==null||d.call(c,t);break;case ph.PlayerState.PAUSED:(p=(m=this.props).onPause)==null||p.call(m,t);break}},this.onPlayerPlaybackRateChange=t=>{var e,s;return(s=(e=this.props).onPlaybackRateChange)==null?void 0:s.call(e,t)},this.onPlayerPlaybackQualityChange=t=>{var e,s;return(s=(e=this.props).onPlaybackQualityChange)==null?void 0:s.call(e,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=gy(py({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=C5(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,e,s,a;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let l=!1;const c={videoId:this.props.videoId};if((e=this.props.opts)!=null&&e.playerVars&&(l=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(c.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(c.endSeconds=this.props.opts.playerVars.end)),l){(s=this.internalPlayer)==null||s.loadVideoById(c);return}(a=this.internalPlayer)==null||a.cueVideoById(c)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return N5(this,null,function*(){L5(n,this.props)&&this.updatePlayer(),V5(n,this.props)&&(yield this.resetPlayer()),k5(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ga.createElement("div",{className:this.props.className,style:this.props.style},ga.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Id=ph;Id.propTypes=U5;Id.defaultProps=z5;Id.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var j5=Id;const B5="sk_b193185ff7e46dcc02ddff6ee5f634ef75973617bd8caefa",F5="7p1Ofvcwsv7UBPoFNcpI",q5="csk-h3cckk6vmk9nj3m383ceet2j9rrkcdr5w9yv3phn4tk449r3";function H5(){const[n,t]=at.useState(!1),[e,s]=at.useState(""),[a,l]=at.useState(""),[c,d]=at.useState(""),[m,p]=at.useState(!1),[v,E]=at.useState([]),[T,R]=at.useState(null),[k,q]=at.useState(!1),[z,K]=at.useState(!0),[X,Z]=at.useState("default-user.png"),[ut,lt]=at.useState("default-assistant.png"),[ct,O]=at.useState({userName:"",assistantName:"Assistant"}),[S,I]=at.useState(!0),M=at.useRef(null),N=()=>{K(nt=>!nt)},{speakIncrementally:V,isSpeaking:C,audioRef:de}=S6(B5,F5),ne=nt=>Object.fromEntries(Object.entries(nt).filter(([st,ht])=>ht!==void 0));at.useEffect(()=>Pi.onAuthStateChanged(async st=>{if(R(st),st){const ht=await l5(st.uid);ht&&(ht.userAvatar&&Z(ht.userAvatar),ht.assistantAvatar&&lt(ht.assistantAvatar),O({userName:ht.userName||"",assistantName:ht.assistantName||"Assistant"}))}}),[]),at.useEffect(()=>{if(Pi.currentUser){const nt=ne({userAvatar:X,assistantAvatar:ut,...ct});o5(Pi.currentUser.uid,nt)}},[X,ut,ct]),at.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth"})},[v]);const Q=(nt,st)=>{nt==="user"?Z(st):lt(st)},ft=(nt,st)=>{O(ht=>({...ht,[nt==="user"?"userName":"assistantName"]:st}))},gt=async nt=>{const st=await P6({userText:nt,chatHistory:v,voiceEnabled:m,speakFn:V,setAssistantText:d,setChatHistory:E,CEREBRAS_API_KEY:q5,userProfile:ct});st!=null&&st.error&&d(ht=>ht||"Sorry, I had trouble understanding that.")},{startListening:zt}=R6({enabled:!0,onResult:nt=>{l(nt),t(!1),gt(nt)},onError:()=>t(!1),onStart:()=>t(!0),onEnd:()=>t(!1)}),D=()=>{e.trim()&&(l(e),d(""),gt(e),s(""))},it=()=>{window.youtubePlayer&&window.youtubePlayer.unMute(),I(!1)};return F.jsxs(F.Fragment,{children:[S&&F.jsx(f5,{onConfirm:it}),F.jsx(T6,{position:"top-left",toastOptions:{style:{background:"#1a1a1a",color:"#fff",border:"1px solid #333",fontFamily:"Arial, sans-serif"},iconTheme:{primary:"#0f52ba",secondary:"#1a1a1a"},duration:4e3},containerStyle:{marginTop:"70px",marginLeft:"20px"}}),F.jsx(_x,{}),F.jsx(D4,{userAvatar:X,assistantAvatar:ut,onAvatarChange:Q,userName:ct.userName,assistantName:ct.assistantName,onNameChange:ft}),F.jsxs("div",{className:`widget-panel ${z?"visible":"hidden"}`,children:[F.jsx(bx,{}),F.jsx(e5,{})]}),F.jsx("button",{className:"widget-toggle-btn",onClick:N,children:z?"Hide Tools":"Show Tools"}),F.jsxs("div",{style:{position:"relative",padding:20,paddingBottom:100,fontFamily:"Arial, sans-serif",color:"#e0e0e0",display:"flex",flexDirection:"column",alignItems:"center",zIndex:10},children:[F.jsx(t5,{}),F.jsx(c5,{}),F.jsx(M4,{audioRef:de,isSpeaking:C}),F.jsx(A6,{voiceEnabled:m,setVoiceEnabled:p,user:T}),F.jsxs("div",{style:{display:"flex",gap:8,maxWidth:600,width:"100%"},children:[F.jsx("input",{type:"text",placeholder:"Type your message here...",value:e,onChange:nt=>s(nt.target.value),disabled:n||C,onKeyDown:nt=>nt.key==="Enter"&&D(),style:{flexGrow:1,padding:10,fontSize:16,borderRadius:6,border:"1px solid #0f52ba",backgroundColor:"#111",color:"#e0e0e0"}}),F.jsx("button",{onClick:D,disabled:n||C||!e.trim(),style:{padding:"10px 16px",fontSize:16,borderRadius:6,border:"none",backgroundColor:"#0f52ba",color:"#fff",cursor:"pointer"},children:"Send"})]}),F.jsx("button",{onClick:zt,disabled:n||C,style:{marginTop:20,padding:"10px 20px",fontSize:16,borderRadius:6,backgroundColor:n?"#555":"#0f52ba",color:"#fff",border:"none",cursor:"pointer"},children:n?"Listening...":"Start Talking"}),F.jsxs("div",{style:{marginTop:40,maxWidth:600,width:"100%"},children:[F.jsx("h3",{style:{textAlign:"center",marginBottom:10},children:"Conversation History"}),F.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px 16px",borderRadius:8,maxHeight:"300px",overflowY:"auto",border:"1px solid #333"},children:[v.map((nt,st)=>{const ht=nt.timestamp?new Date(nt.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return F.jsxs("div",{style:{display:"flex",flexDirection:nt.role==="user"?"row-reverse":"row",alignItems:"flex-start",gap:"8px",marginBottom:"10px"},children:[F.jsx("img",{src:nt.role==="user"?X:ut,alt:`${nt.role} avatar`,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover",border:"2px solid #555",flexShrink:0}}),F.jsxs("div",{style:{backgroundColor:nt.role==="user"?"#0f52ba":"#333",color:"#fff",padding:"10px 16px",borderRadius:"16px",maxWidth:"75%",wordWrap:"break-word",fontSize:"16px",position:"relative"},children:[F.jsx("div",{children:nt.content}),ht&&F.jsx("div",{style:{fontSize:"10px",color:"#ccc",marginTop:"4px",textAlign:"right",userSelect:"none"},children:ht})]})]},st)}),F.jsx("div",{ref:M})," "]})]}),F.jsx("button",{onClick:()=>E([]),style:{marginTop:10,padding:"6px 12px",backgroundColor:"#0f52ba",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"},children:"Clear Conversation"}),F.jsx("audio",{ref:de}),F.jsx(j5,{videoId:"am1VJP0RnmQ",opts:{height:"0",width:"0",playerVars:{autoplay:1,loop:1,playlist:"am1VJP0RnmQ"}},onReady:nt=>{window.youtubePlayer=nt.target,nt.target.mute()}}),k&&F.jsx(PS,{userAvatar:X,assistantAvatar:ut,onAvatarChange:Q,onClose:()=>q(!1),userName:ct.userName,assistantName:ct.assistantName,onNameChange:ft}),F.jsx(u5,{})]})]})}JI.createRoot(document.getElementById("root")).render(F.jsx(at.StrictMode,{children:F.jsx(H5,{})}));
