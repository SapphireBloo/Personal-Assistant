(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function s1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pp={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function uI(){if(Tb)return mu;Tb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=t,mu.jsx=e,mu.jsxs=e,mu}var wb;function cI(){return wb||(wb=1,pp.exports=uI()),pp.exports}var Y=cI(),gp={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function hI(){if(Ab)return xt;Ab=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,H={};function B(O,nt,ut){this.props=O,this.context=nt,this.refs=H,this.updater=ut||R}B.prototype.isReactComponent={},B.prototype.setState=function(O,nt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,nt,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=B.prototype;function tt(O,nt,ut){this.props=O,this.context=nt,this.refs=H,this.updater=ut||R}var et=tt.prototype=new X;et.constructor=tt,L(et,B.prototype),et.isPureReactComponent=!0;var ft=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function D(O,nt,ut,st,_t,Mt){return ut=Mt.ref,{$$typeof:n,type:O,key:nt,ref:ut!==void 0?ut:null,props:Mt}}function S(O,nt){return D(O.type,nt,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function N(O){var nt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ut){return nt[ut]})}var P=/\/+/g;function k(O,nt){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):nt.toString(36)}function x(){}function be(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(nt){O.status==="pending"&&(O.status="fulfilled",O.value=nt)},function(nt){O.status==="pending"&&(O.status="rejected",O.reason=nt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function re(O,nt,ut,st,_t){var Mt=typeof O;(Mt==="undefined"||Mt==="boolean")&&(O=null);var Rt=!1;if(O===null)Rt=!0;else switch(Mt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(O.$$typeof){case n:case t:Rt=!0;break;case v:return Rt=O._init,re(Rt(O._payload),nt,ut,st,_t)}}if(Rt)return _t=_t(O),Rt=st===""?"."+k(O,0):st,ft(_t)?(ut="",Rt!=null&&(ut=Rt.replace(P,"$&/")+"/"),re(_t,nt,ut,"",function(ai){return ai})):_t!=null&&(I(_t)&&(_t=S(_t,ut+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(P,"$&/")+"/")+Rt)),nt.push(_t)),1;Rt=0;var ke=st===""?".":st+":";if(ft(O))for(var ie=0;ie<O.length;ie++)st=O[ie],Mt=ke+k(st,ie),Rt+=re(st,nt,ut,Mt,_t);else if(ie=T(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(st=O.next()).done;)st=st.value,Mt=ke+k(st,ie++),Rt+=re(st,nt,ut,Mt,_t);else if(Mt==="object"){if(typeof O.then=="function")return re(be(O),nt,ut,st,_t);throw nt=String(O),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function Q(O,nt,ut){if(O==null)return O;var st=[],_t=0;return re(O,st,"","",function(Mt){return nt.call(ut,Mt,_t++)}),st}function lt(O){if(O._status===-1){var nt=O._result;nt=nt(),nt.then(function(ut){(O._status===0||O._status===-1)&&(O._status=1,O._result=ut)},function(ut){(O._status===0||O._status===-1)&&(O._status=2,O._result=ut)}),O._status===-1&&(O._status=0,O._result=nt)}if(O._status===1)return O._result.default;throw O._result}var ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function St(){}return xt.Children={map:Q,forEach:function(O,nt,ut){Q(O,function(){nt.apply(this,arguments)},ut)},count:function(O){var nt=0;return Q(O,function(){nt++}),nt},toArray:function(O){return Q(O,function(nt){return nt})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},xt.Component=B,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=tt,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,xt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ht.H.useMemoCache(O)}},xt.cache=function(O){return function(){return O.apply(null,arguments)}},xt.cloneElement=function(O,nt,ut){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=L({},O.props),_t=O.key,Mt=void 0;if(nt!=null)for(Rt in nt.ref!==void 0&&(Mt=void 0),nt.key!==void 0&&(_t=""+nt.key),nt)!ct.call(nt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&nt.ref===void 0||(st[Rt]=nt[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=ut;else if(1<Rt){for(var ke=Array(Rt),ie=0;ie<Rt;ie++)ke[ie]=arguments[ie+2];st.children=ke}return D(O.type,_t,void 0,void 0,Mt,st)},xt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},xt.createElement=function(O,nt,ut){var st,_t={},Mt=null;if(nt!=null)for(st in nt.key!==void 0&&(Mt=""+nt.key),nt)ct.call(nt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=nt[st]);var Rt=arguments.length-2;if(Rt===1)_t.children=ut;else if(1<Rt){for(var ke=Array(Rt),ie=0;ie<Rt;ie++)ke[ie]=arguments[ie+2];_t.children=ke}if(O&&O.defaultProps)for(st in Rt=O.defaultProps,Rt)_t[st]===void 0&&(_t[st]=Rt[st]);return D(O,Mt,void 0,void 0,null,_t)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(O){return{$$typeof:d,render:O}},xt.isValidElement=I,xt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:lt}},xt.memo=function(O,nt){return{$$typeof:g,type:O,compare:nt===void 0?null:nt}},xt.startTransition=function(O){var nt=ht.T,ut={};ht.T=ut;try{var st=O(),_t=ht.S;_t!==null&&_t(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(St,ot)}catch(Mt){ot(Mt)}finally{ht.T=nt}},xt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},xt.use=function(O){return ht.H.use(O)},xt.useActionState=function(O,nt,ut){return ht.H.useActionState(O,nt,ut)},xt.useCallback=function(O,nt){return ht.H.useCallback(O,nt)},xt.useContext=function(O){return ht.H.useContext(O)},xt.useDebugValue=function(){},xt.useDeferredValue=function(O,nt){return ht.H.useDeferredValue(O,nt)},xt.useEffect=function(O,nt,ut){var st=ht.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(O,nt)},xt.useId=function(){return ht.H.useId()},xt.useImperativeHandle=function(O,nt,ut){return ht.H.useImperativeHandle(O,nt,ut)},xt.useInsertionEffect=function(O,nt){return ht.H.useInsertionEffect(O,nt)},xt.useLayoutEffect=function(O,nt){return ht.H.useLayoutEffect(O,nt)},xt.useMemo=function(O,nt){return ht.H.useMemo(O,nt)},xt.useOptimistic=function(O,nt){return ht.H.useOptimistic(O,nt)},xt.useReducer=function(O,nt,ut){return ht.H.useReducer(O,nt,ut)},xt.useRef=function(O){return ht.H.useRef(O)},xt.useState=function(O){return ht.H.useState(O)},xt.useSyncExternalStore=function(O,nt,ut){return ht.H.useSyncExternalStore(O,nt,ut)},xt.useTransition=function(){return ht.H.useTransition()},xt.version="19.1.0",xt}var Sb;function Wg(){return Sb||(Sb=1,gp.exports=hI()),gp.exports}var rt=Wg();const sf=s1(rt);var yp={exports:{}},pu={},vp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function fI(){return Rb||(Rb=1,function(n){function t(Q,lt){var ot=Q.length;Q.push(lt);t:for(;0<ot;){var St=ot-1>>>1,O=Q[St];if(0<a(O,lt))Q[St]=lt,Q[ot]=O,ot=St;else break t}}function e(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var lt=Q[0],ot=Q.pop();if(ot!==lt){Q[0]=ot;t:for(var St=0,O=Q.length,nt=O>>>1;St<nt;){var ut=2*(St+1)-1,st=Q[ut],_t=ut+1,Mt=Q[_t];if(0>a(st,ot))_t<O&&0>a(Mt,st)?(Q[St]=Mt,Q[_t]=ot,St=_t):(Q[St]=st,Q[ut]=ot,St=ut);else if(_t<O&&0>a(Mt,ot))Q[St]=Mt,Q[_t]=ot,St=_t;else break t}}return lt}function a(Q,lt){var ot=Q.sortIndex-lt.sortIndex;return ot!==0?ot:Q.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,E=null,T=3,R=!1,L=!1,H=!1,B=!1,X=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ft(Q){for(var lt=e(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=Q)s(g),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=e(g)}}function ht(Q){if(H=!1,ft(Q),!L)if(e(m)!==null)L=!0,ct||(ct=!0,k());else{var lt=e(g);lt!==null&&re(ht,lt.startTime-Q)}}var ct=!1,D=-1,S=5,I=-1;function N(){return B?!0:!(n.unstable_now()-I<S)}function P(){if(B=!1,ct){var Q=n.unstable_now();I=Q;var lt=!0;try{t:{L=!1,H&&(H=!1,tt(D),D=-1),R=!0;var ot=T;try{e:{for(ft(Q),E=e(m);E!==null&&!(E.expirationTime>Q&&N());){var St=E.callback;if(typeof St=="function"){E.callback=null,T=E.priorityLevel;var O=St(E.expirationTime<=Q);if(Q=n.unstable_now(),typeof O=="function"){E.callback=O,ft(Q),lt=!0;break e}E===e(m)&&s(m),ft(Q)}else s(m);E=e(m)}if(E!==null)lt=!0;else{var nt=e(g);nt!==null&&re(ht,nt.startTime-Q),lt=!1}}break t}finally{E=null,T=ot,R=!1}lt=void 0}}finally{lt?k():ct=!1}}}var k;if(typeof et=="function")k=function(){et(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,be=x.port2;x.port1.onmessage=P,k=function(){be.postMessage(null)}}else k=function(){X(P,0)};function re(Q,lt){D=X(function(){Q(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var lt=3;break;default:lt=T}var ot=T;T=lt;try{return Q()}finally{T=ot}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(Q,lt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ot=T;T=Q;try{return lt()}finally{T=ot}},n.unstable_scheduleCallback=function(Q,lt,ot){var St=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?St+ot:St):ot=St,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ot+O,Q={id:v++,callback:lt,priorityLevel:Q,startTime:ot,expirationTime:O,sortIndex:-1},ot>St?(Q.sortIndex=ot,t(g,Q),e(m)===null&&Q===e(g)&&(H?(tt(D),D=-1):H=!0,re(ht,ot-St))):(Q.sortIndex=O,t(m,Q),L||R||(L=!0,ct||(ct=!0,k()))),Q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Q){var lt=T;return function(){var ot=T;T=lt;try{return Q.apply(this,arguments)}finally{T=ot}}}}(_p)),_p}var Ib;function dI(){return Ib||(Ib=1,vp.exports=fI()),vp.exports}var bp={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function mI(){if(Cb)return Je;Cb=1;var n=Wg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,v)},Je.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},Je.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Je.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Je.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Je.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Je.requestFormReset=function(m){s.d.r(m)},Je.unstable_batchedUpdates=function(m,g){return m(g)},Je.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var xb;function pI(){if(xb)return bp.exports;xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bp.exports=mI(),bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function gI(){if(Ob)return pu;Ob=1;var n=dI(),t=Wg(),e=pI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===u)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=p;break}if(w===u){b=!0,u=f,o=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===o){b=!0,o=p,u=f;break}if(w===u){b=!0,u=p,o=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case B:return"Profiler";case H:return"StrictMode";case ht:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case et:return(i.displayName||"Context")+".Provider";case tt:return(i._context.displayName||"Context")+".Consumer";case ft:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var re=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},St=[],O=-1;function nt(i){return{current:i}}function ut(i){0>O||(i.current=St[O],St[O]=null,O--)}function st(i,r){O++,St[O]=i.current,i.current=r}var _t=nt(null),Mt=nt(null),Rt=nt(null),ke=nt(null);function ie(i,r){switch(st(Rt,r),st(Mt,i),st(_t,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?$0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=$0(r),i=W0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(_t),st(_t,i)}function ai(){ut(_t),ut(Mt),ut(Rt)}function ws(i){i.memoizedState!==null&&st(ke,i);var r=_t.current,o=W0(r,i.type);r!==o&&(st(Mt,i),st(_t,o))}function Vi(i){Mt.current===i&&(ut(_t),ut(Mt)),ke.current===i&&(ut(ke),uu._currentValue=ot)}var Cr=Object.prototype.hasOwnProperty,xr=n.unstable_scheduleCallback,Or=n.unstable_cancelCallback,al=n.unstable_shouldYield,cc=n.unstable_requestPaint,Mn=n.unstable_now,pd=n.unstable_getCurrentPriorityLevel,ol=n.unstable_ImmediatePriority,xa=n.unstable_UserBlockingPriority,Dr=n.unstable_NormalPriority,gd=n.unstable_LowPriority,Oa=n.unstable_IdlePriority,ll=n.log,hc=n.unstable_setDisableYieldValue,de=null,Xt=null;function _n(i){if(typeof ll=="function"&&hc(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(de,i)}catch{}}var We=Math.clz32?Math.clz32:Mr,fc=Math.log,yd=Math.LN2;function Mr(i){return i>>>=0,i===0?32:31-(fc(i)/yd|0)|0}var Nr=256,Pr=4194304;function Kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=Kn(u):(b&=w,b!==0?f=Kn(b):o||(o=w&~i,o!==0&&(f=Kn(o))))):(w=u&~p,w!==0?f=Kn(w):b!==0?f=Kn(b):o||(o=u&~i,o!==0&&(f=Kn(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function kr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ul(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),i}function hl(){var i=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),i}function Li(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fl(i,r,o,u,f,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,C=i.expirationTimes,j=i.hiddenUpdates;for(o=b&~o;0<o;){var K=31-We(o),W=1<<K;w[K]=0,C[K]=-1;var F=j[K];if(F!==null)for(j[K]=null,K=0;K<F.length;K++){var q=F[K];q!==null&&(q.lane&=-536870913)}o&=~W}u!==0&&oi(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function oi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-We(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function dl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-We(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function As(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ma(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ss(){var i=lt.p;return i!==0?i:(i=window.event,i===void 0?32:gb(i.type))}function dc(i,r){var o=lt.p;try{return lt.p=i,r()}finally{lt.p=o}}var le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+le,Ee="__reactProps$"+le,Nn="__reactContainer$"+le,ml="__reactEvents$"+le,vd="__reactListeners$"+le,Rs="__reactHandles$"+le,mc="__reactResources$"+le,Vr="__reactMarker$"+le;function Is(i){delete i[Ie],delete i[Ee],delete i[ml],delete i[vd],delete i[Rs]}function Ui(i){var r=i[Ie];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Nn]||o[Ie]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=eb(i);i!==null;){if(o=i[Ie])return o;i=eb(i)}return r}i=o,o=i.parentNode}return null}function li(i){if(i=i[Ie]||i[Nn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ui(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ln(i){var r=i[mc];return r||(r=i[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(i){i[Vr]=!0}var pl=new Set,Na={};function Xn(i,r){ji(i,r),ji(i+"Capture",r)}function ji(i,r){for(Na[i]=r,i=0;i<r.length;i++)pl.add(r[i])}var pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},Lr={};function yc(i){return Cr.call(Lr,i)?!0:Cr.call(gc,i)?!1:pc.test(i)?Lr[i]=!0:(gc[i]=!0,!1)}function Cs(i,r,o){if(yc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ci(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var zr,vc;function Bi(i){if(zr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);zr=r&&r[1]||"",vc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+i+vc}var Pa=!1;function ka(i,r){if(!i||Pa)return"";Pa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var F=q}Reflect.construct(i,[],W)}else{try{W.call()}catch(q){F=q}i.call(W.prototype)}}else{try{throw Error()}catch(q){F=q}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&F&&typeof q.stack=="string")return[q.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var C=b.split(`
`),j=w.split(`
`);for(f=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(u===C.length||f===j.length)for(u=C.length-1,f=j.length-1;1<=u&&0<=f&&C[u]!==j[f];)f--;for(;1<=u&&0<=f;u--,f--)if(C[u]!==j[f]){if(u!==1||f!==1)do if(u--,f--,0>f||C[u]!==j[f]){var K=`
`+C[u].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=u&&0<=f);break}}}finally{Pa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function gl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return ka(i.type,!1);case 11:return ka(i.type.render,!1);case 1:return ka(i.type,!0);case 31:return Bi("Activity");default:return""}}function Va(i){try{var r="";do r+=gl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _d(i){var r=yl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function La(i){i._valueTracker||(i._valueTracker=_d(i))}function vl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=yl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ur(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bd=/[\n"\\]/g;function Te(i){return i.replace(bd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(i,r,o,u,f,p,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+un(r)):i.value!==""+un(r)&&(i.value=""+un(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?xs(i,b,un(r)):o!=null?xs(i,b,un(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+un(w):i.removeAttribute("name")}function jr(i,r,o,u,f,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+un(o):"",r=r!=null?""+un(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function xs(i,r,o){r==="number"&&Ur(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fi(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Zt(i,r,o){if(r!=null&&(r=""+un(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+un(o):""}function Br(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(re(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=un(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Pn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Fr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function _l(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&_c(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&_c(i,p,r[p])}function bl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(i){return Td.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qi=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,Gi=null;function El(i){var r=li(i);if(r&&(i=r.stateNode)){var o=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(bn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Ee]||null;if(!f)throw Error(s(90));bn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&vl(u)}break t;case"textarea":Zt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fi(i,!!o.multiple,r,!1)}}}var hi=!1;function bc(i,r,o){if(hi)return i(r,o);hi=!0;try{var u=i(r);return u}finally{if(hi=!1,(Hi!==null||Gi!==null)&&(dh(),Hi&&(r=Hi,i=Gi,Gi=Hi=null,El(r),i)))for(r=0;r<i.length;r++)El(i[r])}}function qr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ee]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if($n)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Vn=!1}var fi=null,Os=null,Yi=null;function Tl(){if(Yi)return Yi;var i,r=Os,o=r.length,u,f="value"in fi?fi.value:fi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[p-u];u++);return Yi=f.slice(i,1<u?1-u:void 0)}function di(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function mi(){return!0}function wl(){return!1}function Ve(i){function r(o,u,f,p,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?mi:wl,this.isPropagationStopped=wl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Ve(Qt),Gr=v({},Qt,{view:0,detail:0}),Ec=Ve(Gr),ja,Ba,pi,Yr=v({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pi&&(pi&&i.type==="mousemove"?(ja=i.screenX-pi.screenX,Ba=i.screenY-pi.screenY):Ba=ja=0,pi=i),ja)},movementY:function(i){return"movementY"in i?i.movementY:Ba}}),Ln=Ve(Yr),Tc=v({},Yr,{dataTransfer:0}),wd=Ve(Tc),Qr=v({},Gr,{relatedTarget:0}),Fa=Ve(Qr),Al=v({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Ve(Al),wc=v({},Qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ha=Ve(wc),Ad=v({},Qt,{data:0}),Sl=Ve(Ad),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Sc[i])?!!r[i]:!1}function Xr(){return Rl}var Rc=v({},Gr,{key:function(i){if(i.key){var r=Kr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=di(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(i){return i.type==="keypress"?di(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?di(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ga=Ve(Rc),Ic=v({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Ve(Ic),Qi=v({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Cc=Ve(Qi),xc=v({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oc=Ve(xc),Dc=v({},Yr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Ve(Dc),cn=v({},Qt,{newState:0,oldState:0}),Mc=Ve(cn),Nc=[9,13,27,32],gi=$n&&"CompositionEvent"in window,h=null;$n&&"documentMode"in document&&(h=document.documentMode);var y=$n&&"TextEvent"in window&&!h,_=$n&&(!gi||h&&8<h&&11>=h),A=" ",z=!1;function G(i,r){switch(i){case"keyup":return Nc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jt=!1;function Ce(i,r){switch(i){case"compositionend":return at(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return i=r.data,i===A&&z?null:i;default:return null}}function Bt(i,r){if(jt)return i==="compositionend"||!gi&&G(i,r)?(i=Tl(),Yi=Os=fi=null,jt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function Ki(i,r,o,u){Hi?Gi?Gi.push(u):Gi=[u]:Hi=u,r=_h(r,"onChange"),0<r.length&&(o=new Ua("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,yi=null;function Cl(i){G0(i,0)}function Pc(i){var r=ui(i);if(vl(r))return i}function fv(i,r){if(i==="change")return r}var dv=!1;if($n){var Sd;if($n){var Rd="oninput"in document;if(!Rd){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Rd=typeof mv.oninput=="function"}Sd=Rd}else Sd=!1;dv=Sd&&(!document.documentMode||9<document.documentMode)}function pv(){He&&(He.detachEvent("onpropertychange",gv),yi=He=null)}function gv(i){if(i.propertyName==="value"&&Pc(yi)){var r=[];Ki(r,yi,i,kn(i)),bc(Cl,r)}}function US(i,r,o){i==="focusin"?(pv(),He=r,yi=o,He.attachEvent("onpropertychange",gv)):i==="focusout"&&pv()}function jS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pc(yi)}function BS(i,r){if(i==="click")return Pc(r)}function FS(i,r){if(i==="input"||i==="change")return Pc(r)}function qS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var En=typeof Object.is=="function"?Object.is:qS;function xl(i,r){if(En(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Cr.call(r,f)||!En(i[f],r[f]))return!1}return!0}function yv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vv(i,r){var o=yv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=yv(o)}}function _v(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?_v(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function bv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ur(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ur(i.document)}return r}function Id(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var HS=$n&&"documentMode"in document&&11>=document.documentMode,Qa=null,Cd=null,Ol=null,xd=!1;function Ev(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xd||Qa==null||Qa!==Ur(u)||(u=Qa,"selectionStart"in u&&Id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ol&&xl(Ol,u)||(Ol=u,u=_h(Cd,"onSelect"),0<u.length&&(r=new Ua("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Qa)))}function $r(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ka={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Od={},Tv={};$n&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Wr(i){if(Od[i])return Od[i];if(!Ka[i])return i;var r=Ka[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Tv)return Od[i]=r[o];return i}var wv=Wr("animationend"),Av=Wr("animationiteration"),Sv=Wr("animationstart"),GS=Wr("transitionrun"),YS=Wr("transitionstart"),QS=Wr("transitioncancel"),Rv=Wr("transitionend"),Iv=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function Wn(i,r){Iv.set(i,r),Xn(r,[i])}var Cv=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=Cv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Va(r)},Cv.set(i,r),r)}return{value:i,source:r,stack:Va(r)}}var Un=[],Xa=0,Md=0;function kc(){for(var i=Xa,r=Md=Xa=0;r<i;){var o=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var p=Un[r];if(Un[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}p!==0&&xv(o,f,p)}}function Vc(i,r,o,u){Un[Xa++]=i,Un[Xa++]=r,Un[Xa++]=o,Un[Xa++]=u,Md|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Nd(i,r,o,u){return Vc(i,r,o,u),Lc(i)}function $a(i,r){return Vc(i,null,null,r),Lc(i)}function xv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-We(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function Lc(i){if(50<eu)throw eu=0,Um=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Wa={};function KS(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,r,o,u){return new KS(i,r,o,u)}function Pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xi(i,r){var o=i.alternate;return o===null?(o=Tn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ov(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function zc(i,r,o,u,f,p){var b=0;if(u=i,typeof i=="function")Pd(i)&&(b=1);else if(typeof i=="string")b=$R(i,o,_t.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Tn(31,o,r,f),i.elementType=I,i.lanes=p,i;case L:return Zr(o.children,f,p,r);case H:b=8,f|=24;break;case B:return i=Tn(12,o,r,f|2),i.elementType=B,i.lanes=p,i;case ht:return i=Tn(13,o,r,f),i.elementType=ht,i.lanes=p,i;case ct:return i=Tn(19,o,r,f),i.elementType=ct,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:case et:b=10;break t;case tt:b=9;break t;case ft:b=11;break t;case D:b=14;break t;case S:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Tn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function Zr(i,r,o,u){return i=Tn(7,i,u,r),i.lanes=o,i}function kd(i,r,o){return i=Tn(6,i,null,r),i.lanes=o,i}function Vd(i,r,o){return r=Tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Za=[],Ja=0,Uc=null,jc=0,jn=[],Bn=0,Jr=null,$i=1,Wi="";function ta(i,r){Za[Ja++]=jc,Za[Ja++]=Uc,Uc=i,jc=r}function Dv(i,r,o){jn[Bn++]=$i,jn[Bn++]=Wi,jn[Bn++]=Jr,Jr=i;var u=$i;i=Wi;var f=32-We(u)-1;u&=~(1<<f),o+=1;var p=32-We(r)+f;if(30<p){var b=f-f%5;p=(u&(1<<b)-1).toString(32),u>>=b,f-=b,$i=1<<32-We(r)+f|o<<f|u,Wi=p+i}else $i=1<<p|o<<f|u,Wi=i}function Ld(i){i.return!==null&&(ta(i,1),Dv(i,1,0))}function zd(i){for(;i===Uc;)Uc=Za[--Ja],Za[Ja]=null,jc=Za[--Ja],Za[Ja]=null;for(;i===Jr;)Jr=jn[--Bn],jn[Bn]=null,Wi=jn[--Bn],jn[Bn]=null,$i=jn[--Bn],jn[Bn]=null}var hn=null,me=null,Yt=!1,ea=null,vi=!1,Ud=Error(s(519));function na(i){var r=Error(s(418,""));throw Nl(zn(r,i)),Ud}function Mv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ie]=i,r[Ee]=u,o){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(o=0;o<iu.length;o++)kt(iu[o],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),jr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),La(r);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Br(r,u.value,u.defaultValue,u.children),La(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||X0(r.textContent,o)?(u.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),u.onScroll!=null&&kt("scroll",r),u.onScrollEnd!=null&&kt("scrollend",r),u.onClick!=null&&(r.onclick=bh),r=!0):r=!1,r||na(i)}function Nv(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:hn=hn.return}}function Dl(i){if(i!==hn)return!1;if(!Yt)return Nv(i),Yt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ep(i.type,i.memoizedProps)),o=!o),o&&me&&na(i),Nv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){me=Jn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}me=null}}else r===27?(r=me,Ys(i.type)?(i=rp,rp=null,me=i):me=r):me=hn?Jn(i.stateNode.nextSibling):null;return!0}function Ml(){me=hn=null,Yt=!1}function Pv(){var i=ea;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),ea=null),i}function Nl(i){ea===null?ea=[i]:ea.push(i)}var jd=nt(null),ia=null,Zi=null;function Ds(i,r,o){st(jd,r._currentValue),r._currentValue=o}function Ji(i){i._currentValue=jd.current,ut(jd)}function Bd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Fd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=f;for(var C=0;C<r.length;C++)if(w.context===r[C]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),Bd(p.return,o,i),u||(b=null);break t}p=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),Bd(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Pl(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;En(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===ke.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}f=f.return}i!==null&&Fd(r,i,o,u),r.flags|=262144}function Bc(i){for(i=i.firstContext;i!==null;){if(!En(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){ia=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return kv(ia,i)}function Fc(i,r){return ia===null&&sa(i),kv(i,r)}function kv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(s(308));Zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zi=Zi.next=r;return o}var XS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},$S=n.unstable_scheduleCallback,WS=n.unstable_NormalPriority,Oe={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new XS,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&$S(WS,function(){i.controller.abort()})}var Vl=null,Hd=0,to=0,eo=null;function ZS(i,r){if(Vl===null){var o=Vl=[];Hd=0,to=Ym(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Hd++,r.then(Vv,Vv),r}function Vv(){if(--Hd===0&&Vl!==null){eo!==null&&(eo.status="fulfilled");var i=Vl;Vl=null,to=0,eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function JS(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Lv=Q.S;Q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZS(i,r),Lv!==null&&Lv(i,r)};var ra=nt(null);function Gd(){var i=ra.current;return i!==null?i:se.pooledCache}function qc(i,r){r===null?st(ra,ra.current):st(ra,r.pool)}function zv(){var i=Gd();return i===null?null:{parent:Oe._currentValue,pool:i}}var Ll=Error(s(460)),Uv=Error(s(474)),Hc=Error(s(542)),Yd={then:function(){}};function jv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gc(){}function Bv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Gc,Gc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qv(i),i;default:if(typeof r.status=="string")r.then(Gc,Gc);else{if(i=se,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qv(i),i}throw zl=r,Ll}}var zl=null;function Fv(){if(zl===null)throw Error(s(459));var i=zl;return zl=null,i}function qv(i){if(i===Ll||i===Hc)throw Error(s(483))}var Ms=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ns(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ps(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Lc(i),xv(i,null,o),r}return Vc(i,u,r,o),Lc(i)}function Ul(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,dl(i,o)}}function Xd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var $d=!1;function jl(){if($d){var i=eo;if(i!==null)throw i}}function Bl(i,r,o,u){$d=!1;var f=i.updateQueue;Ms=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var C=w,j=C.next;C.next=null,b===null?p=j:b.next=j,b=C;var K=i.alternate;K!==null&&(K=K.updateQueue,w=K.lastBaseUpdate,w!==b&&(w===null?K.firstBaseUpdate=j:w.next=j,K.lastBaseUpdate=C))}if(p!==null){var W=f.baseState;b=0,K=j=C=null,w=p;do{var F=w.lane&-536870913,q=F!==w.lane;if(q?(Ft&F)===F:(u&F)===F){F!==0&&F===to&&($d=!0),K!==null&&(K=K.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=i,bt=w;F=r;var ee=o;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){W=At.call(ee,W,F);break t}W=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,F=typeof At=="function"?At.call(ee,W,F):At,F==null)break t;W=v({},W,F);break t;case 2:Ms=!0}}F=w.callback,F!==null&&(i.flags|=64,q&&(i.flags|=8192),q=f.callbacks,q===null?f.callbacks=[F]:q.push(F))}else q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},K===null?(j=K=q,C=W):K=K.next=q,b|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;q=w,w=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(C=W),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=K,p===null&&(f.shared.lanes=0),Fs|=b,i.lanes=b,i.memoizedState=W}}function Hv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Gv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Hv(o[i],r)}var no=nt(null),Yc=nt(0);function Yv(i,r){i=as,st(Yc,i),st(no,r),as=i|r.baseLanes}function Wd(){st(Yc,as),st(no,no.current)}function Zd(){as=Yc.current,ut(no),ut(Yc)}var ks=0,Ot=null,Jt=null,we=null,Qc=!1,io=!1,aa=!1,Kc=0,Fl=0,so=null,tR=0;function ye(){throw Error(s(321))}function Jd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!En(i[o],r[o]))return!1;return!0}function tm(i,r,o,u,f,p){return ks=p,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?x_:O_,aa=!1,p=o(u,f),aa=!1,io&&(p=Kv(r,o,u,f)),Qv(i),p}function Qv(i){Q.H=th;var r=Jt!==null&&Jt.next!==null;if(ks=0,we=Jt=Ot=null,Qc=!1,Fl=0,so=null,r)throw Error(s(300));i===null||ze||(i=i.dependencies,i!==null&&Bc(i)&&(ze=!0))}function Kv(i,r,o,u){Ot=i;var f=0;do{if(io&&(so=null),Fl=0,io=!1,25<=f)throw Error(s(301));if(f+=1,we=Jt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=oR,p=r(o,u)}while(io);return p}function eR(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?ql(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Ot.flags|=1024),r}function em(){var i=Kc!==0;return Kc=0,i}function nm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function im(i){if(Qc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Qc=!1}ks=0,we=Jt=Ot=null,io=!1,Fl=Kc=0,so=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=i:we=we.next=i,we}function Ae(){if(Jt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=we===null?Ot.memoizedState:we.next;if(r!==null)we=r,Jt=i;else{if(i===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Ot.memoizedState=we=i:we=we.next=i}return we}function sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var r=Fl;return Fl+=1,so===null&&(so=[]),i=Bv(so,i,r),r=Ot,(we===null?r.memoizedState:we.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?x_:O_),i}function Xc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===et)return Ze(i)}throw Error(s(438,String(i)))}function rm(i){var r=null,o=Ot.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=sm(),Ot.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=N;return r.index++,o}function ts(i,r){return typeof r=="function"?r(i):r}function $c(i){var r=Ae();return am(r,Jt,i)}function am(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var w=b=null,C=null,j=r,K=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(Ft&W)===W:(ks&W)===W){var F=j.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===to&&(K=!0);else if((ks&F)===F){j=j.next,F===to&&(K=!0);continue}else W={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(w=C=W,b=p):C=C.next=W,Ot.lanes|=F,Fs|=F;W=j.action,aa&&o(p,W),p=j.hasEagerState?j.eagerState:o(p,W)}else F={lane:W,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(w=C=F,b=p):C=C.next=F,Ot.lanes|=W,Fs|=W;j=j.next}while(j!==null&&j!==r);if(C===null?b=p:C.next=w,!En(p,i.memoizedState)&&(ze=!0,K&&(o=eo,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=C,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function om(i){var r=Ae(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=i(p,b.action),b=b.next;while(b!==f);En(p,r.memoizedState)||(ze=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Xv(i,r,o){var u=Ot,f=Ae(),p=Yt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!En((Jt||f).memoizedState,o);b&&(f.memoizedState=o,ze=!0),f=f.queue;var w=Zv.bind(null,u,f,i);if(Hl(2048,8,w,[i]),f.getSnapshot!==r||b||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,ro(9,Wc(),Wv.bind(null,u,f,o,r),null),se===null)throw Error(s(349));p||(ks&124)!==0||$v(u,r,o)}return o}function $v(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ot.updateQueue,r===null?(r=sm(),Ot.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Wv(i,r,o,u){r.value=o,r.getSnapshot=u,Jv(r)&&t_(i)}function Zv(i,r,o){return o(function(){Jv(r)&&t_(i)})}function Jv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!En(i,o)}catch{return!0}}function t_(i){var r=$a(i,2);r!==null&&In(r,i,2)}function lm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),aa){_n(!0);try{o()}finally{_n(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:i},r}function e_(i,r,o,u){return i.baseState=o,am(i,Jt,typeof u=="function"?u:ts)}function nR(i,r,o,u,f){if(Jc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,n_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function n_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=Q.T,b={};Q.T=b;try{var w=o(f,u),C=Q.S;C!==null&&C(b,w),i_(i,r,w)}catch(j){um(i,r,j)}finally{Q.T=p}}else try{p=o(f,u),i_(i,r,p)}catch(j){um(i,r,j)}}function i_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){s_(i,r,u)},function(u){return um(i,r,u)}):s_(i,r,o)}function s_(i,r,o){r.status="fulfilled",r.value=o,r_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,n_(i,o)))}function um(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,r_(r),r=r.next;while(r!==u)}i.action=null}function r_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function a_(i,r){return r}function o_(i,r){if(Yt){var o=se.formState;if(o!==null){t:{var u=Ot;if(Yt){if(me){e:{for(var f=me,p=vi;f.nodeType!==8;){if(!p){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){me=Jn(f.nextSibling),u=f.data==="F!";break t}}na(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:r},o.queue=u,o=R_.bind(null,Ot,u),u.dispatch=o,u=lm(!1),p=mm.bind(null,Ot,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=nR.bind(null,Ot,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function l_(i){var r=Ae();return u_(r,Jt,i)}function u_(i,r,o){if(r=am(i,r,a_)[0],i=$c(ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ql(r)}catch(b){throw b===Ll?Hc:b}else u=r;r=Ae();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Ot.flags|=2048,ro(9,Wc(),iR.bind(null,f,o),null)),[u,p,i]}function iR(i,r){i.action=r}function c_(i){var r=Ae(),o=Jt;if(o!==null)return u_(r,o,i);Ae(),r=r.memoizedState,o=Ae();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ro(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=sm(),Ot.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Wc(){return{destroy:void 0,resource:void 0}}function h_(){return Ae().memoizedState}function Zc(i,r,o,u){var f=dn();u=u===void 0?null:u,Ot.flags|=i,f.memoizedState=ro(1|r,Wc(),o,u)}function Hl(i,r,o,u){var f=Ae();u=u===void 0?null:u;var p=f.memoizedState.inst;Jt!==null&&u!==null&&Jd(u,Jt.memoizedState.deps)?f.memoizedState=ro(r,p,o,u):(Ot.flags|=i,f.memoizedState=ro(1|r,p,o,u))}function f_(i,r){Zc(8390656,8,i,r)}function d_(i,r){Hl(2048,8,i,r)}function m_(i,r){return Hl(4,2,i,r)}function p_(i,r){return Hl(4,4,i,r)}function g_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function y_(i,r,o){o=o!=null?o.concat([i]):null,Hl(4,4,g_.bind(null,r,i),o)}function cm(){}function v_(i,r){var o=Ae();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Jd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function __(i,r){var o=Ae();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Jd(r,u[1]))return u[0];if(u=i(),aa){_n(!0);try{i()}finally{_n(!1)}}return o.memoizedState=[u,r],u}function hm(i,r,o){return o===void 0||(ks&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=T0(),Ot.lanes|=i,Fs|=i,o)}function b_(i,r,o,u){return En(o,r)?o:no.current!==null?(i=hm(i,o,u),En(i,r)||(ze=!0),i):(ks&42)===0?(ze=!0,i.memoizedState=o):(i=T0(),Ot.lanes|=i,Fs|=i,r)}function E_(i,r,o,u,f){var p=lt.p;lt.p=p!==0&&8>p?p:8;var b=Q.T,w={};Q.T=w,mm(i,!1,r,o);try{var C=f(),j=Q.S;if(j!==null&&j(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=JS(C,u);Gl(i,r,K,Rn(i))}else Gl(i,r,u,Rn(i))}catch(W){Gl(i,r,{then:function(){},status:"rejected",reason:W},Rn())}finally{lt.p=p,Q.T=b}}function sR(){}function fm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=T_(i).queue;E_(i,f,r,ot,o===null?sR:function(){return w_(i),o(u)})}function T_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ot},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function w_(i){var r=T_(i).next.queue;Gl(i,r,{},Rn())}function dm(){return Ze(uu)}function A_(){return Ae().memoizedState}function S_(){return Ae().memoizedState}function rR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Rn();i=Ns(o);var u=Ps(r,i,o);u!==null&&(In(u,r,o),Ul(u,r,o)),r={cache:qd()},i.payload=r;return}r=r.return}}function aR(i,r,o){var u=Rn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Jc(i)?I_(r,o):(o=Nd(i,r,o,u),o!==null&&(In(o,i,u),C_(o,r,u)))}function R_(i,r,o){var u=Rn();Gl(i,r,o,u)}function Gl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jc(i))I_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,w=p(b,o);if(f.hasEagerState=!0,f.eagerState=w,En(w,b))return Vc(i,r,f,0),se===null&&kc(),!1}catch{}finally{}if(o=Nd(i,r,f,u),o!==null)return In(o,i,u),C_(o,r,u),!0}return!1}function mm(i,r,o,u){if(u={lane:2,revertLane:Ym(),action:u,hasEagerState:!1,eagerState:null,next:null},Jc(i)){if(r)throw Error(s(479))}else r=Nd(i,o,u,2),r!==null&&In(r,i,2)}function Jc(i){var r=i.alternate;return i===Ot||r!==null&&r===Ot}function I_(i,r){io=Qc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function C_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,dl(i,o)}}var th={readContext:Ze,use:Xc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},x_={readContext:Ze,use:Xc,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Ze,useEffect:f_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Zc(4194308,4,g_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Zc(4194308,4,i,r)},useInsertionEffect:function(i,r){Zc(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(aa){_n(!0);try{i()}finally{_n(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(aa){_n(!0);try{o(r)}finally{_n(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=aR.bind(null,Ot,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=lm(i);var r=i.queue,o=R_.bind(null,Ot,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:cm,useDeferredValue:function(i,r){var o=dn();return hm(o,i,r)},useTransition:function(){var i=lm(!1);return i=E_.bind(null,Ot,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ot,f=dn();if(Yt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),se===null)throw Error(s(349));(Ft&124)!==0||$v(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,f_(Zv.bind(null,u,p,i),[i]),u.flags|=2048,ro(9,Wc(),Wv.bind(null,u,p,o,r),null),o},useId:function(){var i=dn(),r=se.identifierPrefix;if(Yt){var o=Wi,u=$i;o=(u&~(1<<32-We(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=Kc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=tR++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:dm,useFormState:o_,useActionState:o_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=mm.bind(null,Ot,!0,o),o.dispatch=r,[i,r]},useMemoCache:rm,useCacheRefresh:function(){return dn().memoizedState=rR.bind(null,Ot)}},O_={readContext:Ze,use:Xc,useCallback:v_,useContext:Ze,useEffect:d_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:$c,useRef:h_,useState:function(){return $c(ts)},useDebugValue:cm,useDeferredValue:function(i,r){var o=Ae();return b_(o,Jt.memoizedState,i,r)},useTransition:function(){var i=$c(ts)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:Xv,useId:A_,useHostTransitionStatus:dm,useFormState:l_,useActionState:l_,useOptimistic:function(i,r){var o=Ae();return e_(o,Jt,i,r)},useMemoCache:rm,useCacheRefresh:S_},oR={readContext:Ze,use:Xc,useCallback:v_,useContext:Ze,useEffect:d_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:om,useRef:h_,useState:function(){return om(ts)},useDebugValue:cm,useDeferredValue:function(i,r){var o=Ae();return Jt===null?hm(o,i,r):b_(o,Jt.memoizedState,i,r)},useTransition:function(){var i=om(ts)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:Xv,useId:A_,useHostTransitionStatus:dm,useFormState:c_,useActionState:c_,useOptimistic:function(i,r){var o=Ae();return Jt!==null?e_(o,Jt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:rm,useCacheRefresh:S_},ao=null,Yl=0;function eh(i){var r=Yl;return Yl+=1,ao===null&&(ao=[]),Bv(ao,i,r)}function Ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function nh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function D_(i){var r=i._init;return r(i._payload)}function M_(i){function r(V,M){if(i){var U=V.deletions;U===null?(V.deletions=[M],V.flags|=16):U.push(M)}}function o(V,M){if(!i)return null;for(;M!==null;)r(V,M),M=M.sibling;return null}function u(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function f(V,M){return V=Xi(V,M),V.index=0,V.sibling=null,V}function p(V,M,U){return V.index=U,i?(U=V.alternate,U!==null?(U=U.index,U<M?(V.flags|=67108866,M):U):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function b(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function w(V,M,U,$){return M===null||M.tag!==6?(M=kd(U,V.mode,$),M.return=V,M):(M=f(M,U),M.return=V,M)}function C(V,M,U,$){var pt=U.type;return pt===L?K(V,M,U.props.children,$,U.key):M!==null&&(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&D_(pt)===M.type)?(M=f(M,U.props),Ql(M,U),M.return=V,M):(M=zc(U.type,U.key,U.props,null,V.mode,$),Ql(M,U),M.return=V,M)}function j(V,M,U,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Vd(U,V.mode,$),M.return=V,M):(M=f(M,U.children||[]),M.return=V,M)}function K(V,M,U,$,pt){return M===null||M.tag!==7?(M=Zr(U,V.mode,$,pt),M.return=V,M):(M=f(M,U),M.return=V,M)}function W(V,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kd(""+M,V.mode,U),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return U=zc(M.type,M.key,M.props,null,V.mode,U),Ql(U,M),U.return=V,U;case R:return M=Vd(M,V.mode,U),M.return=V,M;case S:var $=M._init;return M=$(M._payload),W(V,M,U)}if(re(M)||k(M))return M=Zr(M,V.mode,U,null),M.return=V,M;if(typeof M.then=="function")return W(V,eh(M),U);if(M.$$typeof===et)return W(V,Fc(V,M),U);nh(V,M)}return null}function F(V,M,U,$){var pt=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pt!==null?null:w(V,M,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===pt?C(V,M,U,$):null;case R:return U.key===pt?j(V,M,U,$):null;case S:return pt=U._init,U=pt(U._payload),F(V,M,U,$)}if(re(U)||k(U))return pt!==null?null:K(V,M,U,$,null);if(typeof U.then=="function")return F(V,M,eh(U),$);if(U.$$typeof===et)return F(V,M,Fc(V,U),$);nh(V,U)}return null}function q(V,M,U,$,pt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return V=V.get(U)||null,w(M,V,""+$,pt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return V=V.get($.key===null?U:$.key)||null,C(M,V,$,pt);case R:return V=V.get($.key===null?U:$.key)||null,j(M,V,$,pt);case S:var Nt=$._init;return $=Nt($._payload),q(V,M,U,$,pt)}if(re($)||k($))return V=V.get(U)||null,K(M,V,$,pt,null);if(typeof $.then=="function")return q(V,M,U,eh($),pt);if($.$$typeof===et)return q(V,M,U,Fc(M,$),pt);nh(M,$)}return null}function At(V,M,U,$){for(var pt=null,Nt=null,yt=M,Et=M=0,je=null;yt!==null&&Et<U.length;Et++){yt.index>Et?(je=yt,yt=null):je=yt.sibling;var Ht=F(V,yt,U[Et],$);if(Ht===null){yt===null&&(yt=je);break}i&&yt&&Ht.alternate===null&&r(V,yt),M=p(Ht,M,Et),Nt===null?pt=Ht:Nt.sibling=Ht,Nt=Ht,yt=je}if(Et===U.length)return o(V,yt),Yt&&ta(V,Et),pt;if(yt===null){for(;Et<U.length;Et++)yt=W(V,U[Et],$),yt!==null&&(M=p(yt,M,Et),Nt===null?pt=yt:Nt.sibling=yt,Nt=yt);return Yt&&ta(V,Et),pt}for(yt=u(yt);Et<U.length;Et++)je=q(yt,V,Et,U[Et],$),je!==null&&(i&&je.alternate!==null&&yt.delete(je.key===null?Et:je.key),M=p(je,M,Et),Nt===null?pt=je:Nt.sibling=je,Nt=je);return i&&yt.forEach(function(Ws){return r(V,Ws)}),Yt&&ta(V,Et),pt}function bt(V,M,U,$){if(U==null)throw Error(s(151));for(var pt=null,Nt=null,yt=M,Et=M=0,je=null,Ht=U.next();yt!==null&&!Ht.done;Et++,Ht=U.next()){yt.index>Et?(je=yt,yt=null):je=yt.sibling;var Ws=F(V,yt,Ht.value,$);if(Ws===null){yt===null&&(yt=je);break}i&&yt&&Ws.alternate===null&&r(V,yt),M=p(Ws,M,Et),Nt===null?pt=Ws:Nt.sibling=Ws,Nt=Ws,yt=je}if(Ht.done)return o(V,yt),Yt&&ta(V,Et),pt;if(yt===null){for(;!Ht.done;Et++,Ht=U.next())Ht=W(V,Ht.value,$),Ht!==null&&(M=p(Ht,M,Et),Nt===null?pt=Ht:Nt.sibling=Ht,Nt=Ht);return Yt&&ta(V,Et),pt}for(yt=u(yt);!Ht.done;Et++,Ht=U.next())Ht=q(yt,V,Et,Ht.value,$),Ht!==null&&(i&&Ht.alternate!==null&&yt.delete(Ht.key===null?Et:Ht.key),M=p(Ht,M,Et),Nt===null?pt=Ht:Nt.sibling=Ht,Nt=Ht);return i&&yt.forEach(function(lI){return r(V,lI)}),Yt&&ta(V,Et),pt}function ee(V,M,U,$){if(typeof U=="object"&&U!==null&&U.type===L&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:t:{for(var pt=U.key;M!==null;){if(M.key===pt){if(pt=U.type,pt===L){if(M.tag===7){o(V,M.sibling),$=f(M,U.props.children),$.return=V,V=$;break t}}else if(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&D_(pt)===M.type){o(V,M.sibling),$=f(M,U.props),Ql($,U),$.return=V,V=$;break t}o(V,M);break}else r(V,M);M=M.sibling}U.type===L?($=Zr(U.props.children,V.mode,$,U.key),$.return=V,V=$):($=zc(U.type,U.key,U.props,null,V.mode,$),Ql($,U),$.return=V,V=$)}return b(V);case R:t:{for(pt=U.key;M!==null;){if(M.key===pt)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){o(V,M.sibling),$=f(M,U.children||[]),$.return=V,V=$;break t}else{o(V,M);break}else r(V,M);M=M.sibling}$=Vd(U,V.mode,$),$.return=V,V=$}return b(V);case S:return pt=U._init,U=pt(U._payload),ee(V,M,U,$)}if(re(U))return At(V,M,U,$);if(k(U)){if(pt=k(U),typeof pt!="function")throw Error(s(150));return U=pt.call(U),bt(V,M,U,$)}if(typeof U.then=="function")return ee(V,M,eh(U),$);if(U.$$typeof===et)return ee(V,M,Fc(V,U),$);nh(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(o(V,M.sibling),$=f(M,U),$.return=V,V=$):(o(V,M),$=kd(U,V.mode,$),$.return=V,V=$),b(V)):o(V,M)}return function(V,M,U,$){try{Yl=0;var pt=ee(V,M,U,$);return ao=null,pt}catch(yt){if(yt===Ll||yt===Hc)throw yt;var Nt=Tn(29,yt,null,V.mode);return Nt.lanes=$,Nt.return=V,Nt}finally{}}}var oo=M_(!0),N_=M_(!1),Fn=nt(null),_i=null;function Vs(i){var r=i.alternate;st(De,De.current&1),st(Fn,i),_i===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(_i=i)}function P_(i){if(i.tag===22){if(st(De,De.current),st(Fn,i),_i===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(_i=i)}}else Ls()}function Ls(){st(De,De.current),st(Fn,Fn.current)}function es(i){ut(Fn),_i===i&&(_i=null),ut(De)}var De=nt(0);function ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||sp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var gm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Rn(),f=Ns(u);f.payload=r,o!=null&&(f.callback=o),r=Ps(i,f,u),r!==null&&(In(r,i,u),Ul(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Rn(),f=Ns(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ps(i,f,u),r!==null&&(In(r,i,u),Ul(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Rn(),u=Ns(o);u.tag=2,r!=null&&(u.callback=r),r=Ps(i,u,o),r!==null&&(In(r,i,o),Ul(r,i,o))}};function k_(i,r,o,u,f,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!xl(o,u)||!xl(f,p):!0}function V_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&gm.enqueueReplaceState(r,r.state,null)}function oa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function L_(i){sh(i)}function z_(i){console.error(i)}function U_(i){sh(i)}function rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function j_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ym(i,r,o){return o=Ns(o),o.tag=3,o.payload={element:null},o.callback=function(){rh(i,r)},o}function B_(i){return i=Ns(i),i.tag=3,i}function F_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){j_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){j_(r,o,u),typeof f!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function lR(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Pl(r,o,f,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return _i===null?Bm():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Yd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),qm(i,u,f)),!1;case 22:return o.flags|=65536,u===Yd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),qm(i,u,f)),!1}throw Error(s(435,o.tag))}return qm(i,u,f),Bm(),!1}if(Yt)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Ud&&(i=Error(s(422),{cause:u}),Nl(zn(i,o)))):(u!==Ud&&(r=Error(s(423),{cause:u}),Nl(zn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=zn(u,o),f=ym(i.stateNode,u,f),Xd(i,f),pe!==4&&(pe=2)),!1;var p=Error(s(520),{cause:u});if(p=zn(p,o),tu===null?tu=[p]:tu.push(p),pe!==4&&(pe=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=ym(o.stateNode,u,i),Xd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(qs===null||!qs.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=B_(f),F_(f,i,o,u),Xd(o,f),!1}o=o.return}while(o!==null);return!1}var q_=Error(s(461)),ze=!1;function Ge(i,r,o,u){r.child=i===null?N_(r,null,o,u):oo(r,i.child,o,u)}function H_(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return sa(r),u=tm(i,r,o,b,p,f),w=em(),i!==null&&!ze?(nm(i,r,f),ns(i,r,f)):(Yt&&w&&Ld(r),r.flags|=1,Ge(i,r,u,f),r.child)}function G_(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!Pd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Y_(i,r,p,u,f)):(i=zc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Sm(i,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(b,u)&&i.ref===r.ref)return ns(i,r,f)}return r.flags|=1,i=Xi(p,u),i.ref=r.ref,i.return=r,r.child=i}function Y_(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(xl(p,u)&&i.ref===r.ref)if(ze=!1,r.pendingProps=u=p,Sm(i,f))(i.flags&131072)!==0&&(ze=!0);else return r.lanes=i.lanes,ns(i,r,f)}return vm(i,r,o,u,f)}function Q_(i,r,o){var u=r.pendingProps,f=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return K_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&qc(r,p!==null?p.cachePool:null),p!==null?Yv(r,p):Wd(),P_(r);else return r.lanes=r.childLanes=536870912,K_(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(qc(r,p.cachePool),Yv(r,p),Ls(),r.memoizedState=null):(i!==null&&qc(r,null),Wd(),Ls());return Ge(i,r,f,o),r.child}function K_(i,r,o,u){var f=Gd();return f=f===null?null:{parent:Oe._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&qc(r,null),Wd(),P_(r),i!==null&&Pl(i,r,u,!0),null}function ah(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function vm(i,r,o,u,f){return sa(r),o=tm(i,r,o,u,void 0,f),u=em(),i!==null&&!ze?(nm(i,r,f),ns(i,r,f)):(Yt&&u&&Ld(r),r.flags|=1,Ge(i,r,o,f),r.child)}function X_(i,r,o,u,f,p){return sa(r),r.updateQueue=null,o=Kv(r,u,o,f),Qv(i),u=em(),i!==null&&!ze?(nm(i,r,p),ns(i,r,p)):(Yt&&u&&Ld(r),r.flags|=1,Ge(i,r,o,p),r.child)}function $_(i,r,o,u,f){if(sa(r),r.stateNode===null){var p=Wa,b=o.contextType;typeof b=="object"&&b!==null&&(p=Ze(b)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Qd(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?Ze(b):Wa,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(pm(r,o,b,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&gm.enqueueReplaceState(p,p.state,null),Bl(r,u,p,f),jl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var w=r.memoizedProps,C=oa(o,w);p.props=C;var j=p.context,K=o.contextType;b=Wa,typeof K=="object"&&K!==null&&(b=Ze(K));var W=o.getDerivedStateFromProps;K=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,K||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||j!==b)&&V_(r,p,u,b),Ms=!1;var F=r.memoizedState;p.state=F,Bl(r,u,p,f),jl(),j=r.memoizedState,w||F!==j||Ms?(typeof W=="function"&&(pm(r,o,W,u),j=r.memoizedState),(C=Ms||k_(r,o,C,u,F,j,b))?(K||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),p.props=u,p.state=j,p.context=b,u=C):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Kd(i,r),b=r.memoizedProps,K=oa(o,b),p.props=K,W=r.pendingProps,F=p.context,j=o.contextType,C=Wa,typeof j=="object"&&j!==null&&(C=Ze(j)),w=o.getDerivedStateFromProps,(j=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==W||F!==C)&&V_(r,p,u,C),Ms=!1,F=r.memoizedState,p.state=F,Bl(r,u,p,f),jl();var q=r.memoizedState;b!==W||F!==q||Ms||i!==null&&i.dependencies!==null&&Bc(i.dependencies)?(typeof w=="function"&&(pm(r,o,w,u),q=r.memoizedState),(K=Ms||k_(r,o,K,u,F,q,C)||i!==null&&i.dependencies!==null&&Bc(i.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,q,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,q,C)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=q),p.props=u,p.state=q,p.context=C,u=K):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,ah(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=oo(r,i.child,null,f),r.child=oo(r,null,o,f)):Ge(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ns(i,r,f),i}function W_(i,r,o,u){return Ml(),r.flags|=256,Ge(i,r,o,u),r.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(i){return{baseLanes:i,cachePool:zv()}}function Em(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=qn),i}function Z_(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Yt){if(f?Vs(r):Ls(),Yt){var w=me,C;if(C=w){t:{for(C=w,w=vi;C.nodeType!==8;){if(!w){w=null;break t}if(C=Jn(C.nextSibling),C===null){w=null;break t}}w=C}w!==null?(r.memoizedState={dehydrated:w,treeContext:Jr!==null?{id:$i,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},C=Tn(18,null,null,0),C.stateNode=w,C.return=r,r.child=C,hn=r,me=null,C=!0):C=!1}C||na(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return sp(w)?r.lanes=32:r.lanes=536870912,null;es(r)}return w=u.children,u=u.fallback,f?(Ls(),f=r.mode,w=oh({mode:"hidden",children:w},f),u=Zr(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=bm(o),f.childLanes=Em(i,b,o),r.memoizedState=_m,u):(Vs(r),Tm(r,w))}if(C=i.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(p)r.flags&256?(Vs(r),r.flags&=-257,r=wm(i,r,o)):r.memoizedState!==null?(Ls(),r.child=i.child,r.flags|=128,r=null):(Ls(),f=u.fallback,w=r.mode,u=oh({mode:"visible",children:u.children},w),f=Zr(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,oo(r,i.child,null,o),u=r.child,u.memoizedState=bm(o),u.childLanes=Em(i,b,o),r.memoizedState=_m,r=f);else if(Vs(r),sp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var j=b.dgst;b=j,u=Error(s(419)),u.stack="",u.digest=b,Nl({value:u,source:null,stack:null}),r=wm(i,r,o)}else if(ze||Pl(i,r,o,!1),b=(o&i.childLanes)!==0,ze||b){if(b=se,b!==null&&(u=o&-o,u=(u&42)!==0?1:As(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==C.retryLane))throw C.retryLane=u,$a(i,u),In(b,i,u),q_;w.data==="$?"||Bm(),r=wm(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=C.treeContext,me=Jn(w.nextSibling),hn=r,Yt=!0,ea=null,vi=!1,i!==null&&(jn[Bn++]=$i,jn[Bn++]=Wi,jn[Bn++]=Jr,$i=i.id,Wi=i.overflow,Jr=r),r=Tm(r,u.children),r.flags|=4096);return r}return f?(Ls(),f=u.fallback,w=r.mode,C=i.child,j=C.sibling,u=Xi(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,j!==null?f=Xi(j,f):(f=Zr(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=bm(o):(C=w.cachePool,C!==null?(j=Oe._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=zv(),w={baseLanes:w.baseLanes|o,cachePool:C}),f.memoizedState=w,f.childLanes=Em(i,b,o),r.memoizedState=_m,u):(Vs(r),o=i.child,i=o.sibling,o=Xi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Tm(i,r){return r=oh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function oh(i,r){return i=Tn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function wm(i,r,o){return oo(r,i.child,null,o),i=Tm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function J_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Bd(i.return,r,o)}function Am(i,r,o,u,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function t0(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Ge(i,r,u.children,o),u=De.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&J_(i,o,r);else if(i.tag===19)J_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(st(De,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&ih(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Am(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&ih(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Am(r,!0,o,null,p);break;case"together":Am(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Fs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Pl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Xi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Xi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Sm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Bc(i)))}function uR(i,r,o){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),Ds(r,Oe,i.memoizedState.cache),Ml();break;case 27:case 5:ws(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:Ds(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Vs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Z_(i,r,o):(Vs(r),i=ns(i,r,o),i!==null?i.sibling:null);Vs(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Pl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return t0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(De,De.current),u)break;return null;case 22:case 23:return r.lanes=0,Q_(i,r,o);case 24:Ds(r,Oe,i.memoizedState.cache)}return ns(i,r,o)}function e0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ze=!0;else{if(!Sm(i,o)&&(r.flags&128)===0)return ze=!1,uR(i,r,o);ze=(i.flags&131072)!==0}else ze=!1,Yt&&(r.flags&1048576)!==0&&Dv(r,jc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Pd(u)?(i=oa(u,i),r.tag=1,r=$_(null,r,u,i,o)):(r.tag=0,r=vm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===ft){r.tag=11,r=H_(null,r,u,i,o);break t}else if(f===D){r.tag=14,r=G_(null,r,u,i,o);break t}}throw r=be(u)||u,Error(s(306,r,""))}}return r;case 0:return vm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=oa(u,r.pendingProps),$_(i,r,u,f,o);case 3:t:{if(ie(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Kd(i,r),Bl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Ds(r,Oe,u),u!==p.cache&&Fd(r,[Oe],o,!0),jl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=W_(i,r,u,o);break t}else if(u!==f){f=zn(Error(s(424)),r),Nl(f),r=W_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(me=Jn(i.firstChild),hn=r,Yt=!0,ea=null,vi=!0,o=N_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ml(),u===f){r=ns(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return ah(i,r),i===null?(o=rb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Yt||(o=r.type,i=r.pendingProps,u=Eh(Rt.current).createElement(o),u[Ie]=r,u[Ee]=i,Qe(u,o,i),ge(u),r.stateNode=u):r.memoizedState=rb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ws(r),i===null&&Yt&&(u=r.stateNode=nb(r.type,r.pendingProps,Rt.current),hn=r,vi=!0,f=me,Ys(r.type)?(rp=f,me=Jn(u.firstChild)):me=f),Ge(i,r,r.pendingProps.children,o),ah(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Yt&&((f=u=me)&&(u=LR(u,r.type,r.pendingProps,vi),u!==null?(r.stateNode=u,hn=r,me=Jn(u.firstChild),vi=!1,f=!0):f=!1),f||na(r)),ws(r),f=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,u=p.children,ep(f,p)?u=null:b!==null&&ep(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=tm(i,r,eR,null,null,o),uu._currentValue=f),ah(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&Yt&&((i=o=me)&&(o=zR(o,r.pendingProps,vi),o!==null?(r.stateNode=o,hn=r,me=null,i=!0):i=!1),i||na(r)),null;case 13:return Z_(i,r,o);case 4:return ie(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=oo(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return H_(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ds(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,sa(r),f=Ze(f),u=u(f),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return G_(i,r,r.type,r.pendingProps,o);case 15:return Y_(i,r,r.type,r.pendingProps,o);case 19:return t0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=oh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Xi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Q_(i,r,o);case 24:return sa(r),u=Ze(Oe),i===null?(f=Gd(),f===null&&(f=se,p=qd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Qd(r),Ds(r,Oe,f)):((i.lanes&o)!==0&&(Kd(i,r),Bl(r,null,null,o),jl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ds(r,Oe,u)):(u=p.cache,Ds(r,Oe,u),u!==f.cache&&Fd(r,[Oe],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function is(i){i.flags|=4}function n0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cb(r)){if(r=Fn.current,r!==null&&((Ft&4194048)===Ft?_i!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||r!==_i))throw zl=Yd,Uv;i.flags|=8192}}function lh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?hl():536870912,i.lanes|=r,ho|=r)}function Kl(i,r){if(!Yt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ce(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function cR(i,r,o){var u=r.pendingProps;switch(zd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ji(Oe),ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Dl(r)?is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pv())),ce(r),null;case 26:return o=r.memoizedState,i===null?(is(r),o!==null?(ce(r),n0(r,o)):(ce(r),r.flags&=-16777217)):o?o!==i.memoizedState?(is(r),ce(r),n0(r,o)):(ce(r),r.flags&=-16777217):(i.memoizedProps!==u&&is(r),ce(r),r.flags&=-16777217),null;case 27:Vi(r),o=Rt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ce(r),null}i=_t.current,Dl(r)?Mv(r):(i=nb(f,u,o),r.stateNode=i,is(r))}return ce(r),null;case 5:if(Vi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ce(r),null}if(i=_t.current,Dl(r))Mv(r);else{switch(f=Eh(Rt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ie]=r,i[Ee]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Qe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&is(r)}}return ce(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Rt.current,Dl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ie]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||X0(i.nodeValue,o)),i||na(r)}else i=Eh(i).createTextNode(u),i[Ie]=r,r.stateNode=i}return ce(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Dl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ie]=r}else Ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),f=!1}else f=Pv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(es(r),r):(es(r),null)}if(es(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),lh(r,r.updateQueue),ce(r),null;case 4:return ai(),i===null&&$m(r.stateNode.containerInfo),ce(r),null;case 10:return Ji(r.type),ce(r),null;case 19:if(ut(De),f=r.memoizedState,f===null)return ce(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)Kl(f,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=ih(i),p!==null){for(r.flags|=128,Kl(f,!1),i=p.updateQueue,r.updateQueue=i,lh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Ov(o,i),o=o.sibling;return st(De,De.current&1|2),r.child}i=i.sibling}f.tail!==null&&Mn()>hh&&(r.flags|=128,u=!0,Kl(f,!1),r.lanes=4194304)}else{if(!u)if(i=ih(p),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,lh(r,i),Kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Yt)return ce(r),null}else 2*Mn()-f.renderingStartTime>hh&&o!==536870912&&(r.flags|=128,u=!0,Kl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Mn(),r.sibling=null,i=De.current,st(De,u?i&1|2:i&1),r):(ce(r),null);case 22:case 23:return es(r),Zd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),o=r.updateQueue,o!==null&&lh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ut(ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ji(Oe),ce(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hR(i,r){switch(zd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ji(Oe),ai(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(es(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ml()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ut(De),null;case 4:return ai(),null;case 10:return Ji(r.type),null;case 22:case 23:return es(r),Zd(),i!==null&&ut(ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ji(Oe),null;case 25:return null;default:return null}}function i0(i,r){switch(zd(r),r.tag){case 3:Ji(Oe),ai();break;case 26:case 27:case 5:Vi(r);break;case 4:ai();break;case 13:es(r);break;case 19:ut(De);break;case 10:Ji(r.type);break;case 22:case 23:es(r),Zd(),i!==null&&ut(ra);break;case 24:Ji(Oe)}}function Xl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){ne(r,r.return,w)}}function zs(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var C=o,j=w;try{j()}catch(K){ne(f,C,K)}}}u=u.next}while(u!==p)}}catch(K){ne(r,r.return,K)}}function s0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Gv(r,o)}catch(u){ne(i,i.return,u)}}}function r0(i,r,o){o.props=oa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ne(i,r,u)}}function $l(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ne(i,r,f)}}function bi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ne(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ne(i,r,f)}else o.current=null}function a0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ne(i,i.return,f)}}function Rm(i,r,o){try{var u=i.stateNode;MR(u,i.type,o,r),u[Ee]=r}catch(f){ne(i,i.return,f)}}function o0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function Im(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||o0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=bh));else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Cm(i,r,o),i=i.sibling;i!==null;)Cm(i,r,o),i=i.sibling}function uh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(uh(i,r,o),i=i.sibling;i!==null;)uh(i,r,o),i=i.sibling}function l0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qe(r,u,o),r[Ie]=i,r[Ee]=o}catch(p){ne(i,i.return,p)}}var ss=!1,ve=!1,xm=!1,u0=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function fR(i,r){if(i=i.containerInfo,Jm=Ih,i=bv(i),Id(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var b=0,w=-1,C=-1,j=0,K=0,W=i,F=null;e:for(;;){for(var q;W!==o||f!==0&&W.nodeType!==3||(w=b+f),W!==p||u!==0&&W.nodeType!==3||(C=b+u),W.nodeType===3&&(b+=W.nodeValue.length),(q=W.firstChild)!==null;)F=W,W=q;for(;;){if(W===i)break e;if(F===o&&++j===f&&(w=b),F===p&&++K===u&&(C=b),(q=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=q}o=w===-1||C===-1?null:{start:w,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(tp={focusedElem:i,selectionRange:o},Ih=!1,Ue=r;Ue!==null;)if(r=Ue,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Ue=i;else for(;Ue!==null;){switch(r=Ue,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var At=oa(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(At,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(bt){ne(o,o.return,bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ip(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ip(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ue=i;break}Ue=r.return}}function c0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Us(i,o),u&4&&Xl(5,o);break;case 1:if(Us(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){ne(o,o.return,b)}else{var f=oa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ne(o,o.return,b)}}u&64&&s0(o),u&512&&$l(o,o.return);break;case 3:if(Us(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Gv(i,r)}catch(b){ne(o,o.return,b)}}break;case 27:r===null&&u&4&&l0(o);case 26:case 5:Us(i,o),r===null&&u&4&&a0(o),u&512&&$l(o,o.return);break;case 12:Us(i,o);break;case 13:Us(i,o),u&4&&d0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=ER.bind(null,o),UR(i,o))));break;case 22:if(u=o.memoizedState!==null||ss,!u){r=r!==null&&r.memoizedState!==null||ve,f=ss;var p=ve;ss=u,(ve=r)&&!p?js(i,o,(o.subtreeFlags&8772)!==0):Us(i,o),ss=f,ve=p}break;case 30:break;default:Us(i,o)}}function h0(i){var r=i.alternate;r!==null&&(i.alternate=null,h0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Is(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,mn=!1;function rs(i,r,o){for(o=o.child;o!==null;)f0(i,r,o),o=o.sibling}function f0(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(de,o)}catch{}switch(o.tag){case 26:ve||bi(o,r),rs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ve||bi(o,r);var u=ue,f=mn;Ys(o.type)&&(ue=o.stateNode,mn=!1),rs(i,r,o),ru(o.stateNode),ue=u,mn=f;break;case 5:ve||bi(o,r);case 6:if(u=ue,f=mn,ue=null,rs(i,r,o),ue=u,mn=f,ue!==null)if(mn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(p){ne(o,r,p)}else try{ue.removeChild(o.stateNode)}catch(p){ne(o,r,p)}break;case 18:ue!==null&&(mn?(i=ue,tb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),du(i)):tb(ue,o.stateNode));break;case 4:u=ue,f=mn,ue=o.stateNode.containerInfo,mn=!0,rs(i,r,o),ue=u,mn=f;break;case 0:case 11:case 14:case 15:ve||zs(2,o,r),ve||zs(4,o,r),rs(i,r,o);break;case 1:ve||(bi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&r0(o,r,u)),rs(i,r,o);break;case 21:rs(i,r,o);break;case 22:ve=(u=ve)||o.memoizedState!==null,rs(i,r,o),ve=u;break;default:rs(i,r,o)}}function d0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(o){ne(r,r.return,o)}}function dR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new u0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new u0),r;default:throw Error(s(435,i.tag))}}function Om(i,r){var o=dR(i);r.forEach(function(u){var f=TR.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function wn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Ys(w.type)){ue=w.stateNode,mn=!1;break t}break;case 5:ue=w.stateNode,mn=!1;break t;case 3:case 4:ue=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(ue===null)throw Error(s(160));f0(p,b,f),ue=null,mn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)m0(r,i),r=r.sibling}var Zn=null;function m0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),An(i),u&4&&(zs(3,i,i.return),Xl(3,i),zs(5,i,i.return));break;case 1:wn(r,i),An(i),u&512&&(ve||o===null||bi(o,o.return)),u&64&&ss&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Zn;if(wn(r,i),An(i),u&512&&(ve||o===null||bi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Vr]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Qe(p,u,o),p[Ie]=i,ge(p),u=p;break t;case"link":var b=lb("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}p=f.createElement(u),Qe(p,u,o),f.head.appendChild(p);break;case"meta":if(b=lb("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}p=f.createElement(u),Qe(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Ie]=i,ge(p),u=p}i.stateNode=u}else ub(f,i.type,i.stateNode);else i.stateNode=ob(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ub(f,i.type,i.stateNode):ob(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rm(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),An(i),u&512&&(ve||o===null||bi(o,o.return)),o!==null&&u&4&&Rm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),An(i),u&512&&(ve||o===null||bi(o,o.return)),i.flags&32){f=i.stateNode;try{Pn(f,"")}catch(q){ne(i,i.return,q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Rm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(xm=!0);break;case 6:if(wn(r,i),An(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(q){ne(i,i.return,q)}}break;case 3:if(Ah=null,f=Zn,Zn=Th(r.containerInfo),wn(r,i),Zn=f,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{du(r.containerInfo)}catch(q){ne(i,i.return,q)}xm&&(xm=!1,p0(i));break;case 4:u=Zn,Zn=Th(i.stateNode.containerInfo),wn(r,i),An(i),Zn=u;break;case 12:wn(r,i),An(i);break;case 13:wn(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vm=Mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Om(i,u)));break;case 22:f=i.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,j=ss,K=ve;if(ss=j||f,ve=K||C,wn(r,i),ve=K,ss=j,An(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||C||ss||ve||la(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){C=o=r;try{if(p=C.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=C.stateNode;var W=C.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(q){ne(C,C.return,q)}}}else if(r.tag===6){if(o===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){ne(C,C.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Om(i,o))));break;case 19:wn(r,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Om(i,u)));break;case 30:break;case 21:break;default:wn(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(o0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Im(i);uh(i,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(Pn(b,""),o.flags&=-33);var w=Im(i);uh(i,w,b);break;case 3:case 4:var C=o.stateNode.containerInfo,j=Im(i);Cm(i,j,C);break;default:throw Error(s(161))}}catch(K){ne(i,i.return,K)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function p0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;p0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Us(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c0(i,r.alternate,r),r=r.sibling}function la(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:zs(4,r,r.return),la(r);break;case 1:bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&r0(r,r.return,o),la(r);break;case 27:ru(r.stateNode);case 26:case 5:bi(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}i=i.sibling}}function js(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:js(f,p,o),Xl(4,p);break;case 1:if(js(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){ne(u,u.return,j)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Hv(C[f],w)}catch(j){ne(u,u.return,j)}}o&&b&64&&s0(p),$l(p,p.return);break;case 27:l0(p);case 26:case 5:js(f,p,o),o&&u===null&&b&4&&a0(p),$l(p,p.return);break;case 12:js(f,p,o);break;case 13:js(f,p,o),o&&b&4&&d0(f,p);break;case 22:p.memoizedState===null&&js(f,p,o),$l(p,p.return);break;case 30:break;default:js(f,p,o)}r=r.sibling}}function Dm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function Mm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i))}function Ei(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g0(i,r,o,u),r=r.sibling}function g0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(i,r,o,u),f&2048&&Xl(9,r);break;case 1:Ei(i,r,o,u);break;case 3:Ei(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){Ei(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){ne(r,r.return,C)}}else Ei(i,r,o,u);break;case 13:Ei(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Ei(i,r,o,u):Wl(i,r):p._visibility&2?Ei(i,r,o,u):(p._visibility|=2,lo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Dm(b,r);break;case 24:Ei(i,r,o,u),f&2048&&Mm(r.alternate,r);break;default:Ei(i,r,o,u)}}function lo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,b=r,w=o,C=u,j=b.flags;switch(b.tag){case 0:case 11:case 15:lo(p,b,w,C,f),Xl(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?lo(p,b,w,C,f):Wl(p,b):(K._visibility|=2,lo(p,b,w,C,f)),f&&j&2048&&Dm(b.alternate,b);break;case 24:lo(p,b,w,C,f),f&&j&2048&&Mm(b.alternate,b);break;default:lo(p,b,w,C,f)}r=r.sibling}}function Wl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Wl(o,u),f&2048&&Dm(u.alternate,u);break;case 24:Wl(o,u),f&2048&&Mm(u.alternate,u);break;default:Wl(o,u)}r=r.sibling}}var Zl=8192;function uo(i){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)y0(i),i=i.sibling}function y0(i){switch(i.tag){case 26:uo(i),i.flags&Zl&&i.memoizedState!==null&&ZR(Zn,i.memoizedState,i.memoizedProps);break;case 5:uo(i);break;case 3:case 4:var r=Zn;Zn=Th(i.stateNode.containerInfo),uo(i),Zn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Zl,Zl=16777216,uo(i),Zl=r):uo(i));break;default:uo(i)}}function v0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ue=u,b0(u,i)}v0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_0(i),i=i.sibling}function _0(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&zs(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ch(i)):Jl(i);break;default:Jl(i)}}function ch(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ue=u,b0(u,i)}v0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:zs(8,r,r.return),ch(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ch(r));break;default:ch(r)}i=i.sibling}}function b0(i,r){for(;Ue!==null;){var o=Ue;switch(o.tag){case 0:case 11:case 15:zs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ue=u;else t:for(o=i;Ue!==null;){u=Ue;var f=u.sibling,p=u.return;if(h0(u),u===o){Ue=null;break t}if(f!==null){f.return=p,Ue=f;break t}Ue=p}}}var mR={getCacheForType:function(i){var r=Ze(Oe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},pR=typeof WeakMap=="function"?WeakMap:Map,$t=0,se=null,Pt=null,Ft=0,Wt=0,Sn=null,Bs=!1,co=!1,Nm=!1,as=0,pe=0,Fs=0,ua=0,Pm=0,qn=0,ho=0,tu=null,pn=null,km=!1,Vm=0,hh=1/0,fh=null,qs=null,Ye=0,Hs=null,fo=null,mo=0,Lm=0,zm=null,E0=null,eu=0,Um=null;function Rn(){if(($t&2)!==0&&Ft!==0)return Ft&-Ft;if(Q.T!==null){var i=to;return i!==0?i:Ym()}return Ss()}function T0(){qn===0&&(qn=(Ft&536870912)===0||Yt?cl():536870912);var i=Fn.current;return i!==null&&(i.flags|=32),qn}function In(i,r,o){(i===se&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(po(i,0),Gs(i,Ft,qn,!1)),zi(i,o),(($t&2)===0||i!==se)&&(i===se&&(($t&2)===0&&(ua|=o),pe===4&&Gs(i,Ft,qn,!1)),Ti(i))}function w0(i,r,o){if(($t&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||kr(i,r),f=u?vR(i,r):Fm(i,r,!0),p=u;do{if(f===0){co&&!u&&Gs(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!gR(o)){f=Fm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=i;f=tu;var C=w.current.memoizedState.isDehydrated;if(C&&(po(w,b).flags|=256),b=Fm(w,b,!1),b!==2){if(Nm&&!C){w.errorRecoveryDisabledLanes|=p,ua|=p,f=4;break t}p=pn,pn=f,p!==null&&(pn===null?pn=p:pn.push.apply(pn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){po(i,0),Gs(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gs(u,r,qn,!Bs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Vm+300-Mn(),10<f)){if(Gs(u,r,qn,!Bs),Da(u,0,!0)!==0)break t;u.timeoutHandle=Z0(A0.bind(null,u,o,pn,fh,km,r,qn,ua,ho,Bs,p,2,-0,0),f);break t}A0(u,o,pn,fh,km,r,qn,ua,ho,Bs,p,0,-0,0)}}break}while(!0);Ti(i)}function A0(i,r,o,u,f,p,b,w,C,j,K,W,F,q){if(i.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:WR},y0(r),W=JR(),W!==null)){i.cancelPendingCommit=W(D0.bind(null,i,r,p,o,u,f,b,w,C,K,1,F,q)),Gs(i,p,b,!j);return}D0(i,r,p,o,u,f,b,w,C)}function gR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!En(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gs(i,r,o,u){r&=~Pm,r&=~ua,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-We(f),b=1<<p;u[p]=-1,f&=~b}o!==0&&oi(i,o,r)}function dh(){return($t&6)===0?(nu(0),!1):!0}function jm(){if(Pt!==null){if(Wt===0)var i=Pt.return;else i=Pt,Zi=ia=null,im(i),ao=null,Yl=0,i=Pt;for(;i!==null;)i0(i.alternate,i),i=i.return;Pt=null}}function po(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,PR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),jm(),se=i,Pt=o=Xi(i.current,null),Ft=r,Wt=0,Sn=null,Bs=!1,co=kr(i,r),Nm=!1,ho=qn=Pm=ua=Fs=pe=0,pn=tu=null,km=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-We(u),p=1<<f;r|=i[f],u&=~p}return as=r,kc(),o}function S0(i,r){Ot=null,Q.H=th,r===Ll||r===Hc?(r=Fv(),Wt=3):r===Uv?(r=Fv(),Wt=4):Wt=r===q_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Pt===null&&(pe=1,rh(i,zn(r,i.current)))}function R0(){var i=Q.H;return Q.H=th,i===null?th:i}function I0(){var i=Q.A;return Q.A=mR,i}function Bm(){pe=4,Bs||(Ft&4194048)!==Ft&&Fn.current!==null||(co=!0),(Fs&134217727)===0&&(ua&134217727)===0||se===null||Gs(se,Ft,qn,!1)}function Fm(i,r,o){var u=$t;$t|=2;var f=R0(),p=I0();(se!==i||Ft!==r)&&(fh=null,po(i,r)),r=!1;var b=pe;t:do try{if(Wt!==0&&Pt!==null){var w=Pt,C=Sn;switch(Wt){case 8:jm(),b=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(r=!0);var j=Wt;if(Wt=0,Sn=null,go(i,w,C,j),o&&co){b=0;break t}break;default:j=Wt,Wt=0,Sn=null,go(i,w,C,j)}}yR(),b=pe;break}catch(K){S0(i,K)}while(!0);return r&&i.shellSuspendCounter++,Zi=ia=null,$t=u,Q.H=f,Q.A=p,Pt===null&&(se=null,Ft=0,kc()),b}function yR(){for(;Pt!==null;)C0(Pt)}function vR(i,r){var o=$t;$t|=2;var u=R0(),f=I0();se!==i||Ft!==r?(fh=null,hh=Mn()+500,po(i,r)):co=kr(i,r);t:do try{if(Wt!==0&&Pt!==null){r=Pt;var p=Sn;e:switch(Wt){case 1:Wt=0,Sn=null,go(i,r,p,1);break;case 2:case 9:if(jv(p)){Wt=0,Sn=null,x0(r);break}r=function(){Wt!==2&&Wt!==9||se!==i||(Wt=7),Ti(i)},p.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:jv(p)?(Wt=0,Sn=null,x0(r)):(Wt=0,Sn=null,go(i,r,p,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var w=Pt;if(!b||cb(b)){Wt=0,Sn=null;var C=w.sibling;if(C!==null)Pt=C;else{var j=w.return;j!==null?(Pt=j,mh(j)):Pt=null}break e}}Wt=0,Sn=null,go(i,r,p,5);break;case 6:Wt=0,Sn=null,go(i,r,p,6);break;case 8:jm(),pe=6;break t;default:throw Error(s(462))}}_R();break}catch(K){S0(i,K)}while(!0);return Zi=ia=null,Q.H=u,Q.A=f,$t=o,Pt!==null?0:(se=null,Ft=0,kc(),pe)}function _R(){for(;Pt!==null&&!al();)C0(Pt)}function C0(i){var r=e0(i.alternate,i,as);i.memoizedProps=i.pendingProps,r===null?mh(i):Pt=r}function x0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=X_(o,r,r.pendingProps,r.type,void 0,Ft);break;case 11:r=X_(o,r,r.pendingProps,r.type.render,r.ref,Ft);break;case 5:im(r);default:i0(o,r),r=Pt=Ov(r,as),r=e0(o,r,as)}i.memoizedProps=i.pendingProps,r===null?mh(i):Pt=r}function go(i,r,o,u){Zi=ia=null,im(r),ao=null,Yl=0;var f=r.return;try{if(lR(i,f,r,o,Ft)){pe=1,rh(i,zn(o,i.current)),Pt=null;return}}catch(p){if(f!==null)throw Pt=f,p;pe=1,rh(i,zn(o,i.current)),Pt=null;return}r.flags&32768?(Yt||u===1?i=!0:co||(Ft&536870912)!==0?i=!1:(Bs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),O0(r,i)):mh(r)}function mh(i){var r=i;do{if((r.flags&32768)!==0){O0(r,Bs);return}i=r.return;var o=cR(r.alternate,r,as);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);pe===0&&(pe=5)}function O0(i,r){do{var o=hR(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);pe=6,Pt=null}function D0(i,r,o,u,f,p,b,w,C){i.cancelPendingCommit=null;do ph();while(Ye!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Md,fl(i,o,p,b,w,C),i===se&&(Pt=se=null,Ft=0),fo=r,Hs=i,mo=o,Lm=p,zm=f,E0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wR(Dr,function(){return V0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=lt.p,lt.p=2,b=$t,$t|=4;try{fR(i,r,o)}finally{$t=b,lt.p=f,Q.T=u}}Ye=1,M0(),N0(),P0()}}function M0(){if(Ye===1){Ye=0;var i=Hs,r=fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=lt.p;lt.p=2;var f=$t;$t|=4;try{m0(r,i);var p=tp,b=bv(i.containerInfo),w=p.focusedElem,C=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&_v(w.ownerDocument.documentElement,w)){if(C!==null&&Id(w)){var j=C.start,K=C.end;if(K===void 0&&(K=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(K,w.value.length);else{var W=w.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var q=F.getSelection(),At=w.textContent.length,bt=Math.min(C.start,At),ee=C.end===void 0?bt:Math.min(C.end,At);!q.extend&&bt>ee&&(b=ee,ee=bt,bt=b);var V=vv(w,bt),M=vv(w,ee);if(V&&M&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var U=W.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),bt>ee?(q.addRange(U),q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),q.addRange(U))}}}}for(W=[],q=w;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var $=W[w];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ih=!!Jm,tp=Jm=null}finally{$t=f,lt.p=u,Q.T=o}}i.current=r,Ye=2}}function N0(){if(Ye===2){Ye=0;var i=Hs,r=fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=lt.p;lt.p=2;var f=$t;$t|=4;try{c0(i,r.alternate,r)}finally{$t=f,lt.p=u,Q.T=o}}Ye=3}}function P0(){if(Ye===4||Ye===3){Ye=0,cc();var i=Hs,r=fo,o=mo,u=E0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ye=5:(Ye=0,fo=Hs=null,k0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(qs=null),Ma(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(de,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,f=lt.p,lt.p=2,Q.T=null;try{for(var p=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];p(w.value,{componentStack:w.stack})}}finally{Q.T=r,lt.p=f}}(mo&3)!==0&&ph(),Ti(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Um?eu++:(eu=0,Um=i):eu=0,nu(0)}}function k0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kl(r)))}function ph(i){return M0(),N0(),P0(),V0()}function V0(){if(Ye!==5)return!1;var i=Hs,r=Lm;Lm=0;var o=Ma(mo),u=Q.T,f=lt.p;try{lt.p=32>o?32:o,Q.T=null,o=zm,zm=null;var p=Hs,b=mo;if(Ye=0,fo=Hs=null,mo=0,($t&6)!==0)throw Error(s(331));var w=$t;if($t|=4,_0(p.current),g0(p,p.current,b,o),$t=w,nu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(de,p)}catch{}return!0}finally{lt.p=f,Q.T=u,k0(i,r)}}function L0(i,r,o){r=zn(o,r),r=ym(i.stateNode,r,2),i=Ps(i,r,2),i!==null&&(zi(i,2),Ti(i))}function ne(i,r,o){if(i.tag===3)L0(i,i,o);else for(;r!==null;){if(r.tag===3){L0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){i=zn(o,i),o=B_(2),u=Ps(r,o,2),u!==null&&(F_(o,u,r,i),zi(u,2),Ti(u));break}}r=r.return}}function qm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new pR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Nm=!0,f.add(o),i=bR.bind(null,i,r,o),r.then(i,i))}function bR(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,se===i&&(Ft&o)===o&&(pe===4||pe===3&&(Ft&62914560)===Ft&&300>Mn()-Vm?($t&2)===0&&po(i,0):Pm|=o,ho===Ft&&(ho=0)),Ti(i)}function z0(i,r){r===0&&(r=hl()),i=$a(i,r),i!==null&&(zi(i,r),Ti(i))}function ER(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),z0(i,o)}function TR(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),z0(i,o)}function wR(i,r){return xr(i,r)}var gh=null,yo=null,Hm=!1,yh=!1,Gm=!1,ca=0;function Ti(i){i!==yo&&i.next===null&&(yo===null?gh=yo=i:yo=yo.next=i),yh=!0,Hm||(Hm=!0,SR())}function nu(i,r){if(!Gm&&yh){Gm=!0;do for(var o=!1,u=gh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var b=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-We(42|i)+1)-1,p&=f&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,F0(u,p))}else p=Ft,p=Da(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||kr(u,p)||(o=!0,F0(u,p));u=u.next}while(o);Gm=!1}}function AR(){U0()}function U0(){yh=Hm=!1;var i=0;ca!==0&&(NR()&&(i=ca),ca=0);for(var r=Mn(),o=null,u=gh;u!==null;){var f=u.next,p=j0(u,r);p===0?(u.next=null,o===null?gh=f:o.next=f,f===null&&(yo=o)):(o=u,(i!==0||(p&3)!==0)&&(yh=!0)),u=f}nu(i)}function j0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-We(p),w=1<<b,C=f[b];C===-1?((w&o)===0||(w&u)!==0)&&(f[b]=ul(w,r)):C<=r&&(i.expiredLanes|=w),p&=~w}if(r=se,o=Ft,o=Da(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Or(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||kr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Or(u),Ma(o)){case 2:case 8:o=xa;break;case 32:o=Dr;break;case 268435456:o=Oa;break;default:o=Dr}return u=B0.bind(null,i),o=xr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Or(u),i.callbackPriority=2,i.callbackNode=null,2}function B0(i,r){if(Ye!==0&&Ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ph()&&i.callbackNode!==o)return null;var u=Ft;return u=Da(i,i===se?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(w0(i,u,r),j0(i,Mn()),i.callbackNode!=null&&i.callbackNode===o?B0.bind(null,i):null)}function F0(i,r){if(ph())return null;w0(i,r,!0)}function SR(){kR(function(){($t&6)!==0?xr(ol,AR):U0()})}function Ym(){return ca===0&&(ca=cl()),ca}function q0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:za(""+i)}function H0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function RR(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=q0((f[Ee]||null).action),b=u.submitter;b&&(r=(r=b[Ee]||null)?q0(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var w=new Ua("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ca!==0){var C=b?H0(f,b):new FormData(f);fm(o,{pending:!0,data:C,method:f.method,action:p},null,C)}}else typeof p=="function"&&(w.preventDefault(),C=b?H0(f,b):new FormData(f),fm(o,{pending:!0,data:C,method:f.method,action:p},p,C))},currentTarget:f}]})}}for(var Qm=0;Qm<Dd.length;Qm++){var Km=Dd[Qm],IR=Km.toLowerCase(),CR=Km[0].toUpperCase()+Km.slice(1);Wn(IR,"on"+CR)}Wn(wv,"onAnimationEnd"),Wn(Av,"onAnimationIteration"),Wn(Sv,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(GS,"onTransitionRun"),Wn(YS,"onTransitionStart"),Wn(QS,"onTransitionCancel"),Wn(Rv,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function G0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],C=w.instance,j=w.currentTarget;if(w=w.listener,C!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=j;try{p(f)}catch(K){sh(K)}f.currentTarget=null,p=C}else for(b=0;b<u.length;b++){if(w=u[b],C=w.instance,j=w.currentTarget,w=w.listener,C!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=j;try{p(f)}catch(K){sh(K)}f.currentTarget=null,p=C}}}}function kt(i,r){var o=r[ml];o===void 0&&(o=r[ml]=new Set);var u=i+"__bubble";o.has(u)||(Y0(r,i,2,!1),o.add(u))}function Xm(i,r,o){var u=0;r&&(u|=4),Y0(o,i,u,r)}var vh="_reactListening"+Math.random().toString(36).slice(2);function $m(i){if(!i[vh]){i[vh]=!0,pl.forEach(function(o){o!=="selectionchange"&&(xR.has(o)||Xm(o,!1,i),Xm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[vh]||(r[vh]=!0,Xm("selectionchange",!1,r))}}function Y0(i,r,o,u){switch(gb(r)){case 2:var f=nI;break;case 8:f=iI;break;default:f=cp}o=f.bind(null,r,o,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Wm(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Ui(w),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){u=p=b;continue t}w=w.parentNode}}u=u.return}bc(function(){var j=p,K=kn(o),W=[];t:{var F=Iv.get(i);if(F!==void 0){var q=Ua,At=i;switch(i){case"keypress":if(di(o)===0)break t;case"keydown":case"keyup":q=Ga;break;case"focusin":At="focus",q=Fa;break;case"focusout":At="blur",q=Fa;break;case"beforeblur":case"afterblur":q=Fa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Cc;break;case wv:case Av:case Sv:q=qa;break;case Rv:q=Oc;break;case"scroll":case"scrollend":q=Ec;break;case"wheel":q=Ya;break;case"copy":case"cut":case"paste":q=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Il;break;case"toggle":case"beforetoggle":q=Mc}var bt=(r&4)!==0,ee=!bt&&(i==="scroll"||i==="scrollend"),V=bt?F!==null?F+"Capture":null:F;bt=[];for(var M=j,U;M!==null;){var $=M;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||V===null||($=qr(M,V),$!=null&&bt.push(su(M,$,U))),ee)break;M=M.return}0<bt.length&&(F=new q(F,At,null,o,K),W.push({event:F,listeners:bt}))}}if((r&7)===0){t:{if(F=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",F&&o!==qi&&(At=o.relatedTarget||o.fromElement)&&(Ui(At)||At[Nn]))break t;if((q||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,q?(At=o.relatedTarget||o.toElement,q=j,At=At?Ui(At):null,At!==null&&(ee=l(At),bt=At.tag,At!==ee||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(q=null,At=j),q!==At)){if(bt=Ln,$="onMouseLeave",V="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(bt=Il,$="onPointerLeave",V="onPointerEnter",M="pointer"),ee=q==null?F:ui(q),U=At==null?F:ui(At),F=new bt($,M+"leave",q,o,K),F.target=ee,F.relatedTarget=U,$=null,Ui(K)===j&&(bt=new bt(V,M+"enter",At,o,K),bt.target=U,bt.relatedTarget=ee,$=bt),ee=$,q&&At)e:{for(bt=q,V=At,M=0,U=bt;U;U=vo(U))M++;for(U=0,$=V;$;$=vo($))U++;for(;0<M-U;)bt=vo(bt),M--;for(;0<U-M;)V=vo(V),U--;for(;M--;){if(bt===V||V!==null&&bt===V.alternate)break e;bt=vo(bt),V=vo(V)}bt=null}else bt=null;q!==null&&Q0(W,F,q,bt,!1),At!==null&&ee!==null&&Q0(W,ee,At,bt,!0)}}t:{if(F=j?ui(j):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var pt=fv;else if(xe(F))if(dv)pt=FS;else{pt=jS;var Nt=US}else q=F.nodeName,!q||q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&bl(j.elementType)&&(pt=fv):pt=BS;if(pt&&(pt=pt(i,j))){Ki(W,pt,o,K);break t}Nt&&Nt(i,F,j),i==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&xs(F,"number",F.value)}switch(Nt=j?ui(j):window,i){case"focusin":(xe(Nt)||Nt.contentEditable==="true")&&(Qa=Nt,Cd=j,Ol=null);break;case"focusout":Ol=Cd=Qa=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Ev(W,o,K);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Ev(W,o,K)}var yt;if(gi)t:{switch(i){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else jt?G(i,o)&&(Et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Et="onCompositionStart");Et&&(_&&o.locale!=="ko"&&(jt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&jt&&(yt=Tl()):(fi=K,Os="value"in fi?fi.value:fi.textContent,jt=!0)),Nt=_h(j,Et),0<Nt.length&&(Et=new Sl(Et,i,null,o,K),W.push({event:Et,listeners:Nt}),yt?Et.data=yt:(yt=at(o),yt!==null&&(Et.data=yt)))),(yt=y?Ce(i,o):Bt(i,o))&&(Et=_h(j,"onBeforeInput"),0<Et.length&&(Nt=new Sl("onBeforeInput","beforeinput",null,o,K),W.push({event:Nt,listeners:Et}),Nt.data=yt)),RR(W,i,j,o,K)}G0(W,r)})}function su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function _h(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=qr(i,o),f!=null&&u.unshift(su(i,f,p)),f=qr(i,r),f!=null&&u.push(su(i,f,p))),i.tag===3)return u;i=i.return}return[]}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q0(i,r,o,u,f){for(var p=r._reactName,b=[];o!==null&&o!==u;){var w=o,C=w.alternate,j=w.stateNode;if(w=w.tag,C!==null&&C===u)break;w!==5&&w!==26&&w!==27||j===null||(C=j,f?(j=qr(o,p),j!=null&&b.unshift(su(o,j,C))):f||(j=qr(o,p),j!=null&&b.push(su(o,j,C)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var OR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function K0(i){return(typeof i=="string"?i:""+i).replace(OR,`
`).replace(DR,"")}function X0(i,r){return r=K0(r),K0(i)===r}function bh(){}function te(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Pn(i,""+u);break;case"className":ci(i,"class",u);break;case"tabIndex":ci(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(i,o,u);break;case"style":_l(i,u,p);break;case"data":if(r!=="object"){ci(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=za(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&te(i,r,"name",f.name,f,null),te(i,r,"formEncType",f.formEncType,f,null),te(i,r,"formMethod",f.formMethod,f,null),te(i,r,"formTarget",f.formTarget,f,null)):(te(i,r,"encType",f.encType,f,null),te(i,r,"method",f.method,f,null),te(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=za(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=bh);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=za(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Cs(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ed.get(o)||o,Cs(i,o,u))}}function Zm(i,r,o,u,f,p){switch(o){case"style":_l(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&Pn(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Ee]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Cs(i,o,u)}}}function Qe(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,p,b,o,null)}}f&&te(i,r,"srcSet",o.srcSet,o,null),u&&te(i,r,"src",o.src,o,null);return;case"input":kt("invalid",i);var w=p=b=f=null,C=null,j=null;for(u in o)if(o.hasOwnProperty(u)){var K=o[u];if(K!=null)switch(u){case"name":f=K;break;case"type":b=K;break;case"checked":C=K;break;case"defaultChecked":j=K;break;case"value":p=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:te(i,r,u,K,o,null)}}jr(i,p,w,C,j,b,f,!1),La(i);return;case"select":kt("invalid",i),u=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:te(i,r,f,w,o,null)}r=p,o=b,i.multiple=!!u,r!=null?Fi(i,!!u,r,!1):o!=null&&Fi(i,!!u,o,!0);return;case"textarea":kt("invalid",i),p=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:te(i,r,b,w,o,null)}Br(i,u,f,p),La(i);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,r,C,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)kt(iu[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,j,u,o,null)}return;default:if(bl(r)){for(K in o)o.hasOwnProperty(K)&&(u=o[K],u!==void 0&&Zm(i,r,K,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&te(i,r,w,u,o,null))}function MR(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,w=null,C=null,j=null,K=null;for(q in o){var W=o[q];if(o.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=W;default:u.hasOwnProperty(q)||te(i,r,q,null,u,W)}}for(var F in u){var q=u[F];if(W=o[F],u.hasOwnProperty(F)&&(q!=null||W!=null))switch(F){case"type":p=q;break;case"name":f=q;break;case"checked":j=q;break;case"defaultChecked":K=q;break;case"value":b=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==W&&te(i,r,F,q,u,W)}}bn(i,b,w,C,j,K,p,f);return;case"select":q=b=w=F=null;for(p in o)if(C=o[p],o.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":q=C;default:u.hasOwnProperty(p)||te(i,r,p,null,u,C)}for(f in u)if(p=u[f],C=o[f],u.hasOwnProperty(f)&&(p!=null||C!=null))switch(f){case"value":F=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==C&&te(i,r,f,p,u,C)}r=w,o=b,u=q,F!=null?Fi(i,!!o,F,!1):!!u!=!!o&&(r!=null?Fi(i,!!o,r,!0):Fi(i,!!o,o?[]:"",!1));return;case"textarea":q=F=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(i,r,w,null,u,f)}for(b in u)if(f=u[b],p=o[b],u.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":F=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&te(i,r,b,f,u,p)}Zt(i,F,q);return;case"option":for(var At in o)if(F=o[At],o.hasOwnProperty(At)&&F!=null&&!u.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:te(i,r,At,null,u,F)}for(C in u)if(F=u[C],q=o[C],u.hasOwnProperty(C)&&F!==q&&(F!=null||q!=null))switch(C){case"selected":i.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:te(i,r,C,F,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)F=o[bt],o.hasOwnProperty(bt)&&F!=null&&!u.hasOwnProperty(bt)&&te(i,r,bt,null,u,F);for(j in u)if(F=u[j],q=o[j],u.hasOwnProperty(j)&&F!==q&&(F!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:te(i,r,j,F,u,q)}return;default:if(bl(r)){for(var ee in o)F=o[ee],o.hasOwnProperty(ee)&&F!==void 0&&!u.hasOwnProperty(ee)&&Zm(i,r,ee,void 0,u,F);for(K in u)F=u[K],q=o[K],!u.hasOwnProperty(K)||F===q||F===void 0&&q===void 0||Zm(i,r,K,F,u,q);return}}for(var V in o)F=o[V],o.hasOwnProperty(V)&&F!=null&&!u.hasOwnProperty(V)&&te(i,r,V,null,u,F);for(W in u)F=u[W],q=o[W],!u.hasOwnProperty(W)||F===q||F==null&&q==null||te(i,r,W,F,u,q)}var Jm=null,tp=null;function Eh(i){return i.nodeType===9?i:i.ownerDocument}function $0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ep(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var np=null;function NR(){var i=window.event;return i&&i.type==="popstate"?i===np?!1:(np=i,!0):(np=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,PR=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(i){return J0.resolve(null).then(i).catch(VR)}:Z0;function VR(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function tb(i,r){var o=r,u=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&ru(b.documentElement),o&2&&ru(b.body),o&4)for(o=b.head,ru(o),b=o.firstChild;b;){var w=b.nextSibling,C=b.nodeName;b[Vr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){i.removeChild(p),du(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);du(r)}function ip(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ip(o),Is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function LR(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Vr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function zR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function UR(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var rp=null;function eb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function nb(i,r,o){switch(r=Eh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ru(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Is(i)}var Hn=new Map,ib=new Set;function Th(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var os=lt.d;lt.d={f:jR,r:BR,D:FR,C:qR,L:HR,m:GR,X:QR,S:YR,M:KR};function jR(){var i=os.f(),r=dh();return i||r}function BR(i){var r=li(i);r!==null&&r.tag===5&&r.type==="form"?w_(r):os.r(i)}var _o=typeof document>"u"?null:document;function sb(i,r,o){var u=_o;if(u&&typeof r=="string"&&r){var f=Te(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ib.has(f)||(ib.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Qe(r,"link",i),ge(r),u.head.appendChild(r)))}}function FR(i){os.D(i),sb("dns-prefetch",i,null)}function qR(i,r){os.C(i,r),sb("preconnect",i,r)}function HR(i,r,o){os.L(i,r,o);var u=_o;if(u&&i&&r){var f='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Te(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Te(o.imageSizes)+'"]')):f+='[href="'+Te(i)+'"]';var p=f;switch(r){case"style":p=bo(i);break;case"script":p=Eo(i)}Hn.has(p)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Hn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(au(p))||r==="script"&&u.querySelector(ou(p))||(r=u.createElement("link"),Qe(r,"link",i),ge(r),u.head.appendChild(r)))}}function GR(i,r){os.m(i,r);var o=_o;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Te(u)+'"][href="'+Te(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Eo(i)}if(!Hn.has(p)&&(i=v({rel:"modulepreload",href:i},r),Hn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(p)))return}u=o.createElement("link"),Qe(u,"link",i),ge(u),o.head.appendChild(u)}}}function YR(i,r,o){os.S(i,r,o);var u=_o;if(u&&i){var f=ln(u).hoistableStyles,p=bo(i);r=r||"default";var b=f.get(p);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(au(p)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Hn.get(p))&&ap(i,o);var C=b=u.createElement("link");ge(C),Qe(C,"link",i),C._p=new Promise(function(j,K){C.onload=j,C.onerror=K}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,wh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(p,b)}}}function QR(i,r){os.X(i,r);var o=_o;if(o&&i){var u=ln(o).hoistableScripts,f=Eo(i),p=u.get(f);p||(p=o.querySelector(ou(f)),p||(i=v({src:i,async:!0},r),(r=Hn.get(f))&&op(i,r),p=o.createElement("script"),ge(p),Qe(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function KR(i,r){os.M(i,r);var o=_o;if(o&&i){var u=ln(o).hoistableScripts,f=Eo(i),p=u.get(f);p||(p=o.querySelector(ou(f)),p||(i=v({src:i,async:!0,type:"module"},r),(r=Hn.get(f))&&op(i,r),p=o.createElement("script"),ge(p),Qe(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function rb(i,r,o,u){var f=(f=Rt.current)?Th(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=bo(o.href),o=ln(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=bo(o.href);var p=ln(f).hoistableStyles,b=p.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=f.querySelector(au(i)))&&!p._p&&(b.instance=p,b.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),p||XR(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(o),o=ln(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function bo(i){return'href="'+Te(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function ab(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function XR(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Qe(r,"link",o),ge(r),i.head.appendChild(r))}function Eo(i){return'[src="'+Te(i)+'"]'}function ou(i){return"script[async]"+i}function ob(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Te(o.href)+'"]');if(u)return r.instance=u,ge(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ge(u),Qe(u,"style",f),wh(u,o.precedence,i),r.instance=u;case"stylesheet":f=bo(o.href);var p=i.querySelector(au(f));if(p)return r.state.loading|=4,r.instance=p,ge(p),p;u=ab(o),(f=Hn.get(f))&&ap(u,f),p=(i.ownerDocument||i).createElement("link"),ge(p);var b=p;return b._p=new Promise(function(w,C){b.onload=w,b.onerror=C}),Qe(p,"link",u),r.state.loading|=4,wh(p,o.precedence,i),r.instance=p;case"script":return p=Eo(o.src),(f=i.querySelector(ou(p)))?(r.instance=f,ge(f),f):(u=o,(f=Hn.get(p))&&(u=v({},o),op(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ge(f),Qe(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,wh(u,o.precedence,i));return r.instance}function wh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ap(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function op(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ah=null;function lb(i,r,o){if(Ah===null){var u=new Map,f=Ah=new Map;f.set(o,u)}else f=Ah,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Vr]||p[Ie]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(p):u.set(b,[p])}}return u}function ub(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function $R(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function cb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lu=null;function WR(){}function ZR(i,r,o){if(lu===null)throw Error(s(475));var u=lu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=bo(o.href),p=i.querySelector(au(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Sh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=p,ge(p);return}p=i.ownerDocument||i,o=ab(o),(f=Hn.get(f))&&ap(o,f),p=p.createElement("link"),ge(p);var b=p;b._p=new Promise(function(w,C){b.onload=w,b.onerror=C}),Qe(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Sh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function JR(){if(lu===null)throw Error(s(475));var i=lu;return i.stylesheets&&i.count===0&&lp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&lp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rh=null;function lp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rh=new Map,r.forEach(tI,i),Rh=null,Sh.call(i))}function tI(i,r){if(!(r.state.loading&4)){var o=Rh.get(i);if(o)var u=o.get(null);else{o=new Map,Rh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,f),o.set(b,f),this.count++,u=Sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var uu={$$typeof:et,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function eI(i,r,o,u,f,p,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function hb(i,r,o,u,f,p,b,w,C,j,K,W){return i=new eI(i,r,o,b,w,C,j,W),r=1,p===!0&&(r|=24),p=Tn(3,null,null,r),i.current=p,p.stateNode=i,r=qd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Qd(p),i}function fb(i){return i?(i=Wa,i):Wa}function db(i,r,o,u,f,p){f=fb(f),u.context===null?u.context=f:u.pendingContext=f,u=Ns(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ps(i,u,r),o!==null&&(In(o,i,r),Ul(o,i,r))}function mb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function up(i,r){mb(i,r),(i=i.alternate)&&mb(i,r)}function pb(i){if(i.tag===13){var r=$a(i,67108864);r!==null&&In(r,i,67108864),up(i,67108864)}}var Ih=!0;function nI(i,r,o,u){var f=Q.T;Q.T=null;var p=lt.p;try{lt.p=2,cp(i,r,o,u)}finally{lt.p=p,Q.T=f}}function iI(i,r,o,u){var f=Q.T;Q.T=null;var p=lt.p;try{lt.p=8,cp(i,r,o,u)}finally{lt.p=p,Q.T=f}}function cp(i,r,o,u){if(Ih){var f=hp(u);if(f===null)Wm(i,r,u,Ch,o),yb(i,u);else if(rI(f,i,r,o,u))u.stopPropagation();else if(yb(i,u),r&4&&-1<sI.indexOf(i)){for(;f!==null;){var p=li(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Kn(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var C=1<<31-We(b);w.entanglements[1]|=C,b&=~C}Ti(p),($t&6)===0&&(hh=Mn()+500,nu(0))}}break;case 13:w=$a(p,2),w!==null&&In(w,p,2),dh(),up(p,2)}if(p=hp(u),p===null&&Wm(i,r,u,Ch,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Wm(i,r,u,null,o)}}function hp(i){return i=kn(i),fp(i)}var Ch=null;function fp(i){if(Ch=null,i=Ui(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ch=i,null}function gb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pd()){case ol:return 2;case xa:return 8;case Dr:case gd:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var dp=!1,Qs=null,Ks=null,Xs=null,cu=new Map,hu=new Map,$s=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yb(i,r){switch(i){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":cu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(r.pointerId)}}function fu(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=li(r),r!==null&&pb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function rI(i,r,o,u,f){switch(r){case"focusin":return Qs=fu(Qs,i,r,o,u,f),!0;case"dragenter":return Ks=fu(Ks,i,r,o,u,f),!0;case"mouseover":return Xs=fu(Xs,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return cu.set(p,fu(cu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,hu.set(p,fu(hu.get(p)||null,i,r,o,u,f)),!0}return!1}function vb(i){var r=Ui(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,dc(i.priority,function(){if(o.tag===13){var u=Rn();u=As(u);var f=$a(o,u);f!==null&&In(f,o,u),up(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);qi=u,o.target.dispatchEvent(u),qi=null}else return r=li(o),r!==null&&pb(r),i.blockedOn=o,!1;r.shift()}return!0}function _b(i,r,o){xh(i)&&o.delete(r)}function aI(){dp=!1,Qs!==null&&xh(Qs)&&(Qs=null),Ks!==null&&xh(Ks)&&(Ks=null),Xs!==null&&xh(Xs)&&(Xs=null),cu.forEach(_b),hu.forEach(_b)}function Oh(i,r){i.blockedOn===r&&(i.blockedOn=null,dp||(dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aI)))}var Dh=null;function bb(i){Dh!==i&&(Dh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Dh===i&&(Dh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(fp(u||o)===null)continue;break}var p=li(o);p!==null&&(i.splice(r,3),r-=3,fm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function du(i){function r(C){return Oh(C,i)}Qs!==null&&Oh(Qs,i),Ks!==null&&Oh(Ks,i),Xs!==null&&Oh(Xs,i),cu.forEach(r),hu.forEach(r);for(var o=0;o<$s.length;o++){var u=$s[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<$s.length&&(o=$s[0],o.blockedOn===null);)vb(o),o.blockedOn===null&&$s.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],b=f[Ee]||null;if(typeof p=="function")b||bb(o);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Ee]||null)w=b.formAction;else if(fp(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),bb(o)}}}function mp(i){this._internalRoot=i}Mh.prototype.render=mp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Rn();db(o,u,i,r,null,null)},Mh.prototype.unmount=mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;db(i.current,2,null,i,null,null),dh(),r[Nn]=null}};function Mh(i){this._internalRoot=i}Mh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ss();i={blockedOn:null,target:i,priority:r};for(var o=0;o<$s.length&&r!==0&&r<$s[o].priority;o++);$s.splice(o,0,i),o===0&&vb(i)}};var Eb=t.version;if(Eb!=="19.1.0")throw Error(s(527,Eb,"19.1.0"));lt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var oI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{de=Nh.inject(oI),Xt=Nh}catch{}}return pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=L_,p=z_,b=U_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=hb(i,1,!1,null,null,o,u,f,p,b,w,null),i[Nn]=r.current,$m(i),new mp(r)},pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=L_,b=z_,w=U_,C=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),r=hb(i,1,!0,r,o??null,u,f,p,b,w,C,j),r.context=fb(null),o=r.current,u=Rn(),u=As(u),f=Ns(u),f.callback=null,Ps(o,f,u),o=u,r.current.lanes=o,zi(r,o),Ti(r),i[Nn]=r.current,$m(i),new Mh(r)},pu.version="19.1.0",pu}var Db;function yI(){if(Db)return yp.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),yp.exports=gI(),yp.exports}var vI=yI();const wu="generated",_I="pointerdown",bI="pointerup",Mb="pointerleave",EI="pointerout",Nb="pointermove",TI="touchstart",Pb="touchend",wI="touchmove",AI="touchcancel",SI="resize",RI="visibilitychange",pa="tsParticles - Error";class Cn{constructor(t,e,s){if(this._updateFromAngle=(a,l)=>{this.x=Math.cos(a)*l,this.y=Math.sin(a)*l},!ii(t)&&t){this.x=t.x,this.y=t.y;const a=t;this.z=a.z?a.z:0}else if(t!==void 0&&e!==void 0)this.x=t,this.y=e,this.z=s??0;else throw new Error(`${pa} Vector3d not initialized correctly`)}static get origin(){return Cn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return Cn.create(t.x,t.y,t.z)}static create(t,e,s){return new Cn(t,e,s)}add(t){return Cn.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return Cn.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return Cn.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return Cn.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;t!=0&&this.multTo(1/t)}rotate(t){return Cn.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),0)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}sub(t){return Cn.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class ni extends Cn{constructor(t,e){super(t,e,0)}static get origin(){return ni.create(0,0)}static clone(t){return ni.create(t.x,t.y)}static create(t,e){return new ni(t,e)}}let II=Math.random;function Me(){return Uo(II(),0,1-1e-16)}function Uo(n,t,e){return Math.min(Math.max(n,t),e)}function ti(n){const t=Df(n);let e=Zg(n);return t===e&&(e=0),Me()*(t-e)+e}function Ut(n){return ii(n)?n:ti(n)}function Zg(n){return ii(n)?n:n.min}function Df(n){return ii(n)?n:n.max}function Gt(n,t){if(n===t||t===void 0&&ii(n))return n;const e=Zg(n),s=Df(n);return t!==void 0?{min:Math.min(e,t),max:Math.max(s,t)}:Gt(e,s)}function Jg(n){const t=n.random,{enable:e,minimumValue:s}=ar(t)?{enable:t,minimumValue:0}:t;return Ut(e?Gt(n.value,s):n.value)}function Mo(n,t){const e=n.x-t.x,s=n.y-t.y;return{dx:e,dy:s,distance:Math.sqrt(e**2+s**2)}}function Mf(n,t){return Mo(n,t).distance}function CI(n,t,e){if(ii(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(e.y-t.y,e.x-t.x);case"outside":return Math.atan2(t.y-e.y,t.x-e.x);default:return Me()*Math.PI*2}}function xI(n){const t=ni.origin;return t.length=1,t.angle=n,t}function OI(n){var t,e;return{x:((t=n.position)==null?void 0:t.x)??Me()*n.size.width,y:((e=n.position)==null?void 0:e.y)??Me()*n.size.height}}function r1(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const DI={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Pu(){return DI}function Nf(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function MI(){return!Nf()&&typeof matchMedia<"u"}function a1(n){if(MI())return matchMedia(n)}function NI(n){if(!(Nf()||typeof MutationObserver>"u"))return new MutationObserver(n)}function PI(n,t){return n===t||Ci(t)&&t.indexOf(n)>-1}function kI(n){return Math.floor(Me()*n.length)}function ty(n,t,e=!0){return n[t!==void 0&&e?t%n.length:kI(n)]}function ey(n,t,e,s,a){return VI(ny(n,s??0),t,e,a)}function VI(n,t,e,s){let a=!0;return(!s||s==="bottom")&&(a=n.top<t.height+e.x),a&&(!s||s==="left")&&(a=n.right>e.x),a&&(!s||s==="right")&&(a=n.left<t.width+e.y),a&&(!s||s==="top")&&(a=n.bottom>e.y),a}function ny(n,t){return{bottom:n.y+t,left:n.x-t,right:n.x+t,top:n.y-t}}function sn(n,...t){for(const e of t){if(e==null)continue;if(!Io(e)){n=e;continue}const s=Array.isArray(e);s&&(Io(n)||!n||!Array.isArray(n))?n=[]:!s&&(Io(n)||!n||Array.isArray(n))&&(n={});for(const a in e){if(a==="__proto__")continue;const l=e,c=l[a],d=n;d[a]=Io(c)&&Array.isArray(c)?c.map(m=>sn(d[a],m)):sn(d[a],c)}}return n}function ga(n,t){return Ci(n)?n.map((e,s)=>t(e,s)):t(n,0)}function Au(n,t,e){return Ci(n)?ty(n,t,e):n}function o1(n,t){const e=n.value,s=n.animation,a={delayTime:Ut(s.delay)*1e3,enable:s.enable,value:Ut(n.value)*t,max:Df(e)*t,min:Zg(e)*t,loops:0,maxLoops:Ut(s.count),time:0};if(s.enable){switch(a.decay=1-Ut(s.decay),s.mode){case"increase":a.status="increasing";break;case"decrease":a.status="decreasing";break;case"random":a.status=Me()>=.5?"increasing":"decreasing";break}const l=s.mode==="auto";switch(s.startValue){case"min":a.value=a.min,l&&(a.status="increasing");break;case"max":a.value=a.max,l&&(a.status="decreasing");break;case"random":default:a.value=ti(a),l&&(a.status=Me()>=.5?"increasing":"decreasing");break}}return a.initialValue=a.value,a}function LI(n,t){if(!(n.mode==="percent")){const{mode:a,...l}=n;return l}return"x"in n?{x:n.x/100*t.width,y:n.y/100*t.height}:{width:n.width/100*t.width,height:n.height/100*t.height}}function l1(n,t){return LI(n,t)}function ar(n){return typeof n=="boolean"}function Ii(n){return typeof n=="string"}function ii(n){return typeof n=="number"}function u1(n){return typeof n=="function"}function Io(n){return typeof n=="object"&&n!==null}function Ci(n){return Array.isArray(n)}const zI="random",Pf=new Map;function kb(n){Pf.set(n.key,n)}function Ep(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function UI(n){for(const[,l]of Pf)if(n.startsWith(l.stringPrefix))return l.parseString(n);const t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,e=n.replace(t,(l,c,d,m,g)=>c+c+d+d+m+m+(g!==void 0?g+g:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,a=s.exec(e);return a?{a:a[4]!==void 0?parseInt(a[4],16)/255:1,b:parseInt(a[3],16),g:parseInt(a[2],16),r:parseInt(a[1],16)}:void 0}function No(n,t,e=!0){if(!n)return;const s=Ii(n)?{value:n}:n;if(Ii(s.value))return c1(s.value,t,e);if(Ci(s.value))return No({value:ty(s.value,t,e)});for(const[,a]of Pf){const l=a.handleRangeColor(s);if(l)return l}}function c1(n,t,e=!0){if(!n)return;const s=Ii(n)?{value:n}:n;if(Ii(s.value))return s.value===zI?qI():BI(s.value);if(Ci(s.value))return c1({value:ty(s.value,t,e)});for(const[,a]of Pf){const l=a.handleColor(s);if(l)return l}}function tg(n,t,e=!0){const s=No(n,t,e);return s?jI(s):void 0}function jI(n){const t=n.r/255,e=n.g/255,s=n.b/255,a=Math.max(t,e,s),l=Math.min(t,e,s),c={h:0,l:(a+l)/2,s:0};return a!==l&&(c.s=c.l<.5?(a-l)/(a+l):(a-l)/(2-a-l),c.h=t===a?(e-s)/(a-l):c.h=e===a?2+(s-t)/(a-l):4+(t-e)/(a-l)),c.l*=100,c.s*=100,c.h*=60,c.h<0&&(c.h+=360),c.h>=360&&(c.h-=360),c}function BI(n){return UI(n)}function eg(n){const t={b:0,g:0,r:0},e={h:n.h/360,l:n.l/100,s:n.s/100};if(!e.s)t.r=t.g=t.b=e.l;else{const s=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,a=2*e.l-s;t.r=Ep(a,s,e.h+1/3),t.g=Ep(a,s,e.h),t.b=Ep(a,s,e.h-1/3)}return t.r=Math.floor(t.r*255),t.g=Math.floor(t.g*255),t.b=Math.floor(t.b*255),t}function FI(n){const t=eg(n);return{a:n.a,b:t.b,g:t.g,r:t.r}}function qI(n){return{b:Math.floor(ti(Gt(0,256))),g:Math.floor(ti(Gt(0,256))),r:Math.floor(ti(Gt(0,256)))}}function qh(n,t){return`rgba(${n.r}, ${n.g}, ${n.b}, ${t??1})`}function Vb(n,t){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${t??1})`}function Lb(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function HI(n,t,e){const s={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return t&&(Tp(s.h,t.h,e),Tp(s.s,t.s,e),Tp(s.l,t.l,e)),s}function Tp(n,t,e){n.enable=t.enable,n.enable?(n.velocity=Ut(t.speed)/100*e,n.decay=1-Ut(t.decay),n.status="increasing",n.loops=0,n.maxLoops=Ut(t.count),n.time=0,n.delayTime=Ut(t.delay)*1e3,t.sync||(n.velocity*=Me(),n.value*=Me()),n.initialValue=n.value):n.velocity=0}function GI(n,t,e){n.fillStyle=e??"rgba(0,0,0,0)",n.fillRect(0,0,t.width,t.height)}function YI(n,t,e,s){e&&(n.globalAlpha=s,n.drawImage(e,0,0,t.width,t.height),n.globalAlpha=1)}function wp(n,t){n.clearRect(0,0,t.width,t.height)}function QI(n){const{container:t,context:e,particle:s,delta:a,colorStyles:l,backgroundMask:c,composite:d,radius:m,opacity:g,shadow:v,transform:E}=n,T=s.getPosition(),R=s.rotation+(s.pathRotation?s.velocity.angle:0),L={sin:Math.sin(R),cos:Math.cos(R)},H={a:L.cos*(E.a??1),b:L.sin*(E.b??1),c:-L.sin*(E.c??1),d:L.cos*(E.d??1)};e.setTransform(H.a,H.b,H.c,H.d,T.x,T.y),e.beginPath(),c&&(e.globalCompositeOperation=d);const B=s.shadowColor;v.enable&&B&&(e.shadowBlur=v.blur,e.shadowColor=qh(B),e.shadowOffsetX=v.offset.x,e.shadowOffsetY=v.offset.y),l.fill&&(e.fillStyle=l.fill);const X=s.strokeWidth??0;e.lineWidth=X,l.stroke&&(e.strokeStyle=l.stroke),KI(t,e,s,m,g,a),X>0&&e.stroke(),s.close&&e.closePath(),s.fill&&e.fill(),XI(t,e,s,m,g,a),e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0)}function KI(n,t,e,s,a,l){if(!e.shape)return;const c=n.drawers.get(e.shape);c&&c.draw(t,e,s,a,l,n.retina.pixelRatio)}function XI(n,t,e,s,a,l){if(!e.shape)return;const c=n.drawers.get(e.shape);!c||!c.afterEffect||c.afterEffect(t,e,s,a,l,n.retina.pixelRatio)}function $I(n,t,e){t.draw&&t.draw(n,e)}function WI(n,t,e,s){t.drawParticle&&t.drawParticle(n,e,s)}function ZI(n,t,e){return{h:n.h,s:n.s,l:n.l+(t==="darken"?-1:1)*e}}function JI(n,t,e){const s=t[e];s!==void 0&&(n[e]=(n[e]??1)*s)}class tC{constructor(t){this.container=t,this._applyPostDrawUpdaters=e=>{for(const s of this._postDrawUpdaters)s.afterDraw&&s.afterDraw(e)},this._applyPreDrawUpdaters=(e,s,a,l,c,d)=>{for(const m of this._preDrawUpdaters){if(m.getColorStyles){const{fill:g,stroke:v}=m.getColorStyles(s,e,a,l);g&&(c.fill=g),v&&(c.stroke=v)}if(m.getTransformValues){const g=m.getTransformValues(s);for(const v in g)JI(d,g,v)}m.beforeDraw&&m.beforeDraw(s)}},this._applyResizePlugins=()=>{for(const e of this._resizePlugins)e.resize&&e.resize()},this._getPluginParticleColors=e=>{let s,a;for(const l of this._colorPlugins)if(!s&&l.particleFillColor&&(s=tg(l.particleFillColor(e))),!a&&l.particleStrokeColor&&(a=tg(l.particleStrokeColor(e))),s&&a)break;return[s,a]},this._initCover=()=>{const e=this.container.actualOptions,s=e.backgroundMask.cover,a=s.color,l=No(a);if(l){const c={...l,a:s.opacity};this._coverColorStyle=qh(c,c.a)}},this._initStyle=()=>{const e=this.element,s=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=sn({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const a in s.style){if(!a||!s.style)continue;const l=s.style[a];l&&e.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const e=this.container.actualOptions,s=e.particles.move.trail,a=s.fill;if(s.enable)if(a.color){const l=No(a.color);if(!l)return;const c=e.particles.move.trail;this._trailFill={color:{...l},opacity:1/c.length}}else await new Promise((l,c)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:1/s.length},l()}),d.addEventListener("error",m=>{c(m.error)}),d.src=a.image})},this._paintBase=e=>{this.draw(s=>GI(s,this.size,e))},this._paintImage=(e,s)=>{this.draw(a=>YI(a,this.size,e,s))},this._repairStyle=()=>{const e=this.element;e&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>s.observe(e,{attributes:!0})))},this._resetOriginalStyle=()=>{const e=this.element,s=this._originalStyle;if(!(e&&s))return;const a=e.style;a.position=s.position,a.zIndex=s.zIndex,a.top=s.top,a.left=s.left,a.width=s.width,a.height=s.height},this._safeMutationObserver=e=>{this._mutationObserver&&e(this._mutationObserver)},this._setFullScreenStyle=()=>{const e=this.element;if(!e)return;const s="important",a=e.style;a.setProperty("position","fixed",s),a.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),a.setProperty("top","0",s),a.setProperty("left","0",s),a.setProperty("width","100%",s),a.setProperty("height","100%",s)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,s=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&s?s.color?this._paintBase(qh(s.color,s.opacity)):s.image&&this._paintImage(s.image,s.opacity):this.draw(a=>{wp(a,this.size)})}destroy(){if(this.stop(),this._generated){const t=this.element;t&&t.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){if(t.spawning||t.destroyed)return;const s=t.getRadius();if(s<=0)return;const a=t.getFillColor(),l=t.getStrokeColor()??a;let[c,d]=this._getPluginParticleColors(t);c||(c=a),d||(d=l),!(!c&&!d)&&this.draw(m=>{var et;const g=this.container,v=g.actualOptions,E=t.options.zIndex,T=(1-t.zIndexFactor)**E.opacityRate,R=t.bubble.opacity??((et=t.opacity)==null?void 0:et.value)??1,L=t.strokeOpacity??R,H=R*T,B=L*T,X={},tt={fill:c?Vb(c,H):void 0};tt.stroke=d?Vb(d,B):tt.fill,this._applyPreDrawUpdaters(m,t,s,H,tt,X),QI({container:g,context:m,particle:t,delta:e,colorStyles:tt,backgroundMask:v.backgroundMask.enable,composite:v.backgroundMask.composite,radius:s*(1-t.zIndexFactor)**E.sizeRate,opacity:H,shadow:t.options.shadow,transform:X}),this._applyPostDrawUpdaters(t)})}drawParticlePlugin(t,e,s){this.draw(a=>WI(a,t,e,s))}drawPlugin(t,e){this.draw(s=>$I(s,t,e))}async init(){this._safeMutationObserver(t=>t.disconnect()),this._mutationObserver=NI(t=>{for(const e of t)e.type==="attributes"&&e.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(t){Pu().error(t)}this.initBackground(),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions,e=t.background,s=this.element;if(!s)return;const a=s.style;if(a){if(e.color){const l=No(e.color);a.backgroundColor=l?qh(l,e.opacity):""}else a.backgroundColor="";a.backgroundImage=e.image||"",a.backgroundPosition=e.position||"",a.backgroundRepeat=e.repeat||"",a.backgroundSize=e.size||""}}initPlugins(){this._resizePlugins=[];for(const[,t]of this.container.plugins)t.resize&&this._resizePlugins.push(t),(t.particleFillColor||t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles||t.getTransformValues||t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&wu in t.dataset?t.dataset[wu]==="true":this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=sn({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw(e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(wp(e,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,s=t.canvas.size,a={width:this.element.offsetWidth*e,height:this.element.offsetHeight*e};if(a.height===s.height&&a.width===s.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const l={...s};return this.element.width=s.width=this.element.offsetWidth*e,this.element.height=s.height=this.element.offsetHeight*e,this.container.started&&(this.resizeFactor={width:s.width/l.width,height:s.height/l.height}),!0}stop(){this._safeMutationObserver(t=>t.disconnect()),this._mutationObserver=void 0,this.draw(t=>wp(t,this.size))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}function Gn(n,t,e,s,a){if(s){let l={passive:!0};ar(a)?l.capture=a:a!==void 0&&(l=a),n.addEventListener(t,e,l)}else{const l=a;n.removeEventListener(t,e,l)}}class eC{constructor(t){this.container=t,this._doMouseTouchClick=e=>{const s=this.container,a=s.actualOptions;if(this._canPush){const l=s.interactivity.mouse,c=l.position;if(!c)return;l.clickPosition={...c},l.clickTime=new Date().getTime();const d=a.interactivity.events.onClick;ga(d.mode,m=>this.container.handleClickMode(m))}e.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=e=>{const s=e,a=this.container,l=a.options,c=l.defaultThemes,d=s.matches?c.dark:c.light,m=l.themes.find(g=>g.name===d);m&&m.default.auto&&a.loadTheme(d)},this._handleVisibilityChange=()=>{const e=this.container,s=e.actualOptions;this._mouseTouchFinish(),s.pauseOnBlur&&(document&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const e=this.container.canvas;e&&await e.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(e,s)=>{const a=this._handlers,l=this.container,c=l.actualOptions,d=l.interactivity.element;if(!d)return;const m=d,g=l.canvas.element;g&&(g.style.pointerEvents=m===g?"initial":"none"),(c.interactivity.events.onHover.enable||c.interactivity.events.onClick.enable)&&(Gn(d,Nb,a.mouseMove,s),Gn(d,TI,a.touchStart,s),Gn(d,wI,a.touchMove,s),c.interactivity.events.onClick.enable?(Gn(d,Pb,a.touchEndClick,s),Gn(d,bI,a.mouseUp,s),Gn(d,_I,a.mouseDown,s)):Gn(d,Pb,a.touchEnd,s),Gn(d,e,a.mouseLeave,s),Gn(d,AI,a.touchCancel,s))},this._manageListeners=e=>{const s=this._handlers,a=this.container,l=a.actualOptions,c=l.interactivity.detectsOn,d=a.canvas.element;let m=Mb;c==="window"?(a.interactivity.element=window,m=EI):c==="parent"&&d?a.interactivity.element=d.parentElement??d.parentNode:a.interactivity.element=d,this._manageMediaMatch(e),this._manageResize(e),this._manageInteractivityListeners(m,e),document&&Gn(document,RI,s.visibilityChange,e,!1)},this._manageMediaMatch=e=>{const s=this._handlers,a=a1("(prefers-color-scheme: dark)");if(a){if(a.addEventListener!==void 0){Gn(a,"change",s.themeChange,e);return}a.addListener!==void 0&&(e?a.addListener(s.oldThemeChange):a.removeListener(s.oldThemeChange))}},this._manageResize=e=>{const s=this._handlers,a=this.container;if(!a.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Gn(window,SI,s.resize,e);return}const c=a.canvas.element;this._resizeObserver&&!e?(c&&this._resizeObserver.unobserve(c),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&e&&c&&(this._resizeObserver=new ResizeObserver(async d=>{d.find(g=>g.target===c)&&await this._handleWindowResize()}),this._resizeObserver.observe(c))},this._mouseDown=()=>{const{interactivity:e}=this.container;if(!e)return;const{mouse:s}=e;s.clicking=!0,s.downPosition=s.position},this._mouseTouchClick=e=>{const s=this.container,a=s.actualOptions,{mouse:l}=s.interactivity;l.inside=!0;let c=!1;const d=l.position;if(!(!d||!a.interactivity.events.onClick.enable)){for(const[,m]of s.plugins)if(m.clickPositionValid&&(c=m.clickPositionValid(d),c))break;c||this._doMouseTouchClick(e),l.clicking=!1}},this._mouseTouchFinish=()=>{const e=this.container.interactivity;if(!e)return;const s=e.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,e.status=Mb,s.inside=!1,s.clicking=!1},this._mouseTouchMove=e=>{const s=this.container,a=s.actualOptions,l=s.interactivity,c=s.canvas.element;if(!l||!l.element)return;l.mouse.inside=!0;let d;if(e.type.startsWith("pointer")){this._canPush=!0;const g=e;if(l.element===window){if(c){const v=c.getBoundingClientRect();d={x:g.clientX-v.left,y:g.clientY-v.top}}}else if(a.interactivity.detectsOn==="parent"){const v=g.target,E=g.currentTarget;if(v&&E&&c){const T=v.getBoundingClientRect(),R=E.getBoundingClientRect(),L=c.getBoundingClientRect();d={x:g.offsetX+2*T.left-(R.left+L.left),y:g.offsetY+2*T.top-(R.top+L.top)}}else d={x:g.offsetX??g.clientX,y:g.offsetY??g.clientY}}else g.target===c&&(d={x:g.offsetX??g.clientX,y:g.offsetY??g.clientY})}else if(this._canPush=e.type!=="touchmove",c){const g=e,v=g.touches[g.touches.length-1],E=c.getBoundingClientRect();d={x:v.clientX-(E.left??0),y:v.clientY-(E.top??0)}}const m=s.retina.pixelRatio;d&&(d.x*=m,d.y*=m),l.mouse.position=d,l.status=Nb},this._touchEnd=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchFinish()},this._touchEndClick=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchClick(e)},this._touchStart=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.set(l.identifier,performance.now());this._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:e=>this._mouseTouchMove(e),mouseUp:e=>this._mouseTouchClick(e),touchStart:e=>this._touchStart(e),touchMove:e=>this._mouseTouchMove(e),touchEnd:e=>this._touchEnd(e),touchCancel:e=>this._touchEnd(e),touchEndClick:e=>this._touchEndClick(e),visibilityChange:()=>this._handleVisibilityChange(),themeChange:e=>this._handleThemeChange(e),oldThemeChange:e=>this._handleThemeChange(e),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Pi{constructor(){this.value=""}static create(t,e){const s=new Pi;return s.load(t),e!==void 0&&(Ii(e)||Ci(e)?s.load({value:e}):s.load(e)),s}load(t){(t==null?void 0:t.value)!==void 0&&(this.value=t.value)}}class nC{constructor(){this.color=new Pi,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=Pi.create(this.color,t.color)),t.image!==void 0&&(this.image=t.image),t.position!==void 0&&(this.position=t.position),t.repeat!==void 0&&(this.repeat=t.repeat),t.size!==void 0&&(this.size=t.size),t.opacity!==void 0&&(this.opacity=t.opacity))}}class iC{constructor(){this.color=new Pi,this.color.value="#fff",this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=Pi.create(this.color,t.color)),t.opacity!==void 0&&(this.opacity=t.opacity))}}class sC{constructor(){this.composite="destination-out",this.cover=new iC,this.enable=!1}load(t){if(t){if(t.composite!==void 0&&(this.composite=t.composite),t.cover!==void 0){const e=t.cover,s=Ii(t.cover)?{color:t.cover}:t.cover;this.cover.load(e.color!==void 0?e:{color:s})}t.enable!==void 0&&(this.enable=t.enable)}}}class rC{constructor(){this.enable=!0,this.zIndex=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.zIndex!==void 0&&(this.zIndex=t.zIndex))}}class aC{constructor(){this.enable=!1,this.mode=[]}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode))}}class zb{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(t){this.elementId=t}get elementId(){return this.ids}set elementId(t){this.ids=t}get ids(){return ga(this.selectors,t=>t.replace("#",""))}set ids(t){this.selectors=ga(t,e=>`#${e}`)}load(t){if(!t)return;const e=t.ids??t.elementId??t.el;e!==void 0&&(this.ids=e),t.selectors!==void 0&&(this.selectors=t.selectors),t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode),t.type!==void 0&&(this.type=t.type)}}class oC{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.force!==void 0&&(this.force=t.force),t.smooth!==void 0&&(this.smooth=t.smooth))}}class lC{constructor(){this.enable=!1,this.mode=[],this.parallax=new oC}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class uC{constructor(){this.delay=.5,this.enable=!0}load(t){t!==void 0&&(t.delay!==void 0&&(this.delay=t.delay),t.enable!==void 0&&(this.enable=t.enable))}}class cC{constructor(){this.onClick=new aC,this.onDiv=new zb,this.onHover=new lC,this.resize=new uC}get onclick(){return this.onClick}set onclick(t){this.onClick=t}get ondiv(){return this.onDiv}set ondiv(t){this.onDiv=t}get onhover(){return this.onHover}set onhover(t){this.onHover=t}load(t){if(!t)return;this.onClick.load(t.onClick??t.onclick);const e=t.onDiv??t.ondiv;e!==void 0&&(this.onDiv=ga(e,s=>{const a=new zb;return a.load(s),a})),this.onHover.load(t.onHover??t.onhover),ar(t.resize)?this.resize.enable=t.resize:this.resize.load(t.resize)}}class hC{constructor(t,e){this._engine=t,this._container=e}load(t){if(!t||!this._container)return;const e=this._engine.plugins.interactors.get(this._container);if(e)for(const s of e)s.loadModeOptions&&s.loadModeOptions(this,t)}}class h1{constructor(t,e){this.detectsOn="window",this.events=new cC,this.modes=new hC(t,e)}get detect_on(){return this.detectsOn}set detect_on(t){this.detectsOn=t}load(t){if(!t)return;const e=t.detectsOn??t.detect_on;e!==void 0&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class fC{load(t){t&&(t.position&&(this.position={x:t.position.x??50,y:t.position.y??50,mode:t.position.mode??"percent"}),t.options&&(this.options=sn({},t.options)))}}class dC{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(t){t&&(t.maxWidth!==void 0&&(this.maxWidth=t.maxWidth),t.mode!==void 0&&(t.mode==="screen"?this.mode="screen":this.mode="canvas"),t.options!==void 0&&(this.options=sn({},t.options)))}}class mC{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(t){t&&(t.auto!==void 0&&(this.auto=t.auto),t.mode!==void 0&&(this.mode=t.mode),t.value!==void 0&&(this.value=t.value))}}class pC{constructor(){this.name="",this.default=new mC}load(t){t&&(t.name!==void 0&&(this.name=t.name),this.default.load(t.default),t.options!==void 0&&(this.options=sn({},t.options)))}}class Ap{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(t){t&&(t.count!==void 0&&(this.count=Gt(t.count)),t.enable!==void 0&&(this.enable=t.enable),t.offset!==void 0&&(this.offset=Gt(t.offset)),t.speed!==void 0&&(this.speed=Gt(t.speed)),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.delay!==void 0&&(this.delay=Gt(t.delay)),t.sync!==void 0&&(this.sync=t.sync))}}class gC{constructor(){this.h=new Ap,this.s=new Ap,this.l=new Ap}load(t){t&&(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class ku extends Pi{constructor(){super(),this.animation=new gC}static create(t,e){const s=new ku;return s.load(t),e!==void 0&&(Ii(e)||Ci(e)?s.load({value:e}):s.load(e)),s}load(t){if(super.load(t),!t)return;const e=t.animation;e!==void 0&&(e.enable!==void 0?this.animation.h.load(e):this.animation.load(t.animation))}}class yC{constructor(){this.speed=2}load(t){t&&t.speed!==void 0&&(this.speed=t.speed)}}class vC{constructor(){this.enable=!0,this.retries=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.retries!==void 0&&(this.retries=t.retries))}}class _C{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){t&&(t.count!==void 0&&(this.count=Gt(t.count)),t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0&&(this.speed=Gt(t.speed)),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.delay!==void 0&&(this.delay=Gt(t.delay)),t.sync!==void 0&&(this.sync=t.sync))}}class f1 extends _C{constructor(){super(),this.mode="auto",this.startValue="random"}load(t){super.load(t),t&&(t.minimumValue!==void 0&&(this.minimumValue=t.minimumValue),t.mode!==void 0&&(this.mode=t.mode),t.startValue!==void 0&&(this.startValue=t.startValue))}}class bC{constructor(){this.enable=!1,this.minimumValue=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.minimumValue!==void 0&&(this.minimumValue=t.minimumValue))}}class Xu{constructor(){this.random=new bC,this.value=0}load(t){t&&(ar(t.random)?this.random.enable=t.random:this.random.load(t.random),t.value!==void 0&&(this.value=Gt(t.value,this.random.enable?this.random.minimumValue:void 0)))}}class Ub extends Xu{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class d1{constructor(){this.horizontal=new Ub,this.vertical=new Ub}load(t){t&&(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class EC{constructor(){this.absorb=new yC,this.bounce=new d1,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new vC}load(t){t&&(this.absorb.load(t.absorb),this.bounce.load(t.bounce),t.enable!==void 0&&(this.enable=t.enable),t.maxSpeed!==void 0&&(this.maxSpeed=Gt(t.maxSpeed)),t.mode!==void 0&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class TC{constructor(){this.offset=0,this.value=90}load(t){t&&(t.offset!==void 0&&(this.offset=Gt(t.offset)),t.value!==void 0&&(this.value=Gt(t.value)))}}class wC{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(t){this.rotate.x=t}get rotateY(){return this.rotate.y}set rotateY(t){this.rotate.y=t}load(t){var a,l;if(!t)return;t.distance!==void 0&&(this.distance=Gt(t.distance)),t.enable!==void 0&&(this.enable=t.enable);const e=((a=t.rotate)==null?void 0:a.x)??t.rotateX;e!==void 0&&(this.rotate.x=e);const s=((l=t.rotate)==null?void 0:l.y)??t.rotateY;s!==void 0&&(this.rotate.y=s)}}class AC{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(t){t&&(t.x!==void 0&&(this.x=t.x),t.y!==void 0&&(this.y=t.y),t.mode!==void 0&&(this.mode=t.mode),t.radius!==void 0&&(this.radius=t.radius))}}class SC{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){t&&(t.acceleration!==void 0&&(this.acceleration=Gt(t.acceleration)),t.enable!==void 0&&(this.enable=t.enable),t.inverse!==void 0&&(this.inverse=t.inverse),t.maxSpeed!==void 0&&(this.maxSpeed=Gt(t.maxSpeed)))}}class RC{constructor(){this.clamp=!0,this.delay=new Xu,this.enable=!1,this.options={}}load(t){t&&(t.clamp!==void 0&&(this.clamp=t.clamp),this.delay.load(t.delay),t.enable!==void 0&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=sn(this.options,t.options)))}}class IC{load(t){t&&(t.color!==void 0&&(this.color=Pi.create(this.color,t.color)),t.image!==void 0&&(this.image=t.image))}}class CC{constructor(){this.enable=!1,this.length=10,this.fill=new IC}get fillColor(){return this.fill.color}set fillColor(t){this.fill.load({color:t})}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),(t.fill!==void 0||t.fillColor!==void 0)&&this.fill.load(t.fill||{color:t.fillColor}),t.length!==void 0&&(this.length=t.length))}}class xC{constructor(){this.default="out"}load(t){t&&(t.default!==void 0&&(this.default=t.default),this.bottom=t.bottom??t.default,this.left=t.left??t.default,this.right=t.right??t.default,this.top=t.top??t.default)}}class OC{constructor(){this.acceleration=0,this.enable=!1}load(t){t&&(t.acceleration!==void 0&&(this.acceleration=Gt(t.acceleration)),t.enable!==void 0&&(this.enable=t.enable),t.position&&(this.position=sn({},t.position)))}}class DC{constructor(){this.angle=new TC,this.attract=new wC,this.center=new AC,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new SC,this.path=new RC,this.outModes=new xC,this.random=!1,this.size=!1,this.speed=2,this.spin=new OC,this.straight=!1,this.trail=new CC,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(t){this.collisions=t}get collisions(){return!1}set collisions(t){}get noise(){return this.path}set noise(t){this.path=t}get outMode(){return this.outModes.default}set outMode(t){this.outModes.default=t}get out_mode(){return this.outMode}set out_mode(t){this.outMode=t}load(t){if(!t)return;this.angle.load(ii(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.direction!==void 0&&(this.direction=t.direction),t.distance!==void 0&&(this.distance=ii(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),t.drift!==void 0&&(this.drift=Gt(t.drift)),t.enable!==void 0&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes??t.outMode??t.out_mode;e!==void 0&&(Io(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path??t.noise),t.random!==void 0&&(this.random=t.random),t.size!==void 0&&(this.size=t.size),t.speed!==void 0&&(this.speed=Gt(t.speed)),this.spin.load(t.spin),t.straight!==void 0&&(this.straight=t.straight),this.trail.load(t.trail),t.vibrate!==void 0&&(this.vibrate=t.vibrate),t.warp!==void 0&&(this.warp=t.warp)}}class MC extends f1{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(t){this.minimumValue=t}load(t){(t==null?void 0:t.opacity_min)!==void 0&&t.minimumValue===void 0&&(t.minimumValue=t.opacity_min),super.load(t),t&&t.destroy!==void 0&&(this.destroy=t.destroy)}}class NC extends Xu{constructor(){super(),this.animation=new MC,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(!t)return;super.load(t);const e=t.animation??t.anim;e!==void 0&&(this.animation.load(e),this.value=Gt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class PC{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(t){this.width=t}get factor(){return this.height}set factor(t){this.height=t}get value_area(){return this.area}set value_area(t){this.area=t}load(t){if(!t)return;t.enable!==void 0&&(this.enable=t.enable);const e=t.width??t.area??t.value_area;e!==void 0&&(this.width=e);const s=t.height??t.factor;s!==void 0&&(this.height=s)}}class kC{constructor(){this.density=new PC,this.limit=0,this.value=0}get max(){return this.limit}set max(t){this.limit=t}load(t){if(!t)return;this.density.load(t.density);const e=t.limit??t.max;e!==void 0&&(this.limit=e),t.value!==void 0&&(this.value=t.value)}}class VC{constructor(){this.blur=0,this.color=new Pi,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){t&&(t.blur!==void 0&&(this.blur=t.blur),this.color=Pi.create(this.color,t.color),t.enable!==void 0&&(this.enable=t.enable),t.offset!==void 0&&(t.offset.x!==void 0&&(this.offset.x=t.offset.x),t.offset.y!==void 0&&(this.offset.y=t.offset.y)))}}const Sp="character",Rp="char",Ip="image",Cp="images",xp="polygon",Op="star";class LC{constructor(){this.loadShape=(t,e,s,a)=>{if(!t)return;const l=Ci(t),c=l?[]:{},d=l!==Ci(this.options[e]),m=l!==Ci(this.options[s]);d&&(this.options[e]=c),m&&a&&(this.options[s]=c),this.options[e]=sn(this.options[e]??c,t),(!this.options[s]||a)&&(this.options[s]=sn(this.options[s]??c,t))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Sp]??this.options[Rp]}set character(t){this.options[Rp]=this.options[Sp]=t}get custom(){return this.options}set custom(t){this.options=t}get image(){return this.options[Ip]??this.options[Cp]}set image(t){this.options[Cp]=this.options[Ip]=t}get images(){return this.image}set images(t){this.image=t}get polygon(){return this.options[xp]??this.options[Op]}set polygon(t){this.options[Op]=this.options[xp]=t}get stroke(){return[]}set stroke(t){}load(t){if(!t)return;const e=t.options??t.custom;if(e!==void 0)for(const s in e){const a=e[s];a&&(this.options[s]=sn(this.options[s]??{},a))}this.loadShape(t.character,Sp,Rp,!0),this.loadShape(t.polygon,xp,Op,!1),this.loadShape(t.image??t.images,Ip,Cp,!0),t.close!==void 0&&(this.close=t.close),t.fill!==void 0&&(this.fill=t.fill),t.type!==void 0&&(this.type=t.type)}}class zC extends f1{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(t){this.minimumValue=t}load(t){(t==null?void 0:t.size_min)!==void 0&&t.minimumValue===void 0&&(t.minimumValue=t.size_min),super.load(t),t&&t.destroy!==void 0&&(this.destroy=t.destroy)}}class UC extends Xu{constructor(){super(),this.animation=new zC,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(super.load(t),!t)return;const e=t.animation??t.anim;e!==void 0&&(this.animation.load(e),this.value=Gt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class jb{constructor(){this.width=0}load(t){t&&(t.color!==void 0&&(this.color=ku.create(this.color,t.color)),t.width!==void 0&&(this.width=Gt(t.width)),t.opacity!==void 0&&(this.opacity=Gt(t.opacity)))}}class jC extends Xu{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),t&&(t.opacityRate!==void 0&&(this.opacityRate=t.opacityRate),t.sizeRate!==void 0&&(this.sizeRate=t.sizeRate),t.velocityRate!==void 0&&(this.velocityRate=t.velocityRate))}}class BC{constructor(t,e){this._engine=t,this._container=e,this.bounce=new d1,this.collisions=new EC,this.color=new ku,this.color.value="#fff",this.groups={},this.move=new DC,this.number=new kC,this.opacity=new NC,this.reduceDuplicates=!1,this.shadow=new VC,this.shape=new LC,this.size=new UC,this.stroke=new jb,this.zIndex=new jC}load(t){var a,l,c;if(!t)return;if(this.bounce.load(t.bounce),this.color.load(ku.create(this.color,t.color)),t.groups!==void 0)for(const d in t.groups){const m=t.groups[d];m!==void 0&&(this.groups[d]=sn(this.groups[d]??{},m))}this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),t.reduceDuplicates!==void 0&&(this.reduceDuplicates=t.reduceDuplicates),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex);const e=((a=t.move)==null?void 0:a.collisions)??((l=t.move)==null?void 0:l.bounce);e!==void 0&&(this.collisions.enable=e),this.collisions.load(t.collisions),t.interactivity!==void 0&&(this.interactivity=sn({},t.interactivity));const s=t.stroke??((c=t.shape)==null?void 0:c.stroke);if(s&&(this.stroke=ga(s,d=>{const m=new jb;return m.load(d),m})),this._container){const d=this._engine.plugins.updaters.get(this._container);if(d)for(const g of d)g.loadOptions&&g.loadOptions(this,t);const m=this._engine.plugins.interactors.get(this._container);if(m)for(const g of m)g.loadParticlesOptions&&g.loadParticlesOptions(this,t)}}}function m1(n,...t){for(const e of t)n.load(e)}function p1(n,t,...e){const s=new BC(n,t);return m1(s,...e),s}class FC{constructor(t,e){this._findDefaultTheme=s=>this.themes.find(a=>a.default.value&&a.default.mode===s)??this.themes.find(a=>a.default.value&&a.default.mode==="any"),this._importPreset=s=>{this.load(this._engine.plugins.getPreset(s))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new nC,this.backgroundMask=new sC,this.defaultThemes={},this.delay=0,this.fullScreen=new rC,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new h1(t,e),this.manualParticles=[],this.particles=p1(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(t){this.fullScreen.load(t)}get fps_limit(){return this.fpsLimit}set fps_limit(t){this.fpsLimit=t}get retina_detect(){return this.detectRetina}set retina_detect(t){this.detectRetina=t}load(t){var c,d;if(!t)return;t.preset!==void 0&&ga(t.preset,m=>this._importPreset(m)),t.autoPlay!==void 0&&(this.autoPlay=t.autoPlay),t.delay!==void 0&&(this.delay=Gt(t.delay));const e=t.detectRetina??t.retina_detect;e!==void 0&&(this.detectRetina=e),t.duration!==void 0&&(this.duration=Gt(t.duration));const s=t.fpsLimit??t.fps_limit;s!==void 0&&(this.fpsLimit=s),t.pauseOnBlur!==void 0&&(this.pauseOnBlur=t.pauseOnBlur),t.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),t.zLayers!==void 0&&(this.zLayers=t.zLayers),this.background.load(t.background);const a=t.fullScreen??t.backgroundMode;ar(a)?this.fullScreen.enable=a:this.fullScreen.load(a),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map(m=>{const g=new fC;return g.load(m),g})),this.particles.load(t.particles),this.style=sn(this.style,t.style),this._engine.plugins.loadOptions(this,t),t.smooth!==void 0&&(this.smooth=t.smooth);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const m of l)m.loadOptions&&m.loadOptions(this,t);if(t.responsive!==void 0)for(const m of t.responsive){const g=new dC;g.load(m),this.responsive.push(g)}if(this.responsive.sort((m,g)=>m.maxWidth-g.maxWidth),t.themes!==void 0)for(const m of t.themes){const g=this.themes.find(v=>v.name===m.name);if(g)g.load(m);else{const v=new pC;v.load(m),this.themes.push(v)}}this.defaultThemes.dark=(c=this._findDefaultTheme("dark"))==null?void 0:c.name,this.defaultThemes.light=(d=this._findDefaultTheme("light"))==null?void 0:d.name}setResponsive(t,e,s){this.load(s);const a=this.responsive.find(l=>l.mode==="screen"&&screen?l.maxWidth>screen.availWidth:l.maxWidth*e>t);return this.load(a==null?void 0:a.options),a==null?void 0:a.maxWidth}setTheme(t){if(t){const e=this.themes.find(s=>s.name===t);e&&this.load(e.options)}else{const e=a1("(prefers-color-scheme: dark)"),s=e&&e.matches,a=this._findDefaultTheme(s?"dark":"light");a&&this.load(a.options)}}}class qC{constructor(t,e){this.container=e,this._engine=t,this._interactors=t.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&await e.interact(t)}handleClickMode(t){for(const e of this._externalInteractors)e.handleClickMode&&e.handleClickMode(t)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case"external":this._externalInteractors.push(t);break;case"particles":this._particleInteractors.push(t);break}t.init()}}async particlesInteract(t,e){for(const s of this._externalInteractors)s.clear(t,e);for(const s of this._particleInteractors)s.isEnabled(t)&&await s.interact(t,e)}async reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}const Bb=n=>{if(!PI(n.outMode,n.checkModes))return;const t=n.radius*2;n.coord>n.maxCoord-t?n.setCb(-n.radius):n.coord<t&&n.setCb(n.radius)};class HC{constructor(t,e,s,a,l,c){this.container=s,this._calcPosition=(d,m,g,v=0)=>{for(const[,tt]of d.plugins){const et=tt.particlePosition!==void 0?tt.particlePosition(m,this):void 0;if(et)return Cn.create(et.x,et.y,g)}const E=d.canvas.size,T=OI({size:E,position:m}),R=Cn.create(T.x,T.y,g),L=this.getRadius(),H=this.options.move.outModes,B=tt=>{Bb({outMode:tt,checkModes:["bounce","bounce-horizontal"],coord:R.x,maxCoord:d.canvas.size.width,setCb:et=>R.x+=et,radius:L})},X=tt=>{Bb({outMode:tt,checkModes:["bounce","bounce-vertical"],coord:R.y,maxCoord:d.canvas.size.height,setCb:et=>R.y+=et,radius:L})};return B(H.left??H.default),B(H.right??H.default),X(H.top??H.default),X(H.bottom??H.default),this._checkOverlap(R,v)?this._calcPosition(d,void 0,g,v+1):R},this._calculateVelocity=()=>{const d=xI(this.direction),m=d.copy(),g=this.options.move;if(g.direction==="inside"||g.direction==="outside")return m;const v=Math.PI/180*Ut(g.angle.value),E=Math.PI/180*Ut(g.angle.offset),T={left:E-v/2,right:E+v/2};return g.straight||(m.angle+=ti(Gt(T.left,T.right))),g.random&&typeof g.speed=="number"&&(m.length*=Me()),m},this._checkOverlap=(d,m=0)=>{const g=this.options.collisions,v=this.getRadius();if(!g.enable)return!1;const E=g.overlap;if(E.enable)return!1;const T=E.retries;if(T>=0&&m>T)throw new Error(`${pa} particle is overlapping and can't be placed`);return!!this.container.particles.find(R=>Mf(d,R.position)<v+R.getRadius())},this._getRollColor=d=>{if(!d||!this.roll||!this.backColor&&!this.roll.alter)return d;const m=this.roll.horizontal&&this.roll.vertical?2:1,g=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+g)/(Math.PI/m))%2?this.backColor?this.backColor:this.roll.alter?ZI(d,this.roll.alter.type,this.roll.alter.value):d:d},this._initPosition=d=>{const m=this.container,g=Ut(this.options.zIndex.value);this.position=this._calcPosition(m,d,Uo(g,0,m.zLayers)),this.initialPosition=this.position.copy();const v=m.canvas.size;switch(this.moveCenter={...l1(this.options.move.center,v),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=CI(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=ni.origin},this._loadShapeData=(d,m)=>{const g=d.options[this.shape];if(g)return sn({close:d.close,fill:d.fill},Au(g,this.id,m))},this._engine=t,this.init(e,a,l,c)}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const e=this.container,s=this.pathGenerator;for(const[,a]of e.plugins)a.particleDestroyed&&a.particleDestroyed(this,t);for(const a of e.particles.updaters)a.particleDestroyed&&a.particleDestroyed(this,t);s&&s.reset(this)}draw(t){const e=this.container;for(const[,s]of e.plugins)e.canvas.drawParticlePlugin(s,this,t);e.canvas.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??Lb(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Lb(this.strokeColor))}init(t,e,s,a){const l=this.container,c=this._engine;this.id=t,this.group=a,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const d=l.retina.pixelRatio,m=l.actualOptions,g=p1(this._engine,l,m.particles),v=g.shape.type,{reduceDuplicates:E}=g;this.shape=Au(v,this.id,E);const T=g.shape;if(s&&s.shape&&s.shape.type){const et=s.shape.type,ft=Au(et,this.id,E);ft&&(this.shape=ft,T.load(s.shape))}this.shapeData=this._loadShapeData(T,E),g.load(s);const R=this.shapeData;R&&g.load(R.particles);const L=new h1(c,l);L.load(l.actualOptions.interactivity),L.load(g.interactivity),this.interactivity=L,this.fill=(R==null?void 0:R.fill)??g.shape.fill,this.close=(R==null?void 0:R.close)??g.shape.close,this.options=g;const H=this.options.move.path;this.pathDelay=Jg(H.delay)*1e3,H.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(H.generator),this.pathGenerator&&l.addPath(H.generator,this.pathGenerator)&&this.pathGenerator.init(l)),l.retina.initParticle(this),this.size=o1(this.options.size,d),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Ut(this.options.move.decay);const B=l.particles;B.needsSort=B.needsSort||B.lastZIndex<this.position.z,B.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/l.zLayers,this.sides=24;let X=l.drawers.get(this.shape);X||(X=this._engine.plugins.getShapeDrawer(this.shape),X&&l.drawers.set(this.shape,X)),X&&X.loadShape&&X.loadShape(this);const tt=X==null?void 0:X.getSidesCount;tt&&(this.sides=tt(this)),this.spawning=!1,this.shadowColor=No(this.options.shadow.color);for(const et of l.particles.updaters)et.init(this);for(const et of l.particles.movers)et.init&&et.init(this);X&&X.particleInit&&X.particleInit(l,this);for(const[,et]of l.plugins)et.particleCreated&&et.particleCreated(this)}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,s=this.position;return s.x>=-t&&s.y>=-t&&s.y<=e.height+t&&s.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset&&t.reset(this)}}class GC{constructor(t,e){this.position=t,this.particle=e}}class g1{constructor(t,e){this.position={x:t,y:e}}}class jo extends g1{constructor(t,e,s,a){super(t,e),this.size={height:a,width:s}}contains(t){const e=this.size.width,s=this.size.height,a=this.position;return t.x>=a.x&&t.x<=a.x+e&&t.y>=a.y&&t.y<=a.y+s}intersects(t){t instanceof kf&&t.intersects(this);const e=this.size.width,s=this.size.height,a=this.position,l=t.position,c=t instanceof jo?t.size:{width:0,height:0},d=c.width,m=c.height;return l.x<a.x+e&&l.x+d>a.x&&l.y<a.y+s&&l.y+m>a.y}}class kf extends g1{constructor(t,e,s){super(t,e),this.radius=s}contains(t){return Mf(t,this.position)<=this.radius}intersects(t){const e=this.position,s=t.position,a={x:Math.abs(s.x-e.x),y:Math.abs(s.y-e.y)},l=this.radius;if(t instanceof kf){const c=l+t.radius,d=Math.sqrt(a.x**2+a.y**2);return c>d}else if(t instanceof jo){const{width:c,height:d}=t.size;return Math.pow(a.x-c,2)+Math.pow(a.y-d,2)<=l**2||a.x<=l+c&&a.y<=l+d||a.x<=c||a.y<=d}return!1}}class rf{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:s,y:a}=this.rectangle.position,{width:l,height:c}=this.rectangle.size,{capacity:d}=this;for(let m=0;m<4;m++)this._subs.push(new rf(new jo(s+l/2*(m%2),a+c/2*(Math.round(m/2)-m%2),l/2,c/2),d));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return this.rectangle.contains(t.position)?this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some(e=>e.insert(t))):!1}query(t,e,s){const a=s||[];if(!t.intersects(this.rectangle))return[];for(const l of this._points)!t.contains(l.position)&&Mf(t.position,l.position)>l.particle.getRadius()&&(!e||e(l.particle))||a.push(l.particle);if(this._divided)for(const l of this._subs)l.query(t,e,a);return a}queryCircle(t,e,s){return this.query(new kf(t.x,t.y,e),s)}queryRectangle(t,e,s){return this.query(new jo(t.x,t.y,e.width,e.height),s)}}const Fb=4,qb=n=>new jo(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let YC=class{constructor(t,e){this._applyDensity=(a,l,c)=>{var R;if(!((R=a.number.density)!=null&&R.enable))return;const d=a.number,m=this._initDensityFactor(d.density),g=d.value,v=d.limit>0?d.limit:g,E=Math.min(g,v)*m+l,T=Math.min(this.count,this.filter(L=>L.group===c).length);this.limit=d.limit*m,T<E?this.push(Math.abs(E-T),void 0,a,c):T>E&&this.removeQuantity(T-E,c)},this._initDensityFactor=a=>{const l=this._container;if(!l.canvas.element||!a.enable)return 1;const c=l.canvas.element,d=l.retina.pixelRatio;return c.width*c.height/(a.factor*d**2*a.area)},this._pushParticle=(a,l,c,d)=>{try{let m=this.pool.pop();m?m.init(this._nextId,a,l,c):m=new HC(this._engine,this._nextId,this._container,a,l,c);let g=!0;return d&&(g=d(m)),g?(this._array.push(m),this._zArray.push(m),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:m}}),m):void 0}catch(m){Pu().warning(`${pa} adding particle: ${m}`);return}},this._removeParticle=(a,l,c)=>{const d=this._array[a];if(!d||d.group!==l)return!1;d.destroy(c);const m=this._zArray.indexOf(d);return this._array.splice(a,1),this._zArray.splice(m,1),this.pool.push(d),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:d}}),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new qC(t,e);const s=e.canvas.size;this.quadTree=new rf(qb(s),Fb),this.movers=this._engine.plugins.getMovers(e,!0),this.updaters=this._engine.plugins.getUpdaters(e,!0)}get count(){return this._array.length}addManualParticles(){const t=this._container,e=t.actualOptions;for(const s of e.manualParticles)this.addParticle(s.position?l1(s.position,t.canvas.size):void 0,s.options)}addParticle(t,e,s,a){const l=this._container,c=l.actualOptions,d=c.particles.number.limit;if(d>0){const m=this.count+1-d;m>0&&this.removeQuantity(m)}return this._pushParticle(t,e,s,a)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(t){const e=this._container;e.canvas.clear(),await this.update(t);for(const[,s]of e.plugins)e.canvas.drawPlugin(s,t);for(const s of this._zArray)s.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}handleClickMode(t){this._interactionManager.handleClickMode(t)}init(){var a;const t=this._container,e=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let s=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this._interactionManager.init();for(const[,l]of t.plugins)if(l.particlesInitialization!==void 0&&(s=l.particlesInitialization()),s)break;this._interactionManager.init();for(const[,l]of t.pathGenerators)l.init(t);if(this.addManualParticles(),!s){for(const l in e.particles.groups){const c=e.particles.groups[l];for(let d=this.count,m=0;m<((a=c.number)==null?void 0:a.value)&&d<e.particles.number.value;d++,m++)this.addParticle(void 0,c,l)}for(let l=this.count;l<e.particles.number.value;l++)this.addParticle()}}push(t,e,s,a){this.pushing=!0;for(let l=0;l<t;l++)this.addParticle(e==null?void 0:e.position,s,a);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(t,e,s){this.removeAt(this._array.indexOf(t),void 0,e,s)}removeAt(t,e=1,s,a){if(t<0||t>this.count)return;let l=0;for(let c=t;l<e&&c<this.count;c++)this._removeParticle(c--,s,a)&&l++}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const s in e)this._applyDensity(e[s],0,s);this._applyDensity(t.particles,t.manualParticles.length)}async update(t){const e=this._container,s=new Set;this.quadTree=new rf(qb(e.canvas.size),Fb);for(const[,a]of e.pathGenerators)a.update();for(const[,a]of e.plugins)a.update&&a.update(t);for(const a of this._array){const l=e.canvas.resizeFactor;l&&!a.ignoresResizeRatio&&(a.position.x*=l.width,a.position.y*=l.height,a.initialPosition.x*=l.width,a.initialPosition.y*=l.height),a.ignoresResizeRatio=!1,await this._interactionManager.reset(a);for(const[,c]of this._container.plugins){if(a.destroyed)break;c.particleUpdate&&c.particleUpdate(a,t)}for(const c of this.movers)c.isEnabled(a)&&c.move(a,t);if(a.destroyed){s.add(a);continue}this.quadTree.insert(new GC(a.getPosition(),a))}if(s.size){const a=l=>!s.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a),this.pool.push(...s)}await this._interactionManager.externalInteract(t);for(const a of this._array){for(const l of this.updaters)l.update(a,t);!a.destroyed&&!a.spawning&&await this._interactionManager.particlesInteract(a,t)}if(delete e.canvas.resizeFactor,this.needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this.lastZIndex=a[a.length-1].position.z,this.needsSort=!1}}};class QC{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||Nf()?1:window.devicePixelRatio,this.reduceFactor=1;const s=this.pixelRatio;if(t.canvas.element){const c=t.canvas.element;t.canvas.size.width=c.offsetWidth*s,t.canvas.size.height=c.offsetHeight*s}const a=e.particles,l=a.move;this.attractDistance=Ut(l.attract.distance)*s,this.maxSpeed=Ut(l.gravity.maxSpeed)*s,this.sizeAnimationSpeed=Ut(a.size.animation.speed)*s}initParticle(t){const e=t.options,s=this.pixelRatio,a=e.move,l=a.distance,c=t.retina;c.attractDistance=Ut(a.attract.distance)*s,c.moveDrift=Ut(a.drift)*s,c.moveSpeed=Ut(a.speed)*s,c.sizeAnimationSpeed=Ut(e.size.animation.speed)*s;const d=c.maxDistance;d.horizontal=l.horizontal!==void 0?l.horizontal*s:void 0,d.vertical=l.vertical!==void 0?l.vertical*s:void 0,c.maxSpeed=Ut(a.gravity.maxSpeed)*s}}function he(n){return n&&!n.destroyed}function KC(n,t=60,e=!1){return{value:n,factor:e?60/t:60*n/1e3}}function To(n,t,...e){const s=new FC(n,t);return m1(s,...e),s}const XC="default",Hb={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class $C{constructor(t,e,s){this.id=e,this._intersectionManager=a=>{if(!(!he(this)||!this.actualOptions.pauseOnOutsideViewport))for(const l of a)l.target===this.interactivity.element&&(l.isIntersecting?this.play:this.pause)()},this._nextFrame=async a=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&a<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=a);const l=KC(a-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(l.value),this.lastFrameTime=a,l.value>1e3){this.draw(!1);return}if(await this.particles.draw(l),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(l){Pu().error(`${pa} in animation loop`,l)}},this._engine=t,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=s,this._initialSourceOptions=s,this.retina=new QC(this),this.canvas=new tC(this),this.particles=new YC(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=To(this._engine,this),this.actualOptions=To(this._engine,this),this._eventListeners=new eC(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(a=>this._intersectionManager(a))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!he(this))return;const e=this.interactivity.element;if(!e)return;const s=(E,T,R)=>{if(!he(this))return;const L=this.retina.pixelRatio,H={x:T.x*L,y:T.y*L},B=this.particles.quadTree.queryCircle(H,R*L);t(E,B)},a=E=>{if(!he(this))return;const T=E,R={x:T.offsetX||T.clientX,y:T.offsetY||T.clientY};s(E,R,1)},l=()=>{he(this)&&(g=!0,v=!1)},c=()=>{he(this)&&(v=!0)},d=E=>{if(he(this)){if(g&&!v){const T=E;let R=T.touches[T.touches.length-1];if(!R&&(R=T.changedTouches[T.changedTouches.length-1],!R))return;const L=this.canvas.element,H=L?L.getBoundingClientRect():void 0,B={x:R.clientX-(H?H.left:0),y:R.clientY-(H?H.top:0)};s(E,B,Math.max(R.radiusX,R.radiusY))}g=!1,v=!1}},m=()=>{he(this)&&(g=!1,v=!1)};let g=!1,v=!1;e.addEventListener("click",a),e.addEventListener("touchstart",l),e.addEventListener("touchmove",c),e.addEventListener("touchend",d),e.addEventListener("touchcancel",m)}addLifeTime(t){this._lifeTime+=t}addPath(t,e,s=!1){return!he(this)||!s&&this.pathGenerators.has(t)?!1:(this.pathGenerators.set(t,e??Hb),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!he(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.drawers)s.destroy&&s.destroy(this);for(const s of this.drawers.keys())this.drawers.delete(s);this._engine.plugins.destroy(this),this.destroyed=!0;const t=this._engine.dom(),e=t.findIndex(s=>s===this);e>=0&&t.splice(e,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(t){if(!he(this))return;let e=t;this._drawAnimationFrame=requestAnimationFrame(async s=>{e&&(this.lastFrameTime=void 0,e=!1),await this._nextFrame(s)})}async export(t,e={}){for(const[,s]of this.plugins){if(!s.export)continue;const a=await s.export(t,e);if(a.supported)return a.blob}Pu().error(`${pa} - Export plugin with type ${t} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&he(this)}handleClickMode(t){if(he(this)){this.particles.handleClickMode(t);for(const[,e]of this.plugins)e.handleClickMode&&e.handleClickMode(t)}}async init(){if(!he(this))return;const t=this._engine.plugins.getSupportedShapes();for(const s of t){const a=this._engine.plugins.getShapeDrawer(s);a&&this.drawers.set(s,a)}this._options=To(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=To(this._engine,this,this._options);const e=this._engine.plugins.getAvailablePlugins(this);for(const[s,a]of e)this.plugins.set(s,a);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Ut(this.actualOptions.duration)*1e3,this._delay=Ut(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,s]of this.drawers)s.init&&await s.init(this);for(const[,s]of this.plugins)s.init&&await s.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup&&s.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(t){he(this)&&(this._currentTheme=t,await this.refresh())}pause(){if(he(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,t]of this.plugins)t.pause&&t.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(t){if(!he(this))return;const e=this._paused||t;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),e)for(const[,s]of this.plugins)s.play&&s.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(e||!1)}async refresh(){if(he(this))return this.stop(),this.start()}async reset(){if(he(this))return this._initialSourceOptions=void 0,this._options=To(this._engine,this),this.actualOptions=To(this._engine,this,this._options),this.refresh()}setNoise(t,e,s){he(this)&&this.setPath(t,e,s)}setPath(t,e,s){if(!t||!he(this))return;const a={...Hb};if(u1(t))a.generate=t,e&&(a.init=e),s&&(a.update=s);else{const l=a;a.generate=t.generate||l.generate,a.init=t.init||l.init,a.update=t.update||l.update}this.addPath(XC,a,!0)}async start(){!he(this)||this.started||(await this.init(),this.started=!0,await new Promise(t=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,e]of this.plugins)e.start&&await e.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),t()},this._delay)}))}stop(){if(!(!he(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,t]of this.plugins)t.stop&&t.stop();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===t?!1:(this.responsiveMaxWidth=t,!0)}}class WC{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let s=this._listeners.get(t);s||(s=[],this._listeners.set(t,s)),s.push(e)}dispatchEvent(t,e){const s=this._listeners.get(t);s&&s.forEach(a=>a(e))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const s=this._listeners.get(t);if(!s)return;const a=s.length,l=s.indexOf(e);l<0||(a===1?this._listeners.delete(t):s.splice(l,1))}}function Dp(n,t,e,s=!1){let a=t.get(n);return(!a||s)&&(a=[...e.values()].map(l=>l(n)),t.set(n,a)),a}class ZC{constructor(t){this._engine=t,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(t,e){this._initializers.interactors.set(t,e)}addParticleMover(t,e){this._initializers.movers.set(t,e)}addParticleUpdater(t,e){this._initializers.updaters.set(t,e)}addPathGenerator(t,e){!this.getPathGenerator(t)&&this.pathGenerators.set(t,e)}addPlugin(t){!this.getPlugin(t.id)&&this.plugins.push(t)}addPreset(t,e,s=!1){(s||!this.getPreset(t))&&this.presets.set(t,e)}addShapeDrawer(t,e){ga(t,s=>{!this.getShapeDrawer(s)&&this.drawers.set(s,e)})}destroy(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}getAvailablePlugins(t){const e=new Map;for(const s of this.plugins)s.needsPlugin(t.actualOptions)&&e.set(s.id,s.getPlugin(t));return e}getInteractors(t,e=!1){return Dp(t,this.interactors,this._initializers.interactors,e)}getMovers(t,e=!1){return Dp(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find(e=>e.id===t)}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.drawers.get(t)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(t,e=!1){return Dp(t,this.updaters,this._initializers.updaters,e)}loadOptions(t,e){for(const s of this.plugins)s.loadOptions(t,e)}loadParticlesOptions(t,e,...s){const a=this.updaters.get(t);if(a)for(const l of a)l.loadOptions&&l.loadOptions(e,...s)}}async function JC(n){const t=Au(n.url,n.index);if(!t)return n.fallback;const e=await fetch(t);return e.ok?e.json():(Pu().error(`${pa} ${e.status} while retrieving config file`),n.fallback)}function t2(n){return!n.id&&!n.element&&!n.url&&!n.options}function e2(n){return!t2(n)}class n2{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new WC,this._initialized=!1,this.plugins=new ZC(this)}get configs(){const t={};for(const[e,s]of this._configs)t[e]=s;return t}get version(){return"2.12.0"}addConfig(t,e){Ii(t)?e&&(e.name=t,this._configs.set(t,e)):this._configs.set(t.name??"default",t)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e,s=!0){this.plugins.addInteractor(t,e),await this.refresh(s)}async addMover(t,e,s=!0){this.plugins.addParticleMover(t,e),await this.refresh(s)}async addParticleUpdater(t,e,s=!0){this.plugins.addParticleUpdater(t,e),await this.refresh(s)}async addPathGenerator(t,e,s=!0){this.plugins.addPathGenerator(t,e),await this.refresh(s)}async addPlugin(t,e=!0){this.plugins.addPlugin(t),await this.refresh(e)}async addPreset(t,e,s=!1,a=!0){this.plugins.addPreset(t,e,s),await this.refresh(a)}async addShape(t,e,s,a,l,c=!0){let d,m=c,g,v,E;ar(s)?(m=s,g=void 0):g=s,ar(a)?(m=a,v=void 0):v=a,ar(l)?(m=l,E=void 0):E=l,u1(e)?d={afterEffect:v,destroy:E,draw:e,init:g}:d=e,this.plugins.addShapeDrawer(t,d),await this.refresh(m)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this._domArray}domItem(t){const e=this.dom(),s=e[t];if(!s||s.destroyed){e.splice(t,1);return}return s}init(){this._initialized||(this._initialized=!0)}async load(t,e){return this.loadFromArray(t,e)}async loadFromArray(t,e,s){let a;return e2(t)?a=t:(a={},Ii(t)?a.id=t:a.options=t,ii(e)?a.index=e:a.options=e??a.options,a.index=s??a.index),this._loadParams(a)}async loadJSON(t,e,s){let a,l;return ii(e)||e===void 0?a=t:(l=t,a=e),this._loadParams({id:l,url:a,index:s})}async refresh(t=!0){t&&this.dom().forEach(e=>e.refresh())}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}async set(t,e,s,a){const l={index:a};return Ii(t)?l.id=t:l.element=t,e instanceof HTMLElement?l.element=e:l.options=e,ii(s)?l.index=s:l.options=s??l.options,this._loadParams(l)}async setJSON(t,e,s,a){const l={};return t instanceof HTMLElement?(l.element=t,l.url=e,l.index=s):(l.id=t,l.element=e,l.url=s,l.index=a),this._loadParams(l)}setOnClickHandler(t){const e=this.dom();if(!e.length)throw new Error(`${pa} can only set click handlers after calling tsParticles.load()`);for(const s of e)s.addClickHandler(t)}async _loadParams(t){const e=t.id??`tsparticles${Math.floor(Me()*1e4)}`,{index:s,url:a}=t,l=a?await JC({fallback:t.options,url:a,index:s}):t.options;let c=t.element??document.getElementById(e);c||(c=document.createElement("div"),c.id=e,document.body.append(c));const d=Au(l,s),m=this.dom(),g=m.findIndex(T=>T.id===e);if(g>=0){const T=this.domItem(g);T&&!T.destroyed&&(T.destroy(),m.splice(g,1))}let v;if(c.tagName.toLowerCase()==="canvas")v=c,v.dataset[wu]="false";else{const T=c.getElementsByTagName("canvas");T.length?(v=T[0],v.dataset[wu]="false"):(v=document.createElement("canvas"),v.dataset[wu]="true",c.appendChild(v))}v.style.width||(v.style.width="100%"),v.style.height||(v.style.height="100%");const E=new $C(this,e,d);return g>=0?m.splice(g,0,E):m.push(E),E.canvas.loadCanvas(v),await E.start(),E}}class i2{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){const e=t.value,s=e.hsl??t.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return eg(s)}handleRangeColor(t){const e=t.value,s=e.hsl??t.value;if(s.h!==void 0&&s.l!==void 0)return eg({h:Ut(s.h),l:Ut(s.l),s:Ut(s.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,s=e.exec(t);return s?FI({a:s.length>4?r1(s[5]):1,h:parseInt(s[1],10),l:parseInt(s[3],10),s:parseInt(s[2],10)}):void 0}}class s2{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){const e=t.value,s=e.rgb??t.value;if(s.r!==void 0)return s}handleRangeColor(t){const e=t.value,s=e.rgb??t.value;if(s.r!==void 0)return{r:Ut(s.r),g:Ut(s.g),b:Ut(s.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,s=e.exec(t);return s?{a:s.length>4?r1(s[5]):1,b:parseInt(s[3],10),g:parseInt(s[2],10),r:parseInt(s[1],10)}:void 0}}function r2(){const n=new s2,t=new i2;kb(n),kb(t);const e=new n2;return e.init(),e}const ng=r2();Nf()||(window.tsParticles=ng);const Co=n=>typeof n=="object"&&n!==null;function af(n,t,e=()=>!1){if(!Co(n)||!Co(t))return n===t;const s=Object.keys(n).filter(l=>!e(l)),a=Object.keys(t).filter(l=>!e(l));if(s.length!==a.length)return!1;for(const l of s){const c=n[l],d=t[l];if(Co(c)&&Co(d)){if(c===t&&d===n)continue;if(!af(c,d,e))return!1}else if(Array.isArray(c)&&Array.isArray(d)){if(!y1(c,d,e))return!1}else if(c!==d)return!1}return!0}function y1(n,t,e){if(n.length!==t.length)return!1;for(let s=0;s<n.length;s++){const a=n[s],l=t[s];if(Array.isArray(a)&&Array.isArray(l)){if(!y1(a,l,e))return!1}else if(Co(a)&&Co(l)){if(!af(a,l,e))return!1}else if(a!==l)return!1}return!0}const v1="tsparticles";class Vf extends rt.Component{constructor(t){super(t),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(t){const e=t.options??t.params,s=this.props.options??this.props.params;return t.url!==this.props.url||t.id!==this.props.id||t.canvasClassName!==this.props.canvasClassName||t.className!==this.props.className||t.height!==this.props.height||t.width!==this.props.width||!af(t.style,this.props.style)||t.init!==this.props.init||t.loaded!==this.props.loaded||!af(e,s,a=>a.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(ng),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:t,height:e,className:s,canvasClassName:a,id:l}=this.props;return sf.createElement("div",{className:s,id:l},sf.createElement("canvas",{className:a,style:{...this.props.style,width:t,height:e}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const t=this.props.id??Vf.defaultProps.id??v1,e=await ng.load({url:this.props.url,id:t,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=e),this.setState({library:e}),this.props.loaded&&await this.props.loaded(e)}}Vf.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:v1};function a2(n){const t=n.initialPosition,{dx:e,dy:s}=Mo(t,n.position),a=Math.abs(e),l=Math.abs(s),{maxDistance:c}=n.retina,d=c.horizontal,m=c.vertical;if(!(!d&&!m)){if((d&&a>=d||m&&l>=m)&&!n.misplaced)n.misplaced=!!d&&a>d||!!m&&l>m,d&&(n.velocity.x=n.velocity.y/2-n.velocity.x),m&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!d||a<d)&&(!m||l<m)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const g=n.position,v=n.velocity;d&&(g.x<t.x&&v.x<0||g.x>t.x&&v.x>0)&&(v.x*=-Me()),m&&(g.y<t.y&&v.y<0||g.y>t.y&&v.y>0)&&(v.y*=-Me())}}}function o2(n,t,e,s,a,l){u2(n,l);const c=n.gravity,d=c!=null&&c.enable&&c.inverse?-1:1;a&&e&&(n.velocity.x+=a*l.factor/(60*e)),c!=null&&c.enable&&e&&(n.velocity.y+=d*(c.acceleration*l.factor)/(60*e));const m=n.moveDecay;n.velocity.multTo(m);const g=n.velocity.mult(e);c!=null&&c.enable&&s>0&&(!c.inverse&&g.y>=0&&g.y>=s||c.inverse&&g.y<=0&&g.y<=-s)&&(g.y=d*s,e&&(n.velocity.y=g.y/e));const v=n.options.zIndex,E=(1-n.zIndexFactor)**v.velocityRate;g.multTo(E);const{position:T}=n;T.addTo(g),t.vibrate&&(T.x+=Math.sin(T.x*Math.cos(T.y)),T.y+=Math.cos(T.y*Math.sin(T.x)))}function l2(n,t){const e=n.container;if(!n.spin)return;const s={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const a=Math.max(e.canvas.size.width,e.canvas.size.height);n.spin.radius>a/2?(n.spin.radius=a/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=t/100*(1-n.spin.radius/a)}function u2(n,t){var c;const e=n.options,s=e.move.path;if(!s.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=t.value;return}const l=(c=n.pathGenerator)==null?void 0:c.generate(n,t);l&&n.velocity.addTo(l),s.clamp&&(n.velocity.x=Uo(n.velocity.x,-1,1),n.velocity.y=Uo(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function c2(n){return n.slow.inRange?n.slow.factor:1}const h2=2;class f2{constructor(){this._initSpin=t=>{const e=t.container,s=t.options,a=s.move.spin;if(!a.enable)return;const l=a.position??{x:50,y:50},c={x:l.x/100*e.canvas.size.width,y:l.y/100*e.canvas.size.height},d=t.getPosition(),m=Mf(d,c),g=Ut(a.acceleration);t.retina.spinAcceleration=g*e.retina.pixelRatio,t.spin={center:c,direction:t.velocity.x>=0?"clockwise":"counter-clockwise",angle:t.velocity.angle,radius:m,acceleration:t.retina.spinAcceleration}}}init(t){const e=t.options,s=e.move.gravity;t.gravity={enable:s.enable,acceleration:Ut(s.acceleration),inverse:s.inverse},this._initSpin(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){var L,H;const s=t.options,a=s.move;if(!a.enable)return;const l=t.container,c=l.retina.pixelRatio,d=c2(t),m=((L=t.retina).moveSpeed??(L.moveSpeed=Ut(a.speed)*c))*l.retina.reduceFactor,g=(H=t.retina).moveDrift??(H.moveDrift=Ut(t.options.move.drift)*c),v=Df(s.size.value)*c,E=a.size?t.getRadius()/v:1,T=m*E*d*(e.factor||1)/h2,R=t.retina.maxSpeed??l.retina.maxSpeed;a.spin.enable?l2(t,T):o2(t,a,T,R,g,e),a2(t)}}async function d2(n,t=!0){await n.addMover("base",()=>new f2,t)}class m2{draw(t,e,s){e.circleRange||(e.circleRange={min:0,max:Math.PI*2});const a=e.circleRange;t.arc(0,0,s,a.min,a.max,!1)}getSidesCount(){return 12}particleInit(t,e){const s=e.shapeData,a=(s==null?void 0:s.angle)??{max:360,min:0};e.circleRange=Io(a)?{min:a.min*Math.PI/180,max:a.max*Math.PI/180}:{min:0,max:a*Math.PI/180}}}async function p2(n,t=!0){await n.addShape("circle",new m2,t)}function Mp(n,t,e,s,a){if(!t||!e.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=n.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const l=ti(e.offset),c=(t.velocity??0)*n.factor+l*3.6,d=t.decay??1;!a||t.status==="increasing"?(t.value+=c,t.value>s&&(t.loops||(t.loops=0),t.loops++,a&&(t.status="decreasing",t.value-=t.value%s))):(t.value-=c,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status="increasing",t.value+=t.value)),t.velocity&&d!==1&&(t.velocity*=d),t.value>s&&(t.value%=s)}function g2(n,t){const{h:e,s,l:a}=n.options.color.animation,{color:l}=n;if(!l)return;const{h:c,s:d,l:m}=l;c&&Mp(t,c,e,360,!1),d&&Mp(t,d,s,100,!0),m&&Mp(t,m,a,100,!0)}class y2{constructor(t){this.container=t}init(t){const e=tg(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=HI(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s,l:a}=t.options.color.animation,{color:l}=t;return!t.destroyed&&!t.spawning&&((l==null?void 0:l.h.value)!==void 0&&e.enable||(l==null?void 0:l.s.value)!==void 0&&s.enable||(l==null?void 0:l.l.value)!==void 0&&a.enable)}update(t,e){g2(t,e)}}async function v2(n,t=!0){await n.addParticleUpdater("color",e=>new y2(e),t)}function _2(n,t,e,s){switch(n.options.opacity.animation.destroy){case"max":t>=s&&n.destroy();break;case"min":t<=e&&n.destroy();break}}function b2(n,t){const e=n.opacity;if(n.destroyed||!(e!=null&&e.enable)||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const s=e.min,a=e.max,l=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case"increasing":e.value>=a?(e.status="decreasing",e.loops||(e.loops=0),e.loops++):e.value+=(e.velocity??0)*t.factor;break;case"decreasing":e.value<=s?(e.status="increasing",e.loops||(e.loops=0),e.loops++):e.value-=(e.velocity??0)*t.factor;break}e.velocity&&e.decay!==1&&(e.velocity*=l),_2(n,e.value,s,a),n.destroyed||(e.value=Uo(e.value,s,a))}}class E2{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=o1(e,1);const s=e.animation;s.enable&&(t.opacity.velocity=Ut(s.speed)/100*this.container.retina.reduceFactor,s.sync||(t.opacity.velocity*=Me()))}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((t.opacity.maxLoops??0)<=0||(t.opacity.maxLoops??0)>0&&(t.opacity.loops??0)<(t.opacity.maxLoops??0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&b2(t,e)}}async function T2(n,t=!0){await n.addParticleUpdater("opacity",e=>new E2(e),t)}function w2(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const t=n.particle.velocity.x;let e=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&t>0||n.direction==="left"&&n.bounds.left<=0&&t<0){const a=Jg(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-a,e=!0}if(!e)return;const s=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-s:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=s),n.outMode==="split"&&n.particle.destroy()}function A2(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const t=n.particle.velocity.y;let e=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&t>0||n.direction==="top"&&n.bounds.top<=0&&t<0){const a=Jg(n.particle.options.bounce.vertical);n.particle.velocity.y*=-a,e=!0}if(!e)return;const s=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-s:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=s),n.outMode==="split"&&n.particle.destroy()}class S2{constructor(t){this.container=t,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;let c=!1;for(const[,T]of l.plugins)if(T.particleBounce!==void 0&&(c=T.particleBounce(t,s,e)),c)break;if(c)return;const d=t.getPosition(),m=t.offset,g=t.getRadius(),v=ny(d,g),E=l.canvas.size;w2({particle:t,outMode:a,direction:e,bounds:v,canvasSize:E,offset:m,size:g}),A2({particle:t,outMode:a,direction:e,bounds:v,canvasSize:E,offset:m,size:g})}}class R2{constructor(t){this.container=t,this.modes=["destroy"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(t.outType){case"normal":case"outside":if(ey(t.position,l.canvas.size,ni.origin,t.getRadius(),e))return;break;case"inside":{const{dx:c,dy:d}=Mo(t.position,t.moveCenter),{x:m,y:g}=t.velocity;if(m<0&&c>t.moveCenter.radius||g<0&&d>t.moveCenter.radius||m>=0&&c<-t.moveCenter.radius||g>=0&&d<-t.moveCenter.radius)return;break}}l.particles.remove(t,void 0,!0)}}class I2{constructor(t){this.container=t,this.modes=["none"]}update(t,e,s,a){if(!this.modes.includes(a)||t.options.move.distance.horizontal&&(e==="left"||e==="right")||t.options.move.distance.vertical&&(e==="top"||e==="bottom"))return;const l=t.options.move.gravity,c=this.container,d=c.canvas.size,m=t.getRadius();if(l.enable){const g=t.position;(!l.inverse&&g.y>d.height+m&&e==="bottom"||l.inverse&&g.y<-m&&e==="top")&&c.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=d.height+m||t.velocity.y<0&&t.position.y>=-m||t.velocity.x>0&&t.position.x<=d.width+m||t.velocity.x<0&&t.position.x>=-m)return;ey(t.position,c.canvas.size,ni.origin,m,e)||c.particles.remove(t)}}}class C2{constructor(t){this.container=t,this.modes=["out"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(t.outType){case"inside":{const{x:c,y:d}=t.velocity,m=ni.origin;m.length=t.moveCenter.radius,m.angle=t.velocity.angle+Math.PI,m.addTo(ni.create(t.moveCenter));const{dx:g,dy:v}=Mo(t.position,m);if(c<=0&&g>=0||d<=0&&v>=0||c>=0&&g<=0||d>=0&&v<=0)return;t.position.x=Math.floor(ti({min:0,max:l.canvas.size.width})),t.position.y=Math.floor(ti({min:0,max:l.canvas.size.height}));const{dx:E,dy:T}=Mo(t.position,t.moveCenter);t.direction=Math.atan2(-T,-E),t.velocity.angle=t.direction;break}default:{if(ey(t.position,l.canvas.size,ni.origin,t.getRadius(),e))return;switch(t.outType){case"outside":{t.position.x=Math.floor(ti({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(ti({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:c,dy:d}=Mo(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(d,c),t.velocity.angle=t.direction);break}case"normal":{const c=t.options.move.warp,d=l.canvas.size,m={bottom:d.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:d.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},g=t.getRadius(),v=ny(t.position,g);e==="right"&&v.left>d.width+t.offset.x?(t.position.x=m.left,t.initialPosition.x=t.position.x,c||(t.position.y=Me()*d.height,t.initialPosition.y=t.position.y)):e==="left"&&v.right<-t.offset.x&&(t.position.x=m.right,t.initialPosition.x=t.position.x,c||(t.position.y=Me()*d.height,t.initialPosition.y=t.position.y)),e==="bottom"&&v.top>d.height+t.offset.y?(c||(t.position.x=Me()*d.width,t.initialPosition.x=t.position.x),t.position.y=m.top,t.initialPosition.y=t.position.y):e==="top"&&v.bottom<-t.offset.y&&(c||(t.position.x=Me()*d.width,t.initialPosition.x=t.position.x),t.position.y=m.bottom,t.initialPosition.y=t.position.y);break}}break}}}}class x2{constructor(t){this.container=t,this._updateOutMode=(e,s,a,l)=>{for(const c of this.updaters)c.update(e,l,s,a)},this.updaters=[new S2(t),new R2(t),new C2(t),new I2(t)]}init(){}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){const s=t.options.move.outModes;this._updateOutMode(t,e,s.bottom??s.default,"bottom"),this._updateOutMode(t,e,s.left??s.default,"left"),this._updateOutMode(t,e,s.right??s.default,"right"),this._updateOutMode(t,e,s.top??s.default,"top")}}async function O2(n,t=!0){await n.addParticleUpdater("outModes",e=>new x2(e),t)}function D2(n,t,e,s){switch(n.options.size.animation.destroy){case"max":t>=s&&n.destroy();break;case"min":t<=e&&n.destroy();break}}function M2(n,t){const e=n.size;if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const s=(e.velocity??0)*t.factor,a=e.min,l=e.max,c=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case"increasing":e.value>=l?(e.status="decreasing",e.loops||(e.loops=0),e.loops++):e.value+=s;break;case"decreasing":e.value<=a?(e.status="increasing",e.loops||(e.loops=0),e.loops++):e.value-=s}e.velocity&&c!==1&&(e.velocity*=c),D2(n,e.value,a,l),n.destroyed||(e.value=Uo(e.value,a,l))}}class N2{init(t){const e=t.container,s=t.options.size,a=s.animation;a.enable&&(t.size.velocity=(t.retina.sizeAnimationSpeed??e.retina.sizeAnimationSpeed)/100*e.retina.reduceFactor,a.sync||(t.size.velocity*=Me()))}isEnabled(t){return!t.destroyed&&!t.spawning&&t.size.enable&&((t.size.maxLoops??0)<=0||(t.size.maxLoops??0)>0&&(t.size.loops??0)<(t.size.maxLoops??0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&M2(t,e)}}async function P2(n,t=!0){await n.addParticleUpdater("size",()=>new N2,t)}async function k2(n,t=!0){await d2(n,!1),await p2(n,!1),await v2(n,!1),await T2(n,!1),await O2(n,!1),await P2(n,!1),await n.refresh(t)}const V2={background:{color:"#000"},particles:{number:{value:100},move:{direction:"none",enable:!0,outModes:{default:"out"},random:!0,speed:.1,straight:!1},opacity:{animation:{enable:!0,speed:1,sync:!1},value:{min:0,max:1}},size:{value:{min:1,max:3}}}};async function L2(n,t=!0){await k2(n,!1),await n.addPreset("stars",V2,t)}function z2(){const n=rt.useCallback(async t=>{await L2(t)},[]);return Y.jsx(Vf,{id:"tsparticles",init:n,options:{preset:"stars",background:{color:{value:"#000000"}},fullScreen:{enable:!0,zIndex:0},detectRetina:!0,interactivity:{detectsOn:"canvas",events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1},resize:!0},modes:{repulse:{distance:200,duration:.5}}},particles:{number:{value:150,density:{enable:!0,area:800}},color:{value:["#ffffff","#a3c9ff","#0f52ba"]},opacity:{value:1,random:{enable:!0,minimumValue:.3},animation:{enable:!0,speed:2,minimumValue:.3,sync:!1}},size:{value:{min:.5,max:2},animation:{enable:!1}},move:{enable:!0,speed:.2,direction:"none",random:!1,straight:!1,outModes:"out"},twinkle:{particles:{enable:!0,frequency:.3,color:"#ffffff"}}},emitters:{direction:"top-right",rate:{delay:7,quantity:1},size:{width:0,height:0},spawnColor:{value:"#ffffff",animation:{h:{enable:!1}}},life:{duration:{sync:!0,value:1},count:0},particles:{shape:"star",size:{value:{min:2,max:4},animation:{enable:!1}},move:{enable:!0,gravity:{enable:!0,acceleration:9.81},speed:{min:10,max:20},decay:.3,direction:"bottom-left",outModes:"destroy"}}}}})}function U2(){const[n,t]=rt.useState(null),[e,s]=rt.useState("Unknown location"),[a,l]=rt.useState(null),[c,d]=rt.useState("km/h"),[m,g]=rt.useState("°F"),v=X=>m==="°F"?(X*9/5+32).toFixed(1):X.toFixed(1),E=X=>{switch(c){case"mph":return(X*.621371).toFixed(1);case"knots":return(X*.539957).toFixed(1);default:return X.toFixed(1)}};if(rt.useEffect(()=>{let X,tt;async function et(ct,D){try{const I=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${ct}&longitude=${D}&current_weather=true&hourly=precipitation_probability`)).json();I.current_weather?t(I):l("Weather data unavailable")}catch{l("Failed to fetch weather data")}}async function ft(ct,D){try{const I=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ct}&lon=${D}`,{headers:{"User-Agent":"MyVoiceAssistantApp/1.0 (your-email@example.com)"}})).json();s(I.address.city||I.address.town||I.address.village||I.address.county||"Unknown location")}catch{s("Unknown location")}}function ht(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ct=>{const{latitude:D,longitude:S}=ct.coords;et(D,S),tt&&clearTimeout(tt),tt=setTimeout(()=>{ft(D,S)},1e3)},()=>l("Location permission denied")):l("Geolocation not supported")}return ht(),X=setInterval(ht,18e4),()=>{clearInterval(X),clearTimeout(tt)}},[]),a)return Y.jsx("div",{style:Np,children:a});if(!n)return Y.jsx("div",{style:Np,children:"Loading weather..."});const T=n.current_weather,R=n.hourly||{};function L(X,tt){const et=new Date(X),ft=new Date(et.toISOString().slice(0,13)+":00:00");return tt==null?void 0:tt.findIndex(ht=>ht===ft.toISOString().slice(0,13)+":00")}const H=L(T.time,R.time||[]),B=H!==-1&&R.precipitation_probability?R.precipitation_probability[H]:"N/A";return Y.jsxs("div",{style:Np,children:[Y.jsx("h3",{style:{margin:"0 0 10px 0"},children:e}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Temp:"})," ",v(T.temperature),Y.jsxs("select",{value:m,onChange:X=>g(X.target.value),style:Gb,"aria-label":"Select temperature unit",children:[Y.jsx("option",{value:"°F",children:"°F"}),Y.jsx("option",{value:"°C",children:"°C"})]})]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Wind:"})," ",E(T.windspeed),Y.jsxs("select",{value:c,onChange:X=>d(X.target.value),style:Gb,"aria-label":"Select wind speed unit",children:[Y.jsx("option",{value:"km/h",children:"km/h"}),Y.jsx("option",{value:"mph",children:"mph"}),Y.jsx("option",{value:"knots",children:"knots"})]})]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Chance of Rain:"})," ",B,"%"]})]})}const Np={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},Gb={backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",border:"1px solid #444",borderRadius:4,padding:"2px 24px 2px 6px",fontSize:"inherit",fontWeight:"bold",marginLeft:4,appearance:"auto",cursor:"pointer"},j2=()=>{};var Yb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},B2=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(T=64)),s.push(e[v],e[E],e[T],e[R])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):B2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new F2;const T=l<<2|d>>4;if(s.push(T),g!==64){const R=d<<4&240|g>>2;if(s.push(R),E!==64){const L=g<<6&192|E;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q2=function(n){const t=_1(n);return b1.encodeByteArray(t,!0)},of=function(n){return q2(n).replace(/\./g,"")},E1=function(n){try{return b1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=()=>H2().__FIREBASE_DEFAULTS__,Y2=()=>{if(typeof process>"u"||typeof Yb>"u")return;const n=Yb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Q2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&E1(n[1]);return t&&JSON.parse(t)},Lf=()=>{try{return j2()||G2()||Y2()||Q2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T1=n=>{var t,e;return(e=(t=Lf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},K2=n=>{const t=T1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},w1=()=>{var n;return(n=Lf())===null||n===void 0?void 0:n.config},A1=n=>{var t;return(t=Lf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(n){return n.endsWith(".cloudworkstations.dev")}async function S1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[of(JSON.stringify(e)),of(JSON.stringify(c)),""].join(".")}const Su={};function W2(){const n={prod:[],emulator:[]};for(const t of Object.keys(Su))Su[t]?n.emulator.push(t):n.prod.push(t);return n}function Z2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Qb=!1;function R1(n,t){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||Su[n]===t||Su[n]||Qb)return;Su[n]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=W2().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Qb=!0,c()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=Z2(s),R=e("text"),L=document.getElementById(R)||document.createElement("span"),H=e("learnmore"),B=document.getElementById(H)||document.createElement("a"),X=e("preprendIcon"),tt=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const et=T.element;d(et),v(B,H);const ft=g();m(tt,X),et.append(tt,L,B,ft),document.body.appendChild(et)}l?(L.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function tx(){var n;const t=(n=Lf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ex(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rx(){return!tx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ax(){try{return typeof indexedDB=="object"}catch{return!1}}function ox(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="FirebaseError";class Es extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=lx,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?ux(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Es(a,d,s)}}function ux(n,t){return n.replace(cx,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const cx=/\{\$([^}]+)}/g;function hx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ya(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],c=t[a];if(Kb(l)&&Kb(c)){if(!ya(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function Kb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function gu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function yu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function fx(n,t){const e=new dx(n,t);return e.subscribe.bind(e)}class dx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");mx(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=Pp),a.error===void 0&&(a.error=Pp),a.complete===void 0&&(a.complete=Pp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n){return n&&n._delegate?n._delegate:n}class va{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new X2;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yx(t))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ha){return this.instances.has(t)}getOptions(t=ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gx(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ha){return this.component?this.component.multipleInstances?t:ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gx(n){return n===ha?void 0:n}function yx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new px(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const _x={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},bx=Lt.INFO,Ex={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Tx=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=Ex[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class iy{constructor(t){this.name=t,this._logLevel=bx,this._logHandler=Tx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_x[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const wx=(n,t)=>t.some(e=>n instanceof e);let Xb,$b;function Ax(){return Xb||(Xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sx(){return $b||($b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I1=new WeakMap,ig=new WeakMap,C1=new WeakMap,kp=new WeakMap,sy=new WeakMap;function Rx(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(or(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&I1.set(e,n)}).catch(()=>{}),sy.set(t,n),t}function Ix(n){if(ig.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ig.set(n,t)}let sg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ig.get(n);if(t==="objectStoreNames")return n.objectStoreNames||C1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Cx(n){sg=n(sg)}function xx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Vp(this),t,...e);return C1.set(s,t.sort?t.sort():[t]),or(s)}:Sx().includes(n)?function(...t){return n.apply(Vp(this),t),or(I1.get(this))}:function(...t){return or(n.apply(Vp(this),t))}}function Ox(n){return typeof n=="function"?xx(n):(n instanceof IDBTransaction&&Ix(n),wx(n,Ax())?new Proxy(n,sg):n)}function or(n){if(n instanceof IDBRequest)return Rx(n);if(kp.has(n))return kp.get(n);const t=Ox(n);return t!==n&&(kp.set(n,t),sy.set(t,n)),t}const Vp=n=>sy.get(n);function Dx(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=or(c);return s&&c.addEventListener("upgradeneeded",m=>{s(or(c.result),m.oldVersion,m.newVersion,or(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Mx=["get","getKey","getAll","getAllKeys","count"],Nx=["put","add","delete","clear"],Lp=new Map;function Wb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Lp.get(t))return Lp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=Nx.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Mx.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&m.done]))[0]};return Lp.set(t,l),l}Cx(n=>({...n,get:(t,e,s)=>Wb(t,e)||n.get(t,e,s),has:(t,e)=>!!Wb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(kx(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function kx(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rg="@firebase/app",Zb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new iy("@firebase/app"),Vx="@firebase/app-compat",Lx="@firebase/analytics-compat",zx="@firebase/analytics",Ux="@firebase/app-check-compat",jx="@firebase/app-check",Bx="@firebase/auth",Fx="@firebase/auth-compat",qx="@firebase/database",Hx="@firebase/data-connect",Gx="@firebase/database-compat",Yx="@firebase/functions",Qx="@firebase/functions-compat",Kx="@firebase/installations",Xx="@firebase/installations-compat",$x="@firebase/messaging",Wx="@firebase/messaging-compat",Zx="@firebase/performance",Jx="@firebase/performance-compat",tO="@firebase/remote-config",eO="@firebase/remote-config-compat",nO="@firebase/storage",iO="@firebase/storage-compat",sO="@firebase/firestore",rO="@firebase/ai",aO="@firebase/firestore-compat",oO="firebase",lO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",uO={[rg]:"fire-core",[Vx]:"fire-core-compat",[zx]:"fire-analytics",[Lx]:"fire-analytics-compat",[jx]:"fire-app-check",[Ux]:"fire-app-check-compat",[Bx]:"fire-auth",[Fx]:"fire-auth-compat",[qx]:"fire-rtdb",[Hx]:"fire-data-connect",[Gx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Qx]:"fire-fn-compat",[Kx]:"fire-iid",[Xx]:"fire-iid-compat",[$x]:"fire-fcm",[Wx]:"fire-fcm-compat",[Zx]:"fire-perf",[Jx]:"fire-perf-compat",[tO]:"fire-rc",[eO]:"fire-rc-compat",[nO]:"fire-gcs",[iO]:"fire-gcs-compat",[sO]:"fire-fst",[aO]:"fire-fst-compat",[rO]:"fire-vertex","fire-js":"fire-js",[oO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,cO=new Map,og=new Map;function Jb(n,t){try{n.container.addComponent(t)}catch(e){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Bo(n){const t=n.name;if(og.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;og.set(t,n);for(const e of lf.values())Jb(e,n);for(const e of cO.values())Jb(e,n);return!0}function ry(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new $u("app","Firebase",hO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=lO;function x1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ag,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw lr.create("bad-app-name",{appName:String(a)});if(e||(e=w1()),!e)throw lr.create("no-options");const l=lf.get(a);if(l){if(ya(e,l.options)&&ya(s,l.config))return l;throw lr.create("duplicate-app",{appName:a})}const c=new vx(a);for(const m of og.values())c.addComponent(m);const d=new fO(e,s,c);return lf.set(a,d),d}function O1(n=ag){const t=lf.get(n);if(!t&&n===ag&&w1())return x1();if(!t)throw lr.create("no-app",{appName:n});return t}function ur(n,t,e){var s;let a=(s=uO[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}Bo(new va(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="firebase-heartbeat-database",mO=1,Vu="firebase-heartbeat-store";let zp=null;function D1(){return zp||(zp=Dx(dO,mO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vu)}catch(e){console.warn(e)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),zp}async function pO(n){try{const e=(await D1()).transaction(Vu),s=await e.objectStore(Vu).get(M1(n));return await e.done,s}catch(t){if(t instanceof Es)ds.warn(t.message);else{const e=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ds.warn(e.message)}}}async function tE(n,t){try{const s=(await D1()).transaction(Vu,"readwrite");await s.objectStore(Vu).put(t,M1(n)),await s.done}catch(e){if(e instanceof Es)ds.warn(e.message);else{const s=lr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ds.warn(s.message)}}}function M1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=1024,yO=30;class vO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new bO(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=eE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>yO){const c=EO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ds.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eE(),{heartbeatsToSend:s,unsentEntries:a}=_O(this._heartbeatsCache.heartbeats),l=of(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ds.warn(e),""}}}function eE(){return new Date().toISOString().substring(0,10)}function _O(n,t=gO){const e=[];let s=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nE(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),nE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class bO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ax()?ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await pO(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return tE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return tE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function nE(n){return of(JSON.stringify({version:2,heartbeats:n})).length}function EO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n){Bo(new va("platform-logger",t=>new Px(t),"PRIVATE")),Bo(new va("heartbeat",t=>new vO(t),"PRIVATE")),ur(rg,Zb,n),ur(rg,Zb,"esm2017"),ur("fire-js","")}TO("");function ay(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wO=N1,P1=new $u("auth","Firebase",N1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new iy("@firebase/auth");function AO(n,...t){uf.logLevel<=Lt.WARN&&uf.warn(`Auth (${Wo}): ${n}`,...t)}function Hh(n,...t){uf.logLevel<=Lt.ERROR&&uf.error(`Auth (${Wo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...t){throw oy(n,...t)}function xi(n,...t){return oy(n,...t)}function k1(n,t,e){const s=Object.assign(Object.assign({},wO()),{[t]:e});return new $u("auth","Firebase",s).create(t,{appName:n.name})}function hs(n){return k1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return P1.create(n,...t)}function Tt(n,t,...e){if(!n)throw oy(t,...e)}function us(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Hh(t),new Error(t)}function ms(n,t){n||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SO(){return iE()==="http:"||iE()==="https:"}function iE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||nx()||"connection"in navigator)?navigator.onLine:!0}function IO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ms(e>t,"Short delay should be less than long delay!"),this.isMobile=J2()||ix()}get(){return RO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n,t){ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OO=new Zu(3e4,6e4);function Tr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function wr(n,t,e,s,a={}){return L1(n,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Wu(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:m},l);return ex()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&$o(n.emulatorConfig.host)&&(g.credentials="include"),V1.fetch()(await z1(n,n.config.apiHost,e,d),g)})}async function L1(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},CO),t);try{const a=new MO(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ph(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ph(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ph(n,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw k1(n,v,g);si(n,v)}}catch(a){if(a instanceof Es)throw a;si(n,"network-request-failed",{message:String(a)})}}async function Ju(n,t,e,s,a={}){const l=await wr(n,t,e,s,a);return"mfaPendingCredential"in l&&si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function z1(n,t,e,s){const a=`${t}${e}?${s}`,l=n,c=l.config.emulator?ly(n.config,a):`${n.config.apiScheme}://${a}`;return xO.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function DO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),OO.get())})}}function Ph(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=xi(n,t,s);return a.customData._tokenResponse=e,a}function sE(n){return n!==void 0&&n.enterprise!==void 0}class NO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return DO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PO(n,t){return wr(n,"GET","/v2/recaptchaConfig",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(n,t){return wr(n,"POST","/v1/accounts:delete",t)}async function cf(n,t){return wr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VO(n,t=!1){const e=Fe(n),s=await e.getIdToken(t),a=uy(s);Tt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ru(Up(a.auth_time)),issuedAtTime:Ru(Up(a.iat)),expirationTime:Ru(Up(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Up(n){return Number(n)*1e3}function uy(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const a=E1(e);return a?JSON.parse(a):(Hh("Failed to decode base64 JWT payload"),null)}catch(a){return Hh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rE(n){const t=uy(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Es&&LO(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function LO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){var t;const e=n.auth,s=await n.getIdToken(),a=await Lu(n,cf(e,{idToken:s}));Tt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?U1(l.providerUserInfo):[],d=jO(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ug(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function UO(n){const t=Fe(n);await hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jO(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function U1(n){return n.map(t=>{var{providerId:e}=t,s=ay(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(n,t){const e=await L1(n,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await z1(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&$o(n.emulatorConfig.host)&&(m.credentials="include"),V1.fetch()(c,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function FO(n,t){return wr(n,"POST","/v2/accounts:revokeToken",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=rE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await BO(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,c=new Po;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ei{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,l=ay(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Lu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return VO(this,t)}reload(){return UO(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ei(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await hf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await Lu(this,kO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,l,c,d,m,g,v;const E=(s=e.displayName)!==null&&s!==void 0?s:void 0,T=(a=e.email)!==null&&a!==void 0?a:void 0,R=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,L=(c=e.photoURL)!==null&&c!==void 0?c:void 0,H=(d=e.tenantId)!==null&&d!==void 0?d:void 0,B=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,X=(g=e.createdAt)!==null&&g!==void 0?g:void 0,tt=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:et,emailVerified:ft,isAnonymous:ht,providerData:ct,stsTokenManager:D}=e;Tt(et&&D,t,"internal-error");const S=Po.fromJSON(this.name,D);Tt(typeof et=="string",t,"internal-error"),Zs(E,t.name),Zs(T,t.name),Tt(typeof ft=="boolean",t,"internal-error"),Tt(typeof ht=="boolean",t,"internal-error"),Zs(R,t.name),Zs(L,t.name),Zs(H,t.name),Zs(B,t.name),Zs(X,t.name),Zs(tt,t.name);const I=new ei({uid:et,auth:t,email:T,emailVerified:ft,displayName:E,isAnonymous:ht,photoURL:L,phoneNumber:R,tenantId:H,stsTokenManager:S,createdAt:X,lastLoginAt:tt});return ct&&Array.isArray(ct)&&(I.providerData=ct.map(N=>Object.assign({},N))),B&&(I._redirectEventId=B),I}static async _fromIdTokenResponse(t,e,s=!1){const a=new Po;a.updateFromServerResponse(e);const l=new ei({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await hf(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?U1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Po;d.updateFromIdToken(s);const m=new ei({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function cs(n){ms(n instanceof Function,"Expected a class definition");let t=aE.get(n);return t?(ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,aE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}j1.type="NONE";const oE=j1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n,t,e){return`firebase:${n}:${t}:${e}`}class ko{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Gh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gh("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await cf(this.auth,{idToken:t}).catch(()=>{});return e?ei._fromGetAccountInfoResponse(this.auth,e,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new ko(cs(oE),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||cs(oE);const c=Gh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const T=await cf(t,{idToken:v}).catch(()=>{});if(!T)break;E=await ei._fromGetAccountInfoResponse(t,T,v)}else E=ei._fromJSON(t,v);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ko(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ko(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(H1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y1(t))return"Blackberry";if(Q1(t))return"Webos";if(F1(t))return"Safari";if((t.includes("chrome/")||q1(t))&&!t.includes("edge/"))return"Chrome";if(G1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function B1(n=an()){return/firefox\//i.test(n)}function F1(n=an()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function q1(n=an()){return/crios\//i.test(n)}function H1(n=an()){return/iemobile/i.test(n)}function G1(n=an()){return/android/i.test(n)}function Y1(n=an()){return/blackberry/i.test(n)}function Q1(n=an()){return/webos/i.test(n)}function cy(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qO(n=an()){var t;return cy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function HO(){return sx()&&document.documentMode===10}function K1(n=an()){return cy(n)||G1(n)||Q1(n)||Y1(n)||/windows phone/i.test(n)||H1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n,t=[]){let e;switch(n){case"Browser":e=lE(an());break;case"Worker":e=`${lE(an())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(n,t={}){return wr(n,"GET","/v2/passwordPolicy",Tr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=6;class KO{constructor(t){var e,s,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:QO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new GO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cs(e)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await ko.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await cf(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await hf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(hs(this));const e=t?Fe(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YO(this),e=new KO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $u("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await FO(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cs(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&AO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sa(n){return Fe(n)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=fx(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $O(n){zf=n}function $1(n){return zf.loadJS(n)}function WO(){return zf.recaptchaEnterpriseScript}function ZO(){return zf.gapiScript}function JO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new eD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class eD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const nD="recaptcha-enterprise",W1="NO_RECAPTCHA";class iD{constructor(t){this.type=nD,this.auth=Sa(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{PO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new NO(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;sE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(W1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!e&&sE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=WO();m.length!==0&&(m+=d),$1(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function cE(n,t,e,s=!1,a=!1){const l=new iD(n);let c;if(a)c=W1;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cg(n,t,e,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await cE(n,t,e,e==="getOobCode");return s(n,c)}else return s(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cE(n,t,e,e==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,t){const e=ry(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(ya(l,t??{}))return a;si(a,"already-initialized")}return e.initialize({options:t})}function rD(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(cs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function aD(n,t,e){const s=Sa(n);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Z1(t),{host:c,port:d}=oD(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(ya(g,s.config.emulator)&&ya(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,$o(c)?(S1(`${l}//${c}${m}`),R1("Auth",!0)):lD()}function Z1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function oD(n){const t=Z1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:hE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:hE(c)}}}function hE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function lD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,e){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function uD(n,t){return wr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,t){return Ju(n,"POST","/v1/accounts:signInWithPassword",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,t){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,t))}async function fD(n,t){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends hy{constructor(t,e,s,a=null){super("password",s),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new zu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new zu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(t,e,"signInWithPassword",cD);case"emailLink":return hD(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(t,s,"signUpPassword",uD);case"emailLink":return fD(t,{idToken:e,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,t){return Ju(n,"POST","/v1/accounts:signInWithIdp",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="http://localhost";class _a extends hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):si("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,l=ay(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new _a(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Vo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Vo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Vo(t,e)}buildRequest(){const t={requestUri:dD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Wu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pD(n){const t=gu(yu(n)).link,e=t?gu(yu(t)).deep_link_id:null,s=gu(yu(n)).deep_link_id;return(s?gu(yu(s)).link:null)||s||e||t||n}class fy{constructor(t){var e,s,a,l,c,d;const m=gu(yu(t)),g=(e=m.apiKey)!==null&&e!==void 0?e:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,E=mD((a=m.mode)!==null&&a!==void 0?a:null);Tt(g&&v&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=pD(t);try{return new fy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(t,e){return zu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=fy.parseLink(e);return Tt(s,"argument-error"),zu._fromEmailAndCode(t,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends tc{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return _a._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return er.credential(e,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends tc{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends tc{constructor(){super("twitter.com")}static credential(t,e){return _a._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return ir.credential(e,s)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,t){return Ju(n,"POST","/v1/accounts:signUp",Tr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await ei._fromIdTokenResponse(t,s,a),c=fE(s);return new ba({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=fE(s);return new ba({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function fE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Es{constructor(t,e,s,a){var l;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new ff(t,e,s,a)}}function tw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(n,l,t,s):l})}async function yD(n,t,e=!1){const s=await Lu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ba._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(n,t,e=!1){const{auth:s}=n;if(Yn(s.app))return Promise.reject(hs(s));const a="reauthenticate";try{const l=await Lu(n,tw(s,a,t,n),e);Tt(l.idToken,s,"internal-error");const c=uy(l.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(n.uid===d,s,"user-mismatch"),ba._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(n,t,e=!1){if(Yn(n.app))return Promise.reject(hs(n));const s="signIn",a=await tw(n,s,t),l=await ba._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}async function _D(n,t){return ew(Sa(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(n){const t=Sa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function bD(n,t,e){if(Yn(n.app))return Promise.reject(hs(n));const s=Sa(n),c=await cg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&nw(n),m}),d=await ba._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function ED(n,t,e){return Yn(n.app)?Promise.reject(hs(n)):_D(Fe(n),Zo.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nw(n),s})}function TD(n,t,e,s){return Fe(n).onIdTokenChanged(t,e,s)}function wD(n,t,e){return Fe(n).beforeAuthStateChanged(t,e)}function AD(n,t,e,s){return Fe(n).onAuthStateChanged(t,e,s)}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,RD=10;class sw extends iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);HO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,RD):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}sw.type="LOCAL";const ID=sw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}rw.type="SESSION";const aw=rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new Uf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,l)),m=await CD(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=dy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function OD(n){Oi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function DD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ND(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebaseLocalStorageDb",PD=1,mf="firebaseLocalStorage",uw="fbase_key";class ec{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function jf(n,t){return n.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function kD(){const n=indexedDB.deleteDatabase(lw);return new ec(n).toPromise()}function hg(){const n=indexedDB.open(lw,PD);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(mf,{keyPath:uw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(mf)?t(s):(s.close(),await kD(),t(await hg()))})})}async function dE(n,t,e){const s=jf(n,!0).put({[uw]:t,value:e});return new ec(s).toPromise()}async function VD(n,t){const e=jf(n,!1).get(t),s=await new ec(e).toPromise();return s===void 0?null:s.value}function mE(n,t){const e=jf(n,!0).delete(t);return new ec(e).toPromise()}const LD=800,zD=3;class cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>zD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(ND()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hg();return await dE(t,df,"1"),await mE(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>dE(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>VD(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>mE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=jf(a,!1).getAll();return new ec(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cw.type="LOCAL";const UD=cw;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n,t){return t?cs(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends hy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Vo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function BD(n){return ew(n.auth,new my(n),n.bypassAuthState)}function FD(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),vD(e,new my(n),n.bypassAuthState)}async function qD(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),yD(e,new my(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BD;case"linkViaPopup":case"linkViaRedirect":return qD;case"reauthViaPopup":case"reauthViaRedirect":return FD;default:si(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Zu(2e3,1e4);class xo extends hw{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HD.get())};t()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="pendingRedirect",Yh=new Map;class YD extends hw{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Yh.get(this.auth._key());if(!t){try{const s=await QD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Yh.set(this.auth._key(),t)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(n,t){const e=$D(t),s=XD(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function KD(n,t){Yh.set(n._key(),t)}function XD(n){return cs(n._redirectPersistence)}function $D(n){return Gh(GD,n.config.apiKey,n.name)}async function WD(n,t,e=!1){if(Yn(n.app))return Promise.reject(hs(n));const s=Sa(n),a=jD(s,t),c=await new YD(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=10*60*1e3;class JD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!fw(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(xi(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(t))}saveEventToCache(t){this.cachedEventUids.add(pE(t)),this.lastProcessedEventTime=Date.now()}}function pE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function fw({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function tM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(n,t={}){return wr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iM=/^https?/;async function sM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await eM(n);for(const e of t)try{if(rM(e))return}catch{}si(n,"unauthorized-domain")}function rM(n){const t=lg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!iM.test(e))return!1;if(nM.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Zu(3e4,6e4);function gE(){const n=Oi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function oM(n){return new Promise((t,e)=>{var s,a,l;function c(){gE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gE(),e(xi(n,"network-request-failed"))},timeout:aM.get()})}if(!((a=(s=Oi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Oi().gapi)===null||l===void 0)&&l.load)c();else{const d=JO("iframefcb");return Oi()[d]=()=>{gapi.load?c():e(xi(n,"network-request-failed"))},$1(`${ZO()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw Qh=null,t})}let Qh=null;function lM(n){return Qh=Qh||oM(n),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new Zu(5e3,15e3),cM="__/auth/iframe",hM="emulator/auth/iframe",fM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mM(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ly(t,hM):`https://${n.config.authDomain}/${cM}`,s={apiKey:t.apiKey,appName:n.name,v:Wo},a=dM.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${Wu(s).slice(1)}`}async function pM(n){const t=await lM(n),e=Oi().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:mM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),d=Oi().setTimeout(()=>{l(c)},uM.get());function m(){Oi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,vM=600,_M="_blank",bM="http://localhost";class yE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EM(n,t,e,s=yM,a=vM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},gM),{width:s.toString(),height:a.toString(),top:l,left:c}),g=an().toLowerCase();e&&(d=q1(g)?_M:e),B1(g)&&(t=t||bM,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,L])=>`${T}${R}=${L},`,"");if(qO(g)&&d!=="_self")return TM(t||"",d),new yE(null);const E=window.open(t||"",d,v);Tt(E,n,"popup-blocked");try{E.focus()}catch{}return new yE(E)}function TM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="__/auth/handler",AM="emulator/auth/handler",SM=encodeURIComponent("fac");async function vE(n,t,e,s,a,l){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Wo,eventId:a};if(t instanceof J1){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",hx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof tc){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${SM}=${encodeURIComponent(m)}`:"";return`${RM(n)}?${Wu(d).slice(1)}${g}`}function RM({config:n}){return n.emulator?ly(n,AM):`https://${n.authDomain}/${wM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class IM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=WD,this._overrideRedirectResult=KD}async _openPopup(t,e,s,a){var l;ms((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await vE(t,e,s,lg(),a);return EM(t,c,dy())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await vE(t,e,s,lg(),a);return OD(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await pM(t),s=new JD(t);return e.register("authEvent",a=>(Tt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(jp,{type:jp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[jp];c!==void 0&&e(!!c),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=sM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return K1()||F1()||cy()}}const CM=IM;var _E="@firebase/auth",bE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(n){Bo(new va("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(n)},g=new XO(s,a,l,m);return rD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Bo(new va("auth-internal",t=>{const e=Sa(t.getProvider("auth").getImmediate());return(s=>new xM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(_E,bE,OM(n)),ur(_E,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,NM=A1("authIdTokenMaxAge")||MM;let EE=null;const PM=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>NM)return;const a=e==null?void 0:e.token;EE!==a&&(EE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kM(n=O1()){const t=ry(n,"auth");if(t.isInitialized())return t.getImmediate();const e=sD(n,{popupRedirectResolver:CM,persistence:[UD,ID,aw]}),s=A1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=PM(l.toString());wD(e,c,()=>c(e.currentUser)),TD(e,d=>c(d))}}const a=T1("auth");return a&&aD(e,`http://${a}`),e}function VM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}$O({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=xi("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",VM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");var LM="firebase",zM="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(LM,zM,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,dw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,S){function I(){}I.prototype=S.prototype,D.D=S.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(N,P,k){for(var x=Array(arguments.length-2),be=2;be<arguments.length;be++)x[be-2]=arguments[be];return S.prototype[P].apply(N,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)N[P]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(P=0;16>P;++P)N[P]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=D.g[0],I=D.g[1],P=D.g[2];var k=D.g[3],x=S+(k^I&(P^k))+N[0]+3614090360&4294967295;S=I+(x<<7&4294967295|x>>>25),x=k+(P^S&(I^P))+N[1]+3905402710&4294967295,k=S+(x<<12&4294967295|x>>>20),x=P+(I^k&(S^I))+N[2]+606105819&4294967295,P=k+(x<<17&4294967295|x>>>15),x=I+(S^P&(k^S))+N[3]+3250441966&4294967295,I=P+(x<<22&4294967295|x>>>10),x=S+(k^I&(P^k))+N[4]+4118548399&4294967295,S=I+(x<<7&4294967295|x>>>25),x=k+(P^S&(I^P))+N[5]+1200080426&4294967295,k=S+(x<<12&4294967295|x>>>20),x=P+(I^k&(S^I))+N[6]+2821735955&4294967295,P=k+(x<<17&4294967295|x>>>15),x=I+(S^P&(k^S))+N[7]+4249261313&4294967295,I=P+(x<<22&4294967295|x>>>10),x=S+(k^I&(P^k))+N[8]+1770035416&4294967295,S=I+(x<<7&4294967295|x>>>25),x=k+(P^S&(I^P))+N[9]+2336552879&4294967295,k=S+(x<<12&4294967295|x>>>20),x=P+(I^k&(S^I))+N[10]+4294925233&4294967295,P=k+(x<<17&4294967295|x>>>15),x=I+(S^P&(k^S))+N[11]+2304563134&4294967295,I=P+(x<<22&4294967295|x>>>10),x=S+(k^I&(P^k))+N[12]+1804603682&4294967295,S=I+(x<<7&4294967295|x>>>25),x=k+(P^S&(I^P))+N[13]+4254626195&4294967295,k=S+(x<<12&4294967295|x>>>20),x=P+(I^k&(S^I))+N[14]+2792965006&4294967295,P=k+(x<<17&4294967295|x>>>15),x=I+(S^P&(k^S))+N[15]+1236535329&4294967295,I=P+(x<<22&4294967295|x>>>10),x=S+(P^k&(I^P))+N[1]+4129170786&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^P&(S^I))+N[6]+3225465664&4294967295,k=S+(x<<9&4294967295|x>>>23),x=P+(S^I&(k^S))+N[11]+643717713&4294967295,P=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(P^k))+N[0]+3921069994&4294967295,I=P+(x<<20&4294967295|x>>>12),x=S+(P^k&(I^P))+N[5]+3593408605&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^P&(S^I))+N[10]+38016083&4294967295,k=S+(x<<9&4294967295|x>>>23),x=P+(S^I&(k^S))+N[15]+3634488961&4294967295,P=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(P^k))+N[4]+3889429448&4294967295,I=P+(x<<20&4294967295|x>>>12),x=S+(P^k&(I^P))+N[9]+568446438&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^P&(S^I))+N[14]+3275163606&4294967295,k=S+(x<<9&4294967295|x>>>23),x=P+(S^I&(k^S))+N[3]+4107603335&4294967295,P=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(P^k))+N[8]+1163531501&4294967295,I=P+(x<<20&4294967295|x>>>12),x=S+(P^k&(I^P))+N[13]+2850285829&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^P&(S^I))+N[2]+4243563512&4294967295,k=S+(x<<9&4294967295|x>>>23),x=P+(S^I&(k^S))+N[7]+1735328473&4294967295,P=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(P^k))+N[12]+2368359562&4294967295,I=P+(x<<20&4294967295|x>>>12),x=S+(I^P^k)+N[5]+4294588738&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^P)+N[8]+2272392833&4294967295,k=S+(x<<11&4294967295|x>>>21),x=P+(k^S^I)+N[11]+1839030562&4294967295,P=k+(x<<16&4294967295|x>>>16),x=I+(P^k^S)+N[14]+4259657740&4294967295,I=P+(x<<23&4294967295|x>>>9),x=S+(I^P^k)+N[1]+2763975236&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^P)+N[4]+1272893353&4294967295,k=S+(x<<11&4294967295|x>>>21),x=P+(k^S^I)+N[7]+4139469664&4294967295,P=k+(x<<16&4294967295|x>>>16),x=I+(P^k^S)+N[10]+3200236656&4294967295,I=P+(x<<23&4294967295|x>>>9),x=S+(I^P^k)+N[13]+681279174&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^P)+N[0]+3936430074&4294967295,k=S+(x<<11&4294967295|x>>>21),x=P+(k^S^I)+N[3]+3572445317&4294967295,P=k+(x<<16&4294967295|x>>>16),x=I+(P^k^S)+N[6]+76029189&4294967295,I=P+(x<<23&4294967295|x>>>9),x=S+(I^P^k)+N[9]+3654602809&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^P)+N[12]+3873151461&4294967295,k=S+(x<<11&4294967295|x>>>21),x=P+(k^S^I)+N[15]+530742520&4294967295,P=k+(x<<16&4294967295|x>>>16),x=I+(P^k^S)+N[2]+3299628645&4294967295,I=P+(x<<23&4294967295|x>>>9),x=S+(P^(I|~k))+N[0]+4096336452&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~P))+N[7]+1126891415&4294967295,k=S+(x<<10&4294967295|x>>>22),x=P+(S^(k|~I))+N[14]+2878612391&4294967295,P=k+(x<<15&4294967295|x>>>17),x=I+(k^(P|~S))+N[5]+4237533241&4294967295,I=P+(x<<21&4294967295|x>>>11),x=S+(P^(I|~k))+N[12]+1700485571&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~P))+N[3]+2399980690&4294967295,k=S+(x<<10&4294967295|x>>>22),x=P+(S^(k|~I))+N[10]+4293915773&4294967295,P=k+(x<<15&4294967295|x>>>17),x=I+(k^(P|~S))+N[1]+2240044497&4294967295,I=P+(x<<21&4294967295|x>>>11),x=S+(P^(I|~k))+N[8]+1873313359&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~P))+N[15]+4264355552&4294967295,k=S+(x<<10&4294967295|x>>>22),x=P+(S^(k|~I))+N[6]+2734768916&4294967295,P=k+(x<<15&4294967295|x>>>17),x=I+(k^(P|~S))+N[13]+1309151649&4294967295,I=P+(x<<21&4294967295|x>>>11),x=S+(P^(I|~k))+N[4]+4149444226&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~P))+N[11]+3174756917&4294967295,k=S+(x<<10&4294967295|x>>>22),x=P+(S^(k|~I))+N[2]+718787259&4294967295,P=k+(x<<15&4294967295|x>>>17),x=I+(k^(P|~S))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var I=S-this.blockSize,N=this.B,P=this.h,k=0;k<S;){if(P==0)for(;k<=I;)a(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<S;)if(N[P++]=D.charCodeAt(k++),P==this.blockSize){a(this,N),P=0;break}}else for(;k<S;)if(N[P++]=D[k++],P==this.blockSize){a(this,N),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var I=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=I&255,I/=256;for(this.u(D),D=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)D[I++]=this.g[S]>>>N&255;return D};function l(D,S){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=S(D)}function c(D,S){this.h=S;for(var I=[],N=!0,P=D.length-1;0<=P;P--){var k=D[P]|0;N&&k==S||(I[P]=k,N=!1)}this.g=I}var d={};function m(D){return-128<=D&&128>D?l(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return B(g(-D));for(var S=[],I=1,N=0;D>=I;N++)S[N]=D/I|0,I*=4294967296;return new c(S,0)}function v(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return B(v(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),N=E,P=0;P<D.length;P+=8){var k=Math.min(8,D.length-P),x=parseInt(D.substring(P,P+k),S);8>k?(k=g(Math.pow(S,k)),N=N.j(k).add(g(x))):(N=N.j(I),N=N.add(g(x)))}return N}var E=m(0),T=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(H(this))return-B(this).m();for(var D=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);D+=(0<=N?N:4294967296+N)*S,S*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(H(this))return"-"+B(this).toString(D);for(var S=g(Math.pow(D,6)),I=this,N="";;){var P=ft(I,S).g;I=X(I,P.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=P,L(I))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function H(D){return D.h==-1}n.l=function(D){return D=X(this,D),H(D)?-1:L(D)?0:1};function B(D){for(var S=D.g.length,I=[],N=0;N<S;N++)I[N]=~D.g[N];return new c(I,~D.h).add(T)}n.abs=function(){return H(this)?B(this):this},n.add=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],N=0,P=0;P<=S;P++){var k=N+(this.i(P)&65535)+(D.i(P)&65535),x=(k>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);N=x>>>16,k&=65535,x&=65535,I[P]=x<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function X(D,S){return D.add(B(S))}n.j=function(D){if(L(this)||L(D))return E;if(H(this))return H(D)?B(this).j(B(D)):B(B(this).j(D));if(H(D))return B(this.j(B(D)));if(0>this.l(R)&&0>D.l(R))return g(this.m()*D.m());for(var S=this.g.length+D.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<D.g.length;P++){var k=this.i(N)>>>16,x=this.i(N)&65535,be=D.i(P)>>>16,re=D.i(P)&65535;I[2*N+2*P]+=x*re,tt(I,2*N+2*P),I[2*N+2*P+1]+=k*re,tt(I,2*N+2*P+1),I[2*N+2*P+1]+=x*be,tt(I,2*N+2*P+1),I[2*N+2*P+2]+=k*be,tt(I,2*N+2*P+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new c(I,0)};function tt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function et(D,S){this.g=D,this.h=S}function ft(D,S){if(L(S))throw Error("division by zero");if(L(D))return new et(E,E);if(H(D))return S=ft(B(D),S),new et(B(S.g),B(S.h));if(H(S))return S=ft(D,B(S)),new et(B(S.g),S.h);if(30<D.g.length){if(H(D)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var I=T,N=S;0>=N.l(D);)I=ht(I),N=ht(N);var P=ct(I,1),k=ct(N,1);for(N=ct(N,2),I=ct(I,2);!L(N);){var x=k.add(N);0>=x.l(D)&&(P=P.add(I),k=x),N=ct(N,1),I=ct(I,1)}return S=X(D,P.j(S)),new et(P,S)}for(P=E;0<=D.l(S);){for(I=Math.max(1,Math.floor(D.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=g(I),x=k.j(S);H(x)||0<x.l(D);)I-=N,k=g(I),x=k.j(S);L(k)&&(k=T),P=P.add(k),D=X(D,x)}return new et(P,D)}n.A=function(D){return ft(this,D).h},n.and=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&D.i(N);return new c(I,this.h&D.h)},n.or=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|D.i(N);return new c(I,this.h|D.h)},n.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^D.i(N);return new c(I,this.h^D.h)};function ht(D){for(var S=D.g.length+1,I=[],N=0;N<S;N++)I[N]=D.i(N)<<1|D.i(N-1)>>>31;return new c(I,D.h)}function ct(D,S){var I=S>>5;S%=32;for(var N=D.g.length-I,P=[],k=0;k<N;k++)P[k]=0<S?D.i(k+I)>>>S|D.i(k+I+1)<<32-S:D.i(k+I);return new c(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,cr=c}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mw,vu,pw,Kh,fg,gw,yw,vw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function a(h,y){if(y)t:{var _=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in _))break t;_=_[z]}h=h[h.length-1],A=_[h],y=y(A),y!=A&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,A=!1,z={next:function(){if(!A&&_<h.length){var G=_++;return{value:y(G,h[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),h.apply(y,z)}}return function(){return h.apply(y,arguments)}}function T(h,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function R(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function L(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(A,z,G){for(var at=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)at[jt-2]=arguments[jt];return y.prototype[z].apply(A,at)}}function H(h){const y=h.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=h[A];return _}return[]}function B(h,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const z=h.length||0,G=A.length||0;h.length=z+G;for(let at=0;at<G;at++)h[z+at]=A[at]}else h.push(A)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function tt(h){return/^[\s\xa0]*$/.test(h)}function et(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ft(h){return ft[" "](h),h}ft[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function ct(h,y,_){for(const A in h)y.call(_,h[A],A,h)}function D(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function S(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)h[_]=A[_];for(let G=0;G<I.length;G++)_=I[G],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function k(h){d.setTimeout(()=>{throw h},0)}function x(){var h=St;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class be{constructor(){this.h=this.g=null}add(y,_){const A=re.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new X(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ot=!1,St=new be,O=()=>{const h=d.Promise.resolve(void 0);lt=()=>{h.then(nt)}};var nt=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(_){k(_)}var y=re;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ot=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Mt(h,y){if(st.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ht){t:{try{ft(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Mt.aa.h.call(this)}}L(Mt,st);var Rt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ai(h,y,_,A,z){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++ie,this.da=this.fa=!1}function ws(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vi(h){this.src=h,this.g={},this.h=0}Vi.prototype.add=function(h,y,_,A,z){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var at=xr(h,y,A,z);return-1<at?(y=h[at],_||(y.fa=!1)):(y=new ai(y,this.src,G,!!A,z),y.fa=_,h.push(y)),y};function Cr(h,y){var _=y.type;if(_ in h.g){var A=h.g[_],z=Array.prototype.indexOf.call(A,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(A,z,1),G&&(ws(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function xr(h,y,_,A){for(var z=0;z<h.length;++z){var G=h[z];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return z}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),al={};function cc(h,y,_,A,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)cc(h,y[G],_,A,z);return null}return _=hc(_),h&&h[ke]?h.K(y,_,g(A)?!!A.capture:!1,z):Mn(h,y,_,!1,A,z)}function Mn(h,y,_,A,z,G){if(!y)throw Error("Invalid event type");var at=g(z)?!!z.capture:!!z,jt=Oa(h);if(jt||(h[Or]=jt=new Vi(h)),_=jt.add(y,_,A,at,G),_.proxy)return _;if(A=pd(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)_t||(z=at),z===void 0&&(z=!1),h.addEventListener(y.toString(),A,z);else if(h.attachEvent)h.attachEvent(Dr(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function pd(){function h(_){return y.call(h.src,h.listener,_)}const y=gd;return h}function ol(h,y,_,A,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)ol(h,y[G],_,A,z);else A=g(A)?!!A.capture:!!A,_=hc(_),h&&h[ke]?(h=h.i,y=String(y).toString(),y in h.g&&(G=h.g[y],_=xr(G,_,A,z),-1<_&&(ws(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[y],h.h--)))):h&&(h=Oa(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xr(y,_,A,z)),(_=-1<h?y[h]:null)&&xa(_))}function xa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ke])Cr(y.i,h);else{var _=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(_,A,h.capture):y.detachEvent?y.detachEvent(Dr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Oa(y))?(Cr(_,h),_.h==0&&(_.src=null,y[Or]=null)):ws(h)}}}function Dr(h){return h in al?al[h]:al[h]="on"+h}function gd(h,y){if(h.da)h=!0;else{y=new Mt(y,this);var _=h.listener,A=h.ha||h.src;h.fa&&xa(h),h=_.call(A,y)}return h}function Oa(h){return h=h[Or],h instanceof Vi?h:null}var ll="__closure_events_fn_"+(1e9*Math.random()>>>0);function hc(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(y){return h.handleEvent(y)}),h[ll])}function de(){ut.call(this),this.i=new Vi(this),this.M=this,this.F=null}L(de,ut),de.prototype[ke]=!0,de.prototype.removeEventListener=function(h,y,_,A){ol(this,h,y,_,A)};function Xt(h,y){var _,A=h.F;if(A)for(_=[];A;A=A.F)_.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new st(y,h);else if(y instanceof st)y.target=y.target||h;else{var z=y;y=new st(A,h),N(y,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var at=y.g=_[G];z=_n(at,A,!0,y)&&z}if(at=y.g=h,z=_n(at,A,!0,y)&&z,z=_n(at,A,!1,y)&&z,_)for(G=0;G<_.length;G++)at=y.g=_[G],z=_n(at,A,!1,y)&&z}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],A=0;A<_.length;A++)ws(_[A]);delete h.g[y],h.h--}}this.F=null},de.prototype.K=function(h,y,_,A){return this.i.add(String(h),y,!1,_,A)},de.prototype.L=function(h,y,_,A){return this.i.add(String(h),y,!0,_,A)};function _n(h,y,_,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var at=y[G];if(at&&!at.da&&at.capture==_){var jt=at.listener,Ce=at.ha||at.src;at.fa&&Cr(h.i,at),z=jt.call(Ce,A)!==!1&&z}}return z&&!A.defaultPrevented}function We(h,y,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function fc(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,fc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class yd extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){ut.call(this),this.h=h,this.g={}}L(Mr,ut);var Nr=[];function Pr(h){ct(h.g,function(y,_){this.g.hasOwnProperty(_)&&xa(y)},h),h.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Pr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Da=d.JSON.parse,kr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ul(){}ul.prototype.h=null;function cl(h){return h.h||(h.h=h.i())}function hl(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){st.call(this,"d")}L(zi,st);function fl(){st.call(this,"c")}L(fl,st);var oi={},dl=null;function As(){return dl=dl||new de}oi.La="serverreachability";function Ma(h){st.call(this,oi.La,h)}L(Ma,st);function Ss(h){const y=As();Xt(y,new Ma(y))}oi.STAT_EVENT="statevent";function dc(h,y){st.call(this,oi.STAT_EVENT,h),this.stat=y}L(dc,st);function le(h){const y=As();Xt(y,new dc(y,h))}oi.Ma="timingevent";function Ie(h,y){st.call(this,oi.Ma,h),this.size=y}L(Ie,st);function Ee(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function ml(h,y,_,A,z,G){h.info(function(){if(h.g)if(G)for(var at="",jt=G.split("&"),Ce=0;Ce<jt.length;Ce++){var Bt=jt[Ce].split("=");if(1<Bt.length){var Le=Bt[0];Bt=Bt[1];var xe=Le.split("_");at=2<=xe.length&&xe[1]=="type"?at+(Le+"="+Bt+"&"):at+(Le+"=redacted&")}}else at=null;else at=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+at})}function vd(h,y,_,A,z,G,at){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+G+" "+at})}function Rs(h,y,_,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vr(h,_)+(A?" "+A:"")})}function mc(h,y){h.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function Vr(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var A=_[h];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var at=1;at<z.length;at++)z[at]=""}}}}return Kn(_)}catch{return y}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}L(ui,ul),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function ln(h,y,_,A){this.j=h,this.i=y,this.l=_,this.R=A||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var pl={},Na={};function Xn(h,y,_){h.L=1,h.v=Br(bn(y)),h.m=_,h.P=!0,ji(h,null)}function ji(h,y){h.F=Date.now(),Lr(h),h.A=bn(h.v);var _=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),El(_.i,"t",A),h.C=0,_=h.j.J,h.h=new ge,h.g=Oc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new yd(T(h.Y,h,h.g),h.O)),y=h.U,_=h.g,A=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(Nr[0]=z.toString()),z=Nr);for(var G=0;G<z.length;G++){var at=cc(_,z[G],A||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ss(),ml(h.i,h.u,h.A,h.l,h.R,h.m)}ln.prototype.ca=function(h){h=h.target;const y=this.M;y&&Ln(h)==3?y.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)t:{const xe=Ln(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Tc(this.g)))){this.J||xe!=4||y==7||(y==8||0>=Ki?Ss(3):Ss(2)),Cs(this);var _=this.g.Z();this.X=_;e:if(pc(this)){var A=Tc(this.g);h="";var z=A.length,G=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ci(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(G&&y==z-1)});A.length=0,this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,vd(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ce=this.g;if((jt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(jt)){var Bt=jt;break e}}Bt=null}if(_=Bt)Rs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,_);else{this.o=!1,this.s=3,le(12),qe(this),ci(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<at.length;)if(He=gc(this,at),He==Na){xe==4&&(this.s=4,le(14),_=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(He==pl){this.s=4,le(15),Rs(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Rs(this.i,this.l,He,null),zr(this,He);if(pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||at.length!=0||this.h.h||(this.s=1,le(16),_=!1),this.o=this.o&&_,!_)Rs(this.i,this.l,at,"[Invalid Chunked Response]"),qe(this),ci(this);else if(0<at.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Xr(Le),Le.M=!0,le(11))}}else Rs(this.i,this.l,at,null),zr(this,at);xe==4&&qe(this),this.o&&!this.J&&(xe==4?Ic(this.j,this):(this.o=!1,Lr(this)))}else wd(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),qe(this),ci(this)}}}catch{}finally{}};function pc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gc(h,y){var _=h.C,A=y.indexOf(`
`,_);return A==-1?Na:(_=Number(y.substring(_,A)),isNaN(_)?pl:(A+=1,A+_>y.length?Na:(y=y.slice(A,A+_),h.C=A+_,y)))}ln.prototype.cancel=function(){this.J=!0,qe(this)};function Lr(h){h.S=Date.now()+h.I,yc(h,h.I)}function yc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(T(h.ba,h),y)}function Cs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ln.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(mc(this.i,this.A),this.L!=2&&(Ss(),le(17)),qe(this),this.s=2,ci(this)):yc(this,this.S-h)};function ci(h){h.j.G==0||h.J||Ic(h.j,h)}function qe(h){Cs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Pr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function zr(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||gl(_.h,h))){if(!h.K&&gl(_.h,h)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ga(_),qa(_);else break t;Rl(_),le(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(T(_.Za,_),6e3));if(1>=ka(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((h.K||_.g==h)&&Ga(_),!tt(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Bt=z[y];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const Le=Bt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const xe=Bt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const Ki=Bt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const He=h.g;if(He){const yi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var G=A.h;G.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Va(G,G.h),G.h=null))}if(A.D){const Cl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,Zt(A.I,A.D,Cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var at=h;if(A.qa=xc(A,A.J?A.ia:null,A.W),at.K){un(A.h,at);var jt=at,Ce=A.L;Ce&&(jt.I=Ce),jt.B&&(Cs(jt),Lr(jt)),A.g=at}else Sc(A);0<_.i.length&&Ha(_)}else Bt[0]!="stop"&&Bt[0]!="close"||Qi(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Qi(_,7):Al(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}Ss(4)}catch{}}var vc=class{constructor(h,y){this.g=h,this.map=y}};function Bi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ka(h){return h.h?1:h.g?h.g.size:0}function gl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Va(h,y){h.g?h.g.add(y):h.h=y}function un(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return H(h.i)}function _d(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,A=0;A<_;A++)y.push(h[A]);return y}y=[],_=0;for(A in h)y[_++]=h[A];return y}function La(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const A in h)y[_++]=A;return y}}}function vl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=La(h),A=_d(h),z=A.length,G=0;G<z;G++)y.call(void 0,A[G],_&&_[G],h)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var A=h[_].indexOf("="),z=null;if(0<=A){var G=h[_].substring(0,A);z=h[_].substring(A+1)}else G=h[_];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Te(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Te){this.h=h.h,jr(this,h.j),this.o=h.o,this.g=h.g,xs(this,h.s),this.l=h.l;var y=h.i,_=new qi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fi(this,_),this.m=h.m}else h&&(y=String(h).match(Ur))?(this.h=!1,jr(this,y[1]||"",!0),this.o=Pn(y[2]||""),this.g=Pn(y[3]||"",!0),xs(this,y[4]),this.l=Pn(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=Pn(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Te.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Fr(y,_l,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Fr(y,_l,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Fr(_,_.charAt(0)=="/"?Ed:bl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Fr(_,za)),h.join("")};function bn(h){return new Te(h)}function jr(h,y,_){h.j=_?Pn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function xs(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Fi(h,y,_){y instanceof qi?(h.i=y,bc(h.i,h.h)):(_||(y=Fr(y,Td)),h.i=new qi(y,h.h))}function Zt(h,y,_){h.i.set(y,_)}function Br(h){return Zt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Pn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,_c),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _c(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _l=/[#\/\?@]/g,bl=/[#\?:]/g,Ed=/[#\?]/g,Td=/[#\?@]/g,za=/#/g;function qi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&bd(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=qi.prototype,n.add=function(h,y){kn(this),this.i=null,h=hi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Hi(h,y){kn(h),y=hi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Gi(h,y){return kn(h),y=hi(h,y),h.g.has(y)}n.forEach=function(h,y){kn(this),this.g.forEach(function(_,A){_.forEach(function(z){h.call(y,z,A,this)},this)},this)},n.na=function(){kn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=h[A];for(let G=0;G<z.length;G++)_.push(y[A])}return _},n.V=function(h){kn(this);let y=[];if(typeof h=="string")Gi(this,h)&&(y=y.concat(this.g.get(hi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return kn(this),this.i=null,h=hi(this,h),Gi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function El(h,y,_){Hi(h,y),0<_.length&&(h.i=null,h.g.set(hi(h,y),H(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const G=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var z=G;at[A]!==""&&(z+="="+encodeURIComponent(String(at[A]))),h.push(z)}}return this.i=h.join("&")};function hi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function bc(h,y){y&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Hi(this,A),El(this,z,_))},h)),h.j=y}function qr(h,y){const _=new Nn;if(d.Image){const A=new Image;A.onload=R(Vn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=R(Vn,_,"TestLoadImage: error",!1,y,A),A.onabort=R(Vn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=R(Vn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function $n(h,y){const _=new Nn,A=new AbortController,z=setTimeout(()=>{A.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Vn(_,"TestPingServer: error",!1,y)})}function Vn(h,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Hr(){this.g=new kr}function fi(h,y,_){const A=_||"";try{vl(h,function(z,G){let at=z;g(z)&&(at=Kn(z)),y.push(A+G+"="+encodeURIComponent(at))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Os(h){this.l=h.Ub||null,this.j=h.eb||!1}L(Os,ul),Os.prototype.g=function(){return new Yi(this.l,this.j)},Os.prototype.i=function(h){return function(){return h}}({});function Yi(h,y){de.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Yi,de),n=Yi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,mi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?di(this):mi(this),this.readyState==3&&Tl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,di(this))},n.Qa=function(h){this.g&&(this.response=h,di(this))},n.ga=function(){this.g&&di(this)};function di(h){h.readyState=4,h.l=null,h.j=null,h.v=null,mi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wl(h){let y="";return ct(h,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ve(h,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=wl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Zt(h,y,_))}function Qt(h){de.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Qt,de);var Ua=/^https?$/i,Gr=["POST","PUT"];n=Qt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?cl(this.o):cl(li),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Ec(this,G);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Gr,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of _)this.g.setRequestHeader(G,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Ec(this,G)}};function Ec(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,ja(h),pi(h)}function ja(h){h.A||(h.A=!0,Xt(h,"complete"),Xt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Xt(this,"complete"),Xt(this,"abort"),pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},n.bb=function(){Ba(this)};function Ba(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Ln(h)!=4||h.Z()!=2)){if(h.u&&Ln(h)==4)We(h.Ea,0,h);else if(Xt(h,"readystatechange"),Ln(h)==4){h.h=!1;try{const at=h.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=at===0){var z=String(h.D).match(Ur)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!Ua.test(z?z.toLowerCase():"")}_=A}if(_)Xt(h,"complete"),Xt(h,"success");else{h.m=6;try{var G=2<Ln(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",ja(h)}}finally{pi(h)}}}}function pi(h,y){if(h.g){Yr(h);const _=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Xt(h,"ready");try{_.onreadystatechange=A}catch{}}}function Yr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Ln(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Da(y)}};function Tc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function wd(h){const y={};h=(h.g&&2<=Ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(tt(h[A]))continue;var _=P(h[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[z]||[];y[z]=G,G.push(_)}D(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Fa(h){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,h),this.cb=Qr("retryDelaySeedMs",1e4,h),this.Wa=Qr("forwardChannelMaxRetries",2,h),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Hr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,A){le(0),this.W=h,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=xc(this,null,this.W),Ha(this)};function Al(h){if(wc(h),h.G==3){var y=h.U++,_=bn(h.I);if(Zt(_,"SID",h.K),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),Kr(h,_),y=new ln(h,h.j,y),y.L=2,y.v=Br(bn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Lr(y)}Cc(h)}function qa(h){h.g&&(Xr(h),h.g.cancel(),h.g=null)}function wc(h){qa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ha(h){if(!Pa(h.h)&&!h.s){h.s=!0;var y=h.Ga;lt||O(),ot||(lt(),ot=!0),St.add(y,h),h.B=0}}function Ad(h,y){return ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(T(h.Ga,h,y),Il(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new ln(this,this.j,h);let G=this.o;if(this.S&&(G?(G=S(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Ac(this,z,y),_=bn(this.I),Zt(_,"RID",h),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Kr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(wl(G)))+"&"+y:this.m&&Ve(_,this.m,G)),Va(this.h,z),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",y),Zt(_,"SID","null"),z.T=!0,Xn(z,_,null)):Xn(z,_,y),this.G=2}}else this.G==3&&(h?Sl(this,h):this.i.length==0||Pa(this.h)||Sl(this))};function Sl(h,y){var _;y?_=y.l:_=h.U++;const A=bn(h.I);Zt(A,"SID",h.K),Zt(A,"RID",_),Zt(A,"AID",h.T),Kr(h,A),h.m&&h.o&&Ve(A,h.m,h.o),_=new ln(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ac(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Va(h.h,_),Xn(_,A,y)}function Kr(h,y){h.H&&ct(h.H,function(_,A){Zt(y,A,_)}),h.l&&vl({},function(_,A){Zt(y,A,_)})}function Ac(h,y,_){_=Math.min(h.i.length,_);var A=h.l?T(h.l.Na,h.l,h):null;t:{var z=h.i;let G=-1;for(;;){const at=["count="+_];G==-1?0<_?(G=z[0].g,at.push("ofs="+G)):G=0:at.push("ofs="+G);let jt=!0;for(let Ce=0;Ce<_;Ce++){let Bt=z[Ce].g;const Le=z[Ce].map;if(Bt-=G,0>Bt)G=Math.max(0,z[Ce].g-100),jt=!1;else try{fi(Le,at,"req"+Bt+"_")}catch{A&&A(Le)}}if(jt){A=at.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,A}function Sc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;lt||O(),ot||(lt(),ot=!0),St.add(y,h),h.v=0}}function Rl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(T(h.Fa,h),Il(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),qa(this),Rc(this))};function Xr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Rc(h){h.g=new ln(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=bn(h.qa);Zt(y,"RID","rpc"),Zt(y,"SID",h.K),Zt(y,"AID",h.T),Zt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Zt(y,"TO",h.ja),Zt(y,"TYPE","xmlhttp"),Kr(h,y),h.m&&h.o&&Ve(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Br(bn(y)),_.m=null,_.P=!0,ji(_,h)}n.Za=function(){this.C!=null&&(this.C=null,qa(this),Rl(this),le(19))};function Ga(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ic(h,y){var _=null;if(h.g==y){Ga(h),Xr(h),h.g=null;var A=2}else if(gl(h.h,y))_=y.D,un(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=h.B;A=As(),Xt(A,new Ie(A,_)),Ha(h)}else Sc(h);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Ad(h,y)||A==2&&Rl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),z){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function Il(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Qi(h,y){if(h.j.info("Error code "+y),y==2){var _=T(h.fb,h),A=h.Xa;const z=!A;A=new Te(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jr(A,"https"),Br(A),z?qr(A.toString(),_):$n(A.toString(),_)}else le(2);h.G=0,h.l&&h.l.sa(y),Cc(h),wc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Cc(h){if(h.G=0,h.ka=[],h.l){const y=yl(h.h);(y.length!=0||h.i.length!=0)&&(B(h.ka,y),B(h.ka,h.i),h.h.i.length=0,H(h.i),h.i.length=0),h.l.ra()}}function xc(h,y,_){var A=_ instanceof Te?bn(_):new Te(_);if(A.g!="")y&&(A.g=y+"."+A.g),xs(A,A.s);else{var z=d.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new Te(null);A&&jr(G,A),y&&(G.g=y),z&&xs(G,z),_&&(G.l=_),A=G}return _=h.D,y=h.ya,_&&y&&Zt(A,_,y),Zt(A,"VER",h.la),Kr(h,A),A}function Oc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Qt(new Os({eb:_})):new Qt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}n=Dc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ya(){}Ya.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){de.call(this),this.g=new Fa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!tt(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!tt(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new gi(this)}L(cn,de),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Al(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Kn(h),h=_);y.i.push(new vc(y.Ya++,h)),y.G==3&&Ha(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,cn.aa.N.call(this)};function Mc(h){zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}L(Mc,zi);function Nc(){fl.call(this),this.status=1}L(Nc,fl);function gi(h){this.g=h}L(gi,Dc),gi.prototype.ua=function(){Xt(this.g,"a")},gi.prototype.ta=function(h){Xt(this.g,new Mc(h))},gi.prototype.sa=function(h){Xt(this.g,new Nc)},gi.prototype.ra=function(){Xt(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,vw=function(){return new Ya},yw=function(){return As()},gw=oi,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Kh=Is,Ui.COMPLETE="complete",pw=Ui,hl.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",de.prototype.listen=de.prototype.K,vu=hl,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,mw=Qt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",AE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new iy("@firebase/firestore");function wo(){return Ea.logLevel}function dt(n,...t){if(Ea.logLevel<=Lt.DEBUG){const e=t.map(py);Ea.debug(`Firestore (${Jo}): ${n}`,...e)}}function ps(n,...t){if(Ea.logLevel<=Lt.ERROR){const e=t.map(py);Ea.error(`Firestore (${Jo}): ${n}`,...e)}}function Fo(n,...t){if(Ea.logLevel<=Lt.WARN){const e=t.map(py);Ea.warn(`Firestore (${Jo}): ${n}`,...e)}}function py(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,_w(n,s,e)}function _w(n,t,e){let s=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ps(s),new Error(s)}function Kt(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||_w(t,a,s)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class jM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BM{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class FM{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qM{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new FM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new SE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=GM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function Dt(n,t){return n<t?-1:n>t?1:0}function dg(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Dt(s,a);{const l=Ew(),c=YM(l.encode(RE(n,e)),l.encode(RE(t,e)));return c!==0?c:Dt(s,a)}}e+=s>65535?2:1}return Dt(n.length,t.length)}function RE(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function YM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Dt(n[e],t[e]);return Dt(n.length,t.length)}function qo(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=-62135596800,CE=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*CE);return new Ne(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<IE)throw new mt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-IE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Ne(0,0))}static max(){return new It(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class wi{constructor(t,e,s){e===void 0?e=0:e>t.length&&wt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&wt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=wi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Dt(t.length,e.length)}static compareSegments(t,e){const s=wi.isNumericId(t),a=wi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?wi.extractNumericId(t).compare(wi.extractNumericId(e)):dg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class ae extends wi{construct(t,e,s){return new ae(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const QM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends wi{construct(t,e,s){return new Xe(t,e,s)}static isValidIdentifier(t){return QM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Xe([xE])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new mt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new mt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new mt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ae.fromString(t))}static fromName(t){return new vt(ae.fromString(t).popFirst(5))}static empty(){return new vt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function KM(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=It.fromTimestamp(s===1e9?new Ne(e+1,0):new Ne(e,s));return new fr(a,vt.empty(),t)}function XM(n){return new fr(n.readTime,n.key,Uu)}class fr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new fr(It.min(),vt.empty(),Uu)}static max(){return new fr(It.max(),vt.empty(),Uu)}}function $M(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Dt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==WM)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):J.reject(e)}static resolve(t){return new J((e,s)=>{e(t)})}static reject(t){return new J((e,s)=>{s(t)})}static waitFor(t){return new J((e,s)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},m=>s(m))}),c=!0,l===a&&e()})}static or(t){let e=J.resolve(!1);for(const s of t)e=e.next(a=>a?J.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,l)=>{s.push(e.call(this,a,l))}),this.waitFor(s)}static mapArray(t,e){return new J((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;e(t[g]).next(v=>{c[g]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(t,e){return new J((s,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):s()};l()})}}function JM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function el(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Bf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-1;function Ff(n){return n==null}function pf(n){return n===0&&1/n==-1/0}function tN(n){return typeof n=="number"&&Number.isInteger(n)&&!pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="";function eN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OE(t)),t=nN(n.get(e),t);return OE(t)}function nN(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case ww:e+="";break;default:e+=l}}return e}function OE(n){return n+ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ar(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Aw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,e){this.comparator=t,this.root=e||Ke.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vh(this.root,t,this.comparator,!0)}}class Vh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??Ke.RED,this.left=a??Ke.EMPTY,this.right=l??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new Ke(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ke.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(t){return new ME(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pe(this.comparator);return e.data=t,e}}class ME{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new xn([])}unionWith(t){let e=new Pe(Xe.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new xn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Sw("Invalid base64 string: "+l):l}}(t);return new $e(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=iN.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="server_timestamp",Iw="__type__",Cw="__previous_value__",xw="__local_write_time__";function yy(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Iw])===null||e===void 0?void 0:e.stringValue)===Rw}function qf(n){const t=n.mapValue.fields[Cw];return yy(t)?qf(t):t}function ju(n){const t=dr(n.mapValue.fields[xw].timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,e,s,a,l,c,d,m,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const gf="(default)";class Bu{constructor(t,e){this.projectId=t,this.database=e||gf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(t){return t instanceof Bu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__type__",rN="__max__",Lh={mapValue:{}},Dw="__vector__",yf="value";function pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:oN(n)?9007199254740991:aN(n)?10:11:wt(28295,{value:n})}function ki(n,t){if(n===t)return!0;const e=pr(n);if(e!==pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ju(n).isEqual(ju(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=dr(a.timestampValue),d=dr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return mr(a.bytesValue).isEqual(mr(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?pf(c)===pf(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return qo(n.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(DE(c)!==DE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ki(c[m],d[m])))return!1;return!0}(n,t);default:return wt(52216,{left:n})}}function Fu(n,t){return(n.values||[]).find(e=>ki(e,t))!==void 0}function Ho(n,t){if(n===t)return 0;const e=pr(n),s=pr(t);if(e!==s)return Dt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return NE(n.timestampValue,t.timestampValue);case 4:return NE(ju(n),ju(t));case 5:return dg(n.stringValue,t.stringValue);case 6:return function(l,c){const d=mr(l),m=mr(c);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Dt(d[g],m[g]);if(v!==0)return v}return Dt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Dt(_e(l.latitude),_e(c.latitude));return d!==0?d:Dt(_e(l.longitude),_e(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return PE(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,g,v;const E=l.fields||{},T=c.fields||{},R=(d=E[yf])===null||d===void 0?void 0:d.arrayValue,L=(m=T[yf])===null||m===void 0?void 0:m.arrayValue,H=Dt(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0);return H!==0?H:PE(R,L)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===Lh.mapValue&&c===Lh.mapValue)return 0;if(l===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const T=dg(m[E],v[E]);if(T!==0)return T;const R=Ho(d[m[E]],g[v[E]]);if(R!==0)return R}return Dt(m.length,v.length)}(n.mapValue,t.mapValue);default:throw wt(23264,{Pe:e})}}function NE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Dt(n,t);const e=dr(n),s=dr(t),a=Dt(e.seconds,s.seconds);return a!==0?a:Dt(e.nanos,s.nanos)}function PE(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=Ho(e[a],s[a]);if(l)return l}return Dt(e.length,s.length)}function Go(n){return mg(n)}function mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=dr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return mr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return vt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=mg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${mg(e.fields[c])}`;return a+"}"}(n.mapValue):wt(61005,{value:n})}function Xh(n){switch(pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(n);return t?16+Xh(t):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Xh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Ar(s.fields,(l,c)=>{a+=l.length+Xh(c)}),a}(n.mapValue);default:throw wt(13486,{value:n})}}function kE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function vy(n){return!!n&&"arrayValue"in n}function VE(n){return!!n&&"nullValue"in n}function LE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $h(n){return!!n&&"mapValue"in n}function aN(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ow])===null||e===void 0?void 0:e.stringValue)===Dw}function Iu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ar(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Iu(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Iu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function oN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!$h(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Iu(e)}setAll(t){let e=Xe.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=Iu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());$h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];$h(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Ar(e,(a,l)=>t[a]=l);for(const a of s)delete t[a]}clone(){return new yn(Iu(this.value))}}function Mw(n){const t=[];return Ar(n.fields,(e,s)=>{const a=new Xe([e]);if($h(s)){const l=Mw(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,s,a,l,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,It.min(),It.min(),It.min(),yn.empty(),0)}static newFoundDocument(t,e,s,a){return new nn(t,1,e,It.min(),s,a,0)}static newNoDocument(t,e){return new nn(t,2,e,It.min(),It.min(),yn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,It.min(),It.min(),yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e){this.position=t,this.inclusive=e}}function zE(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),e.key):s=Ho(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ki(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,e="asc"){this.field=t,this.dir=e}}function lN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{}class Re extends Nw{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new cN(t,e,s):e==="array-contains"?new dN(t,s):e==="in"?new mN(t,s):e==="not-in"?new pN(t,s):e==="array-contains-any"?new gN(t,s):new Re(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new hN(t,s):new fN(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ho(e,this.value)):e!==null&&pr(this.value)===pr(e)&&this.matchesComparison(Ho(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Nw{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ri(t,e)}matches(t){return Pw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Pw(n){return n.op==="and"}function kw(n){return uN(n)&&Pw(n)}function uN(n){for(const t of n.filters)if(t instanceof ri)return!1;return!0}function gg(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(kw(n))return n.filters.map(t=>gg(t)).join(",");{const t=n.filters.map(e=>gg(e)).join(",");return`${n.op}(${t})`}}function Vw(n,t){return n instanceof Re?function(s,a){return a instanceof Re&&s.op===a.op&&s.field.isEqual(a.field)&&ki(s.value,a.value)}(n,t):n instanceof ri?function(s,a){return a instanceof ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Vw(c,a.filters[d]),!0):!1}(n,t):void wt(19439)}function Lw(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Go(e.value)}`}(n):n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(Lw).join(" ,")+"}"}(n):"Filter"}class cN extends Re{constructor(t,e,s){super(t,e,s),this.key=vt.fromName(s.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class hN extends Re{constructor(t,e){super(t,"in",e),this.keys=zw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fN extends Re{constructor(t,e){super(t,"not-in",e),this.keys=zw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>vt.fromName(s.referenceValue))}class dN extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vy(e)&&Fu(e.arrayValue,this.value)}}class mN extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Fu(this.value.arrayValue,e)}}class pN extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Fu(this.value.arrayValue,e)}}class gN extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,e=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function jE(n,t=null,e=[],s=[],a=null,l=null,c=null){return new yN(n,t,e,s,a,l,c)}function _y(n){const t=Ct(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>gg(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ff(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Go(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Go(s)).join(",")),t.Ie=e}return t.Ie}function by(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!lN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Vw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!UE(n.startAt,t.startAt)&&UE(n.endAt,t.endAt)}function yg(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t,e=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vN(n,t,e,s,a,l,c,d){return new nl(n,t,e,s,a,l,c,d)}function Hf(n){return new nl(n)}function BE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Uw(n){return n.collectionGroup!==null}function Cu(n){const t=Ct(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pe(Xe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new qu(l,s))}),e.has(Xe.keyField().canonicalString())||t.Ee.push(new qu(Xe.keyField(),s))}return t.Ee}function Di(n){const t=Ct(n);return t.de||(t.de=_N(t,Cu(n))),t.de}function _N(n,t){if(n.limitType==="F")return jE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new qu(a.field,l)});const e=n.endAt?new vf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new vf(n.startAt.position,n.startAt.inclusive):null;return jE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function vg(n,t){const e=n.filters.concat([t]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,t,e){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Gf(n,t){return by(Di(n),Di(t))&&n.limitType===t.limitType}function jw(n){return`${_y(Di(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>Lw(a)).join(", ")}]`),Ff(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>Go(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>Go(a)).join(",")),`Target(${s})`}(Di(n))}; limitType=${n.limitType})`}function Yf(n,t){return t.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,t)&&function(s,a){for(const l of Cu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(c,d,m){const g=zE(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Cu(s),a)||s.endAt&&!function(c,d,m){const g=zE(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Cu(s),a))}(n,t)}function bN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(t,e)=>{let s=!1;for(const a of Cu(n)){const l=EN(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function EN(n,t,e){const s=n.field.isKeyField()?vt.comparator(t.key,e.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Ho(m,g):wt(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,(e,s)=>{for(const[a,l]of s)t(a,l)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new fe(vt.comparator);function gs(){return TN}const Fw=new fe(vt.comparator);function _u(...n){let t=Fw;for(const e of n)t=t.insert(e.key,e);return t}function qw(n){let t=Fw;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function fa(){return xu()}function Hw(){return xu()}function xu(){return new Ra(n=>n.toString(),(n,t)=>n.isEqual(t))}const wN=new fe(vt.comparator),AN=new Pe(vt.comparator);function zt(...n){let t=AN;for(const e of n)t=t.add(e);return t}const SN=new Pe(Dt);function RN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(t)?"-0":t}}function Gw(n){return{integerValue:""+n}}function IN(n,t){return tN(t)?Gw(t):Ey(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function CN(n,t,e){return n instanceof _f?function(a,l){const c={fields:{[Iw]:{stringValue:Rw},[xw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&yy(l)&&(l=qf(l)),l&&(c.fields[Cw]=l),{mapValue:c}}(e,t):n instanceof Hu?Qw(n,t):n instanceof Gu?Kw(n,t):function(a,l){const c=Yw(a,l),d=FE(c)+FE(a.Re);return pg(c)&&pg(a.Re)?Gw(d):Ey(a.serializer,d)}(n,t)}function xN(n,t,e){return n instanceof Hu?Qw(n,t):n instanceof Gu?Kw(n,t):e}function Yw(n,t){return n instanceof bf?function(s){return pg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class _f extends Qf{}class Hu extends Qf{constructor(t){super(),this.elements=t}}function Qw(n,t){const e=Xw(t);for(const s of n.elements)e.some(a=>ki(a,s))||e.push(s);return{arrayValue:{values:e}}}class Gu extends Qf{constructor(t){super(),this.elements=t}}function Kw(n,t){let e=Xw(t);for(const s of n.elements)e=e.filter(a=>!ki(a,s));return{arrayValue:{values:e}}}class bf extends Qf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function FE(n){return _e(n.integerValue||n.doubleValue)}function Xw(n){return vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ON(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof Hu&&a instanceof Hu||s instanceof Gu&&a instanceof Gu?qo(s.elements,a.elements,ki):s instanceof bf&&a instanceof bf?ki(s.Re,a.Re):s instanceof _f&&a instanceof _f}(n.transform,t.transform)}class DN{constructor(t,e){this.version=t,this.transformResults=e}}class Qn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Kf{}function $w(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ty(n.key,Qn.none()):new nc(n.key,n.data,Qn.none());{const e=n.data,s=yn.empty();let a=new Pe(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Sr(n.key,s,new xn(a.toArray()),Qn.none())}}function MN(n,t,e){n instanceof nc?function(a,l,c){const d=a.value.clone(),m=HE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Sr?function(a,l,c){if(!Wh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=HE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Ww(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Ou(n,t,e,s){return n instanceof nc?function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=l.value.clone(),v=GE(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,s):n instanceof Sr?function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=GE(l.fieldTransforms,m,c),v=c.data;return v.setAll(Ww(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(l,c,d){return Wh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function NN(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=Yw(s.transform,a||null);l!=null&&(e===null&&(e=yn.empty()),e.set(s.field,l))}return e||null}function qE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&qo(s,a,(l,c)=>ON(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nc extends Kf{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sr extends Kf{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ww(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function HE(n,t,e){const s=new Map;Kt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,xN(c,d,e[a]))}return s}function GE(n,t,e){const s=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);s.set(a.field,CN(l,c,t))}return s}class Ty extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PN extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&MN(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Ou(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Ou(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=Hw();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const m=$w(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),zt())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,(e,s)=>qE(e,s))&&qo(this.baseMutations,t.baseMutations,(e,s)=>qE(e,s))}}class wy{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let a=function(){return wN}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new wy(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,qt;function zN(n){switch(n){case Z.OK:return wt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return wt(15467,{code:n})}}function Zw(n){if(n===void 0)return ps("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Se.OK:return Z.OK;case Se.CANCELLED:return Z.CANCELLED;case Se.UNKNOWN:return Z.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Z.INTERNAL;case Se.UNAVAILABLE:return Z.UNAVAILABLE;case Se.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Se.NOT_FOUND:return Z.NOT_FOUND;case Se.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Se.ABORTED:return Z.ABORTED;case Se.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Se.DATA_LOSS:return Z.DATA_LOSS;default:return wt(39323,{code:n})}}(qt=Se||(Se={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new cr([4294967295,4294967295],0);function YE(n){const t=Ew().encode(n),e=new dw;return e.update(t),new Uint8Array(e.digest())}function QE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new cr([e,s],0),new cr([a,l],0)]}class Ay{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new bu(`Invalid padding: ${e}`);if(s<0)throw new bu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new bu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=cr.fromNumber(this.pe)}we(t,e,s){let a=t.add(e.multiply(cr.fromNumber(s)));return a.compare(UN)===1&&(a=new cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=YE(t),[s,a]=QE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Ay(l,a,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=YE(t),[s,a]=QE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,ic.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Xf(It.min(),a,new fe(Dt),gs(),zt())}}class ic{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new ic(s,e,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,e,s,a){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=a}}class Jw{constructor(t,e){this.targetId=t,this.Ce=e}}class tA{constructor(t,e,s=$e.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class KE{constructor(){this.Fe=0,this.Me=XE(),this.xe=$e.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=zt(),e=zt(),s=zt();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:wt(38017,{changeType:l})}}),new ic(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=XE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jN{constructor(t){this.ze=t,this.je=new Map,this.He=gs(),this.Je=zh(),this.Ye=zh(),this.Ze=new fe(Dt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:wt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,s=t.Ce.count,a=this._t(e);if(a){const l=a.target;if(yg(l))if(s===0){const c=new vt(l.path);this.tt(e,c,nn.newNoDocument(c,It.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this.ut(e);if(c!==s){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=mr(s).toUint8Array()}catch(m){if(m instanceof Sw)return Fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ay(c,a,l)}catch(m){return Fo(m instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),a++)}),a}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&yg(d.target)){const m=new vt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,nn.newNoDocument(m,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let s=zt();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new Xf(t,e,this.Ze,this.He,s);return this.He=gs(),this.Je=zh(),this.Ye=zh(),this.Ze=new fe(Dt),a}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new KE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Pe(Dt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Pe(Dt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new KE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function zh(){return new fe(vt.comparator)}function XE(){return new fe(vt.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},FN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qN={and:"AND",or:"OR"};class HN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function bg(n,t){return n.useProto3Json||Ff(t)?t:{value:t}}function Ef(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function GN(n,t){return Ef(n,t.toTimestamp())}function Mi(n){return Kt(!!n,49232),It.fromTimestamp(function(e){const s=dr(e);return new Ne(s.seconds,s.nanos)}(n))}function Sy(n,t){return Eg(n,t).canonicalString()}function Eg(n,t){const e=function(a){return new ae(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function nA(n){const t=ae.fromString(n);return Kt(oA(t),10190,{key:t.toString()}),t}function Tg(n,t){return Sy(n.databaseId,t.path)}function Bp(n,t){const e=nA(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(sA(e))}function iA(n,t){return Sy(n.databaseId,t)}function YN(n){const t=nA(n);return t.length===4?ae.emptyPath():sA(t)}function wg(n){return new ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sA(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $E(n,t,e){return{name:Tg(n,t),fields:e.value.mapValue.fields}}function QN(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),$e.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$e.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const v=g.code===void 0?Z.UNKNOWN:Zw(g.code);return new mt(v,g.message||"")}(c);e=new tA(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Bp(n,s.document.name),l=Mi(s.document.updateTime),c=s.document.createTime?Mi(s.document.createTime):It.min(),d=new yn({mapValue:{fields:s.document.fields}}),m=nn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new Zh(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Bp(n,s.document),l=s.readTime?Mi(s.readTime):It.min(),c=nn.newNoDocument(a,l),d=s.removedTargetIds||[];e=new Zh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Bp(n,s.document),l=s.removedTargetIds||[];e=new Zh([],l,a,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new LN(a,l),d=s.targetId;e=new Jw(d,c)}}return e}function KN(n,t){let e;if(t instanceof nc)e={update:$E(n,t.key,t.value)};else if(t instanceof Ty)e={delete:Tg(n,t.key)};else if(t instanceof Sr)e={update:$E(n,t.key,t.data),updateMask:iP(t.fieldMask)};else{if(!(t instanceof PN))return wt(16599,{ft:t.type});e={verify:Tg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof _f)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw wt(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:GN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:wt(27497)}(n,t.precondition)),e}function XN(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(a,l){let c=a.updateTime?Mi(a.updateTime):Mi(l);return c.isEqual(It.min())&&(c=Mi(l)),new DN(c,a.transformResults||[])}(e,t))):[]}function $N(n,t){return{documents:[iA(n,t.path)]}}function WN(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=iA(n,a);const l=function(g){if(g.length!==0)return aA(ri.create(g,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:So(T.field),direction:tP(T.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=bg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:a}}function ZN(n){let t=YN(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=function(E){const T=rA(E);return T instanceof ri&&kw(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(T=>function(L){return new qu(Ro(L.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(e.orderBy));let d=null;e.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Ff(T)?null:T}(e.limit));let m=null;e.startAt&&(m=function(E){const T=!!E.before,R=E.values||[];return new vf(R,T)}(e.startAt));let g=null;return e.endAt&&(g=function(E){const T=!E.before,R=E.values||[];return new vf(R,T)}(e.endAt)),vN(t,a,c,l,d,"F",m,g)}function JN(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function rA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Ro(e.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ro(e.unaryFilter.field);return Re.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(e.unaryFilter.field);return Re.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(e.unaryFilter.field);return Re.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Ro(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ri.create(e.compositeFilter.filters.map(s=>rA(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt(1026)}}(e.compositeFilter.op))}(n):wt(30097,{filter:n})}function tP(n){return BN[n]}function eP(n){return FN[n]}function nP(n){return qN[n]}function So(n){return{fieldPath:n.canonicalString()}}function Ro(n){return Xe.fromServerFormat(n.fieldPath)}function aA(n){return n instanceof Re?function(e){if(e.op==="=="){if(LE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NAN"}};if(VE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(LE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NAN"}};if(VE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(e.field),op:eP(e.op),value:e.value}}}(n):n instanceof ri?function(e){const s=e.getFilters().map(a=>aA(a));return s.length===1?s[0]:{compositeFilter:{op:nP(e.op),filters:s}}}(n):wt(54877,{filter:n})}function iP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function oA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,e,s,a,l=It.min(),c=It.min(),d=$e.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t){this.wt=t}}function rP(n){const t=ZN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.Cn=new oP}addToCollectionParentIndex(t,e){return this.Cn.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(fr.min())}updateCollectionGroup(t,e,s){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class oP{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Pe(ae.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Pe(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(lA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Yo(0)}static lr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="LruGarbageCollector",lP=1048576;function JE([n,t],[e,s]){const a=Dt(n,e);return a===0?Dt(t,s):a}class uP{constructor(t){this.Er=t,this.buffer=new Pe(JE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();JE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cP{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt(ZE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){el(e)?dt(ZE,"Ignoring IndexedDB error during garbage collection: ",e):await tl(e)}await this.mr(3e5)})}}class hP{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return J.resolve(Bf.le);const s=new uP(e);return this.gr.forEachTarget(t,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(WE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),wo()<=Lt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function fP(n,t){return new hP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new Ra(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?J.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&Ou(s.mutation,a,xn.empty(),Ne.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,zt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=zt()){const a=fa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(l=>{let c=_u();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=fa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,zt()))}populateOverlays(t,e,s){const a=[];return s.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,a){let l=gs();const c=xu(),d=function(){return xu()}();return e.forEach((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Sr)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ou(v.mutation,g,v.mutation.getFieldMask(),Ne.now())):c.set(g.key,xn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),e.forEach((g,v)=>{var E;return d.set(g,new mP(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,e){const s=xu();let a=new fe((c,d)=>c-d),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let v=s.get(m)||xn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const E=(a.get(d.batchId)||zt()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=Hw();v.forEach(T=>{if(!l.has(T)){const R=$w(e.get(T),s.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Uw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):J.resolve(fa());let d=Uu,m=l;return c.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,m,g,zt())).next(v=>({batchId:d,changes:qw(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next(s=>{let a=_u();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let c=_u();return this.indexManager.getCollectionParents(t,l).next(d=>J.forEach(d,m=>{const g=function(E,T){return new nl(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))});let d=_u();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Ou(v.mutation,g,xn.empty(),Ne.now()),Yf(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return J.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Mi(a.createTime)}}(e)),J.resolve()}getNamedQuery(t,e){return J.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:rP(a.bundledQuery),readTime:Mi(a.readTime)}}(e)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.overlays=new fe(vt.comparator),this.Qr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const s=fa();return J.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,l)=>{this.St(t,e,l)}),J.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(t,e,s){const a=fa(),l=e.length+1,c=new vt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return J.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new fe((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=fa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=fa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return J.resolve(d)}St(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new VN(e,s));let l=this.Qr.get(e);l===void 0&&(l=zt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.$r=new Pe(Be.Ur),this.Kr=new Pe(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Be(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Be(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new vt(new ae([])),s=new Be(e,t),a=new Be(e,t+1),l=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new vt(new ae([])),s=new Be(e,t),a=new Be(e,t+1);let l=zt();return this.Kr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Be(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return vt.comparator(t.key,e.key)||Dt(t.Zr,e.Zr)}static Wr(t,e){return Dt(t.Zr,e.Zr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Pe(Be.Ur)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kN(l,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Be(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(c)}lookupMutationBatch(t,e){return J.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.ti(s),l=a<0?0:a;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?gy:this.nr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Be(e,0),a=new Be(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);l.push(d)}),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Pe(Dt);return e.forEach(a=>{const l=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{s=s.add(d.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new Be(new vt(l),0);let d=new Pe(Dt);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Zr)),!0)},c),J.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const a=this.ei(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Kt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(e.mutations,a=>{const l=new Be(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Be(e,0),a=this.Xr.firstAfterOrEqual(s);return J.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t){this.ii=t,this.docs=function(){return new fe(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return J.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let s=gs();return e.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=gs();const c=e.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$M(XM(v),s)<=0||(a.has(v.key)||Yf(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(t,e,s,a){wt(9500)}si(t,e){return J.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new EP(this)}getSize(t){return J.resolve(this.size)}}class EP extends dP{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(s)}),J.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.persistence=t,this.oi=new Ra(e=>_y(e),by),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this._i=0,this.ai=new Ry,this.targetCount=0,this.ui=Yo.cr()}forEachTarget(t,e){return this.oi.forEach((s,a)=>e(a)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),J.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Yo(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.Tr(e),J.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),J.waitFor(l).next(()=>a)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return J.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),J.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),J.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return J.resolve(s)}containsKey(t,e){return J.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,e){this.ci={},this.overlays={},this.li=new Bf(0),this.hi=!1,this.hi=!0,this.Pi=new vP,this.referenceDelegate=t(this),this.Ti=new TP(this),this.indexManager=new aP,this.remoteDocumentCache=function(a){return new bP(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new sP(e),this.Ei=new gP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new _P(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const a=new wP(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,e){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class wP extends ZM{constructor(t){super(),this.currentSequenceNumber=t}}class Iy{constructor(t){this.persistence=t,this.Vi=new Ry,this.mi=null}static fi(t){return new Iy(t)}get gi(){if(this.mi)return this.mi;throw wt(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),J.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),J.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const a=vt.fromPath(s);return this.pi(t,a).next(l=>{l||e.removeEntry(a,It.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return J.or([()=>J.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Tf{constructor(t,e){this.persistence=t,this.yi=new Ra(s=>eN(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=fP(this,e)}static fi(t,e){return new Tf(t,e)}di(){}Ai(t){return J.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return J.forEach(this.yi,(s,a)=>this.Dr(t,s,a).next(l=>l?J.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(s++,l.removeEntry(c,It.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),J.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),J.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Xh(t.data.value)),e}Dr(t,e,s){return J.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return J.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.ds=s,this.As=a}static Rs(t,e){let s=zt(),a=zt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Cy(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rx()?8:JM(an())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.ws(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(t,e,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new AP;return this.Ss(t,e,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>l.result)}Ds(t,e,s,a){return s.documentReadCount<this.gs?(wo()<=Lt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Ao(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(wo()<=Lt.DEBUG&&dt("QueryEngine","Query:",Ao(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(wo()<=Lt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Ao(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(e))):J.resolve())}ws(t,e){if(BE(e))return J.resolve(null);let s=Di(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=_g(e,null,"F"),s=Di(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=zt(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.vs(e,d);return this.Cs(e,g,c,m.readTime)?this.ws(t,_g(e,null,"F")):this.Fs(t,g,e,m)}))})))}bs(t,e,s,a){return BE(e)||a.isEqual(It.min())?J.resolve(null):this.ys.getDocuments(t,s).next(l=>{const c=this.vs(e,l);return this.Cs(e,c,s,a)?J.resolve(null):(wo()<=Lt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ao(e)),this.Fs(t,c,e,KM(a,Uu)).next(d=>d))})}vs(t,e){let s=new Pe(Bw(t));return e.forEach((a,l)=>{Yf(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,s){return wo()<=Lt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Ao(e)),this.ys.getDocumentsMatchingQuery(t,e,fr.min(),s)}Fs(t,e,s,a){return this.ys.getDocumentsMatchingQuery(t,s,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",RP=3e8;class IP{constructor(t,e,s,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new fe(Dt),this.Os=new Ra(l=>_y(l),by),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function CP(n,t,e,s){return new IP(n,t,e,s)}async function cA(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=zt();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function xP(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const E=g.batch,T=E.keys();let R=J.resolve();return T.forEach(L=>{R=R.next(()=>v.getEntry(m,L)).next(H=>{const B=g.docVersions.get(L);Kt(B!==null,48541),H.version.compareTo(B)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=zt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function hA(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function OP(n,t){const e=Ct(n),s=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;d.push(e.Ti.removeMatchingKeys(l,v.removedDocuments,E).next(()=>e.Ti.addMatchingKeys(l,v.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken($e.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(E,R),function(H,B,X){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=RP?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(T,R,v)&&d.push(e.Ti.updateTargetData(l,R))});let m=gs(),g=zt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(DP(l,c,t.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!s.isEqual(It.min())){const v=e.Ti.getLastRemoteSnapshotVersion(l).next(E=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return J.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(e.xs=a,l))}function DP(n,t,e){let s=zt(),a=zt();return e.forEach(l=>s=s.add(l)),t.getEntries(n,s).next(l=>{let c=gs();return e.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(It.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(xy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function MP(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=gy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function NP(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Ti.getTargetData(s,t).next(l=>l?(a=l,J.resolve(a)):e.Ti.allocateTargetId(s).next(c=>(a=new rr(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Ag(n,t,e){const s=Ct(n),a=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!el(c))throw c;dt(xy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.xs=s.xs.remove(t),s.Os.delete(a.target)}function tT(n,t,e){const s=Ct(n);let a=It.min(),l=zt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const E=Ct(m),T=E.Os.get(v);return T!==void 0?J.resolve(E.xs.get(T)):E.Ti.getTargetData(g,v)}(s,c,Di(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,t,e?a:It.min(),e?l:zt())).next(d=>(PP(s,bN(t),d),{documents:d,$s:l})))}function PP(n,t,e){let s=n.Ns.get(t)||It.min();e.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Ns.set(t,s)}class eT{constructor(){this.activeTargetIds=RN()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kP{constructor(){this.xo=new eT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new eT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="ConnectivityMonitor";class iT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(nT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(nT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function Sg(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="RestConnection",LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zP{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(t,e,s,a,l){const c=Sg(),d=this.jo(t,e.toUriEncodedString());dt(Fp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(d),v=$o(g);return this.Jo(t,d,m,s,v).then(E=>(dt(Fp,`Received RPC '${t}' ${c}: `,E),E),E=>{throw Fo(Fp,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Yo(t,e,s,a,l,c){return this.zo(t,e,s,a,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}jo(t,e){const s=LP[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class jP extends zP{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,a,l){const c=Sg();return new Promise((d,m)=>{const g=new mw;g.setWithCredentials(!0),g.listenOnce(pw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Kh.NO_ERROR:const E=g.getResponseJson();dt(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Kh.TIMEOUT:dt(tn,`RPC '${t}' ${c} timed out`),m(new mt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const T=g.getStatus();if(dt(tn,`RPC '${t}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R==null?void 0:R.error;if(L&&L.status&&L.message){const H=function(X){const tt=X.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(tt)>=0?tt:Z.UNKNOWN}(L.status);m(new mt(H,L.message))}else m(new mt(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new mt(Z.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{h_:t,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{dt(tn,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(a);dt(tn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",v,s,15)})}I_(t,e,s){const a=Sg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=vw(),d=yw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const v=l.join("");dt(tn,`Creating RPC '${t}' stream ${a}: ${v}`,m);const E=c.createWebChannel(v,m);this.E_(E);let T=!1,R=!1;const L=new UP({Zo:B=>{R?dt(tn,`Not sending because RPC '${t}' stream ${a} is closed:`,B):(T||(dt(tn,`Opening RPC '${t}' stream ${a} transport.`),E.open(),T=!0),dt(tn,`RPC '${t}' stream ${a} sending:`,B),E.send(B))},Xo:()=>E.close()}),H=(B,X,tt)=>{B.listen(X,et=>{try{tt(et)}catch(ft){setTimeout(()=>{throw ft},0)}})};return H(E,vu.EventType.OPEN,()=>{R||(dt(tn,`RPC '${t}' stream ${a} transport opened.`),L.__())}),H(E,vu.EventType.CLOSE,()=>{R||(R=!0,dt(tn,`RPC '${t}' stream ${a} transport closed`),L.u_(),this.d_(E))}),H(E,vu.EventType.ERROR,B=>{R||(R=!0,Fo(tn,`RPC '${t}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),L.u_(new mt(Z.UNAVAILABLE,"The operation could not be completed")))}),H(E,vu.EventType.MESSAGE,B=>{var X;if(!R){const tt=B.data[0];Kt(!!tt,16349);const et=tt,ft=(et==null?void 0:et.error)||((X=et[0])===null||X===void 0?void 0:X.error);if(ft){dt(tn,`RPC '${t}' stream ${a} received error:`,ft);const ht=ft.status;let ct=function(I){const N=Se[I];if(N!==void 0)return Zw(N)}(ht),D=ft.message;ct===void 0&&(ct=Z.INTERNAL,D="Unknown error status: "+ht+" with message "+ft.message),R=!0,L.u_(new mt(ct,D)),E.close()}else dt(tn,`RPC '${t}' stream ${a} received:`,tt),L.c_(tt)}}),H(d,gw.STAT_EVENT,B=>{B.stat===fg.PROXY?dt(tn,`RPC '${t}' stream ${a} detected buffering proxy`):B.stat===fg.NOPROXY&&dt(tn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.a_()},0),L}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n){return new HN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,e,s=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,e-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="PersistentStream";class dA{constructor(t,e,s,a,l,c,d,m){this.xi=t,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new fA(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(ps(e.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===e&&this.z_(s,a)},s=>{t(()=>{const a=new mt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return dt(sT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(dt(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BP extends dA{constructor(t,e,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=QN(this.serializer,t),s=function(l){if(!("targetChange"in l))return It.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?Mi(c.readTime):It.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=wg(this.serializer),e.addTarget=function(l,c){let d;const m=c.target;if(d=yg(m)?{documents:$N(l,m)}:{query:WN(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=eA(l,c.resumeToken);const g=bg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=Ef(l,c.snapshotVersion.toTimestamp());const g=bg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=JN(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=wg(this.serializer),e.removeTarget=t,this.Q_(e)}}class FP extends dA{constructor(t,e,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=XN(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=wg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>KN(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{}class HP extends qP{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new mt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,Eg(e,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(Z.UNKNOWN,l.toString())})}Yo(t,e,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,Eg(e,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(Z.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ps(e),this.ua=!1):dt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class YP{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{s.enqueueAndForget(async()=>{Ia(this)&&(dt(Ta,"Restarting streams for network reachability change."),await async function(m){const g=Ct(m);g.da.add(4),await sc(g),g.Va.set("Unknown"),g.da.delete(4),await Wf(g)}(this))})}),this.Va=new GP(s,a)}}async function Wf(n){if(Ia(n))for(const t of n.Aa)await t(!0)}async function sc(n){for(const t of n.Aa)await t(!1)}function mA(n,t){const e=Ct(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Ny(e)?My(e):il(e).N_()&&Dy(e,t))}function Oy(n,t){const e=Ct(n),s=il(e);e.Ea.delete(t),s.N_()&&pA(e,t),e.Ea.size===0&&(s.N_()?s.k_():Ia(e)&&e.Va.set("Unknown"))}function Dy(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}il(n).Z_(t)}function pA(n,t){n.ma.Ke(t),il(n).X_(t)}function My(n){n.ma=new jN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),il(n).start(),n.Va.ca()}function Ny(n){return Ia(n)&&!il(n).O_()&&n.Ea.size>0}function Ia(n){return Ct(n).da.size===0}function gA(n){n.ma=void 0}async function QP(n){n.Va.set("Online")}async function KP(n){n.Ea.forEach((t,e)=>{Dy(n,t)})}async function XP(n,t){gA(n),Ny(n)?(n.Va.Pa(t),My(n)):n.Va.set("Unknown")}async function $P(n,t,e){if(n.Va.set("Online"),t instanceof tA&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,t)}catch(s){dt(Ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wf(n,s)}else if(t instanceof Zh?n.ma.Xe(t):t instanceof Jw?n.ma.ot(t):n.ma.nt(t),!e.isEqual(It.min()))try{const s=await hA(n.localStore);e.compareTo(s)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(g);v&&l.Ea.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),pA(l,m);const E=new rr(v.target,m,g,v.sequenceNumber);Dy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){dt(Ta,"Failed to raise snapshot:",s),await wf(n,s)}}async function wf(n,t,e){if(!el(t))throw t;n.da.add(1),await sc(n),n.Va.set("Offline"),e||(e=()=>hA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(Ta,"Retrying IndexedDB access"),await e(),n.da.delete(1),await Wf(n)})}function yA(n,t){return t().catch(e=>wf(n,e,t))}async function Zf(n){const t=Ct(n),e=gr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:gy;for(;WP(t);)try{const a=await MP(t.localStore,s);if(a===null){t.Ia.length===0&&e.k_();break}s=a.batchId,ZP(t,a)}catch(a){await wf(t,a)}vA(t)&&_A(t)}function WP(n){return Ia(n)&&n.Ia.length<10}function ZP(n,t){n.Ia.push(t);const e=gr(n);e.N_()&&e.ea&&e.ta(t.mutations)}function vA(n){return Ia(n)&&!gr(n).O_()&&n.Ia.length>0}function _A(n){gr(n).start()}async function JP(n){gr(n).ia()}async function tk(n){const t=gr(n);for(const e of n.Ia)t.ta(e.mutations)}async function ek(n,t,e){const s=n.Ia.shift(),a=wy.from(s,t,e);await yA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Zf(n)}async function nk(n,t){t&&gr(n).ea&&await async function(s,a){if(function(c){return zN(c)&&c!==Z.ABORTED}(a.code)){const l=s.Ia.shift();gr(s).L_(),await yA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Zf(s)}}(n,t),vA(n)&&_A(n)}async function rT(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),dt(Ta,"RemoteStore received new credentials");const s=Ia(e);e.da.add(3),await sc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Wf(e)}async function ik(n,t){const e=Ct(n);t?(e.da.delete(2),await Wf(e)):t||(e.da.add(2),await sc(e),e.Va.set("Unknown"))}function il(n){return n.fa||(n.fa=function(e,s,a){const l=Ct(e);return l.oa(),new BP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:QP.bind(null,n),n_:KP.bind(null,n),i_:XP.bind(null,n),Y_:$P.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),Ny(n)?My(n):n.Va.set("Unknown")):(await n.fa.stop(),gA(n))})),n.fa}function gr(n){return n.ga||(n.ga=function(e,s,a){const l=Ct(e);return l.oa(),new FP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:JP.bind(null,n),i_:nk.bind(null,n),na:tk.bind(null,n),ra:ek.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await Zf(n)):(await n.ga.stop(),n.Ia.length>0&&(dt(Ta,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const c=Date.now()+s,d=new Py(t,e,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,t){if(ps("AsyncQueue",`${t}: ${n}`),el(n))return new mt(Z.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(t){return new Lo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||vt.comparator(e.key,s.key):(e,s)=>vt.comparator(e.key,s.key),this.keyedMap=_u(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Lo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.pa=new fe(vt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):wt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Qo{constructor(t,e,s,a,l,c,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Qo(t,e,Lo.emptySet(e),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class rk{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Ct(e),l=a.queries;a.queries=oT(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new mt(Z.ABORTED,"Firestore shutting down"))}}function oT(){return new Ra(n=>jw(n),Gf)}async function Vy(n,t){const e=Ct(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Da()&&t.va()&&(s=2):(l=new sk,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(a,!0);break;case 1:l.ba=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=ky(c,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&zy(e)}async function Ly(n,t){const e=Ct(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.va()?0:1:!l.Da()&&t.va()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function ak(n,t){const e=Ct(n);let s=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(s=!0);c.ba=a}}s&&zy(e)}function ok(n,t,e){const s=Ct(n),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);s.queries.delete(t)}function zy(n){n.Ca.forEach(t=>{t.next()})}var Rg,lT;(lT=Rg||(Rg={})).xa="default",lT.Cache="cache";class Uy{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Qo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.key=t}}class EA{constructor(t){this.key=t}}class lk{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.Za=Bw(t),this.Xa=new Lo(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new aT,a=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const T=a.get(v),R=Yf(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),H=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let B=!1;T&&R?T.data.isEqual(R.data)?L!==H&&(s.track({type:3,doc:R}),B=!0):this.ru(T,R)||(s.track({type:2,doc:R}),B=!0,(m&&this.Za(R,m)>0||g&&this.Za(R,g)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),B=!0):T&&!R&&(s.track({type:1,doc:T}),B=!0,(m||g)&&(d=!0)),B&&(R?(c=c.add(R),l=H?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Xa:c,nu:s,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((v,E)=>function(R,L){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:B})}};return H(R)-H(L)}(v.type,E.type)||this.Za(v.doc,E.doc)),this.iu(s),a=a!=null&&a;const d=e&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Ja;return this.Ja=m,c.length!==0||g?{snapshot:new Qo(this.query,t.Xa,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new aT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new EA(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new bA(s))}),e}au(t){this.Ha=t.$s,this.Ya=zt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Qo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jy="SyncEngine";class uk{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class ck{constructor(t){this.key=t,this.cu=!1}}class hk{constructor(t,e,s,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ra(d=>jw(d),Gf),this.Pu=new Map,this.Tu=new Set,this.Iu=new fe(vt.comparator),this.Eu=new Map,this.du=new Ry,this.Au={},this.Ru=new Map,this.Vu=Yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function fk(n,t,e=!0){const s=IA(n);let a;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await TA(s,t,e,!0),a}async function dk(n,t){const e=IA(n);await TA(e,t,!0,!1)}async function TA(n,t,e,s){const a=await NP(n.localStore,Di(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await mk(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&mA(n.remoteStore,a),d}async function mk(n,t,e,s,a){n.fu=(E,T,R)=>async function(H,B,X,tt){let et=B.view.tu(X);et.Cs&&(et=await tT(H.localStore,B.query,!1).then(({documents:D})=>B.view.tu(D,et)));const ft=tt&&tt.targetChanges.get(B.targetId),ht=tt&&tt.targetMismatches.get(B.targetId)!=null,ct=B.view.applyChanges(et,H.isPrimaryClient,ft,ht);return cT(H,B.targetId,ct.ou),ct.snapshot}(n,E,T,R);const l=await tT(n.localStore,t,!0),c=new lk(t,l.$s),d=c.tu(l.documents),m=ic.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);cT(n,e,g.ou);const v=new uk(t,e,c);return n.hu.set(t,v),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),g.snapshot}async function pk(n,t,e){const s=Ct(n),a=s.hu.get(t),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(c=>!Gf(c,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ag(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&Oy(s.remoteStore,a.targetId),Ig(s,a.targetId)}).catch(tl)):(Ig(s,a.targetId),await Ag(s.localStore,a.targetId,!0))}async function gk(n,t){const e=Ct(n),s=e.hu.get(t),a=e.Pu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Oy(e.remoteStore,s.targetId))}async function yk(n,t,e){const s=Ak(n);try{const a=await function(c,d){const m=Ct(c),g=Ne.now(),v=d.reduce((R,L)=>R.add(L.key),zt());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=gs(),H=zt();return m.Bs.getEntries(R,v).next(B=>{L=B,L.forEach((X,tt)=>{tt.isValidDocument()||(H=H.add(X))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,L)).next(B=>{E=B;const X=[];for(const tt of d){const et=NN(tt,E.get(tt.key).overlayedDocument);et!=null&&X.push(new Sr(tt.key,et,Mw(et.value.mapValue),Qn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,X,d)}).next(B=>{T=B;const X=B.applyToLocalDocumentSet(E,H);return m.documentOverlayCache.saveOverlays(R,B.batchId,X)})}).then(()=>({batchId:T.batchId,changes:qw(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Au[c.currentUser.toKey()];g||(g=new fe(Dt)),g=g.insert(d,m),c.Au[c.currentUser.toKey()]=g}(s,a.batchId,e),await rc(s,a.changes),await Zf(s.remoteStore)}catch(a){const l=ky(a,"Failed to persist write");e.reject(l)}}async function wA(n,t){const e=Ct(n);try{const s=await OP(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Eu.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?Kt(c.cu,14607):a.removedDocuments.size>0&&(Kt(c.cu,42227),c.cu=!1))}),await rc(e,s,t)}catch(s){await tl(s)}}function uT(n,t,e){const s=Ct(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.hu.forEach((l,c)=>{const d=c.view.Fa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ct(c);m.onlineState=d;let g=!1;m.queries.forEach((v,E)=>{for(const T of E.Sa)T.Fa(d)&&(g=!0)}),g&&zy(m)}(s.eventManager,t),a.length&&s.lu.Y_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function vk(n,t,e){const s=Ct(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Eu.get(t),l=a&&a.key;if(l){let c=new fe(vt.comparator);c=c.insert(l,nn.newNoDocument(l,It.min()));const d=zt().add(l),m=new Xf(It.min(),new Map,new fe(Dt),c,d);await wA(s,m),s.Iu=s.Iu.remove(l),s.Eu.delete(t),By(s)}else await Ag(s.localStore,t,!1).then(()=>Ig(s,t,e)).catch(tl)}async function _k(n,t){const e=Ct(n),s=t.batch.batchId;try{const a=await xP(e.localStore,t);SA(e,s,null),AA(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await rc(e,a)}catch(a){await tl(a)}}async function bk(n,t,e){const s=Ct(n);try{const a=await function(c,d){const m=Ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(Kt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);SA(s,t,e),AA(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await rc(s,a)}catch(a){await tl(a)}}function AA(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function SA(n,t,e){const s=Ct(n);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.Au[s.currentUser.toKey()]=a}}function Ig(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Pu.get(t))n.hu.delete(s),e&&n.lu.gu(s,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(s=>{n.du.containsKey(s)||RA(n,s)})}function RA(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(Oy(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),By(n))}function cT(n,t,e){for(const s of e)s instanceof bA?(n.du.addReference(s.key,t),Ek(n,s)):s instanceof EA?(dt(jy,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,t),n.du.containsKey(s.key)||RA(n,s.key)):wt(19791,{pu:s})}function Ek(n,t){const e=t.key,s=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(s)||(dt(jy,"New document in limbo: "+e),n.Tu.add(s),By(n))}function By(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new vt(ae.fromString(t)),s=n.Vu.next();n.Eu.set(s,new ck(e)),n.Iu=n.Iu.insert(e,s),mA(n.remoteStore,new rr(Di(Hf(e.path)),s,"TargetPurposeLimboResolution",Bf.le))}}async function rc(n,t,e){const s=Ct(n),a=[],l=[],c=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{c.push(s.fu(m,t,e).then(g=>{var v;if((g||e)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=e==null?void 0:e.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=Cy.Rs(m.targetId,g);l.push(E)}}))}),await Promise.all(c),s.lu.Y_(a),await async function(m,g){const v=Ct(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,T=>J.forEach(T.ds,R=>v.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>J.forEach(T.As,R=>v.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!el(E))throw E;dt(xy,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const R=v.xs.get(T),L=R.snapshotVersion,H=R.withLastLimboFreeSnapshotVersion(L);v.xs=v.xs.insert(T,H)}}}(s.localStore,l))}async function Tk(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){dt(jy,"User change. New user:",t.toKey());const s=await cA(e.localStore,t);e.currentUser=t,function(l,c){l.Ru.forEach(d=>{d.forEach(m=>{m.reject(new mt(Z.CANCELLED,c))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rc(e,s.ks)}}function wk(n,t){const e=Ct(n),s=e.Eu.get(t);if(s&&s.cu)return zt().add(s.key);{let a=zt();const l=e.Pu.get(t);if(!l)return a;for(const c of l){const d=e.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function IA(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vk.bind(null,t),t.lu.Y_=ak.bind(null,t.eventManager),t.lu.gu=ok.bind(null,t.eventManager),t}function Ak(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_k.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bk.bind(null,t),t}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$f(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return CP(this.persistence,new SP,t.initialUser,this.serializer)}Su(t){return new uA(Iy.fi,this.serializer)}bu(t){return new kP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class Sk extends Af{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Kt(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cP(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new uA(s=>Tf.fi(s,e),this.serializer)}}class Cg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tk.bind(null,this.syncEngine),await ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rk}()}createDatastore(t){const e=$f(t.databaseInfo.databaseId),s=function(l){return new jP(l)}(t.databaseInfo);return function(l,c,d,m){return new HP(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,l,c,d){return new YP(s,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>uT(this.syncEngine,e,0),function(){return iT.C()?new iT:new VP}())}createSyncEngine(t,e){return function(a,l,c,d,m,g,v){const E=new hk(a,l,c,d,m,g);return v&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=Ct(a);dt(Ta,"RemoteStore shutting down."),l.da.add(5),await sc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class Rk{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=Tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{dt(yr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(dt(yr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=ky(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Hp(n,t){n.asyncQueue.verifyOperationInProgress(),dt(yr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await cA(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function hT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Ik(n);dt(yr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>rT(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>rT(t.remoteStore,a)),n._onlineComponents=t}async function Ik(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(yr,"Using user provided OfflineComponentProvider");try{await Hp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Fo("Error using user provided cache. Falling back to memory cache: "+e),await Hp(n,new Af)}}else dt(yr,"Using default OfflineComponentProvider"),await Hp(n,new Sk(void 0));return n._offlineComponents}async function CA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(yr,"Using user provided OnlineComponentProvider"),await hT(n,n._uninitializedComponentsProvider._online)):(dt(yr,"Using default OnlineComponentProvider"),await hT(n,new Cg))),n._onlineComponents}function Ck(n){return CA(n).then(t=>t.syncEngine)}async function Sf(n){const t=await CA(n),e=t.eventManager;return e.onListen=fk.bind(null,t.syncEngine),e.onUnlisten=pk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=dk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gk.bind(null,t.syncEngine),e}function xk(n,t,e={}){const s=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Fy({next:T=>{v.xu(),c.enqueueAndForget(()=>Ly(l,E));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new mt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?g.reject(new mt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Uy(Hf(d.path),v,{includeMetadataChanges:!0,Qa:!0});return Vy(l,E)}(await Sf(n),n.asyncQueue,t,e,s)),s.promise}function Ok(n,t,e={}){const s=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Fy({next:T=>{v.xu(),c.enqueueAndForget(()=>Ly(l,E)),T.fromCache&&m.source==="server"?g.reject(new mt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Uy(d,v,{includeMetadataChanges:!0,Qa:!0});return Vy(l,E)}(await Sf(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n,t,e){if(!e)throw new mt(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Dk(n,t,e,s){if(t===!0&&s===!0)throw new mt(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dT(n){if(!vt.isDocumentKey(n))throw new mt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mT(n){if(vt.isDocumentKey(n))throw new mt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt(12329,{type:typeof n})}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(n);throw new mt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firestore.googleapis.com",pT=!0;class gT{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DA,this.ssl=pT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:pT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lP)throw new mt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new mt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new mt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new mt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UM;switch(s.type){case"firstParty":return new qM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=fT.get(e);s&&(dt("ComponentProvider","Removing Datastore"),fT.delete(e),s.terminate())}(this),Promise.resolve()}}function Mk(n,t,e,s={}){var a;n=vn(n,td);const l=$o(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${t}:${e}`;l&&(S1(`https://${m}`),R1("Firestore",!0)),c.host!==DA&&c.host!==m&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:s});if(!ya(g,d)&&(n._setSettings(g),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=en.MOCK_USER;else{v=$2(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new mt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(T)}n._authCredentials=new jM(new bw(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rr(this.firestore,t,this._query)}}class rn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}}class hr extends Rr{constructor(t,e,s){super(t,e,Hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new vt(t))}withConverter(t){return new hr(this.firestore,t,this._path)}}function sl(n,t,...e){if(n=Fe(n),OA("collection","path",t),n instanceof td){const s=ae.fromString(t,...e);return mT(s),new hr(n,null,s)}{if(!(n instanceof rn||n instanceof hr))throw new mt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return mT(s),new hr(n.firestore,null,s)}}function vr(n,t,...e){if(n=Fe(n),arguments.length===1&&(t=Tw.newId()),OA("doc","path",t),n instanceof td){const s=ae.fromString(t,...e);return dT(s),new rn(n,null,new vt(s))}{if(!(n instanceof rn||n instanceof hr))throw new mt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return dT(s),new rn(n.firestore,n instanceof hr?n.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="AsyncQueue";class vT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new fA(this,"async_queue_retry"),this.rc=()=>{const s=qp();s&&dt(yT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=qp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=qp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new fs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!el(t))throw t;dt(yT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,ps("INTERNAL UNHANDLED ERROR: ",_T(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const a=Py.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&wt(47125,{cc:_T(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function _T(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ys extends td{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new vT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vT(t),this._firestoreClient=void 0,await t}}}function Nk(n,t){const e=typeof n=="object"?n:O1(),s=typeof n=="string"?n:gf,a=ry(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=K2("firestore");l&&Mk(a,...l)}return a}function ed(n){if(n._terminated)throw new mt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Pk(n),n._firestoreClient}function Pk(n){var t,e,s;const a=n._freezeSettings(),l=function(d,m,g,v){return new sN(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,xA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Rk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ko($e.fromBase64String(t))}catch(e){throw new mt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ko($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=/^__.*__$/;class Vk{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,e,this.fieldTransforms):new nc(t,this.data,e,this.fieldTransforms)}}class MA{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Sr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function NA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ic:n})}}class Yy{constructor(t,e,s,a,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Yy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:s,Rc:!1});return a.Vc(t),a}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Rf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(NA(this.Ic)&&kk.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Lk{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||$f(t)}bc(t,e,s,a=!1){return new Yy({Ic:t,methodName:e,wc:s,path:Xe.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(n){const t=n._freezeSettings(),e=$f(n._databaseId);return new Lk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function PA(n,t,e,s,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,t,e,a);Qy("Data must be an object, but it was:",c,s);const d=kA(s,c);let m,g;if(l.merge)m=new xn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=xg(t,E,e);if(!c.contains(T))throw new mt(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);LA(v,T)||v.push(T)}m=new xn(v),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new Vk(new yn(d),m,g)}class sd extends qy{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sd}}function zk(n,t,e,s){const a=n.bc(1,t,e);Qy("Data must be an object, but it was:",a,s);const l=[],c=yn.empty();Ar(s,(m,g)=>{const v=Ky(t,m,e);g=Fe(g);const E=a.mc(v);if(g instanceof sd)l.push(v);else{const T=ac(g,E);T!=null&&(l.push(v),c.set(v,T))}});const d=new xn(l);return new MA(c,d,a.fieldTransforms)}function Uk(n,t,e,s,a,l){const c=n.bc(1,t,e),d=[xg(t,s,e)],m=[a];if(l.length%2!=0)throw new mt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(xg(t,l[T])),m.push(l[T+1]);const g=[],v=yn.empty();for(let T=d.length-1;T>=0;--T)if(!LA(g,d[T])){const R=d[T];let L=m[T];L=Fe(L);const H=c.mc(R);if(L instanceof sd)g.push(R);else{const B=ac(L,H);B!=null&&(g.push(R),v.set(R,B))}}const E=new xn(g);return new MA(v,E,c.fieldTransforms)}function jk(n,t,e,s=!1){return ac(e,n.bc(s?4:3,t))}function ac(n,t){if(VA(n=Fe(n)))return Qy("Unsupported field value:",t,n),kA(n,t);if(n instanceof qy)return function(s,a){if(!NA(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=ac(d,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,t)}return function(s,a){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ne.fromDate(s);return{timestampValue:Ef(a.serializer,l)}}if(s instanceof Ne){const l=new Ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ef(a.serializer,l)}}if(s instanceof Hy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ko)return{bytesValue:eA(a.serializer,s._byteString)};if(s instanceof rn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Gy)return function(c,d){return{mapValue:{fields:{[Ow]:{stringValue:Dw},[yf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Ey(d.serializer,g)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${Jf(s)}`)}(n,t)}function kA(n,t){const e={};return Aw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(n,(s,a)=>{const l=ac(a,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function VA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ne||n instanceof Hy||n instanceof Ko||n instanceof rn||n instanceof qy||n instanceof Gy)}function Qy(n,t,e){if(!VA(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=Jf(e);throw s==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+s)}}function xg(n,t,e){if((t=Fe(t))instanceof nd)return t._internalPath;if(typeof t=="string")return Ky(n,t);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,e)}const Bk=new RegExp("[~\\*/\\[\\]]");function Ky(n,t,e){if(t.search(Bk)>=0)throw Rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new nd(...t.split("."))._internalPath}catch{throw Rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Rf(n,t,e,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new mt(Z.INVALID_ARGUMENT,d+n+m)}function LA(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Fk extends zA{data(){return super.data()}}function rd(n,t){return typeof t=="string"?Ky(n,t):t instanceof nd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class jA extends Xy{}function ad(n,t,...e){let s=[];t instanceof Xy&&s.push(t),s=s.concat(e),function(l){const c=l.filter(m=>m instanceof $y).length,d=l.filter(m=>m instanceof od).length;if(c>1||c>0&&d>0)throw new mt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class od extends jA{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new od(t,e,s)}_apply(t){const e=this._parse(t);return BA(t._query,e),new Rr(t.firestore,t.converter,vg(t._query,e))}_parse(t){const e=id(t.firestore);return function(l,c,d,m,g,v,E){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new mt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){TT(E,v);const L=[];for(const H of E)L.push(ET(m,l,H));T={arrayValue:{values:L}}}else T=ET(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||TT(E,v),T=jk(d,c,E,v==="in"||v==="not-in");return Re.create(g,v,T)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Yu(n,t,e){const s=t,a=rd("where",n);return od._create(a,s,e)}class $y extends Xy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new $y(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)BA(c,m),c=vg(c,m)}(t._query,e),new Rr(t.firestore,t.converter,vg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wy extends jA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Wy(t,e)}_apply(t){const e=function(a,l,c){if(a.startAt!==null)throw new mt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(l,c)}(t._query,this._field,this._direction);return new Rr(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new nl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function qk(n,t="asc"){const e=t,s=rd("orderBy",n);return Wy._create(s,e)}function ET(n,t,e){if(typeof(e=Fe(e))=="string"){if(e==="")throw new mt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(t)&&e.indexOf("/")!==-1)throw new mt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ae.fromString(e));if(!vt.isDocumentKey(s))throw new mt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kE(n,new vt(s))}if(e instanceof rn)return kE(n,e._key);throw new mt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function TT(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BA(n,t){const e=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new mt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Hk{convertValue(t,e="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Ar(t,(a,l)=>{s[a]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,a;const l=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[yf].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>_e(c.doubleValue));return new Gy(l)}convertGeoPoint(t){return new Hy(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=qf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(ju(t));default:return null}}convertTimestamp(t){const e=dr(t);return new Ne(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ae.fromString(t);Kt(oA(s),9688,{name:t});const a=new Bu(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(e)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qA extends zA{constructor(t,e,s,a,l,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(rd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Jh extends qA{data(t={}){return super.data(t)}}class HA{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Eu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Jh(this._firestore,this._userDataWriter,s.key,s,new Eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Jh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Jh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Gk(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Gk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){n=vn(n,rn);const t=vn(n.firestore,ys);return xk(ed(t),n._key).then(e=>$A(t,n,e))}class Zy extends Hk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ko(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,e)}}function Jy(n){n=vn(n,Rr);const t=vn(n.firestore,ys),e=ed(t),s=new Zy(t);return UA(n._query),Ok(e,n._query).then(a=>new HA(t,s,n,a))}function YA(n,t,e){n=vn(n,rn);const s=vn(n.firestore,ys),a=FA(n.converter,t,e);return ld(s,[PA(id(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Qn.none())])}function QA(n,t,e,...s){n=vn(n,rn);const a=vn(n.firestore,ys),l=id(a);let c;return c=typeof(t=Fe(t))=="string"||t instanceof nd?Uk(l,"updateDoc",n._key,t,e,s):zk(l,"updateDoc",n._key,t),ld(a,[c.toMutation(n._key,Qn.exists(!0))])}function KA(n){return ld(vn(n.firestore,ys),[new Ty(n._key,Qn.none())])}function XA(n,t){const e=vn(n.firestore,ys),s=vr(n),a=FA(n.converter,t);return ld(e,[PA(id(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function Yk(n,...t){var e,s,a;n=Fe(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||bT(t[c])||(l=t[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(bT(t[c])){const E=t[c];t[c]=(e=E.next)===null||e===void 0?void 0:e.bind(E),t[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),t[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,g,v;if(n instanceof rn)g=vn(n.firestore,ys),v=Hf(n._key.path),m={next:E=>{t[c]&&t[c]($A(g,n,E))},error:t[c+1],complete:t[c+2]};else{const E=vn(n,Rr);g=vn(E.firestore,ys),v=E._query;const T=new Zy(g);m={next:R=>{t[c]&&t[c](new HA(g,T,E,R))},error:t[c+1],complete:t[c+2]},UA(n._query)}return function(T,R,L,H){const B=new Fy(H),X=new Uy(R,B,L);return T.asyncQueue.enqueueAndForget(async()=>Vy(await Sf(T),X)),()=>{B.xu(),T.asyncQueue.enqueueAndForget(async()=>Ly(await Sf(T),X))}}(ed(g),v,d,m)}function ld(n,t){return function(s,a){const l=new fs;return s.asyncQueue.enqueueAndForget(async()=>yk(await Ck(s),a,l)),l.promise}(ed(n),t)}function $A(n,t,e){const s=e.docs.get(t._key),a=new Zy(n);return new qA(n,a,t._key,s,new Eu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Jo=a})(Wo),Bo(new va("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ys(new BM(s.getProvider("auth-internal")),new HM(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ur(wE,AE,t),ur(wE,AE,"esm2017")})();const Qk={apiKey:"AIzaSyBXLIIMWQj3KFQEUs4lcvk6NeR8Gr8zAbQ",authDomain:"project-sapphire-d8da8.firebaseapp.com",projectId:"project-sapphire-d8da8",appId:"1:641315751166:web:a06da9ec60ee071028d1af"},WA=x1(Qk),Ni=kM(WA),On=Nk(WA);function Kk({mode:n,onClose:t}){const[e,s]=rt.useState(""),[a,l]=rt.useState(""),[c,d]=rt.useState(""),m=async g=>{g.preventDefault(),d("");try{n==="signup"?await bD(Ni,e,a):await ED(Ni,e,a),t()}catch(v){d(v.message)}};return Y.jsx("div",{className:"auth-modal-overlay",children:Y.jsxs("div",{className:"auth-modal",children:[Y.jsx("button",{className:"close-btn",onClick:t,children:"×"}),Y.jsx("h2",{children:n==="signup"?"Sign Up":"Sign In"}),Y.jsxs("form",{onSubmit:m,children:[Y.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:g=>s(g.target.value),required:!0}),Y.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:g=>l(g.target.value),required:!0}),c&&Y.jsx("p",{className:"auth-error",children:c}),Y.jsx("button",{type:"submit",children:n==="signup"?"Create Account":"Login"})]})]})})}function Xk({onClose:n}){const[t,e]=rt.useState([]),[s,a]=rt.useState("all");rt.useEffect(()=>{(async()=>{const m=Ni.currentUser;if(!m)return;const g=ad(sl(On,"chats"),Yu("uid","==",m.uid)),E=(await Jy(g)).docs.map(T=>({id:T.id,...T.data()}));e(E)})()},[]);const l=async(d,m)=>{const g=vr(On,"chats",d);await QA(g,{favorite:!m}),e(v=>v.map(E=>E.id===d?{...E,favorite:!m}:E))},c=s==="favorites"?t.filter(d=>d.favorite):t;return Y.jsx("div",{className:"auth-modal-overlay",children:Y.jsxs("div",{className:"auth-modal",children:[Y.jsx("button",{className:"close-btn",onClick:n,children:"×"}),Y.jsx("h2",{children:"Chat History"}),Y.jsxs("div",{className:"tabs",children:[Y.jsx("button",{className:`tab-button ${s==="all"?"active":""}`,onClick:()=>a("all"),children:"All Chats"}),Y.jsx("button",{className:`tab-button ${s==="favorites"?"active":""}`,onClick:()=>a("favorites"),children:Y.jsxs("span",{className:"favorites-tab-label",children:["Favorites ",Y.jsx("span",{className:"star",children:"★"})]})})]}),c.length===0?Y.jsx("p",{children:"No messages yet."}):Y.jsx("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:c.map((d,m)=>Y.jsxs("li",{style:{marginBottom:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[Y.jsxs("div",{children:[Y.jsx("strong",{children:"You:"})," ",d.userMessage,Y.jsx("br",{}),Y.jsx("strong",{children:"AI:"})," ",d.assistantMessage]}),Y.jsx("button",{onClick:()=>l(d.id,d.favorite),style:{border:"none",background:"none",fontSize:d.favorite?"1.5rem":"1.25rem",cursor:"pointer",color:d.favorite?"#0a84ff":"#888",textShadow:d.favorite?"0 0 6px #0a84ff":"none",transition:"all 0.2s ease"},title:d.favorite?"Unfavorite":"Favorite",children:d.favorite?"★":"☆"})]},m))})]})})}function ZA({userAvatar:n,assistantAvatar:t,userName:e="",assistantName:s="",onAvatarChange:a,onNameChange:l,onClose:c}){const[d,m]=rt.useState(n),[g,v]=rt.useState(t),[E,T]=rt.useState(e),[R,L]=rt.useState(s),H=()=>{d&&a("user",d),g&&a("assistant",g),E&&l("user",E),R&&l("assistant",R),c()};return Y.jsx("div",{className:"profile-modal-overlay",children:Y.jsxs("div",{className:"profile-modal",children:[Y.jsx("h2",{children:"Customize Profile"}),Y.jsxs("div",{className:"avatar-section",children:[Y.jsx("label",{children:"User Avatar:"}),Y.jsx("img",{src:d,alt:"User",className:"avatar-preview"}),Y.jsx("input",{type:"text",value:d,onChange:B=>m(B.target.value),placeholder:"Image URL or /path/to/image.png"})]}),Y.jsxs("div",{className:"avatar-section",children:[Y.jsx("label",{children:"Assistant Avatar:"}),Y.jsx("img",{src:g,alt:"Assistant",className:"avatar-preview"}),Y.jsx("input",{type:"text",value:g,onChange:B=>v(B.target.value),placeholder:"Image URL or /path/to/image.png"})]}),Y.jsxs("div",{className:"name-section",children:[Y.jsx("label",{children:"User Name:"}),Y.jsx("input",{type:"text",value:E,onChange:B=>T(B.target.value),placeholder:"Your name"})]}),Y.jsxs("div",{className:"name-section",children:[Y.jsx("label",{children:"Assistant Name:"}),Y.jsx("input",{type:"text",value:R,onChange:B=>L(B.target.value),placeholder:"Assistant's name"})]}),Y.jsxs("div",{className:"modal-buttons",children:[Y.jsx("button",{onClick:H,children:"Save"}),Y.jsx("button",{onClick:c,className:"cancel-button",children:"Cancel"})]})]})})}function $k({userAvatar:n,assistantAvatar:t,userName:e,assistantName:s,onAvatarChange:a,onNameChange:l}){const[c,d]=rt.useState(!1),[m,g]=rt.useState(null),[v,E]=rt.useState(!1),[T,R]=rt.useState(!1),[L,H]=rt.useState(null);rt.useEffect(()=>Ni.onAuthStateChanged(tt=>{H(tt)}),[]);const B=X=>{X==="Sign up"?g("signup"):X==="Sign in"?g("signin"):X==="Chat History"?E(!0):X==="Sign out"&&(Ni.signOut(),H(null),d(!1)),d(!1)};return Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"sidebar-toggle-wrapper",children:[Y.jsx("button",{className:"menu-toggle",onClick:()=>d(!c),children:"☰ Menu"}),c&&Y.jsxs("div",{className:"sidebar",children:[L&&Y.jsxs("div",{className:"user-info",children:["Signed in as ",Y.jsx("strong",{children:L.email})]}),!L&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{className:"sidebar-button",onClick:()=>B("Sign up"),children:"Sign up"}),Y.jsx("button",{className:"sidebar-button",onClick:()=>B("Sign in"),children:"Sign in"})]}),L&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{className:"sidebar-button",onClick:()=>B("Sign out"),children:"Sign out"}),Y.jsx("button",{className:"sidebar-button",onClick:()=>R(!0),children:"Profile"}),Y.jsx("button",{className:"sidebar-button",onClick:()=>E(!0),children:"Chat History"})]})]})]}),m&&Y.jsx(Kk,{mode:m,onClose:()=>g(null)}),v&&Y.jsx(Xk,{onClose:()=>E(!1)}),T&&Y.jsx(ZA,{userAvatar:n,assistantAvatar:t,userName:e,assistantName:s,onAvatarChange:a,onNameChange:l,onClose:()=>R(!1)})]})}function Wk({audioRef:n,isSpeaking:t}){const e=rt.useRef(null),s=rt.useRef(null),a=rt.useRef(null),l=rt.useRef(null),c=rt.useRef(null),d=rt.useRef({assistant:null,music:null});return rt.useRef(0),rt.useEffect(()=>{const m=e.current,g=m.getContext("2d"),v=m.width,E=m.height,T=v/2,R=E/2,L=80;if(a.current||(a.current=new(window.AudioContext||window.webkitAudioContext),l.current=a.current.createAnalyser(),l.current.fftSize=64,c.current=new Uint8Array(l.current.frequencyBinCount)),n.current&&!d.current.assistant)try{d.current.assistant=a.current.createMediaElementSource(n.current),d.current.assistant.connect(l.current),l.current.connect(a.current.destination)}catch(X){console.warn("Assistant audio source already connected or failed:",X)}const H=document.getElementById("bg-music");if(H&&!d.current.music)try{d.current.music=a.current.createMediaElementSource(H),d.current.music.connect(l.current),l.current.connect(a.current.destination)}catch(X){console.warn("Music source already connected or failed:",X)}const B=()=>{s.current=requestAnimationFrame(B),g.clearRect(0,0,v,E),l.current.getByteFrequencyData(c.current);const X=c.current.reduce((ft,ht)=>ft+ht,0)/c.current.length,tt=L+X/2,et=g.createRadialGradient(T,R,tt*.6,T,R,tt);et.addColorStop(0,"rgba(15,82,186, 0.8)"),et.addColorStop(1,"rgba(15,82,186, 0)"),g.beginPath(),g.arc(T,R,tt,0,Math.PI*2),g.strokeStyle=et,g.lineWidth=12,g.shadowColor="rgba(15,82,186, 0.7)",g.shadowBlur=20,g.stroke(),g.beginPath(),g.arc(T,R,L,0,Math.PI*2),g.strokeStyle="#0f52ba",g.lineWidth=6,g.shadowColor="#0f52ba",g.shadowBlur=10,g.stroke()};return B(),()=>{cancelAnimationFrame(s.current),g.clearRect(0,0,v,E)}},[t,n]),Y.jsx("canvas",{ref:e,width:300,height:300,style:{display:"block",margin:"40px auto"}})}let Zk={data:""},Jk=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||Zk,t4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,e4=/\/\*[^]*?\*\/|  +/g,wT=/\n+/g,sr=(n,t)=>{let e="",s="",a="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+c+";":s+=l[1]=="f"?sr(c,l):l+"{"+sr(c,l[1]=="k"?"":t)+"}":typeof c=="object"?s+=sr(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=sr.p?sr.p(l,c):l+":"+c+";")}return e+(t&&a?t+"{"+a+"}":a)+s},ls={},JA=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+JA(n[e]);return t}return n},n4=(n,t,e,s,a)=>{let l=JA(n),c=ls[l]||(ls[l]=(m=>{let g=0,v=11;for(;g<m.length;)v=101*v+m.charCodeAt(g++)>>>0;return"go"+v})(l));if(!ls[c]){let m=l!==n?n:(g=>{let v,E,T=[{}];for(;v=t4.exec(g.replace(e4,""));)v[4]?T.shift():v[3]?(E=v[3].replace(wT," ").trim(),T.unshift(T[0][E]=T[0][E]||{})):T[0][v[1]]=v[2].replace(wT," ").trim();return T[0]})(n);ls[c]=sr(a?{["@keyframes "+c]:m}:m,e?"":"."+c)}let d=e&&ls.g?ls.g:null;return e&&(ls.g=ls[c]),((m,g,v,E)=>{E?g.data=g.data.replace(E,m):g.data.indexOf(m)===-1&&(g.data=v?m+g.data:g.data+m)})(ls[c],t,s,d),c},i4=(n,t,e)=>n.reduce((s,a,l)=>{let c=t[l];if(c&&c.call){let d=c(e),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":sr(d,""):d===!1?"":d}return s+a+(c??"")},"");function ud(n){let t=this||{},e=n.call?n(t.p):n;return n4(e.unshift?e.raw?i4(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,Jk(t.target),t.g,t.o,t.k)}let tS,Og,Dg;ud.bind({g:1});let vs=ud.bind({k:1});function s4(n,t,e,s){sr.p=t,tS=n,Og=e,Dg=s}function Ir(n,t){let e=this||{};return function(){let s=arguments;function a(l,c){let d=Object.assign({},l),m=d.className||a.className;e.p=Object.assign({theme:Og&&Og()},d),e.o=/ *go\d+/.test(m),d.className=ud.apply(e,s)+(m?" "+m:"");let g=n;return n[0]&&(g=d.as||n,delete d.as),Dg&&g[0]&&Dg(d),tS(g,d)}return a}}var r4=n=>typeof n=="function",If=(n,t)=>r4(n)?n(t):n,a4=(()=>{let n=0;return()=>(++n).toString()})(),eS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),o4=20,nS=(n,t)=>{switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,o4)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:e}=t;return nS(n,{type:n.toasts.find(l=>l.id===e.id)?1:0,toast:e});case 3:let{toastId:s}=t;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let a=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},tf=[],da={toasts:[],pausedAt:void 0},Ca=n=>{da=nS(da,n),tf.forEach(t=>{t(da)})},l4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},u4=(n={})=>{let[t,e]=rt.useState(da),s=rt.useRef(da);rt.useEffect(()=>(s.current!==da&&e(da),tf.push(e),()=>{let l=tf.indexOf(e);l>-1&&tf.splice(l,1)}),[]);let a=t.toasts.map(l=>{var c,d,m;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((d=n[l.type])==null?void 0:d.duration)||(n==null?void 0:n.duration)||l4[l.type],style:{...n.style,...(m=n[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},c4=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||a4()}),oc=n=>(t,e)=>{let s=c4(t,n,e);return Ca({type:2,toast:s}),s.id},fn=(n,t)=>oc("blank")(n,t);fn.error=oc("error");fn.success=oc("success");fn.loading=oc("loading");fn.custom=oc("custom");fn.dismiss=n=>{Ca({type:3,toastId:n})};fn.remove=n=>Ca({type:4,toastId:n});fn.promise=(n,t,e)=>{let s=fn.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?If(t.success,a):void 0;return l?fn.success(l,{id:s,...e,...e==null?void 0:e.success}):fn.dismiss(s),a}).catch(a=>{let l=t.error?If(t.error,a):void 0;l?fn.error(l,{id:s,...e,...e==null?void 0:e.error}):fn.dismiss(s)}),n};var h4=(n,t)=>{Ca({type:1,toast:{id:n,height:t}})},f4=()=>{Ca({type:5,time:Date.now()})},Du=new Map,d4=1e3,m4=(n,t=d4)=>{if(Du.has(n))return;let e=setTimeout(()=>{Du.delete(n),Ca({type:4,toastId:n})},t);Du.set(n,e)},p4=n=>{let{toasts:t,pausedAt:e}=u4(n);rt.useEffect(()=>{if(e)return;let l=Date.now(),c=t.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(m<0){d.visible&&fn.dismiss(d.id);return}return setTimeout(()=>fn.dismiss(d.id),m)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[t,e]);let s=rt.useCallback(()=>{e&&Ca({type:6,time:Date.now()})},[e]),a=rt.useCallback((l,c)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:g}=c||{},v=t.filter(R=>(R.position||g)===(l.position||g)&&R.height),E=v.findIndex(R=>R.id===l.id),T=v.filter((R,L)=>L<E&&R.visible).length;return v.filter(R=>R.visible).slice(...d?[T+1]:[0,T]).reduce((R,L)=>R+(L.height||0)+m,0)},[t]);return rt.useEffect(()=>{t.forEach(l=>{if(l.dismissed)m4(l.id,l.removeDelay);else{let c=Du.get(l.id);c&&(clearTimeout(c),Du.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:h4,startPause:f4,endPause:s,calculateOffset:a}}},g4=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,y4=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v4=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_4=Ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${g4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${y4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${v4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,b4=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,E4=Ir("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${b4} 1s linear infinite;
`,T4=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,w4=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,A4=Ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${w4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,S4=Ir("div")`
  position: absolute;
`,R4=Ir("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,I4=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C4=Ir("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${I4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,x4=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?rt.createElement(C4,null,t):t:e==="blank"?null:rt.createElement(R4,null,rt.createElement(E4,{...s}),e!=="loading"&&rt.createElement(S4,null,e==="error"?rt.createElement(_4,{...s}):rt.createElement(A4,{...s})))},O4=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,D4=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,M4="0%{opacity:0;} 100%{opacity:1;}",N4="0%{opacity:1;} 100%{opacity:0;}",P4=Ir("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,k4=Ir("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,V4=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=eS()?[M4,N4]:[O4(e),D4(e)];return{animation:t?`${vs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},L4=rt.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?V4(n.position||t||"top-center",n.visible):{opacity:0},l=rt.createElement(x4,{toast:n}),c=rt.createElement(k4,{...n.ariaProps},If(n.message,n));return rt.createElement(P4,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:l,message:c}):rt.createElement(rt.Fragment,null,l,c))});s4(rt.createElement);var z4=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let l=rt.useCallback(c=>{if(c){let d=()=>{let m=c.getBoundingClientRect().height;s(n,m)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return rt.createElement("div",{ref:l,className:t,style:e},a)},U4=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},j4=ud`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jh=16,B4=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:m}=p4(e);return rt.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:jh,left:jh,right:jh,bottom:jh,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(g=>{let v=g.position||t,E=m.calculateOffset(g,{reverseOrder:n,gutter:s,defaultPosition:t}),T=U4(v,E);return rt.createElement(z4,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?j4:"",style:T},g.type==="custom"?If(g.message,g):a?a(g):rt.createElement(L4,{toast:g,position:v}))}))},F4=fn;function q4({voiceEnabled:n,setVoiceEnabled:t,user:e}){const s=()=>{if(!e&&!n){F4("Please sign in to enable voice.",{icon:Y.jsx("span",{style:{animation:"flash 1s infinite",fontSize:"20px"},children:"⬆️"})});return}t(!n)};return Y.jsxs("div",{className:"voice-toggle-wrapper",children:[Y.jsxs("label",{className:"toggle-switch",children:[Y.jsx("input",{type:"checkbox",checked:n,onChange:s}),Y.jsx("span",{className:"slider"})]}),Y.jsx("span",{className:"toggle-label",children:n?"Voice Enabled":"Voice Disabled"})]})}function H4(n,t){const[e,s]=rt.useState(!1),a=rt.useRef([]),l=rt.useRef(!1),c=rt.useRef(new Audio),d=async g=>{a.current.push(g),l.current||m()},m=async()=>{if(a.current.length===0){l.current=!1,s(!1);return}l.current=!0,s(!0);const g=a.current.shift();try{const v=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${t}`,{method:"POST",headers:{"xi-api-key":n,"Content-Type":"application/json"},body:JSON.stringify({text:g,voice_settings:{stability:.5,similarity_boost:.75}})});if(!v.ok){console.error("TTS error",await v.text()),m();return}const E=await v.blob(),T=URL.createObjectURL(E),R=c.current;R.src=T,R.onended=()=>m(),R.onerror=()=>m(),R.load(),await R.play()}catch(v){console.error("TTS playback error:",v),m()}};return{speakIncrementally:d,isSpeaking:e,audioRef:c}}function G4({onResult:n,onError:t,onStart:e,onEnd:s,enabled:a=!0}){const l=rt.useRef(null);return rt.useEffect(()=>{if(!a)return;const d=window.SpeechRecognition||window.webkitSpeechRecognition;if(!d){console.warn("Speech Recognition API not supported.");return}const m=new d;return m.lang="en-US",m.interimResults=!1,m.maxAlternatives=1,m.onresult=g=>{const v=g.results[0][0].transcript;n&&n(v)},m.onerror=g=>{console.error("Speech recognition error:",g.error),t&&t(g.error)},m.onstart=()=>{e&&e()},m.onend=()=>{s&&s()},l.current=m,()=>{m.stop(),l.current=null}},[a,n,t,e,s]),{startListening:()=>{l.current&&l.current.start()}}}async function Y4(n,t){t.trim()&&await XA(sl(On,"todos"),{uid:n,text:t.trim(),createdAt:new Date})}async function Q4(n){const t=ad(sl(On,"todos"),Yu("uid","==",n));return(await Jy(t)).docs.map(s=>({id:s.id,...s.data()}))}async function K4(n,t){const e=ad(sl(On,"todos"),Yu("uid","==",n),Yu("text","==",t.trim())),s=await Jy(e);let a=!1;for(const l of s.docs)await KA(l.ref),a=!0;return a}async function AT(n){const t=vr(On,"memories",n),e=await GA(t);return e.exists()?e.data():{facts:[]}}async function X4(n,t){const e=vr(On,"memories",n);await YA(e,t,{merge:!0})}async function $4({userText:n,chatHistory:t,voiceEnabled:e,speakFn:s,setAssistantText:a,setChatHistory:l,CEREBRAS_API_KEY:c,userProfile:d}){var m,g,v,E;try{const T=n.toLowerCase(),R=Ni.currentUser;if(R&&/\bto[- ]?do\b/i.test(T)){if(T.startsWith("add")){const ct=n.toLowerCase().match(/add\s(.+?)(\s(to|into)?\s(my)?\s?to[- ]?do(\slist)?)?$/i),D=((m=ct==null?void 0:ct[1])==null?void 0:m.trim())||n.replace(/add\s?/i,"").trim();await Y4(R.uid,D);const S=`I've added "${D}" to your to-do list.`;a(S),e&&await s(S);return}if(T.includes("list")){const ct=await Q4(R.uid),D=ct.length>0?`Here are your tasks: ${ct.map(S=>S.text).join(", ")}.`:"You have no tasks.";a(D),e&&await s(D);return}if(T.startsWith("delete")){const ct=n.replace(/delete (to[- ]?do)?/i,"").trim(),S=await K4(R.uid,ct)?`Deleted "${ct}".`:`Couldn't find "${ct}".`;a(S),e&&await s(S);return}}a("");let L="",H=[];if(R&&(H=(await AT(R.uid)).facts.map(D=>({role:"system",content:D}))),d!=null&&d.userName||d!=null&&d.assistantName){const ct=`
You are a helpful AI assistant named "${d.assistantName||"Assistant"}".
You are chatting with a user named "${d.userName||"User"}".
Always address the user by their name during the conversation when appropriate.
Respond in a friendly and conversational tone.
      `.trim();H.unshift({role:"system",content:ct})}const X=(await fetch("https://api.cerebras.ai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({model:"llama-4-scout-17b-16e-instruct",messages:[...H,...t,{role:"user",content:n}],stream:!0})})).body.getReader(),tt=new TextDecoder("utf-8");let et="",ft="";for(;;){const{value:ct,done:D}=await X.read();if(D)break;et+=tt.decode(ct,{stream:!0});const S=et.split(`
`).filter(Boolean);for(const I of S){if(!I.startsWith("data: "))continue;const N=I.replace("data: ","");try{const k=(E=(v=(g=JSON.parse(N).choices)==null?void 0:g[0])==null?void 0:v.delta)==null?void 0:E.content;k&&(a(x=>x+k),L+=k,ft+=k,(/[.!?]\s$/.test(ft)||ft.length>80)&&(e&&await s(ft.trim()),ft=""))}catch{console.warn("Skipping invalid JSON:",N)}}et=""}ft&&e&&await s(ft.trim());const ht=Date.now();if(l(ct=>[...ct,{role:"user",content:n,timestamp:ht},{role:"assistant",content:L.trim(),timestamp:ht}]),R){await XA(sl(On,"chats"),{uid:R.uid,userMessage:n,assistantMessage:L.trim(),timestamp:new Date});const ct=`${(d==null?void 0:d.userName)||"User"} said: "${n}". ${(d==null?void 0:d.assistantName)||"Assistant"} replied: "${L.trim()}"`,S=[...(await AT(R.uid)).facts.slice(-19),ct];await X4(R.uid,{facts:S})}}catch(T){console.error("❌ handleUserInput error:",T),a("Sorry, I had trouble understanding that.")}}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function W4(n,t,e){return(t=J4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ST(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function it(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(e),!0).forEach(function(s){W4(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ST(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function Z4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function J4(n){var t=Z4(n,"string");return typeof t=="symbol"?t:t+""}const RT=()=>{};let tv={},iS={},sS=null,rS={mark:RT,measure:RT};try{typeof window<"u"&&(tv=window),typeof document<"u"&&(iS=document),typeof MutationObserver<"u"&&(sS=MutationObserver),typeof performance<"u"&&(rS=performance)}catch{}const{userAgent:IT=""}=tv.navigator||{},_r=tv,oe=iS,CT=sS,Bh=rS;_r.document;const Ts=!!oe.documentElement&&!!oe.head&&typeof oe.addEventListener=="function"&&typeof oe.createElement=="function",aS=~IT.indexOf("MSIE")||~IT.indexOf("Trident/");var t6=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,e6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,oS={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},n6={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},lS=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],on="classic",cd="duotone",i6="sharp",s6="sharp-duotone",uS=[on,cd,i6,s6],r6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},a6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},o6=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),l6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},u6=["fak","fa-kit","fakd","fa-kit-duotone"],xT={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},c6=["kit"],h6={kit:{"fa-kit":"fak"}},f6=["fak","fakd"],d6={kit:{fak:"fa-kit"}},OT={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Fh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},m6=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],p6=["fak","fa-kit","fakd","fa-kit-duotone"],g6={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},y6={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},v6={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Mg={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},_6=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ng=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...m6,..._6],b6=["solid","regular","light","thin","duotone","brands"],cS=[1,2,3,4,5,6,7,8,9,10],E6=cS.concat([11,12,13,14,15,16,17,18,19,20]),T6=[...Object.keys(v6),...b6,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Fh.GROUP,Fh.SWAP_OPACITY,Fh.PRIMARY,Fh.SECONDARY].concat(cS.map(n=>"".concat(n,"x"))).concat(E6.map(n=>"w-".concat(n))),w6={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const _s="___FONT_AWESOME___",Pg=16,hS="fa",fS="svg-inline--fa",wa="data-fa-i2svg",kg="data-fa-pseudo-element",A6="data-fa-pseudo-element-pending",ev="data-prefix",nv="data-icon",DT="fontawesome-i2svg",S6="async",R6=["HTML","HEAD","STYLE","SCRIPT"],dS=(()=>{try{return!0}catch{return!1}})();function lc(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[on]}})}const mS=it({},oS);mS[on]=it(it(it(it({},{"fa-duotone":"duotone"}),oS[on]),xT.kit),xT["kit-duotone"]);const I6=lc(mS),Vg=it({},l6);Vg[on]=it(it(it(it({},{duotone:"fad"}),Vg[on]),OT.kit),OT["kit-duotone"]);const MT=lc(Vg),Lg=it({},Mg);Lg[on]=it(it({},Lg[on]),d6.kit);const iv=lc(Lg),zg=it({},y6);zg[on]=it(it({},zg[on]),h6.kit);lc(zg);const C6=t6,pS="fa-layers-text",x6=e6,O6=it({},r6);lc(O6);const D6=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Gp=n6,M6=[...c6,...T6],Mu=_r.FontAwesomeConfig||{};function N6(n){var t=oe.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function P6(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}oe&&typeof oe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,s]=t;const a=P6(N6(e));a!=null&&(Mu[s]=a)});const gS={styleDefault:"solid",familyDefault:on,cssPrefix:hS,replacementClass:fS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Mu.familyPrefix&&(Mu.cssPrefix=Mu.familyPrefix);const Xo=it(it({},gS),Mu);Xo.autoReplaceSvg||(Xo.observeMutations=!1);const gt={};Object.keys(gS).forEach(n=>{Object.defineProperty(gt,n,{enumerable:!0,set:function(t){Xo[n]=t,Nu.forEach(e=>e(gt))},get:function(){return Xo[n]}})});Object.defineProperty(gt,"familyPrefix",{enumerable:!0,set:function(n){Xo.cssPrefix=n,Nu.forEach(t=>t(gt))},get:function(){return Xo.cssPrefix}});_r.FontAwesomeConfig=gt;const Nu=[];function k6(n){return Nu.push(n),()=>{Nu.splice(Nu.indexOf(n),1)}}const Js=Pg,Si={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function V6(n){if(!n||!Ts)return;const t=oe.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;const e=oe.head.childNodes;let s=null;for(let a=e.length-1;a>-1;a--){const l=e[a],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(s=l)}return oe.head.insertBefore(t,s),n}const L6="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Qu(){let n=12,t="";for(;n-- >0;)t+=L6[Math.random()*62|0];return t}function rl(n){const t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function sv(n){return n.classList?rl(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function yS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z6(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(yS(n[e]),'" '),"").trim()}function hd(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function rv(n){return n.size!==Si.size||n.x!==Si.x||n.y!==Si.y||n.rotate!==Si.rotate||n.flipX||n.flipY}function U6(n){let{transform:t,containerWidth:e,iconWidth:s}=n;const a={transform:"translate(".concat(e/2," 256)")},l="translate(".concat(t.x*32,", ").concat(t.y*32,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)"),m={transform:"".concat(l," ").concat(c," ").concat(d)},g={transform:"translate(".concat(s/2*-1," -256)")};return{outer:a,inner:m,path:g}}function j6(n){let{transform:t,width:e=Pg,height:s=Pg,startCentered:a=!1}=n,l="";return a&&aS?l+="translate(".concat(t.x/Js-e/2,"em, ").concat(t.y/Js-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Js,"em), calc(-50% + ").concat(t.y/Js,"em)) "):l+="translate(".concat(t.x/Js,"em, ").concat(t.y/Js,"em) "),l+="scale(".concat(t.size/Js*(t.flipX?-1:1),", ").concat(t.size/Js*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var B6=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function vS(){const n=hS,t=fS,e=gt.cssPrefix,s=gt.replacementClass;let a=B6;if(e!==n||s!==t){const l=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");a=a.replace(l,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(d,".".concat(s))}return a}let NT=!1;function Yp(){gt.autoAddCss&&!NT&&(V6(vS()),NT=!0)}var F6={mixout(){return{dom:{css:vS,insertCss:Yp}}},hooks(){return{beforeDOMElementCreation(){Yp()},beforeI2svg(){Yp()}}}};const bs=_r||{};bs[_s]||(bs[_s]={});bs[_s].styles||(bs[_s].styles={});bs[_s].hooks||(bs[_s].hooks={});bs[_s].shims||(bs[_s].shims=[]);var Ri=bs[_s];const _S=[],bS=function(){oe.removeEventListener("DOMContentLoaded",bS),Cf=1,_S.map(n=>n())};let Cf=!1;Ts&&(Cf=(oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(oe.readyState),Cf||oe.addEventListener("DOMContentLoaded",bS));function q6(n){Ts&&(Cf?setTimeout(n,0):_S.push(n))}function uc(n){const{tag:t,attributes:e={},children:s=[]}=n;return typeof n=="string"?yS(n):"<".concat(t," ").concat(z6(e),">").concat(s.map(uc).join(""),"</").concat(t,">")}function PT(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var Qp=function(t,e,s,a){var l=Object.keys(t),c=l.length,d=e,m,g,v;for(s===void 0?(m=1,v=t[l[0]]):(m=0,v=s);m<c;m++)g=l[m],v=d(v,t[g],g,t);return v};function H6(n){const t=[];let e=0;const s=n.length;for(;e<s;){const a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<s){const l=n.charCodeAt(e++);(l&64512)==56320?t.push(((a&1023)<<10)+(l&1023)+65536):(t.push(a),e--)}else t.push(a)}return t}function Ug(n){const t=H6(n);return t.length===1?t[0].toString(16):null}function G6(n,t){const e=n.length;let s=n.charCodeAt(t),a;return s>=55296&&s<=56319&&e>t+1&&(a=n.charCodeAt(t+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}function kT(n){return Object.keys(n).reduce((t,e)=>{const s=n[e];return!!s.icon?t[s.iconName]=s.icon:t[e]=s,t},{})}function jg(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:s=!1}=e,a=kT(t);typeof Ri.hooks.addPack=="function"&&!s?Ri.hooks.addPack(n,kT(t)):Ri.styles[n]=it(it({},Ri.styles[n]||{}),a),n==="fas"&&jg("fa",t)}const{styles:Ku,shims:Y6}=Ri,ES=Object.keys(iv),Q6=ES.reduce((n,t)=>(n[t]=Object.keys(iv[t]),n),{});let av=null,TS={},wS={},AS={},SS={},RS={};function K6(n){return~M6.indexOf(n)}function X6(n,t){const e=t.split("-"),s=e[0],a=e.slice(1).join("-");return s===n&&a!==""&&!K6(a)?a:null}const IS=()=>{const n=s=>Qp(Ku,(a,l,c)=>(a[c]=Qp(l,s,{}),a),{});TS=n((s,a,l)=>(a[3]&&(s[a[3]]=l),a[2]&&a[2].filter(d=>typeof d=="number").forEach(d=>{s[d.toString(16)]=l}),s)),wS=n((s,a,l)=>(s[l]=l,a[2]&&a[2].filter(d=>typeof d=="string").forEach(d=>{s[d]=l}),s)),RS=n((s,a,l)=>{const c=a[2];return s[l]=l,c.forEach(d=>{s[d]=l}),s});const t="far"in Ku||gt.autoFetchSvg,e=Qp(Y6,(s,a)=>{const l=a[0];let c=a[1];const d=a[2];return c==="far"&&!t&&(c="fas"),typeof l=="string"&&(s.names[l]={prefix:c,iconName:d}),typeof l=="number"&&(s.unicodes[l.toString(16)]={prefix:c,iconName:d}),s},{names:{},unicodes:{}});AS=e.names,SS=e.unicodes,av=fd(gt.styleDefault,{family:gt.familyDefault})};k6(n=>{av=fd(n.styleDefault,{family:gt.familyDefault})});IS();function ov(n,t){return(TS[n]||{})[t]}function $6(n,t){return(wS[n]||{})[t]}function ma(n,t){return(RS[n]||{})[t]}function CS(n){return AS[n]||{prefix:null,iconName:null}}function W6(n){const t=SS[n],e=ov("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function br(){return av}const xS=()=>({prefix:null,iconName:null,rest:[]});function Z6(n){let t=on;const e=ES.reduce((s,a)=>(s[a]="".concat(gt.cssPrefix,"-").concat(a),s),{});return uS.forEach(s=>{(n.includes(e[s])||n.some(a=>Q6[s].includes(a)))&&(t=s)}),t}function fd(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=on}=t,s=I6[e][n];if(e===cd&&!n)return"fad";const a=MT[e][n]||MT[e][s],l=n in Ri.styles?n:null;return a||l||null}function J6(n){let t=[],e=null;return n.forEach(s=>{const a=X6(gt.cssPrefix,s);a?e=a:s&&t.push(s)}),{iconName:e,rest:t}}function VT(n){return n.sort().filter((t,e,s)=>s.indexOf(t)===e)}function dd(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let s=null;const a=Ng.concat(p6),l=VT(n.filter(E=>a.includes(E))),c=VT(n.filter(E=>!Ng.includes(E))),d=l.filter(E=>(s=E,!lS.includes(E))),[m=null]=d,g=Z6(l),v=it(it({},J6(c)),{},{prefix:fd(m,{family:g})});return it(it(it({},v),i3({values:n,family:g,styles:Ku,config:gt,canonical:v,givenPrefix:s})),t3(e,s,v))}function t3(n,t,e){let{prefix:s,iconName:a}=e;if(n||!s||!a)return{prefix:s,iconName:a};const l=t==="fa"?CS(a):{},c=ma(s,a);return a=l.iconName||c||a,s=l.prefix||s,s==="far"&&!Ku.far&&Ku.fas&&!gt.autoFetchSvg&&(s="fas"),{prefix:s,iconName:a}}const e3=uS.filter(n=>n!==on||n!==cd),n3=Object.keys(Mg).filter(n=>n!==on).map(n=>Object.keys(Mg[n])).flat();function i3(n){const{values:t,family:e,canonical:s,givenPrefix:a="",styles:l={},config:c={}}=n,d=e===cd,m=t.includes("fa-duotone")||t.includes("fad"),g=c.familyDefault==="duotone",v=s.prefix==="fad"||s.prefix==="fa-duotone";if(!d&&(m||g||v)&&(s.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(s.prefix="fab"),!s.prefix&&e3.includes(e)&&(Object.keys(l).find(T=>n3.includes(T))||c.autoFetchSvg)){const T=o6.get(e).defaultShortPrefixId;s.prefix=T,s.iconName=ma(s.prefix,s.iconName)||s.iconName}return(s.prefix==="fa"||a==="fa")&&(s.prefix=br()||"fas"),s}class s3{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const a=e.reduce(this._pullDefinitions,{});Object.keys(a).forEach(l=>{this.definitions[l]=it(it({},this.definitions[l]||{}),a[l]),jg(l,a[l]);const c=iv[on][l];c&&jg(c,a[l]),IS()})}reset(){this.definitions={}}_pullDefinitions(t,e){const s=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(s).map(a=>{const{prefix:l,iconName:c,icon:d}=s[a],m=d[2];t[l]||(t[l]={}),m.length>0&&m.forEach(g=>{typeof g=="string"&&(t[l][g]=d)}),t[l][c]=d}),t}}let LT=[],Oo={};const zo={},r3=Object.keys(zo);function a3(n,t){let{mixoutsTo:e}=t;return LT=n,Oo={},Object.keys(zo).forEach(s=>{r3.indexOf(s)===-1&&delete zo[s]}),LT.forEach(s=>{const a=s.mixout?s.mixout():{};if(Object.keys(a).forEach(l=>{typeof a[l]=="function"&&(e[l]=a[l]),typeof a[l]=="object"&&Object.keys(a[l]).forEach(c=>{e[l]||(e[l]={}),e[l][c]=a[l][c]})}),s.hooks){const l=s.hooks();Object.keys(l).forEach(c=>{Oo[c]||(Oo[c]=[]),Oo[c].push(l[c])})}s.provides&&s.provides(zo)}),e}function Bg(n,t){for(var e=arguments.length,s=new Array(e>2?e-2:0),a=2;a<e;a++)s[a-2]=arguments[a];return(Oo[n]||[]).forEach(c=>{t=c.apply(null,[t,...s])}),t}function Aa(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];(Oo[n]||[]).forEach(l=>{l.apply(null,e)})}function Er(){const n=arguments[0],t=Array.prototype.slice.call(arguments,1);return zo[n]?zo[n].apply(null,t):void 0}function Fg(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n;const e=n.prefix||br();if(t)return t=ma(e,t)||t,PT(OS.definitions,e,t)||PT(Ri.styles,e,t)}const OS=new s3,o3=()=>{gt.autoReplaceSvg=!1,gt.observeMutations=!1,Aa("noAuto")},l3={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ts?(Aa("beforeI2svg",n),Er("pseudoElements2svg",n),Er("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=n;gt.autoReplaceSvg===!1&&(gt.autoReplaceSvg=!0),gt.observeMutations=!0,q6(()=>{c3({autoReplaceSvgRoot:t}),Aa("watch",n)})}},u3={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:ma(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=fd(n[0]);return{prefix:e,iconName:ma(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(gt.cssPrefix,"-"))>-1||n.match(C6))){const t=dd(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||br(),iconName:ma(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){const t=br();return{prefix:t,iconName:ma(t,n)||n}}}},Dn={noAuto:o3,config:gt,dom:l3,parse:u3,library:OS,findIconDefinition:Fg,toHtml:uc},c3=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=oe}=n;(Object.keys(Ri.styles).length>0||gt.autoFetchSvg)&&Ts&&gt.autoReplaceSvg&&Dn.dom.i2svg({node:t})};function md(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>uc(e))}}),Object.defineProperty(n,"node",{get:function(){if(!Ts)return;const e=oe.createElement("div");return e.innerHTML=n.html,e.children}}),n}function h3(n){let{children:t,main:e,mask:s,attributes:a,styles:l,transform:c}=n;if(rv(c)&&e.found&&!s.found){const{width:d,height:m}=e,g={x:d/m/2,y:.5};a.style=hd(it(it({},l),{},{"transform-origin":"".concat(g.x+c.x/16,"em ").concat(g.y+c.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}function f3(n){let{prefix:t,iconName:e,children:s,attributes:a,symbol:l}=n;const c=l===!0?"".concat(t,"-").concat(gt.cssPrefix,"-").concat(e):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:it(it({},a),{},{id:c}),children:s}]}]}function lv(n){const{icons:{main:t,mask:e},prefix:s,iconName:a,transform:l,symbol:c,title:d,maskId:m,titleId:g,extra:v,watchable:E=!1}=n,{width:T,height:R}=e.found?e:t,L=f6.includes(s),H=[gt.replacementClass,a?"".concat(gt.cssPrefix,"-").concat(a):""].filter(ht=>v.classes.indexOf(ht)===-1).filter(ht=>ht!==""||!!ht).concat(v.classes).join(" ");let B={children:[],attributes:it(it({},v.attributes),{},{"data-prefix":s,"data-icon":a,class:H,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(R)})};const X=L&&!~v.classes.indexOf("fa-fw")?{width:"".concat(T/R*16*.0625,"em")}:{};E&&(B.attributes[wa]=""),d&&(B.children.push({tag:"title",attributes:{id:B.attributes["aria-labelledby"]||"title-".concat(g||Qu())},children:[d]}),delete B.attributes.title);const tt=it(it({},B),{},{prefix:s,iconName:a,main:t,mask:e,maskId:m,transform:l,symbol:c,styles:it(it({},X),v.styles)}),{children:et,attributes:ft}=e.found&&t.found?Er("generateAbstractMask",tt)||{children:[],attributes:{}}:Er("generateAbstractIcon",tt)||{children:[],attributes:{}};return tt.children=et,tt.attributes=ft,c?f3(tt):h3(tt)}function zT(n){const{content:t,width:e,height:s,transform:a,title:l,extra:c,watchable:d=!1}=n,m=it(it(it({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});d&&(m[wa]="");const g=it({},c.styles);rv(a)&&(g.transform=j6({transform:a,startCentered:!0,width:e,height:s}),g["-webkit-transform"]=g.transform);const v=hd(g);v.length>0&&(m.style=v);const E=[];return E.push({tag:"span",attributes:m,children:[t]}),l&&E.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),E}function d3(n){const{content:t,title:e,extra:s}=n,a=it(it(it({},s.attributes),e?{title:e}:{}),{},{class:s.classes.join(" ")}),l=hd(s.styles);l.length>0&&(a.style=l);const c=[];return c.push({tag:"span",attributes:a,children:[t]}),e&&c.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),c}const{styles:Kp}=Ri;function qg(n){const t=n[0],e=n[1],[s]=n.slice(4);let a=null;return Array.isArray(s)?a={tag:"g",attributes:{class:"".concat(gt.cssPrefix,"-").concat(Gp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(gt.cssPrefix,"-").concat(Gp.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(gt.cssPrefix,"-").concat(Gp.PRIMARY),fill:"currentColor",d:s[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:e,icon:a}}const m3={found:!1,width:512,height:512};function p3(n,t){!dS&&!gt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function Hg(n,t){let e=t;return t==="fa"&&gt.styleDefault!==null&&(t=br()),new Promise((s,a)=>{if(e==="fa"){const l=CS(n)||{};n=l.iconName||n,t=l.prefix||t}if(n&&t&&Kp[t]&&Kp[t][n]){const l=Kp[t][n];return s(qg(l))}p3(n,t),s(it(it({},m3),{},{icon:gt.showMissingIcons&&n?Er("missingIconAbstract")||{}:{}}))})}const UT=()=>{},Gg=gt.measurePerformance&&Bh&&Bh.mark&&Bh.measure?Bh:{mark:UT,measure:UT},Tu='FA "6.7.2"',g3=n=>(Gg.mark("".concat(Tu," ").concat(n," begins")),()=>DS(n)),DS=n=>{Gg.mark("".concat(Tu," ").concat(n," ends")),Gg.measure("".concat(Tu," ").concat(n),"".concat(Tu," ").concat(n," begins"),"".concat(Tu," ").concat(n," ends"))};var uv={begin:g3,end:DS};const ef=()=>{};function jT(n){return typeof(n.getAttribute?n.getAttribute(wa):null)=="string"}function y3(n){const t=n.getAttribute?n.getAttribute(ev):null,e=n.getAttribute?n.getAttribute(nv):null;return t&&e}function v3(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(gt.replacementClass)}function _3(){return gt.autoReplaceSvg===!0?nf.replace:nf[gt.autoReplaceSvg]||nf.replace}function b3(n){return oe.createElementNS("http://www.w3.org/2000/svg",n)}function E3(n){return oe.createElement(n)}function MS(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=n.tag==="svg"?b3:E3}=t;if(typeof n=="string")return oe.createTextNode(n);const s=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){s.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){s.appendChild(MS(l,{ceFn:e}))}),s}function T3(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const nf={replace:function(n){const t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(MS(e),t)}),t.getAttribute(wa)===null&&gt.keepOriginalSource){let e=oe.createComment(T3(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){const t=n[0],e=n[1];if(~sv(t).indexOf(gt.replacementClass))return nf.replace(n);const s=new RegExp("".concat(gt.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const l=e[0].attributes.class.split(" ").reduce((c,d)=>(d===gt.replacementClass||d.match(s)?c.toSvg.push(d):c.toNode.push(d),c),{toNode:[],toSvg:[]});e[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",l.toNode.join(" "))}const a=e.map(l=>uc(l)).join(`
`);t.setAttribute(wa,""),t.innerHTML=a}};function BT(n){n()}function NS(n,t){const e=typeof t=="function"?t:ef;if(n.length===0)e();else{let s=BT;gt.mutateApproach===S6&&(s=_r.requestAnimationFrame||BT),s(()=>{const a=_3(),l=uv.begin("mutate");n.map(a),l(),e()})}}let cv=!1;function PS(){cv=!0}function Yg(){cv=!1}let xf=null;function FT(n){if(!CT||!gt.observeMutations)return;const{treeCallback:t=ef,nodeCallback:e=ef,pseudoElementsCallback:s=ef,observeMutationsRoot:a=oe}=n;xf=new CT(l=>{if(cv)return;const c=br();rl(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!jT(d.addedNodes[0])&&(gt.searchPseudoElements&&s(d.target),t(d.target)),d.type==="attributes"&&d.target.parentNode&&gt.searchPseudoElements&&s(d.target.parentNode),d.type==="attributes"&&jT(d.target)&&~D6.indexOf(d.attributeName))if(d.attributeName==="class"&&y3(d.target)){const{prefix:m,iconName:g}=dd(sv(d.target));d.target.setAttribute(ev,m||c),g&&d.target.setAttribute(nv,g)}else v3(d.target)&&e(d.target)})}),Ts&&xf.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function w3(){xf&&xf.disconnect()}function A3(n){const t=n.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((s,a)=>{const l=a.split(":"),c=l[0],d=l.slice(1);return c&&d.length>0&&(s[c]=d.join(":").trim()),s},{})),e}function S3(n){const t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),s=n.innerText!==void 0?n.innerText.trim():"";let a=dd(sv(n));return a.prefix||(a.prefix=br()),t&&e&&(a.prefix=t,a.iconName=e),a.iconName&&a.prefix||(a.prefix&&s.length>0&&(a.iconName=$6(a.prefix,n.innerText)||ov(a.prefix,Ug(n.innerText))),!a.iconName&&gt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=n.firstChild.data)),a}function R3(n){const t=rl(n.attributes).reduce((a,l)=>(a.name!=="class"&&a.name!=="style"&&(a[l.name]=l.value),a),{}),e=n.getAttribute("title"),s=n.getAttribute("data-fa-title-id");return gt.autoA11y&&(e?t["aria-labelledby"]="".concat(gt.replacementClass,"-title-").concat(s||Qu()):(t["aria-hidden"]="true",t.focusable="false")),t}function I3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Si,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function qT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:s,rest:a}=S3(n),l=R3(n),c=Bg("parseNodeAttributes",{},n);let d=t.styleParser?A3(n):[];return it({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:s,transform:Si,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:d,attributes:l}},c)}const{styles:C3}=Ri;function kS(n){const t=gt.autoReplaceSvg==="nest"?qT(n,{styleParser:!1}):qT(n);return~t.extra.classes.indexOf(pS)?Er("generateLayersText",n,t):Er("generateSvgReplacementMutation",n,t)}function x3(){return[...u6,...Ng]}function HT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ts)return Promise.resolve();const e=oe.documentElement.classList,s=v=>e.add("".concat(DT,"-").concat(v)),a=v=>e.remove("".concat(DT,"-").concat(v)),l=gt.autoFetchSvg?x3():lS.concat(Object.keys(C3));l.includes("fa")||l.push("fa");const c=[".".concat(pS,":not([").concat(wa,"])")].concat(l.map(v=>".".concat(v,":not([").concat(wa,"])"))).join(", ");if(c.length===0)return Promise.resolve();let d=[];try{d=rl(n.querySelectorAll(c))}catch{}if(d.length>0)s("pending"),a("complete");else return Promise.resolve();const m=uv.begin("onTree"),g=d.reduce((v,E)=>{try{const T=kS(E);T&&v.push(T)}catch(T){dS||T.name==="MissingIcon"&&console.error(T)}return v},[]);return new Promise((v,E)=>{Promise.all(g).then(T=>{NS(T,()=>{s("active"),s("complete"),a("pending"),typeof t=="function"&&t(),m(),v()})}).catch(T=>{m(),E(T)})})}function O3(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;kS(n).then(e=>{e&&NS([e],t)})}function D3(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(t||{}).icon?t:Fg(t||{});let{mask:a}=e;return a&&(a=(a||{}).icon?a:Fg(a||{})),n(s,it(it({},e),{},{mask:a}))}}const M3=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=Si,symbol:s=!1,mask:a=null,maskId:l=null,title:c=null,titleId:d=null,classes:m=[],attributes:g={},styles:v={}}=t;if(!n)return;const{prefix:E,iconName:T,icon:R}=n;return md(it({type:"icon"},n),()=>(Aa("beforeDOMElementCreation",{iconDefinition:n,params:t}),gt.autoA11y&&(c?g["aria-labelledby"]="".concat(gt.replacementClass,"-title-").concat(d||Qu()):(g["aria-hidden"]="true",g.focusable="false")),lv({icons:{main:qg(R),mask:a?qg(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:T,transform:it(it({},Si),e),symbol:s,title:c,maskId:l,titleId:d,extra:{attributes:g,styles:v,classes:m}})))};var N3={mixout(){return{icon:D3(M3)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=HT,n.nodeCallback=O3,n}}},provides(n){n.i2svg=function(t){const{node:e=oe,callback:s=()=>{}}=t;return HT(e,s)},n.generateSvgReplacementMutation=function(t,e){const{iconName:s,title:a,titleId:l,prefix:c,transform:d,symbol:m,mask:g,maskId:v,extra:E}=e;return new Promise((T,R)=>{Promise.all([Hg(s,c),g.iconName?Hg(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(L=>{let[H,B]=L;T([t,lv({icons:{main:H,mask:B},prefix:c,iconName:s,transform:d,symbol:m,maskId:v,title:a,titleId:l,extra:E,watchable:!0})])}).catch(R)})},n.generateAbstractIcon=function(t){let{children:e,attributes:s,main:a,transform:l,styles:c}=t;const d=hd(c);d.length>0&&(s.style=d);let m;return rv(l)&&(m=Er("generateAbstractTransformGrouping",{main:a,transform:l,containerWidth:a.width,iconWidth:a.width})),e.push(m||a.icon),{children:e,attributes:s}}}},P3={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return md({type:"layer"},()=>{Aa("beforeDOMElementCreation",{assembler:n,params:t});let s=[];return n(a=>{Array.isArray(a)?a.map(l=>{s=s.concat(l.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(gt.cssPrefix,"-layers"),...e].join(" ")},children:s}]})}}}},k3={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:s=[],attributes:a={},styles:l={}}=t;return md({type:"counter",content:n},()=>(Aa("beforeDOMElementCreation",{content:n,params:t}),d3({content:n.toString(),title:e,extra:{attributes:a,styles:l,classes:["".concat(gt.cssPrefix,"-layers-counter"),...s]}})))}}}},V3={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=Si,title:s=null,classes:a=[],attributes:l={},styles:c={}}=t;return md({type:"text",content:n},()=>(Aa("beforeDOMElementCreation",{content:n,params:t}),zT({content:n,transform:it(it({},Si),e),title:s,extra:{attributes:l,styles:c,classes:["".concat(gt.cssPrefix,"-layers-text"),...a]}})))}}},provides(n){n.generateLayersText=function(t,e){const{title:s,transform:a,extra:l}=e;let c=null,d=null;if(aS){const m=parseInt(getComputedStyle(t).fontSize,10),g=t.getBoundingClientRect();c=g.width/m,d=g.height/m}return gt.autoA11y&&!s&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,zT({content:t.innerHTML,width:c,height:d,transform:a,title:s,extra:l,watchable:!0})])}}};const L3=new RegExp('"',"ug"),GT=[1105920,1112319],YT=it(it(it(it({},{FontAwesome:{normal:"fas",400:"fas"}}),a6),w6),g6),Qg=Object.keys(YT).reduce((n,t)=>(n[t.toLowerCase()]=YT[t],n),{}),z3=Object.keys(Qg).reduce((n,t)=>{const e=Qg[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function U3(n){const t=n.replace(L3,""),e=G6(t,0),s=e>=GT[0]&&e<=GT[1],a=t.length===2?t[0]===t[1]:!1;return{value:Ug(a?t[0]:t),isSecondary:s||a}}function j3(n,t){const e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(t),a=isNaN(s)?"normal":s;return(Qg[e]||{})[a]||z3[e]}function QT(n,t){const e="".concat(A6).concat(t.replace(":","-"));return new Promise((s,a)=>{if(n.getAttribute(e)!==null)return s();const c=rl(n.children).filter(T=>T.getAttribute(kg)===t)[0],d=_r.getComputedStyle(n,t),m=d.getPropertyValue("font-family"),g=m.match(x6),v=d.getPropertyValue("font-weight"),E=d.getPropertyValue("content");if(c&&!g)return n.removeChild(c),s();if(g&&E!=="none"&&E!==""){const T=d.getPropertyValue("content");let R=j3(m,v);const{value:L,isSecondary:H}=U3(T),B=g[0].startsWith("FontAwesome");let X=ov(R,L),tt=X;if(B){const et=W6(L);et.iconName&&et.prefix&&(X=et.iconName,R=et.prefix)}if(X&&!H&&(!c||c.getAttribute(ev)!==R||c.getAttribute(nv)!==tt)){n.setAttribute(e,tt),c&&n.removeChild(c);const et=I3(),{extra:ft}=et;ft.attributes[kg]=t,Hg(X,R).then(ht=>{const ct=lv(it(it({},et),{},{icons:{main:ht,mask:xS()},prefix:R,iconName:tt,extra:ft,watchable:!0})),D=oe.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(D,n.firstChild):n.appendChild(D),D.outerHTML=ct.map(S=>uc(S)).join(`
`),n.removeAttribute(e),s()}).catch(a)}else s()}else s()})}function B3(n){return Promise.all([QT(n,"::before"),QT(n,"::after")])}function F3(n){return n.parentNode!==document.head&&!~R6.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(kg)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function KT(n){if(Ts)return new Promise((t,e)=>{const s=rl(n.querySelectorAll("*")).filter(F3).map(B3),a=uv.begin("searchPseudoElements");PS(),Promise.all(s).then(()=>{a(),Yg(),t()}).catch(()=>{a(),Yg(),e()})})}var q3={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=KT,n}}},provides(n){n.pseudoElements2svg=function(t){const{node:e=oe}=t;gt.searchPseudoElements&&KT(e)}}};let XT=!1;var H3={mixout(){return{dom:{unwatch(){PS(),XT=!0}}}},hooks(){return{bootstrap(){FT(Bg("mutationObserverCallbacks",{}))},noAuto(){w3()},watch(n){const{observeMutationsRoot:t}=n;XT?Yg():FT(Bg("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const $T=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,s)=>{const a=s.toLowerCase().split("-"),l=a[0];let c=a.slice(1).join("-");if(l&&c==="h")return e.flipX=!0,e;if(l&&c==="v")return e.flipY=!0,e;if(c=parseFloat(c),isNaN(c))return e;switch(l){case"grow":e.size=e.size+c;break;case"shrink":e.size=e.size-c;break;case"left":e.x=e.x-c;break;case"right":e.x=e.x+c;break;case"up":e.y=e.y-c;break;case"down":e.y=e.y+c;break;case"rotate":e.rotate=e.rotate+c;break}return e},t)};var G3={mixout(){return{parse:{transform:n=>$T(n)}}},hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-transform");return e&&(n.transform=$T(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:s,containerWidth:a,iconWidth:l}=t;const c={transform:"translate(".concat(a/2," 256)")},d="translate(".concat(s.x*32,", ").concat(s.y*32,") "),m="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),g="rotate(".concat(s.rotate," 0 0)"),v={transform:"".concat(d," ").concat(m," ").concat(g)},E={transform:"translate(".concat(l/2*-1," -256)")},T={outer:c,inner:v,path:E};return{tag:"g",attributes:it({},T.outer),children:[{tag:"g",attributes:it({},T.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:it(it({},e.icon.attributes),T.path)}]}]}}}};const Xp={x:0,y:0,width:"100%",height:"100%"};function WT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function Y3(n){return n.tag==="g"?n.children:[n]}var Q3={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-mask"),s=e?dd(e.split(" ").map(a=>a.trim())):xS();return s.prefix||(s.prefix=br()),n.mask=s,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:s,main:a,mask:l,maskId:c,transform:d}=t;const{width:m,icon:g}=a,{width:v,icon:E}=l,T=U6({transform:d,containerWidth:v,iconWidth:m}),R={tag:"rect",attributes:it(it({},Xp),{},{fill:"white"})},L=g.children?{children:g.children.map(WT)}:{},H={tag:"g",attributes:it({},T.inner),children:[WT(it({tag:g.tag,attributes:it(it({},g.attributes),T.path)},L))]},B={tag:"g",attributes:it({},T.outer),children:[H]},X="mask-".concat(c||Qu()),tt="clip-".concat(c||Qu()),et={tag:"mask",attributes:it(it({},Xp),{},{id:X,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,B]},ft={tag:"defs",children:[{tag:"clipPath",attributes:{id:tt},children:Y3(E)},et]};return e.push(ft,{tag:"rect",attributes:it({fill:"currentColor","clip-path":"url(#".concat(tt,")"),mask:"url(#".concat(X,")")},Xp)}),{children:e,attributes:s}}}},K3={provides(n){let t=!1;_r.matchMedia&&(t=_r.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const e=[],s={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:it(it({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=it(it({},a),{},{attributeName:"opacity"}),c={tag:"circle",attributes:it(it({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||c.children.push({tag:"animate",attributes:it(it({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:it(it({},l),{},{values:"1;0;1;1;0;1;"})}),e.push(c),e.push({tag:"path",attributes:it(it({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:it(it({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:it(it({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:it(it({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},X3={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-symbol"),s=e===null?!1:e===""?!0:e;return n.symbol=s,n}}}},$3=[F6,N3,P3,k3,V3,q3,H3,G3,Q3,K3,X3];a3($3,{mixoutsTo:Dn});Dn.noAuto;Dn.config;Dn.library;Dn.dom;const Kg=Dn.parse;Dn.findIconDefinition;Dn.toHtml;const W3=Dn.icon;Dn.layer;Dn.text;Dn.counter;var $p={exports:{}},Wp,ZT;function Z3(){if(ZT)return Wp;ZT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wp=n,Wp}var Zp,JT;function J3(){if(JT)return Zp;JT=1;var n=Z3();function t(){}function e(){}return e.resetWarningCache=t,Zp=function(){function s(c,d,m,g,v,E){if(E!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},Zp}var t1;function tV(){return t1||(t1=1,$p.exports=J3()()),$p.exports}var eV=tV();const Vt=s1(eV);function e1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function Ai(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(e),!0).forEach(function(s){Do(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):e1(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function Of(n){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(n)}function Do(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nV(n,t){if(n==null)return{};var e={},s=Object.keys(n),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function iV(n,t){if(n==null)return{};var e=nV(n,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(e[s]=n[s])}return e}function Xg(n){return sV(n)||rV(n)||aV(n)||oV()}function sV(n){if(Array.isArray(n))return $g(n)}function rV(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function aV(n,t){if(n){if(typeof n=="string")return $g(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $g(n,t)}}function $g(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}function oV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lV(n){var t,e=n.beat,s=n.fade,a=n.beatFade,l=n.bounce,c=n.shake,d=n.flash,m=n.spin,g=n.spinPulse,v=n.spinReverse,E=n.pulse,T=n.fixedWidth,R=n.inverse,L=n.border,H=n.listItem,B=n.flip,X=n.size,tt=n.rotation,et=n.pull,ft=(t={"fa-beat":e,"fa-fade":s,"fa-beat-fade":a,"fa-bounce":l,"fa-shake":c,"fa-flash":d,"fa-spin":m,"fa-spin-reverse":v,"fa-spin-pulse":g,"fa-pulse":E,"fa-fw":T,"fa-inverse":R,"fa-border":L,"fa-li":H,"fa-flip":B===!0,"fa-flip-horizontal":B==="horizontal"||B==="both","fa-flip-vertical":B==="vertical"||B==="both"},Do(t,"fa-".concat(X),typeof X<"u"&&X!==null),Do(t,"fa-rotate-".concat(tt),typeof tt<"u"&&tt!==null&&tt!==0),Do(t,"fa-pull-".concat(et),typeof et<"u"&&et!==null),Do(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(ft).map(function(ht){return ft[ht]?ht:null}).filter(function(ht){return ht})}function uV(n){return n=n-0,n===n}function VS(n){return uV(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var cV=["style"];function hV(n){return n.charAt(0).toUpperCase()+n.slice(1)}function fV(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var s=e.indexOf(":"),a=VS(e.slice(0,s)),l=e.slice(s+1).trim();return a.startsWith("webkit")?t[hV(a)]=l:t[a]=l,t},{})}function LS(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(m){return LS(n,m)}),a=Object.keys(t.attributes||{}).reduce(function(m,g){var v=t.attributes[g];switch(g){case"class":m.attrs.className=v,delete t.attributes.class;break;case"style":m.attrs.style=fV(v);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?m.attrs[g.toLowerCase()]=v:m.attrs[VS(g)]=v}return m},{attrs:{}}),l=e.style,c=l===void 0?{}:l,d=iV(e,cV);return a.attrs.style=Ai(Ai({},a.attrs.style),c),n.apply(void 0,[t.tag,Ai(Ai({},a.attrs),d)].concat(Xg(s)))}var zS=!1;try{zS=!0}catch{}function dV(){if(!zS&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function n1(n){if(n&&Of(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(Kg.icon)return Kg.icon(n);if(n===null)return null;if(n&&Of(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function Jp(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Do({},n,t):{}}var i1={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},hv=sf.forwardRef(function(n,t){var e=Ai(Ai({},i1),n),s=e.icon,a=e.mask,l=e.symbol,c=e.className,d=e.title,m=e.titleId,g=e.maskId,v=n1(s),E=Jp("classes",[].concat(Xg(lV(e)),Xg((c||"").split(" ")))),T=Jp("transform",typeof e.transform=="string"?Kg.transform(e.transform):e.transform),R=Jp("mask",n1(a)),L=W3(v,Ai(Ai(Ai(Ai({},E),T),R),{},{symbol:l,title:d,titleId:m,maskId:g}));if(!L)return dV("Could not find icon",v),null;var H=L.abstract,B={ref:t};return Object.keys(e).forEach(function(X){i1.hasOwnProperty(X)||(B[X]=e[X])}),mV(H[0],B)});hv.displayName="FontAwesomeIcon";hv.propTypes={beat:Vt.bool,border:Vt.bool,beatFade:Vt.bool,bounce:Vt.bool,className:Vt.string,fade:Vt.bool,flash:Vt.bool,mask:Vt.oneOfType([Vt.object,Vt.array,Vt.string]),maskId:Vt.string,fixedWidth:Vt.bool,inverse:Vt.bool,flip:Vt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Vt.oneOfType([Vt.object,Vt.array,Vt.string]),listItem:Vt.bool,pull:Vt.oneOf(["right","left"]),pulse:Vt.bool,rotation:Vt.oneOf([0,90,180,270]),shake:Vt.bool,size:Vt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Vt.bool,spinPulse:Vt.bool,spinReverse:Vt.bool,symbol:Vt.oneOfType([Vt.bool,Vt.string]),title:Vt.string,titleId:Vt.string,transform:Vt.oneOfType([Vt.string,Vt.object]),swapOpacity:Vt.bool};var mV=LS.bind(null,sf.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const pV={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};function gV(){const[n,t]=rt.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}));return rt.useEffect(()=>{const e=setInterval(()=>{t(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>clearInterval(e)},[]),Y.jsxs("h1",{style:{fontSize:"2rem",marginBottom:"1rem",textAlign:"center"},children:[Y.jsx(hv,{icon:pV,style:{marginRight:8}}),n]})}function yV(){const[n,t]=rt.useState([]);rt.useEffect(()=>{const a=AD(Ni,l=>{if(!l){t([]);return}const c=ad(sl(On,"todos"),Yu("uid","==",l.uid),qk("createdAt","desc"));return Yk(c,m=>{t(m.docs.map(g=>({id:g.id,...g.data()})))})});return()=>a()},[]);const e=async a=>{await QA(vr(On,"todos",a.id),{completed:!a.completed})},s=async a=>{await KA(vr(On,"todos",a))};return Y.jsxs("div",{style:vV,children:[Y.jsx("h3",{style:{marginBottom:8},children:"📝 To‑Do List"}),n.length===0&&Y.jsx("p",{style:{margin:0},children:"No tasks yet."}),Y.jsx("ul",{style:_V,children:n.map(a=>Y.jsxs("li",{style:bV,children:[Y.jsx("input",{type:"checkbox",checked:!!a.completed,onChange:()=>e(a)}),Y.jsx("span",{style:{marginLeft:8,textDecoration:a.completed?"line-through":"none",flex:1},children:a.text}),Y.jsx("button",{onClick:()=>s(a.id),style:EV,title:"Delete task","aria-label":`Delete task "${a.text}"`,onMouseEnter:l=>l.currentTarget.style.color="#ff6b6b",onMouseLeave:l=>l.currentTarget.style.color="#f55",children:"✖"})]},a.id))})]})}const vV={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},_V={listStyle:"none",padding:0,margin:0},bV={display:"flex",alignItems:"center",padding:"4px 0"},EV={marginLeft:8,background:"transparent",border:"none",color:"#f55",fontSize:16,cursor:"pointer",transition:"color 0.2s ease"};function TV(n){return Object.fromEntries(Object.entries(n).filter(([t,e])=>e!==void 0))}async function wV(n,t){const e=TV(t),s=vr(On,"userProfiles",n);await YA(s,e,{merge:!0})}async function AV(n){const t=vr(On,"userProfiles",n),e=await GA(t);return e.exists()?e.data():{userName:"User",assistantName:"Assistant",userAvatar:"default-user.png",assistantAvatar:"default-assistant.png"}}function SV(){const[n,t]=rt.useState(!1);rt.useEffect(()=>{const s=document.getElementById("bg-music");s&&t(s.muted)},[]);const e=()=>{const s=document.getElementById("bg-music");if(s){const a=!s.muted;s.muted=a,t(a)}};return Y.jsx("footer",{style:{position:"fixed",bottom:10,right:20,zIndex:100,backgroundColor:"#0f52ba",color:"#fff",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",cursor:"pointer",userSelect:"none",boxShadow:"0 0 10px rgba(0,0,0,0.4)"},onClick:e,children:n?"🔇 Unmute Music":"🎵 Mute Music"})}const RV="sk_b193185ff7e46dcc02ddff6ee5f634ef75973617bd8caefa",IV="7p1Ofvcwsv7UBPoFNcpI",CV="csk-h3cckk6vmk9nj3m383ceet2j9rrkcdr5w9yv3phn4tk449r3";function xV(){const[n,t]=rt.useState(!1),[e,s]=rt.useState(""),[a,l]=rt.useState(""),[c,d]=rt.useState(""),[m,g]=rt.useState(!1),[v,E]=rt.useState([]),[T,R]=rt.useState(null),[L,H]=rt.useState(!1),[B,X]=rt.useState(!0),[tt,et]=rt.useState("default-user.png"),[ft,ht]=rt.useState("default-assistant.png"),[ct,D]=rt.useState({userName:"",assistantName:"Assistant"}),S=()=>{X(ot=>!ot)},{speakIncrementally:I,isSpeaking:N,audioRef:P}=H4(RV,IV),k=ot=>Object.fromEntries(Object.entries(ot).filter(([St,O])=>O!==void 0));rt.useEffect(()=>Ni.onAuthStateChanged(async St=>{if(R(St),St){const O=await AV(St.uid);O&&(O.userAvatar&&et(O.userAvatar),O.assistantAvatar&&ht(O.assistantAvatar),D({userName:O.userName||"",assistantName:O.assistantName||"Assistant"}))}}),[]),rt.useEffect(()=>{if(Ni.currentUser){const ot=k({userAvatar:tt,assistantAvatar:ft,...ct});wV(Ni.currentUser.uid,ot)}},[tt,ft,ct]);const x=(ot,St)=>{ot==="user"?et(St):ht(St)},be=(ot,St)=>{D(O=>({...O,[ot==="user"?"userName":"assistantName"]:St}))},re=async ot=>{const St=await $4({userText:ot,chatHistory:v,voiceEnabled:m,speakFn:I,setAssistantText:d,setChatHistory:E,CEREBRAS_API_KEY:CV,userProfile:ct});St!=null&&St.error&&d(O=>O||"Sorry, I had trouble understanding that.")},{startListening:Q}=G4({enabled:!0,onResult:ot=>{l(ot),t(!1),re(ot)},onError:()=>t(!1),onStart:()=>t(!0),onEnd:()=>t(!1)}),lt=()=>{e.trim()&&(l(e),d(""),re(e),s(""))};return Y.jsxs(Y.Fragment,{children:[Y.jsx(B4,{position:"top-left",toastOptions:{style:{background:"#1a1a1a",color:"#fff",border:"1px solid #333",fontFamily:"Arial, sans-serif"},iconTheme:{primary:"#0f52ba",secondary:"#1a1a1a"},duration:4e3},containerStyle:{marginTop:"70px",marginLeft:"20px"}}),Y.jsx(z2,{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),Y.jsx($k,{userAvatar:tt,assistantAvatar:ft,onAvatarChange:x,userName:ct.userName,assistantName:ct.assistantName,onNameChange:be}),Y.jsxs("div",{className:`widget-panel ${B?"visible":"hidden"}`,children:[Y.jsx(U2,{}),Y.jsx(yV,{})]}),Y.jsx("button",{className:"widget-toggle-btn",onClick:S,children:B?"Hide Tools":"Show Tools"}),Y.jsxs("div",{style:{position:"relative",padding:20,paddingBottom:100,fontFamily:"Arial, sans-serif",color:"#e0e0e0",display:"flex",flexDirection:"column",alignItems:"center",zIndex:1},children:[Y.jsx(gV,{}),Y.jsx(Wk,{audioRef:P,isSpeaking:N}),Y.jsx(q4,{voiceEnabled:m,setVoiceEnabled:g,user:T}),Y.jsxs("div",{style:{display:"flex",gap:8,maxWidth:600,width:"100%"},children:[Y.jsx("input",{type:"text",placeholder:"Type your message here...",value:e,onChange:ot=>s(ot.target.value),disabled:n||N,onKeyDown:ot=>ot.key==="Enter"&&lt(),style:{flexGrow:1,padding:10,fontSize:16,borderRadius:6,border:"1px solid #0f52ba",backgroundColor:"#111",color:"#e0e0e0"}}),Y.jsx("button",{onClick:lt,disabled:n||N||!e.trim(),style:{padding:"10px 16px",fontSize:16,borderRadius:6,border:"none",backgroundColor:"#0f52ba",color:"#fff",cursor:"pointer"},children:"Send"})]}),Y.jsx("button",{onClick:Q,disabled:n||N,style:{marginTop:20,padding:"10px 20px",fontSize:16,borderRadius:6,backgroundColor:n?"#555":"#0f52ba",color:"#fff",border:"none",cursor:"pointer"},children:n?"Listening...":"Start Talking"}),Y.jsxs("div",{style:{marginTop:40,maxWidth:600,width:"100%"},children:[Y.jsx("h3",{style:{textAlign:"center",marginBottom:10},children:"Conversation History"}),Y.jsx("div",{style:{backgroundColor:"#1a1a1a",padding:"10px 16px",borderRadius:8,maxHeight:"300px",overflowY:"auto",border:"1px solid #333"},children:v.map((ot,St)=>{const O=ot.timestamp?new Date(ot.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return Y.jsxs("div",{style:{display:"flex",flexDirection:ot.role==="user"?"row-reverse":"row",alignItems:"flex-start",gap:"8px",marginBottom:"10px"},children:[Y.jsx("img",{src:ot.role==="user"?tt:ft,alt:`${ot.role} avatar`,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover",border:"2px solid #555",flexShrink:0}}),Y.jsxs("div",{style:{backgroundColor:ot.role==="user"?"#0f52ba":"#333",color:"#fff",padding:"10px 16px",borderRadius:"16px",maxWidth:"75%",wordWrap:"break-word",fontSize:"16px",position:"relative"},children:[Y.jsx("div",{children:ot.content}),O&&Y.jsx("div",{style:{fontSize:"10px",color:"#ccc",marginTop:"4px",textAlign:"right",userSelect:"none"},children:O})]})]},St)})})]}),Y.jsx("button",{onClick:()=>E([]),style:{marginTop:10,padding:"6px 12px",backgroundColor:"#0f52ba",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"},children:"Clear Conversation"}),Y.jsx("audio",{ref:P}),Y.jsx("audio",{id:"bg-music",src:"/Personal-Assistant/assets/music.mp3",controls:!0,autoPlay:!0,loop:!0,style:{display:"none"}}),L&&Y.jsx(ZA,{userAvatar:tt,assistantAvatar:ft,onAvatarChange:x,onClose:()=>H(!1),userName:ct.userName,assistantName:ct.assistantName,onNameChange:be}),Y.jsx(SV,{})]})]})}vI.createRoot(document.getElementById("root")).render(Y.jsx(rt.StrictMode,{children:Y.jsx(xV,{})}));
