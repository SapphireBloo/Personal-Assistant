(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Hf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xm={exports:{}},vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function K2(){if(Hb)return vu;Hb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return vu.Fragment=t,vu.jsx=e,vu.jsxs=e,vu}var Gb;function X2(){return Gb||(Gb=1,xm.exports=K2()),xm.exports}var L=X2(),Om={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function W2(){if(Yb)return xt;Yb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function U(M,it,nt){this.props=M,this.context=it,this.refs=q,this.updater=nt||R}U.prototype.isReactComponent={},U.prototype.setState=function(M,it){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,it,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=U.prototype;function Q(M,it,nt){this.props=M,this.context=it,this.refs=q,this.updater=nt||R}var $=Q.prototype=new K;$.constructor=Q,V($,U.prototype),$.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function x(M,it,nt,st,ft,Mt){return nt=Mt.ref,{$$typeof:n,type:M,key:it,ref:nt!==void 0?nt:null,props:Mt}}function A(M,it){return x(M.type,it,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var it={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return it[nt]})}var P=/\/+/g;function N(M,it){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):it.toString(36)}function C(){}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(it){M.status==="pending"&&(M.status="fulfilled",M.value=it)},function(it){M.status==="pending"&&(M.status="rejected",M.reason=it)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,it,nt,st,ft){var Mt=typeof M;(Mt==="undefined"||Mt==="boolean")&&(M=null);var Rt=!1;if(M===null)Rt=!0;else switch(Mt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(M.$$typeof){case n:case t:Rt=!0;break;case v:return Rt=M._init,ne(Rt(M._payload),it,nt,st,ft)}}if(Rt)return ft=ft(M),Rt=st===""?"."+N(M,0):st,ut(ft)?(nt="",Rt!=null&&(nt=Rt.replace(P,"$&/")+"/"),ne(ft,it,nt,"",function(oi){return oi})):ft!=null&&(I(ft)&&(ft=A(ft,nt+(ft.key==null||M&&M.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+Rt)),it.push(ft)),1;Rt=0;var ke=st===""?".":st+":";if(ut(M))for(var se=0;se<M.length;se++)st=M[se],Mt=ke+N(st,se),Rt+=ne(st,it,nt,Mt,ft);else if(se=T(M),typeof se=="function")for(M=se.call(M),se=0;!(st=M.next()).done;)st=st.value,Mt=ke+N(st,se++),Rt+=ne(st,it,nt,Mt,ft);else if(Mt==="object"){if(typeof M.then=="function")return ne(le(M),it,nt,st,ft);throw it=String(M),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function X(M,it,nt){if(M==null)return M;var st=[],ft=0;return ne(M,st,"","",function(Mt){return it.call(nt,Mt,ft++)}),st}function ht(M){if(M._status===-1){var it=M._result;it=it(),it.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=it)}if(M._status===1)return M._result.default;throw M._result}var gt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function zt(){}return xt.Children={map:X,forEach:function(M,it,nt){X(M,function(){it.apply(this,arguments)},nt)},count:function(M){var it=0;return X(M,function(){it++}),it},toArray:function(M){return X(M,function(it){return it})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xt.Component=U,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=Q,xt.StrictMode=s,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return lt.H.useMemoCache(M)}},xt.cache=function(M){return function(){return M.apply(null,arguments)}},xt.cloneElement=function(M,it,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=V({},M.props),ft=M.key,Mt=void 0;if(it!=null)for(Rt in it.ref!==void 0&&(Mt=void 0),it.key!==void 0&&(ft=""+it.key),it)!rt.call(it,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&it.ref===void 0||(st[Rt]=it[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=nt;else if(1<Rt){for(var ke=Array(Rt),se=0;se<Rt;se++)ke[se]=arguments[se+2];st.children=ke}return x(M.type,ft,void 0,void 0,Mt,st)},xt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},xt.createElement=function(M,it,nt){var st,ft={},Mt=null;if(it!=null)for(st in it.key!==void 0&&(Mt=""+it.key),it)rt.call(it,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ft[st]=it[st]);var Rt=arguments.length-2;if(Rt===1)ft.children=nt;else if(1<Rt){for(var ke=Array(Rt),se=0;se<Rt;se++)ke[se]=arguments[se+2];ft.children=ke}if(M&&M.defaultProps)for(st in Rt=M.defaultProps,Rt)ft[st]===void 0&&(ft[st]=Rt[st]);return x(M,Mt,void 0,void 0,null,ft)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(M){return{$$typeof:d,render:M}},xt.isValidElement=I,xt.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ht}},xt.memo=function(M,it){return{$$typeof:m,type:M,compare:it===void 0?null:it}},xt.startTransition=function(M){var it=lt.T,nt={};lt.T=nt;try{var st=M(),ft=lt.S;ft!==null&&ft(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(zt,gt)}catch(Mt){gt(Mt)}finally{lt.T=it}},xt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},xt.use=function(M){return lt.H.use(M)},xt.useActionState=function(M,it,nt){return lt.H.useActionState(M,it,nt)},xt.useCallback=function(M,it){return lt.H.useCallback(M,it)},xt.useContext=function(M){return lt.H.useContext(M)},xt.useDebugValue=function(){},xt.useDeferredValue=function(M,it){return lt.H.useDeferredValue(M,it)},xt.useEffect=function(M,it,nt){var st=lt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(M,it)},xt.useId=function(){return lt.H.useId()},xt.useImperativeHandle=function(M,it,nt){return lt.H.useImperativeHandle(M,it,nt)},xt.useInsertionEffect=function(M,it){return lt.H.useInsertionEffect(M,it)},xt.useLayoutEffect=function(M,it){return lt.H.useLayoutEffect(M,it)},xt.useMemo=function(M,it){return lt.H.useMemo(M,it)},xt.useOptimistic=function(M,it){return lt.H.useOptimistic(M,it)},xt.useReducer=function(M,it,nt){return lt.H.useReducer(M,it,nt)},xt.useRef=function(M){return lt.H.useRef(M)},xt.useState=function(M){return lt.H.useState(M)},xt.useSyncExternalStore=function(M,it,nt){return lt.H.useSyncExternalStore(M,it,nt)},xt.useTransition=function(){return lt.H.useTransition()},xt.version="19.1.0",xt}var Qb;function _y(){return Qb||(Qb=1,Om.exports=W2()),Om.exports}var at=_y();const va=Hf(at);var Dm={exports:{}},_u={},Mm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function Z2(){return $b||($b=1,function(n){function t(X,ht){var gt=X.length;X.push(ht);t:for(;0<gt;){var zt=gt-1>>>1,M=X[zt];if(0<a(M,ht))X[zt]=ht,X[gt]=M,gt=zt;else break t}}function e(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ht=X[0],gt=X.pop();if(gt!==ht){X[0]=gt;t:for(var zt=0,M=X.length,it=M>>>1;zt<it;){var nt=2*(zt+1)-1,st=X[nt],ft=nt+1,Mt=X[ft];if(0>a(st,gt))ft<M&&0>a(Mt,st)?(X[zt]=Mt,X[ft]=gt,zt=ft):(X[zt]=st,X[nt]=gt,zt=nt);else if(ft<M&&0>a(Mt,gt))X[zt]=Mt,X[ft]=gt,zt=ft;else break t}}return ht}function a(X,ht){var gt=X.sortIndex-ht.sortIndex;return gt!==0?gt:X.id-ht.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,E=null,T=3,R=!1,V=!1,q=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ut(X){for(var ht=e(m);ht!==null;){if(ht.callback===null)s(m);else if(ht.startTime<=X)s(m),ht.sortIndex=ht.expirationTime,t(p,ht);else break;ht=e(m)}}function lt(X){if(q=!1,ut(X),!V)if(e(p)!==null)V=!0,rt||(rt=!0,N());else{var ht=e(m);ht!==null&&ne(lt,ht.startTime-X)}}var rt=!1,x=-1,A=5,I=-1;function D(){return U?!0:!(n.unstable_now()-I<A)}function P(){if(U=!1,rt){var X=n.unstable_now();I=X;var ht=!0;try{t:{V=!1,q&&(q=!1,Q(x),x=-1),R=!0;var gt=T;try{e:{for(ut(X),E=e(p);E!==null&&!(E.expirationTime>X&&D());){var zt=E.callback;if(typeof zt=="function"){E.callback=null,T=E.priorityLevel;var M=zt(E.expirationTime<=X);if(X=n.unstable_now(),typeof M=="function"){E.callback=M,ut(X),ht=!0;break e}E===e(p)&&s(p),ut(X)}else s(p);E=e(p)}if(E!==null)ht=!0;else{var it=e(m);it!==null&&ne(lt,it.startTime-X),ht=!1}}break t}finally{E=null,T=gt,R=!1}ht=void 0}}finally{ht?N():rt=!1}}}var N;if(typeof $=="function")N=function(){$(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=P,N=function(){le.postMessage(null)}}else N=function(){K(P,0)};function ne(X,ht){x=K(function(){X(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ht=3;break;default:ht=T}var gt=T;T=ht;try{return X()}finally{T=gt}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(X,ht){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=T;T=X;try{return ht()}finally{T=gt}},n.unstable_scheduleCallback=function(X,ht,gt){var zt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?zt+gt:zt):gt=zt,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=gt+M,X={id:v++,callback:ht,priorityLevel:X,startTime:gt,expirationTime:M,sortIndex:-1},gt>zt?(X.sortIndex=gt,t(m,X),e(p)===null&&X===e(m)&&(q?(Q(x),x=-1):q=!0,ne(lt,gt-zt))):(X.sortIndex=M,t(p,X),V||R||(V=!0,rt||(rt=!0,N()))),X},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(X){var ht=T;return function(){var gt=T;T=ht;try{return X.apply(this,arguments)}finally{T=gt}}}}(Pm)),Pm}var Kb;function J2(){return Kb||(Kb=1,Mm.exports=Z2()),Mm.exports}var Nm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function tI(){if(Xb)return tn;Xb=1;var n=_y();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,v)},tn.flushSync=function(p){var m=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=v,s.d.f()}},tn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,E=d(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},tn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=d(v,m.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,m){return p(m)},tn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Wb;function eI(){if(Wb)return Nm.exports;Wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Nm.exports=tI(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function nI(){if(Zb)return _u;Zb=1;var n=J2(),t=_y(),e=eI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=g;break}if(w===u){b=!0,u=f,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=f;break}if(w===u){b=!0,u=g,o=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function m(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=m(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case lt:return"Suspense";case rt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case $:return(i.displayName||"Context")+".Provider";case Q:return(i._context.displayName||"Context")+".Consumer";case ut:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return r=i.displayName||null,r!==null?r:le(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return le(i(r))}catch{}}return null}var ne=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},zt=[],M=-1;function it(i){return{current:i}}function nt(i){0>M||(i.current=zt[M],zt[M]=null,M--)}function st(i,r){M++,zt[M]=i.current,i.current=r}var ft=it(null),Mt=it(null),Rt=it(null),ke=it(null);function se(i,r){switch(st(Rt,r),st(Mt,i),st(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?vb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=vb(r),i=_b(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ft),st(ft,i)}function oi(){nt(ft),nt(Mt),nt(Rt)}function Ss(i){i.memoizedState!==null&&st(ke,i);var r=ft.current,o=_b(r,i.type);r!==o&&(st(Mt,i),st(ft,o))}function Vi(i){Mt.current===i&&(nt(ft),nt(Mt)),ke.current===i&&(nt(ke),du._currentValue=gt)}var Or=Object.prototype.hasOwnProperty,Dr=n.unstable_scheduleCallback,Mr=n.unstable_cancelCallback,cl=n.unstable_shouldYield,pc=n.unstable_requestPaint,Pn=n.unstable_now,xd=n.unstable_getCurrentPriorityLevel,hl=n.unstable_ImmediatePriority,Pa=n.unstable_UserBlockingPriority,Pr=n.unstable_NormalPriority,Od=n.unstable_LowPriority,Na=n.unstable_IdlePriority,fl=n.log,mc=n.unstable_setDisableYieldValue,pe=null,Kt=null;function En(i){if(typeof fl=="function"&&mc(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(pe,i)}catch{}}var Ze=Math.clz32?Math.clz32:Nr,gc=Math.log,Dd=Math.LN2;function Nr(i){return i>>>=0,i===0?32:31-(gc(i)/Dd|0)|0}var kr=256,Vr=4194304;function Kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ka(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=Kn(u):(b&=w,b!==0?f=Kn(b):o||(o=w&~i,o!==0&&(f=Kn(o))))):(w=u&~g,w!==0?f=Kn(w):b!==0?f=Kn(b):o||(o=u&~i,o!==0&&(f=Kn(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Lr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function dl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var i=kr;return kr<<=1,(kr&4194048)===0&&(kr=256),i}function ml(){var i=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),i}function Li(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gl(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,F=i.hiddenUpdates;for(o=b&~o;0<o;){var W=31-Ze(o),J=1<<W;w[W]=0,O[W]=-1;var H=F[W];if(H!==null)for(F[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}o&=~J}u!==0&&li(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function li(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ze(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function yl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function As(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rs(){var i=ht.p;return i!==0?i:(i=window.event,i===void 0?32:zb(i.type))}function yc(i,r){var o=ht.p;try{return ht.p=i,r()}finally{ht.p=o}}var ue=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ue,Ee="__reactProps$"+ue,Nn="__reactContainer$"+ue,vl="__reactEvents$"+ue,Md="__reactListeners$"+ue,Is="__reactHandles$"+ue,vc="__reactResources$"+ue,zr="__reactMarker$"+ue;function Cs(i){delete i[Ie],delete i[Ee],delete i[vl],delete i[Md],delete i[Is]}function Ui(i){var r=i[Ie];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Nn]||o[Ie]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=wb(i);i!==null;){if(o=i[Ie])return o;i=wb(i)}return r}i=o,o=i.parentNode}return null}function ui(i){if(i=i[Ie]||i[Nn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ci(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function cn(i){var r=i[vc];return r||(r=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ye(i){i[zr]=!0}var _l=new Set,La={};function Xn(i,r){ji(i,r),ji(i+"Capture",r)}function ji(i,r){for(La[i]=r,i=0;i<r.length;i++)_l.add(r[i])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bc={},Ur={};function Ec(i){return Or.call(Ur,i)?!0:Or.call(bc,i)?!1:_c.test(i)?Ur[i]=!0:(bc[i]=!0,!1)}function xs(i,r,o){if(Ec(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function hi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var jr,Tc;function Bi(i){if(jr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);jr=r&&r[1]||"",Tc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+i+Tc}var za=!1;function Ua(i,r){if(!i||za)return"";za=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(i,[],J)}else{try{J.call()}catch(G){H=G}i.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var O=b.split(`
`),F=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===F.length)for(u=O.length-1,f=F.length-1;1<=u&&0<=f&&O[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==F[f]){var W=`
`+O[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=f);break}}}finally{za=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function bl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ua(i.type,!1);case 11:return Ua(i.type.render,!1);case 1:return Ua(i.type,!0);case 31:return Bi("Activity");default:return""}}function ja(i){try{var r="";do r+=bl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function El(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pd(i){var r=El(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ba(i){i._valueTracker||(i._valueTracker=Pd(i))}function Tl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=El(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Br(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nd=/[\n"\\]/g;function Te(i){return i.replace(Nd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(i,r,o,u,f,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+hn(r)):i.value!==""+hn(r)&&(i.value=""+hn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Os(i,b,hn(r)):o!=null?Os(i,b,hn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+hn(w):i.removeAttribute("name")}function Fr(i,r,o,u,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Os(i,r,o){r==="number"&&Br(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fi(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Zt(i,r,o){if(r!=null&&(r=""+hn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+hn(o):""}function qr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=hn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function kn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Hr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function wl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&wc(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&wc(i,g,r[g])}function Sl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(i){return Vd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qi=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,Gi=null;function Al(i){var r=ui(i);if(r&&(i=r.stateNode)){var o=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(Tn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Ee]||null;if(!f)throw Error(s(90));Tn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Tl(u)}break t;case"textarea":Zt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fi(i,!!o.multiple,r,!1)}}}var fi=!1;function Sc(i,r,o){if(fi)return i(r,o);fi=!0;try{var u=i(r);return u}finally{if(fi=!1,(Hi!==null||Gi!==null)&&(yh(),Hi&&(r=Hi,i=Gi,Gi=Hi=null,Al(r),i)))for(r=0;r<i.length;r++)Al(i[r])}}function Gr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ee]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Wn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Ln=!1}var di=null,Ds=null,Yi=null;function Rl(){if(Yi)return Yi;var i,r=Ds,o=r.length,u,f="value"in di?di.value:di.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return Yi=f.slice(i,1<u?1-u:void 0)}function pi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function mi(){return!0}function Il(){return!1}function Ve(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mi:Il,this.isPropagationStopped=Il,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Ve(Qt),Qr=v({},Qt,{view:0,detail:0}),Ac=Ve(Qr),Ha,Ga,gi,$r=v({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Ha=i.screenX-gi.screenX,Ga=i.screenY-gi.screenY):Ga=Ha=0,gi=i),Ha)},movementY:function(i){return"movementY"in i?i.movementY:Ga}}),zn=Ve($r),Rc=v({},$r,{dataTransfer:0}),Ld=Ve(Rc),Kr=v({},Qr,{relatedTarget:0}),Ya=Ve(Kr),Cl=v({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ve(Cl),Ic=v({},Qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$a=Ve(Ic),zd=v({},Qt,{data:0}),xl=Ve(zd),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=xc[i])?!!r[i]:!1}function Wr(){return Ol}var Oc=v({},Qr,{key:function(i){if(i.key){var r=Xr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ka=Ve(Oc),Dc=v({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Ve(Dc),Qi=v({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Mc=Ve(Qi),Pc=v({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nc=Ve(Pc),kc=v({},$r,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Ve(kc),fn=v({},Qt,{newState:0,oldState:0}),Vc=Ve(fn),Lc=[9,13,27,32],yi=Wn&&"CompositionEvent"in window,h=null;Wn&&"documentMode"in document&&(h=document.documentMode);var y=Wn&&"TextEvent"in window&&!h,_=Wn&&(!yi||h&&8<h&&11>=h),S=" ",j=!1;function Y(i,r){switch(i){case"keyup":return Lc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jt=!1;function Ce(i,r){switch(i){case"compositionend":return ct(r);case"keypress":return r.which!==32?null:(j=!0,S);case"textInput":return i=r.data,i===S&&j?null:i;default:return null}}function Bt(i,r){if(jt)return i==="compositionend"||!yi&&Y(i,r)?(i=Rl(),Yi=Ds=di=null,jt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function $i(i,r,o,u){Hi?Gi?Gi.push(u):Gi=[u]:Hi=u,r=wh(r,"onChange"),0<r.length&&(o=new qa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,vi=null;function Ml(i){db(i,0)}function zc(i){var r=ci(i);if(Tl(r))return i}function Nv(i,r){if(i==="change")return r}var kv=!1;if(Wn){var Ud;if(Wn){var jd="oninput"in document;if(!jd){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),jd=typeof Vv.oninput=="function"}Ud=jd}else Ud=!1;kv=Ud&&(!document.documentMode||9<document.documentMode)}function Lv(){He&&(He.detachEvent("onpropertychange",zv),vi=He=null)}function zv(i){if(i.propertyName==="value"&&zc(vi)){var r=[];$i(r,vi,i,Vn(i)),Sc(Ml,r)}}function AR(i,r,o){i==="focusin"?(Lv(),He=r,vi=o,He.attachEvent("onpropertychange",zv)):i==="focusout"&&Lv()}function RR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zc(vi)}function IR(i,r){if(i==="click")return zc(r)}function CR(i,r){if(i==="input"||i==="change")return zc(r)}function xR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var wn=typeof Object.is=="function"?Object.is:xR;function Pl(i,r){if(wn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Or.call(r,f)||!wn(i[f],r[f]))return!1}return!0}function Uv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jv(i,r){var o=Uv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Uv(o)}}function Bv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Bv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Fv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Br(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Br(i.document)}return r}function Bd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var OR=Wn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Fd=null,Nl=null,qd=!1;function qv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qd||Wa==null||Wa!==Br(u)||(u=Wa,"selectionStart"in u&&Bd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Pl(Nl,u)||(Nl=u,u=wh(Fd,"onSelect"),0<u.length&&(r=new qa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Wa)))}function Zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Za={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Hd={},Hv={};Wn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Jr(i){if(Hd[i])return Hd[i];if(!Za[i])return i;var r=Za[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hv)return Hd[i]=r[o];return i}var Gv=Jr("animationend"),Yv=Jr("animationiteration"),Qv=Jr("animationstart"),DR=Jr("transitionrun"),MR=Jr("transitionstart"),PR=Jr("transitioncancel"),$v=Jr("transitionend"),Kv=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function Zn(i,r){Kv.set(i,r),Xn(r,[i])}var Xv=new WeakMap;function Un(i,r){if(typeof i=="object"&&i!==null){var o=Xv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ja(r)},Xv.set(i,r),r)}return{value:i,source:r,stack:ja(r)}}var jn=[],Ja=0,Yd=0;function Uc(){for(var i=Ja,r=Yd=Ja=0;r<i;){var o=jn[r];jn[r++]=null;var u=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var g=jn[r];if(jn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Wv(o,f,g)}}function jc(i,r,o,u){jn[Ja++]=i,jn[Ja++]=r,jn[Ja++]=o,jn[Ja++]=u,Yd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Qd(i,r,o,u){return jc(i,r,o,u),Bc(i)}function to(i,r){return jc(i,null,null,r),Bc(i)}function Wv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Ze(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Bc(i){if(50<ru)throw ru=0,Jp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var eo={};function NR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,r,o,u){return new NR(i,r,o,u)}function $d(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ki(i,r){var o=i.alternate;return o===null?(o=Sn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")$d(i)&&(b=1);else if(typeof i=="string")b=V2(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Sn(31,o,r,f),i.elementType=I,i.lanes=g,i;case V:return ta(o.children,f,g,r);case q:b=8,f|=24;break;case U:return i=Sn(12,o,r,f|2),i.elementType=U,i.lanes=g,i;case lt:return i=Sn(13,o,r,f),i.elementType=lt,i.lanes=g,i;case rt:return i=Sn(19,o,r,f),i.elementType=rt,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case $:b=10;break t;case Q:b=9;break t;case ut:b=11;break t;case x:b=14;break t;case A:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Sn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function ta(i,r,o,u){return i=Sn(7,i,u,r),i.lanes=o,i}function Kd(i,r,o){return i=Sn(6,i,null,r),i.lanes=o,i}function Xd(i,r,o){return r=Sn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var no=[],io=0,qc=null,Hc=0,Bn=[],Fn=0,ea=null,Xi=1,Wi="";function na(i,r){no[io++]=Hc,no[io++]=qc,qc=i,Hc=r}function Jv(i,r,o){Bn[Fn++]=Xi,Bn[Fn++]=Wi,Bn[Fn++]=ea,ea=i;var u=Xi;i=Wi;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var g=32-Ze(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Xi=1<<32-Ze(r)+f|o<<f|u,Wi=g+i}else Xi=1<<g|o<<f|u,Wi=i}function Wd(i){i.return!==null&&(na(i,1),Jv(i,1,0))}function Zd(i){for(;i===qc;)qc=no[--io],no[io]=null,Hc=no[--io],no[io]=null;for(;i===ea;)ea=Bn[--Fn],Bn[Fn]=null,Wi=Bn[--Fn],Bn[Fn]=null,Xi=Bn[--Fn],Bn[Fn]=null}var dn=null,me=null,Yt=!1,ia=null,_i=!1,Jd=Error(s(519));function sa(i){var r=Error(s(418,""));throw Ll(Un(r,i)),Jd}function t_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ie]=i,r[Ee]=u,o){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(o=0;o<ou.length;o++)kt(ou[o],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),Fr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ba(r);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),qr(r,u.value,u.defaultValue,u.children),Ba(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||yb(r.textContent,o)?(u.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),u.onScroll!=null&&kt("scroll",r),u.onScrollEnd!=null&&kt("scrollend",r),u.onClick!=null&&(r.onclick=Sh),r=!0):r=!1,r||sa(i)}function e_(i){for(dn=i.return;dn;)switch(dn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:dn=dn.return}}function kl(i){if(i!==dn)return!1;if(!Yt)return e_(i),Yt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||mm(i.type,i.memoizedProps)),o=!o),o&&me&&sa(i),e_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){me=ti(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}me=null}}else r===27?(r=me,Qs(i.type)?(i=_m,_m=null,me=i):me=r):me=dn?ti(i.stateNode.nextSibling):null;return!0}function Vl(){me=dn=null,Yt=!1}function n_(){var i=ia;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),ia=null),i}function Ll(i){ia===null?ia=[i]:ia.push(i)}var tp=it(null),ra=null,Zi=null;function Ms(i,r,o){st(tp,r._currentValue),r._currentValue=o}function Ji(i){i._currentValue=tp.current,nt(tp)}function ep(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function np(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),ep(g.return,o,i),u||(b=null);break t}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),ep(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function zl(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;wn(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===ke.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}f=f.return}i!==null&&np(r,i,o,u),r.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function aa(i){ra=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return i_(ra,i)}function Yc(i,r){return ra===null&&aa(i),i_(i,r)}function i_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(s(308));Zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zi=Zi.next=r;return o}var kR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},VR=n.unstable_scheduleCallback,LR=n.unstable_NormalPriority,Oe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new kR,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&VR(LR,function(){i.controller.abort()})}var jl=null,sp=0,so=0,ro=null;function zR(i,r){if(jl===null){var o=jl=[];sp=0,so=am(),ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sp++,r.then(s_,s_),r}function s_(){if(--sp===0&&jl!==null){ro!==null&&(ro.status="fulfilled");var i=jl;jl=null,so=0,ro=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function UR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var r_=X.S;X.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&zR(i,r),r_!==null&&r_(i,r)};var oa=it(null);function rp(){var i=oa.current;return i!==null?i:re.pooledCache}function Qc(i,r){r===null?st(oa,oa.current):st(oa,r.pool)}function a_(){var i=rp();return i===null?null:{parent:Oe._currentValue,pool:i}}var Bl=Error(s(460)),o_=Error(s(474)),$c=Error(s(542)),ap={then:function(){}};function l_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kc(){}function u_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Kc,Kc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,h_(i),i;default:if(typeof r.status=="string")r.then(Kc,Kc);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,h_(i),i}throw Fl=r,Bl}}var Fl=null;function c_(){if(Fl===null)throw Error(s(459));var i=Fl;return Fl=null,i}function h_(i){if(i===Bl||i===$c)throw Error(s(483))}var Ps=!1;function op(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ns(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ks(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Bc(i),Wv(i,null,o),r}return jc(i,u,r,o),Bc(i)}function ql(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,yl(i,o)}}function up(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var cp=!1;function Hl(){if(cp){var i=ro;if(i!==null)throw i}}function Gl(i,r,o,u){cp=!1;var f=i.updateQueue;Ps=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,F=O.next;O.next=null,b===null?g=F:b.next=F,b=O;var W=i.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==b&&(w===null?W.firstBaseUpdate=F:w.next=F,W.lastBaseUpdate=O))}if(g!==null){var J=f.baseState;b=0,W=F=O=null,w=g;do{var H=w.lane&-536870913,G=H!==w.lane;if(G?(Ft&H)===H:(u&H)===H){H!==0&&H===so&&(cp=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=i,Et=w;H=r;var ee=o;switch(Et.tag){case 1:if(At=Et.payload,typeof At=="function"){J=At.call(ee,J,H);break t}J=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Et.payload,H=typeof At=="function"?At.call(ee,J,H):At,H==null)break t;J=v({},J,H);break t;case 2:Ps=!0}}H=w.callback,H!==null&&(i.flags|=64,G&&(i.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(F=W=G,O=J):W=W.next=G,b|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;G=w,w=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);W===null&&(O=J),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=W,g===null&&(f.shared.lanes=0),qs|=b,i.lanes=b,i.memoizedState=J}}function f_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function d_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)f_(o[i],r)}var ao=it(null),Xc=it(0);function p_(i,r){i=as,st(Xc,i),st(ao,r),as=i|r.baseLanes}function hp(){st(Xc,as),st(ao,ao.current)}function fp(){as=Xc.current,nt(ao),nt(Xc)}var Vs=0,Ot=null,Jt=null,we=null,Wc=!1,oo=!1,la=!1,Zc=0,Yl=0,lo=null,jR=0;function ve(){throw Error(s(321))}function dp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!wn(i[o],r[o]))return!1;return!0}function pp(i,r,o,u,f,g){return Vs=g,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?W_:Z_,la=!1,g=o(u,f),la=!1,oo&&(g=g_(r,o,u,f)),m_(i),g}function m_(i){X.H=sh;var r=Jt!==null&&Jt.next!==null;if(Vs=0,we=Jt=Ot=null,Wc=!1,Yl=0,lo=null,r)throw Error(s(300));i===null||ze||(i=i.dependencies,i!==null&&Gc(i)&&(ze=!0))}function g_(i,r,o,u){Ot=i;var f=0;do{if(oo&&(lo=null),Yl=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,we=Jt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=QR,g=r(o,u)}while(oo);return g}function BR(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Ql(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Ot.flags|=1024),r}function mp(){var i=Zc!==0;return Zc=0,i}function gp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function yp(i){if(Wc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wc=!1}Vs=0,we=Jt=Ot=null,oo=!1,Yl=Zc=0,lo=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=i:we=we.next=i,we}function Se(){if(Jt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=we===null?Ot.memoizedState:we.next;if(r!==null)we=r,Jt=i;else{if(i===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Ot.memoizedState=we=i:we=we.next=i}return we}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var r=Yl;return Yl+=1,lo===null&&(lo=[]),i=u_(lo,i,r),r=Ot,(we===null?r.memoizedState:we.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?W_:Z_),i}function Jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===$)return Je(i)}throw Error(s(438,String(i)))}function _p(i){var r=null,o=Ot.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=vp(),Ot.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=D;return r.index++,o}function ts(i,r){return typeof r=="function"?r(i):r}function th(i){var r=Se();return bp(r,Jt,i)}function bp(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=b=null,O=null,F=r,W=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Ft&J)===J:(Vs&J)===J){var H=F.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===so&&(W=!0);else if((Vs&H)===H){F=F.next,H===so&&(W=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=J,b=g):O=O.next=J,Ot.lanes|=H,qs|=H;J=F.action,la&&o(g,J),g=F.hasEagerState?F.eagerState:o(g,J)}else H={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=H,b=g):O=O.next=H,Ot.lanes|=J,qs|=J;F=F.next}while(F!==null&&F!==r);if(O===null?b=g:O.next=w,!wn(g,i.memoizedState)&&(ze=!0,W&&(o=ro,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=O,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Ep(i){var r=Se(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);wn(g,r.memoizedState)||(ze=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function y_(i,r,o){var u=Ot,f=Se(),g=Yt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!wn((Jt||f).memoizedState,o);b&&(f.memoizedState=o,ze=!0),f=f.queue;var w=b_.bind(null,u,f,i);if($l(2048,8,w,[i]),f.getSnapshot!==r||b||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,uo(9,eh(),__.bind(null,u,f,o,r),null),re===null)throw Error(s(349));g||(Vs&124)!==0||v_(u,r,o)}return o}function v_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ot.updateQueue,r===null?(r=vp(),Ot.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function __(i,r,o,u){r.value=o,r.getSnapshot=u,E_(r)&&T_(i)}function b_(i,r,o){return o(function(){E_(r)&&T_(i)})}function E_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!wn(i,o)}catch{return!0}}function T_(i){var r=to(i,2);r!==null&&xn(r,i,2)}function Tp(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),la){En(!0);try{o()}finally{En(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:i},r}function w_(i,r,o,u){return i.baseState=o,bp(i,Jt,typeof u=="function"?u:ts)}function FR(i,r,o,u,f){if(ih(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,S_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function S_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=X.T,b={};X.T=b;try{var w=o(f,u),O=X.S;O!==null&&O(b,w),A_(i,r,w)}catch(F){wp(i,r,F)}finally{X.T=g}}else try{g=o(f,u),A_(i,r,g)}catch(F){wp(i,r,F)}}function A_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R_(i,r,u)},function(u){return wp(i,r,u)}):R_(i,r,o)}function R_(i,r,o){r.status="fulfilled",r.value=o,I_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,S_(i,o)))}function wp(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,I_(r),r=r.next;while(r!==u)}i.action=null}function I_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function C_(i,r){return r}function x_(i,r){if(Yt){var o=re.formState;if(o!==null){t:{var u=Ot;if(Yt){if(me){e:{for(var f=me,g=_i;f.nodeType!==8;){if(!g){f=null;break e}if(f=ti(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){me=ti(f.nextSibling),u=f.data==="F!";break t}}sa(u)}u=!1}u&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:r},o.queue=u,o=$_.bind(null,Ot,u),u.dispatch=o,u=Tp(!1),g=Cp.bind(null,Ot,!1,u.queue),u=mn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=FR.bind(null,Ot,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function O_(i){var r=Se();return D_(r,Jt,i)}function D_(i,r,o){if(r=bp(i,r,C_)[0],i=th(ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(b){throw b===Bl?$c:b}else u=r;r=Se();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Ot.flags|=2048,uo(9,eh(),qR.bind(null,f,o),null)),[u,g,i]}function qR(i,r){i.action=r}function M_(i){var r=Se(),o=Jt;if(o!==null)return D_(r,o,i);Se(),r=r.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function uo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=vp(),Ot.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function eh(){return{destroy:void 0,resource:void 0}}function P_(){return Se().memoizedState}function nh(i,r,o,u){var f=mn();u=u===void 0?null:u,Ot.flags|=i,f.memoizedState=uo(1|r,eh(),o,u)}function $l(i,r,o,u){var f=Se();u=u===void 0?null:u;var g=f.memoizedState.inst;Jt!==null&&u!==null&&dp(u,Jt.memoizedState.deps)?f.memoizedState=uo(r,g,o,u):(Ot.flags|=i,f.memoizedState=uo(1|r,g,o,u))}function N_(i,r){nh(8390656,8,i,r)}function k_(i,r){$l(2048,8,i,r)}function V_(i,r){return $l(4,2,i,r)}function L_(i,r){return $l(4,4,i,r)}function z_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function U_(i,r,o){o=o!=null?o.concat([i]):null,$l(4,4,z_.bind(null,r,i),o)}function Sp(){}function j_(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&dp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function B_(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&dp(r,u[1]))return u[0];if(u=i(),la){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[u,r],u}function Ap(i,r,o){return o===void 0||(Vs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=H0(),Ot.lanes|=i,qs|=i,o)}function F_(i,r,o,u){return wn(o,r)?o:ao.current!==null?(i=Ap(i,o,u),wn(i,r)||(ze=!0),i):(Vs&42)===0?(ze=!0,i.memoizedState=o):(i=H0(),Ot.lanes|=i,qs|=i,r)}function q_(i,r,o,u,f){var g=ht.p;ht.p=g!==0&&8>g?g:8;var b=X.T,w={};X.T=w,Cp(i,!1,r,o);try{var O=f(),F=X.S;if(F!==null&&F(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=UR(O,u);Kl(i,r,W,Cn(i))}else Kl(i,r,u,Cn(i))}catch(J){Kl(i,r,{then:function(){},status:"rejected",reason:J},Cn())}finally{ht.p=g,X.T=b}}function HR(){}function Rp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=H_(i).queue;q_(i,f,r,gt,o===null?HR:function(){return G_(i),o(u)})}function H_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:gt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function G_(i){var r=H_(i).next.queue;Kl(i,r,{},Cn())}function Ip(){return Je(du)}function Y_(){return Se().memoizedState}function Q_(){return Se().memoizedState}function GR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Cn();i=Ns(o);var u=ks(r,i,o);u!==null&&(xn(u,r,o),ql(u,r,o)),r={cache:ip()},i.payload=r;return}r=r.return}}function YR(i,r,o){var u=Cn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ih(i)?K_(r,o):(o=Qd(i,r,o,u),o!==null&&(xn(o,i,u),X_(o,r,u)))}function $_(i,r,o){var u=Cn();Kl(i,r,o,u)}function Kl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ih(i))K_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(f.hasEagerState=!0,f.eagerState=w,wn(w,b))return jc(i,r,f,0),re===null&&Uc(),!1}catch{}finally{}if(o=Qd(i,r,f,u),o!==null)return xn(o,i,u),X_(o,r,u),!0}return!1}function Cp(i,r,o,u){if(u={lane:2,revertLane:am(),action:u,hasEagerState:!1,eagerState:null,next:null},ih(i)){if(r)throw Error(s(479))}else r=Qd(i,o,u,2),r!==null&&xn(r,i,2)}function ih(i){var r=i.alternate;return i===Ot||r!==null&&r===Ot}function K_(i,r){oo=Wc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function X_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,yl(i,o)}}var sh={readContext:Je,use:Jc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},W_={readContext:Je,use:Jc,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:N_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,nh(4194308,4,z_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return nh(4194308,4,i,r)},useInsertionEffect:function(i,r){nh(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var u=i();if(la){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=mn();if(o!==void 0){var f=o(r);if(la){En(!0);try{o(r)}finally{En(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=YR.bind(null,Ot,i),[u.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=Tp(i);var r=i.queue,o=$_.bind(null,Ot,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Sp,useDeferredValue:function(i,r){var o=mn();return Ap(o,i,r)},useTransition:function(){var i=Tp(!1);return i=q_.bind(null,Ot,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ot,f=mn();if(Yt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),re===null)throw Error(s(349));(Ft&124)!==0||v_(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,N_(b_.bind(null,u,g,i),[i]),u.flags|=2048,uo(9,eh(),__.bind(null,u,g,o,r),null),o},useId:function(){var i=mn(),r=re.identifierPrefix;if(Yt){var o=Wi,u=Xi;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=Zc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=jR++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Ip,useFormState:x_,useActionState:x_,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Cp.bind(null,Ot,!0,o),o.dispatch=r,[i,r]},useMemoCache:_p,useCacheRefresh:function(){return mn().memoizedState=GR.bind(null,Ot)}},Z_={readContext:Je,use:Jc,useCallback:j_,useContext:Je,useEffect:k_,useImperativeHandle:U_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:B_,useReducer:th,useRef:P_,useState:function(){return th(ts)},useDebugValue:Sp,useDeferredValue:function(i,r){var o=Se();return F_(o,Jt.memoizedState,i,r)},useTransition:function(){var i=th(ts)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:y_,useId:Y_,useHostTransitionStatus:Ip,useFormState:O_,useActionState:O_,useOptimistic:function(i,r){var o=Se();return w_(o,Jt,i,r)},useMemoCache:_p,useCacheRefresh:Q_},QR={readContext:Je,use:Jc,useCallback:j_,useContext:Je,useEffect:k_,useImperativeHandle:U_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:B_,useReducer:Ep,useRef:P_,useState:function(){return Ep(ts)},useDebugValue:Sp,useDeferredValue:function(i,r){var o=Se();return Jt===null?Ap(o,i,r):F_(o,Jt.memoizedState,i,r)},useTransition:function(){var i=Ep(ts)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:y_,useId:Y_,useHostTransitionStatus:Ip,useFormState:M_,useActionState:M_,useOptimistic:function(i,r){var o=Se();return Jt!==null?w_(o,Jt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:_p,useCacheRefresh:Q_},co=null,Xl=0;function rh(i){var r=Xl;return Xl+=1,co===null&&(co=[]),u_(co,i,r)}function Wl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ah(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function J_(i){var r=i._init;return r(i._payload)}function t0(i){function r(z,k){if(i){var B=z.deletions;B===null?(z.deletions=[k],z.flags|=16):B.push(k)}}function o(z,k){if(!i)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Ki(z,k),z.index=0,z.sibling=null,z}function g(z,k,B){return z.index=B,i?(B=z.alternate,B!==null?(B=B.index,B<k?(z.flags|=67108866,k):B):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,k,B,Z){return k===null||k.tag!==6?(k=Kd(B,z.mode,Z),k.return=z,k):(k=f(k,B),k.return=z,k)}function O(z,k,B,Z){var mt=B.type;return mt===V?W(z,k,B.props.children,Z,B.key):k!==null&&(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&J_(mt)===k.type)?(k=f(k,B.props),Wl(k,B),k.return=z,k):(k=Fc(B.type,B.key,B.props,null,z.mode,Z),Wl(k,B),k.return=z,k)}function F(z,k,B,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Xd(B,z.mode,Z),k.return=z,k):(k=f(k,B.children||[]),k.return=z,k)}function W(z,k,B,Z,mt){return k===null||k.tag!==7?(k=ta(B,z.mode,Z,mt),k.return=z,k):(k=f(k,B),k.return=z,k)}function J(z,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Kd(""+k,z.mode,B),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return B=Fc(k.type,k.key,k.props,null,z.mode,B),Wl(B,k),B.return=z,B;case R:return k=Xd(k,z.mode,B),k.return=z,k;case A:var Z=k._init;return k=Z(k._payload),J(z,k,B)}if(ne(k)||N(k))return k=ta(k,z.mode,B,null),k.return=z,k;if(typeof k.then=="function")return J(z,rh(k),B);if(k.$$typeof===$)return J(z,Yc(z,k),B);ah(z,k)}return null}function H(z,k,B,Z){var mt=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return mt!==null?null:w(z,k,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return B.key===mt?O(z,k,B,Z):null;case R:return B.key===mt?F(z,k,B,Z):null;case A:return mt=B._init,B=mt(B._payload),H(z,k,B,Z)}if(ne(B)||N(B))return mt!==null?null:W(z,k,B,Z,null);if(typeof B.then=="function")return H(z,k,rh(B),Z);if(B.$$typeof===$)return H(z,k,Yc(z,B),Z);ah(z,B)}return null}function G(z,k,B,Z,mt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(B)||null,w(k,z,""+Z,mt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return z=z.get(Z.key===null?B:Z.key)||null,O(k,z,Z,mt);case R:return z=z.get(Z.key===null?B:Z.key)||null,F(k,z,Z,mt);case A:var Pt=Z._init;return Z=Pt(Z._payload),G(z,k,B,Z,mt)}if(ne(Z)||N(Z))return z=z.get(B)||null,W(k,z,Z,mt,null);if(typeof Z.then=="function")return G(z,k,B,rh(Z),mt);if(Z.$$typeof===$)return G(z,k,B,Yc(k,Z),mt);ah(k,Z)}return null}function At(z,k,B,Z){for(var mt=null,Pt=null,vt=k,Tt=k=0,je=null;vt!==null&&Tt<B.length;Tt++){vt.index>Tt?(je=vt,vt=null):je=vt.sibling;var Ht=H(z,vt,B[Tt],Z);if(Ht===null){vt===null&&(vt=je);break}i&&vt&&Ht.alternate===null&&r(z,vt),k=g(Ht,k,Tt),Pt===null?mt=Ht:Pt.sibling=Ht,Pt=Ht,vt=je}if(Tt===B.length)return o(z,vt),Yt&&na(z,Tt),mt;if(vt===null){for(;Tt<B.length;Tt++)vt=J(z,B[Tt],Z),vt!==null&&(k=g(vt,k,Tt),Pt===null?mt=vt:Pt.sibling=vt,Pt=vt);return Yt&&na(z,Tt),mt}for(vt=u(vt);Tt<B.length;Tt++)je=G(vt,z,Tt,B[Tt],Z),je!==null&&(i&&je.alternate!==null&&vt.delete(je.key===null?Tt:je.key),k=g(je,k,Tt),Pt===null?mt=je:Pt.sibling=je,Pt=je);return i&&vt.forEach(function(Zs){return r(z,Zs)}),Yt&&na(z,Tt),mt}function Et(z,k,B,Z){if(B==null)throw Error(s(151));for(var mt=null,Pt=null,vt=k,Tt=k=0,je=null,Ht=B.next();vt!==null&&!Ht.done;Tt++,Ht=B.next()){vt.index>Tt?(je=vt,vt=null):je=vt.sibling;var Zs=H(z,vt,Ht.value,Z);if(Zs===null){vt===null&&(vt=je);break}i&&vt&&Zs.alternate===null&&r(z,vt),k=g(Zs,k,Tt),Pt===null?mt=Zs:Pt.sibling=Zs,Pt=Zs,vt=je}if(Ht.done)return o(z,vt),Yt&&na(z,Tt),mt;if(vt===null){for(;!Ht.done;Tt++,Ht=B.next())Ht=J(z,Ht.value,Z),Ht!==null&&(k=g(Ht,k,Tt),Pt===null?mt=Ht:Pt.sibling=Ht,Pt=Ht);return Yt&&na(z,Tt),mt}for(vt=u(vt);!Ht.done;Tt++,Ht=B.next())Ht=G(vt,z,Tt,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&vt.delete(Ht.key===null?Tt:Ht.key),k=g(Ht,k,Tt),Pt===null?mt=Ht:Pt.sibling=Ht,Pt=Ht);return i&&vt.forEach(function($2){return r(z,$2)}),Yt&&na(z,Tt),mt}function ee(z,k,B,Z){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case T:t:{for(var mt=B.key;k!==null;){if(k.key===mt){if(mt=B.type,mt===V){if(k.tag===7){o(z,k.sibling),Z=f(k,B.props.children),Z.return=z,z=Z;break t}}else if(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&J_(mt)===k.type){o(z,k.sibling),Z=f(k,B.props),Wl(Z,B),Z.return=z,z=Z;break t}o(z,k);break}else r(z,k);k=k.sibling}B.type===V?(Z=ta(B.props.children,z.mode,Z,B.key),Z.return=z,z=Z):(Z=Fc(B.type,B.key,B.props,null,z.mode,Z),Wl(Z,B),Z.return=z,z=Z)}return b(z);case R:t:{for(mt=B.key;k!==null;){if(k.key===mt)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){o(z,k.sibling),Z=f(k,B.children||[]),Z.return=z,z=Z;break t}else{o(z,k);break}else r(z,k);k=k.sibling}Z=Xd(B,z.mode,Z),Z.return=z,z=Z}return b(z);case A:return mt=B._init,B=mt(B._payload),ee(z,k,B,Z)}if(ne(B))return At(z,k,B,Z);if(N(B)){if(mt=N(B),typeof mt!="function")throw Error(s(150));return B=mt.call(B),Et(z,k,B,Z)}if(typeof B.then=="function")return ee(z,k,rh(B),Z);if(B.$$typeof===$)return ee(z,k,Yc(z,B),Z);ah(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(o(z,k.sibling),Z=f(k,B),Z.return=z,z=Z):(o(z,k),Z=Kd(B,z.mode,Z),Z.return=z,z=Z),b(z)):o(z,k)}return function(z,k,B,Z){try{Xl=0;var mt=ee(z,k,B,Z);return co=null,mt}catch(vt){if(vt===Bl||vt===$c)throw vt;var Pt=Sn(29,vt,null,z.mode);return Pt.lanes=Z,Pt.return=z,Pt}finally{}}}var ho=t0(!0),e0=t0(!1),qn=it(null),bi=null;function Ls(i){var r=i.alternate;st(De,De.current&1),st(qn,i),bi===null&&(r===null||ao.current!==null||r.memoizedState!==null)&&(bi=i)}function n0(i){if(i.tag===22){if(st(De,De.current),st(qn,i),bi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(bi=i)}}else zs()}function zs(){st(De,De.current),st(qn,qn.current)}function es(i){nt(qn),bi===i&&(bi=null),nt(De)}var De=it(0);function oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||vm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function xp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Op={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Cn(),f=Ns(u);f.payload=r,o!=null&&(f.callback=o),r=ks(i,f,u),r!==null&&(xn(r,i,u),ql(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Cn(),f=Ns(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ks(i,f,u),r!==null&&(xn(r,i,u),ql(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Cn(),u=Ns(o);u.tag=2,r!=null&&(u.callback=r),r=ks(i,u,o),r!==null&&(xn(r,i,o),ql(r,i,o))}};function i0(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Pl(o,u)||!Pl(f,g):!0}function s0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Op.enqueueReplaceState(r,r.state,null)}function ua(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var lh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function r0(i){lh(i)}function a0(i){console.error(i)}function o0(i){lh(i)}function uh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function l0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dp(i,r,o){return o=Ns(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(i,r)},o}function u0(i){return i=Ns(i),i.tag=3,i}function c0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){l0(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){l0(r,o,u),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function $R(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&zl(r,o,f,!0),o=qn.current,o!==null){switch(o.tag){case 13:return bi===null?em():o.alternate===null&&ge===0&&(ge=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ap?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),im(i,u,f)),!1;case 22:return o.flags|=65536,u===ap?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),im(i,u,f)),!1}throw Error(s(435,o.tag))}return im(i,u,f),em(),!1}if(Yt)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Jd&&(i=Error(s(422),{cause:u}),Ll(Un(i,o)))):(u!==Jd&&(r=Error(s(423),{cause:u}),Ll(Un(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Un(u,o),f=Dp(i.stateNode,u,f),up(i,f),ge!==4&&(ge=2)),!1;var g=Error(s(520),{cause:u});if(g=Un(g,o),su===null?su=[g]:su.push(g),ge!==4&&(ge=2),r===null)return!0;u=Un(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Dp(o.stateNode,u,i),up(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hs===null||!Hs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=u0(f),c0(f,i,o,u),up(o,f),!1}o=o.return}while(o!==null);return!1}var h0=Error(s(461)),ze=!1;function Ge(i,r,o,u){r.child=i===null?e0(r,null,o,u):ho(r,i.child,o,u)}function f0(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return aa(r),u=pp(i,r,o,b,g,f),w=mp(),i!==null&&!ze?(gp(i,r,f),ns(i,r,f)):(Yt&&w&&Wd(r),r.flags|=1,Ge(i,r,u,f),r.child)}function d0(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!$d(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,p0(i,r,g,u,f)):(i=Fc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Up(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Pl,o(b,u)&&i.ref===r.ref)return ns(i,r,f)}return r.flags|=1,i=Ki(g,u),i.ref=r.ref,i.return=r,r.child=i}function p0(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Pl(g,u)&&i.ref===r.ref)if(ze=!1,r.pendingProps=u=g,Up(i,f))(i.flags&131072)!==0&&(ze=!0);else return r.lanes=i.lanes,ns(i,r,f)}return Mp(i,r,o,u,f)}function m0(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return g0(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qc(r,g!==null?g.cachePool:null),g!==null?p_(r,g):hp(),n0(r);else return r.lanes=r.childLanes=536870912,g0(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Qc(r,g.cachePool),p_(r,g),zs(),r.memoizedState=null):(i!==null&&Qc(r,null),hp(),zs());return Ge(i,r,f,o),r.child}function g0(i,r,o,u){var f=rp();return f=f===null?null:{parent:Oe._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Qc(r,null),hp(),n0(r),i!==null&&zl(i,r,u,!0),null}function ch(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Mp(i,r,o,u,f){return aa(r),o=pp(i,r,o,u,void 0,f),u=mp(),i!==null&&!ze?(gp(i,r,f),ns(i,r,f)):(Yt&&u&&Wd(r),r.flags|=1,Ge(i,r,o,f),r.child)}function y0(i,r,o,u,f,g){return aa(r),r.updateQueue=null,o=g_(r,u,o,f),m_(i),u=mp(),i!==null&&!ze?(gp(i,r,g),ns(i,r,g)):(Yt&&u&&Wd(r),r.flags|=1,Ge(i,r,o,g),r.child)}function v0(i,r,o,u,f){if(aa(r),r.stateNode===null){var g=eo,b=o.contextType;typeof b=="object"&&b!==null&&(g=Je(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Op,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},op(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Je(b):eo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(xp(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Op.enqueueReplaceState(g,g.state,null),Gl(r,u,g,f),Hl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,O=ua(o,w);g.props=O;var F=g.context,W=o.contextType;b=eo,typeof W=="object"&&W!==null&&(b=Je(W));var J=o.getDerivedStateFromProps;W=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||F!==b)&&s0(r,g,u,b),Ps=!1;var H=r.memoizedState;g.state=H,Gl(r,u,g,f),Hl(),F=r.memoizedState,w||H!==F||Ps?(typeof J=="function"&&(xp(r,o,J,u),F=r.memoizedState),(O=Ps||i0(r,o,O,u,H,F,b))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),g.props=u,g.state=F,g.context=b,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,lp(i,r),b=r.memoizedProps,W=ua(o,b),g.props=W,J=r.pendingProps,H=g.context,F=o.contextType,O=eo,typeof F=="object"&&F!==null&&(O=Je(F)),w=o.getDerivedStateFromProps,(F=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==J||H!==O)&&s0(r,g,u,O),Ps=!1,H=r.memoizedState,g.state=H,Gl(r,u,g,f),Hl();var G=r.memoizedState;b!==J||H!==G||Ps||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof w=="function"&&(xp(r,o,w,u),G=r.memoizedState),(W=Ps||i0(r,o,W,u,H,G,O)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=O,u=W):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&H===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,ch(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ho(r,i.child,null,f),r.child=ho(r,null,o,f)):Ge(i,r,o,f),r.memoizedState=g.state,i=r.child):i=ns(i,r,f),i}function _0(i,r,o,u){return Vl(),r.flags|=256,Ge(i,r,o,u),r.child}var Pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(i){return{baseLanes:i,cachePool:a_()}}function kp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Hn),i}function b0(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Yt){if(f?Ls(r):zs(),Yt){var w=me,O;if(O=w){t:{for(O=w,w=_i;O.nodeType!==8;){if(!w){w=null;break t}if(O=ti(O.nextSibling),O===null){w=null;break t}}w=O}w!==null?(r.memoizedState={dehydrated:w,treeContext:ea!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},O=Sn(18,null,null,0),O.stateNode=w,O.return=r,r.child=O,dn=r,me=null,O=!0):O=!1}O||sa(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return vm(w)?r.lanes=32:r.lanes=536870912,null;es(r)}return w=u.children,u=u.fallback,f?(zs(),f=r.mode,w=hh({mode:"hidden",children:w},f),u=ta(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Np(o),f.childLanes=kp(i,b,o),r.memoizedState=Pp,u):(Ls(r),Vp(r,w))}if(O=i.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(g)r.flags&256?(Ls(r),r.flags&=-257,r=Lp(i,r,o)):r.memoizedState!==null?(zs(),r.child=i.child,r.flags|=128,r=null):(zs(),f=u.fallback,w=r.mode,u=hh({mode:"visible",children:u.children},w),f=ta(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,ho(r,i.child,null,o),u=r.child,u.memoizedState=Np(o),u.childLanes=kp(i,b,o),r.memoizedState=Pp,r=f);else if(Ls(r),vm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(s(419)),u.stack="",u.digest=b,Ll({value:u,source:null,stack:null}),r=Lp(i,r,o)}else if(ze||zl(i,r,o,!1),b=(o&i.childLanes)!==0,ze||b){if(b=re,b!==null&&(u=o&-o,u=(u&42)!==0?1:As(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,to(i,u),xn(b,i,u),h0;w.data==="$?"||em(),r=Lp(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,me=ti(w.nextSibling),dn=r,Yt=!0,ia=null,_i=!1,i!==null&&(Bn[Fn++]=Xi,Bn[Fn++]=Wi,Bn[Fn++]=ea,Xi=i.id,Wi=i.overflow,ea=r),r=Vp(r,u.children),r.flags|=4096);return r}return f?(zs(),f=u.fallback,w=r.mode,O=i.child,F=O.sibling,u=Ki(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,F!==null?f=Ki(F,f):(f=ta(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=Np(o):(O=w.cachePool,O!==null?(F=Oe._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=a_(),w={baseLanes:w.baseLanes|o,cachePool:O}),f.memoizedState=w,f.childLanes=kp(i,b,o),r.memoizedState=Pp,u):(Ls(r),o=i.child,i=o.sibling,o=Ki(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Vp(i,r){return r=hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hh(i,r){return i=Sn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lp(i,r,o){return ho(r,i.child,null,o),i=Vp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function E0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),ep(i.return,r,o)}function zp(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function T0(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Ge(i,r,u.children,o),u=De.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E0(i,o,r);else if(i.tag===19)E0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(st(De,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&oh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),zp(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&oh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}zp(r,!0,o,null,g);break;case"together":zp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(zl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ki(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ki(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Up(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function KR(i,r,o){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),Ms(r,Oe,i.memoizedState.cache),Vl();break;case 27:case 5:Ss(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:Ms(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ls(r),r.flags|=128,null):(o&r.child.childLanes)!==0?b0(i,r,o):(Ls(r),i=ns(i,r,o),i!==null?i.sibling:null);Ls(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(zl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return T0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(De,De.current),u)break;return null;case 22:case 23:return r.lanes=0,m0(i,r,o);case 24:Ms(r,Oe,i.memoizedState.cache)}return ns(i,r,o)}function w0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ze=!0;else{if(!Up(i,o)&&(r.flags&128)===0)return ze=!1,KR(i,r,o);ze=(i.flags&131072)!==0}else ze=!1,Yt&&(r.flags&1048576)!==0&&Jv(r,Hc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")$d(u)?(i=ua(u,i),r.tag=1,r=v0(null,r,u,i,o)):(r.tag=0,r=Mp(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===ut){r.tag=11,r=f0(null,r,u,i,o);break t}else if(f===x){r.tag=14,r=d0(null,r,u,i,o);break t}}throw r=le(u)||u,Error(s(306,r,""))}}return r;case 0:return Mp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ua(u,r.pendingProps),v0(i,r,u,f,o);case 3:t:{if(se(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,lp(i,r),Gl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Ms(r,Oe,u),u!==g.cache&&np(r,[Oe],o,!0),Hl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=_0(i,r,u,o);break t}else if(u!==f){f=Un(Error(s(424)),r),Ll(f),r=_0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(me=ti(i.firstChild),dn=r,Yt=!0,ia=null,_i=!0,o=e0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),u===f){r=ns(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return ch(i,r),i===null?(o=Ib(r.type,null,r.pendingProps,null))?r.memoizedState=o:Yt||(o=r.type,i=r.pendingProps,u=Ah(Rt.current).createElement(o),u[Ie]=r,u[Ee]=i,Qe(u,o,i),ye(u),r.stateNode=u):r.memoizedState=Ib(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ss(r),i===null&&Yt&&(u=r.stateNode=Sb(r.type,r.pendingProps,Rt.current),dn=r,_i=!0,f=me,Qs(r.type)?(_m=f,me=ti(u.firstChild)):me=f),Ge(i,r,r.pendingProps.children,o),ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Yt&&((f=u=me)&&(u=w2(u,r.type,r.pendingProps,_i),u!==null?(r.stateNode=u,dn=r,me=ti(u.firstChild),_i=!1,f=!0):f=!1),f||sa(r)),Ss(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,mm(f,g)?u=null:b!==null&&mm(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=pp(i,r,BR,null,null,o),du._currentValue=f),ch(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&Yt&&((i=o=me)&&(o=S2(o,r.pendingProps,_i),o!==null?(r.stateNode=o,dn=r,me=null,i=!0):i=!1),i||sa(r)),null;case 13:return b0(i,r,o);case 4:return se(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ho(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return f0(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ms(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,aa(r),f=Je(f),u=u(f),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return d0(i,r,r.type,r.pendingProps,o);case 15:return p0(i,r,r.type,r.pendingProps,o);case 19:return T0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=hh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Ki(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return m0(i,r,o);case 24:return aa(r),u=Je(Oe),i===null?(f=rp(),f===null&&(f=re,g=ip(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},op(r),Ms(r,Oe,f)):((i.lanes&o)!==0&&(lp(i,r),Gl(r,null,null,o),Hl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ms(r,Oe,u)):(u=g.cache,Ms(r,Oe,u),u!==f.cache&&np(r,[Oe],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function is(i){i.flags|=4}function S0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Mb(r)){if(r=qn.current,r!==null&&((Ft&4194048)===Ft?bi!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||r!==bi))throw Fl=ap,o_;i.flags|=8192}}function fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ml():536870912,i.lanes|=r,go|=r)}function Zl(i,r){if(!Yt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function he(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function XR(i,r,o){var u=r.pendingProps;switch(Zd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(r),null;case 1:return he(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ji(Oe),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(kl(r)?is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,n_())),he(r),null;case 26:return o=r.memoizedState,i===null?(is(r),o!==null?(he(r),S0(r,o)):(he(r),r.flags&=-16777217)):o?o!==i.memoizedState?(is(r),he(r),S0(r,o)):(he(r),r.flags&=-16777217):(i.memoizedProps!==u&&is(r),he(r),r.flags&=-16777217),null;case 27:Vi(r),o=Rt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return he(r),null}i=ft.current,kl(r)?t_(r):(i=Sb(f,u,o),r.stateNode=i,is(r))}return he(r),null;case 5:if(Vi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return he(r),null}if(i=ft.current,kl(r))t_(r);else{switch(f=Ah(Rt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ie]=r,i[Ee]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Qe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&is(r)}}return he(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Rt.current,kl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=dn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ie]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yb(i.nodeValue,o)),i||sa(r)}else i=Ah(i).createTextNode(u),i[Ie]=r,r.stateNode=i}return he(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=kl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ie]=r}else Vl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;he(r),f=!1}else f=n_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(es(r),r):(es(r),null)}if(es(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),fh(r,r.updateQueue),he(r),null;case 4:return oi(),i===null&&cm(r.stateNode.containerInfo),he(r),null;case 10:return Ji(r.type),he(r),null;case 19:if(nt(De),f=r.memoizedState,f===null)return he(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Zl(f,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=oh(i),g!==null){for(r.flags|=128,Zl(f,!1),i=g.updateQueue,r.updateQueue=i,fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Zv(o,i),o=o.sibling;return st(De,De.current&1|2),r.child}i=i.sibling}f.tail!==null&&Pn()>mh&&(r.flags|=128,u=!0,Zl(f,!1),r.lanes=4194304)}else{if(!u)if(i=oh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,fh(r,i),Zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Yt)return he(r),null}else 2*Pn()-f.renderingStartTime>mh&&o!==536870912&&(r.flags|=128,u=!0,Zl(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Pn(),r.sibling=null,i=De.current,st(De,u?i&1|2:i&1),r):(he(r),null);case 22:case 23:return es(r),fp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(he(r),r.subtreeFlags&6&&(r.flags|=8192)):he(r),o=r.updateQueue,o!==null&&fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(oa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ji(Oe),he(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WR(i,r){switch(Zd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ji(Oe),oi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(es(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Vl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(De),null;case 4:return oi(),null;case 10:return Ji(r.type),null;case 22:case 23:return es(r),fp(),i!==null&&nt(oa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ji(Oe),null;case 25:return null;default:return null}}function A0(i,r){switch(Zd(r),r.tag){case 3:Ji(Oe),oi();break;case 26:case 27:case 5:Vi(r);break;case 4:oi();break;case 13:es(r);break;case 19:nt(De);break;case 10:Ji(r.type);break;case 22:case 23:es(r),fp(),i!==null&&nt(oa);break;case 24:Ji(Oe)}}function Jl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){ie(r,r.return,w)}}function Us(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var O=o,F=w;try{F()}catch(W){ie(f,O,W)}}}u=u.next}while(u!==g)}}catch(W){ie(r,r.return,W)}}function R0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{d_(r,o)}catch(u){ie(i,i.return,u)}}}function I0(i,r,o){o.props=ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ie(i,r,u)}}function tu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ie(i,r,f)}}function Ei(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ie(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ie(i,r,f)}else o.current=null}function C0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ie(i,i.return,f)}}function jp(i,r,o){try{var u=i.stateNode;v2(u,i.type,o,r),u[Ee]=r}catch(f){ie(i,i.return,f)}}function x0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qs(i.type)||i.tag===4}function Bp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||x0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Sh));else if(u!==4&&(u===27&&Qs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Fp(i,r,o),i=i.sibling;i!==null;)Fp(i,r,o),i=i.sibling}function dh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Qs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(dh(i,r,o),i=i.sibling;i!==null;)dh(i,r,o),i=i.sibling}function O0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qe(r,u,o),r[Ie]=i,r[Ee]=o}catch(g){ie(i,i.return,g)}}var ss=!1,_e=!1,qp=!1,D0=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ZR(i,r){if(i=i.containerInfo,dm=Dh,i=Fv(i),Bd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,O=-1,F=0,W=0,J=i,H=null;e:for(;;){for(var G;J!==o||f!==0&&J.nodeType!==3||(w=b+f),J!==g||u!==0&&J.nodeType!==3||(O=b+u),J.nodeType===3&&(b+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===i)break e;if(H===o&&++F===f&&(w=b),H===g&&++W===u&&(O=b),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(pm={focusedElem:i,selectionRange:o},Dh=!1,Ue=r;Ue!==null;)if(r=Ue,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Ue=i;else for(;Ue!==null;){switch(r=Ue,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var At=ua(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(At,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){ie(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ym(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ym(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ue=i;break}Ue=r.return}}function M0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:js(i,o),u&4&&Jl(5,o);break;case 1:if(js(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){ie(o,o.return,b)}else{var f=ua(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ie(o,o.return,b)}}u&64&&R0(o),u&512&&tu(o,o.return);break;case 3:if(js(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{d_(i,r)}catch(b){ie(o,o.return,b)}}break;case 27:r===null&&u&4&&O0(o);case 26:case 5:js(i,o),r===null&&u&4&&C0(o),u&512&&tu(o,o.return);break;case 12:js(i,o);break;case 13:js(i,o),u&4&&k0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=o2.bind(null,o),A2(i,o))));break;case 22:if(u=o.memoizedState!==null||ss,!u){r=r!==null&&r.memoizedState!==null||_e,f=ss;var g=_e;ss=u,(_e=r)&&!g?Bs(i,o,(o.subtreeFlags&8772)!==0):js(i,o),ss=f,_e=g}break;case 30:break;default:js(i,o)}}function P0(i){var r=i.alternate;r!==null&&(i.alternate=null,P0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Cs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,gn=!1;function rs(i,r,o){for(o=o.child;o!==null;)N0(i,r,o),o=o.sibling}function N0(i,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(pe,o)}catch{}switch(o.tag){case 26:_e||Ei(o,r),rs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_e||Ei(o,r);var u=ce,f=gn;Qs(o.type)&&(ce=o.stateNode,gn=!1),rs(i,r,o),uu(o.stateNode),ce=u,gn=f;break;case 5:_e||Ei(o,r);case 6:if(u=ce,f=gn,ce=null,rs(i,r,o),ce=u,gn=f,ce!==null)if(gn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(g){ie(o,r,g)}else try{ce.removeChild(o.stateNode)}catch(g){ie(o,r,g)}break;case 18:ce!==null&&(gn?(i=ce,Tb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),yu(i)):Tb(ce,o.stateNode));break;case 4:u=ce,f=gn,ce=o.stateNode.containerInfo,gn=!0,rs(i,r,o),ce=u,gn=f;break;case 0:case 11:case 14:case 15:_e||Us(2,o,r),_e||Us(4,o,r),rs(i,r,o);break;case 1:_e||(Ei(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&I0(o,r,u)),rs(i,r,o);break;case 21:rs(i,r,o);break;case 22:_e=(u=_e)||o.memoizedState!==null,rs(i,r,o),_e=u;break;default:rs(i,r,o)}}function k0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yu(i)}catch(o){ie(r,r.return,o)}}function JR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new D0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new D0),r;default:throw Error(s(435,i.tag))}}function Hp(i,r){var o=JR(i);r.forEach(function(u){var f=l2.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function An(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Qs(w.type)){ce=w.stateNode,gn=!1;break t}break;case 5:ce=w.stateNode,gn=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,gn=!0;break t}w=w.return}if(ce===null)throw Error(s(160));N0(g,b,f),ce=null,gn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)V0(r,i),r=r.sibling}var Jn=null;function V0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),Rn(i),u&4&&(Us(3,i,i.return),Jl(3,i),Us(5,i,i.return));break;case 1:An(r,i),Rn(i),u&512&&(_e||o===null||Ei(o,o.return)),u&64&&ss&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Jn;if(An(r,i),Rn(i),u&512&&(_e||o===null||Ei(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[zr]||g[Ie]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Qe(g,u,o),g[Ie]=i,ye(g),u=g;break t;case"link":var b=Ob("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=f.createElement(u),Qe(g,u,o),f.head.appendChild(g);break;case"meta":if(b=Ob("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=f.createElement(u),Qe(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ie]=i,ye(g),u=g}i.stateNode=u}else Db(f,i.type,i.stateNode);else i.stateNode=xb(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Db(f,i.type,i.stateNode):xb(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&jp(i,i.memoizedProps,o.memoizedProps)}break;case 27:An(r,i),Rn(i),u&512&&(_e||o===null||Ei(o,o.return)),o!==null&&u&4&&jp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(An(r,i),Rn(i),u&512&&(_e||o===null||Ei(o,o.return)),i.flags&32){f=i.stateNode;try{kn(f,"")}catch(G){ie(i,i.return,G)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,jp(i,f,o!==null?o.memoizedProps:f)),u&1024&&(qp=!0);break;case 6:if(An(r,i),Rn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(G){ie(i,i.return,G)}}break;case 3:if(Ch=null,f=Jn,Jn=Rh(r.containerInfo),An(r,i),Jn=f,Rn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{yu(r.containerInfo)}catch(G){ie(i,i.return,G)}qp&&(qp=!1,L0(i));break;case 4:u=Jn,Jn=Rh(i.stateNode.containerInfo),An(r,i),Rn(i),Jn=u;break;case 12:An(r,i),Rn(i);break;case 13:An(r,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xp=Pn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Hp(i,u)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,F=ss,W=_e;if(ss=F||f,_e=W||O,An(r,i),_e=W,ss=F,Rn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||ss||_e||ca(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=O.stateNode;var J=O.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ie(O,O.return,G)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(G){ie(O,O.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hp(i,o))));break;case 19:An(r,i),Rn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Hp(i,u)));break;case 30:break;case 21:break;default:An(r,i),Rn(i)}}function Rn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(x0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Bp(i);dh(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(kn(b,""),o.flags&=-33);var w=Bp(i);dh(i,w,b);break;case 3:case 4:var O=o.stateNode.containerInfo,F=Bp(i);Fp(i,F,O);break;default:throw Error(s(161))}}catch(W){ie(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function L0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;L0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)M0(i,r.alternate,r),r=r.sibling}function ca(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Us(4,r,r.return),ca(r);break;case 1:Ei(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&I0(r,r.return,o),ca(r);break;case 27:uu(r.stateNode);case 26:case 5:Ei(r,r.return),ca(r);break;case 22:r.memoizedState===null&&ca(r);break;case 30:ca(r);break;default:ca(r)}i=i.sibling}}function Bs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Bs(f,g,o),Jl(4,g);break;case 1:if(Bs(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ie(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)f_(O[f],w)}catch(F){ie(u,u.return,F)}}o&&b&64&&R0(g),tu(g,g.return);break;case 27:O0(g);case 26:case 5:Bs(f,g,o),o&&u===null&&b&4&&C0(g),tu(g,g.return);break;case 12:Bs(f,g,o);break;case 13:Bs(f,g,o),o&&b&4&&k0(f,g);break;case 22:g.memoizedState===null&&Bs(f,g,o),tu(g,g.return);break;case 30:break;default:Bs(f,g,o)}r=r.sibling}}function Gp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ul(o))}function Yp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i))}function Ti(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)z0(i,r,o,u),r=r.sibling}function z0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,o,u),f&2048&&Jl(9,r);break;case 1:Ti(i,r,o,u);break;case 3:Ti(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i)));break;case 12:if(f&2048){Ti(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){ie(r,r.return,O)}}else Ti(i,r,o,u);break;case 13:Ti(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Ti(i,r,o,u):eu(i,r):g._visibility&2?Ti(i,r,o,u):(g._visibility|=2,fo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Gp(b,r);break;case 24:Ti(i,r,o,u),f&2048&&Yp(r.alternate,r);break;default:Ti(i,r,o,u)}}function fo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,w=o,O=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:fo(g,b,w,O,f),Jl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?fo(g,b,w,O,f):eu(g,b):(W._visibility|=2,fo(g,b,w,O,f)),f&&F&2048&&Gp(b.alternate,b);break;case 24:fo(g,b,w,O,f),f&&F&2048&&Yp(b.alternate,b);break;default:fo(g,b,w,O,f)}r=r.sibling}}function eu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:eu(o,u),f&2048&&Gp(u.alternate,u);break;case 24:eu(o,u),f&2048&&Yp(u.alternate,u);break;default:eu(o,u)}r=r.sibling}}var nu=8192;function po(i){if(i.subtreeFlags&nu)for(i=i.child;i!==null;)U0(i),i=i.sibling}function U0(i){switch(i.tag){case 26:po(i),i.flags&nu&&i.memoizedState!==null&&z2(Jn,i.memoizedState,i.memoizedProps);break;case 5:po(i);break;case 3:case 4:var r=Jn;Jn=Rh(i.stateNode.containerInfo),po(i),Jn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=nu,nu=16777216,po(i),nu=r):po(i));break;default:po(i)}}function j0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function iu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ue=u,F0(u,i)}j0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B0(i),i=i.sibling}function B0(i){switch(i.tag){case 0:case 11:case 15:iu(i),i.flags&2048&&Us(9,i,i.return);break;case 3:iu(i);break;case 12:iu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ph(i)):iu(i);break;default:iu(i)}}function ph(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ue=u,F0(u,i)}j0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Us(8,r,r.return),ph(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ph(r));break;default:ph(r)}i=i.sibling}}function F0(i,r){for(;Ue!==null;){var o=Ue;switch(o.tag){case 0:case 11:case 15:Us(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ue=u;else t:for(o=i;Ue!==null;){u=Ue;var f=u.sibling,g=u.return;if(P0(u),u===o){Ue=null;break t}if(f!==null){f.return=g,Ue=f;break t}Ue=g}}}var t2={getCacheForType:function(i){var r=Je(Oe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},e2=typeof WeakMap=="function"?WeakMap:Map,Xt=0,re=null,Nt=null,Ft=0,Wt=0,In=null,Fs=!1,mo=!1,Qp=!1,as=0,ge=0,qs=0,ha=0,$p=0,Hn=0,go=0,su=null,yn=null,Kp=!1,Xp=0,mh=1/0,gh=null,Hs=null,Ye=0,Gs=null,yo=null,vo=0,Wp=0,Zp=null,q0=null,ru=0,Jp=null;function Cn(){if((Xt&2)!==0&&Ft!==0)return Ft&-Ft;if(X.T!==null){var i=so;return i!==0?i:am()}return Rs()}function H0(){Hn===0&&(Hn=(Ft&536870912)===0||Yt?pl():536870912);var i=qn.current;return i!==null&&(i.flags|=32),Hn}function xn(i,r,o){(i===re&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(_o(i,0),Ys(i,Ft,Hn,!1)),zi(i,o),((Xt&2)===0||i!==re)&&(i===re&&((Xt&2)===0&&(ha|=o),ge===4&&Ys(i,Ft,Hn,!1)),wi(i))}function G0(i,r,o){if((Xt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Lr(i,r),f=u?s2(i,r):nm(i,r,!0),g=u;do{if(f===0){mo&&!u&&Ys(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!n2(o)){f=nm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=i;f=su;var O=w.current.memoizedState.isDehydrated;if(O&&(_o(w,b).flags|=256),b=nm(w,b,!1),b!==2){if(Qp&&!O){w.errorRecoveryDisabledLanes|=g,ha|=g,f=4;break t}g=yn,yn=f,g!==null&&(yn===null?yn=g:yn.push.apply(yn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){_o(i,0),Ys(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ys(u,r,Hn,!Fs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Xp+300-Pn(),10<f)){if(Ys(u,r,Hn,!Fs),ka(u,0,!0)!==0)break t;u.timeoutHandle=bb(Y0.bind(null,u,o,yn,gh,Kp,r,Hn,ha,go,Fs,g,2,-0,0),f);break t}Y0(u,o,yn,gh,Kp,r,Hn,ha,go,Fs,g,0,-0,0)}}break}while(!0);wi(i)}function Y0(i,r,o,u,f,g,b,w,O,F,W,J,H,G){if(i.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:L2},U0(r),J=U2(),J!==null)){i.cancelPendingCommit=J(J0.bind(null,i,r,g,o,u,f,b,w,O,W,1,H,G)),Ys(i,g,b,!F);return}J0(i,r,g,o,u,f,b,w,O)}function n2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!wn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ys(i,r,o,u){r&=~$p,r&=~ha,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-Ze(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&li(i,o,r)}function yh(){return(Xt&6)===0?(au(0),!1):!0}function tm(){if(Nt!==null){if(Wt===0)var i=Nt.return;else i=Nt,Zi=ra=null,yp(i),co=null,Xl=0,i=Nt;for(;i!==null;)A0(i.alternate,i),i=i.return;Nt=null}}function _o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,b2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),tm(),re=i,Nt=o=Ki(i.current,null),Ft=r,Wt=0,In=null,Fs=!1,mo=Lr(i,r),Qp=!1,go=Hn=$p=ha=qs=ge=0,yn=su=null,Kp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ze(u),g=1<<f;r|=i[f],u&=~g}return as=r,Uc(),o}function Q0(i,r){Ot=null,X.H=sh,r===Bl||r===$c?(r=c_(),Wt=3):r===o_?(r=c_(),Wt=4):Wt=r===h0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Nt===null&&(ge=1,uh(i,Un(r,i.current)))}function $0(){var i=X.H;return X.H=sh,i===null?sh:i}function K0(){var i=X.A;return X.A=t2,i}function em(){ge=4,Fs||(Ft&4194048)!==Ft&&qn.current!==null||(mo=!0),(qs&134217727)===0&&(ha&134217727)===0||re===null||Ys(re,Ft,Hn,!1)}function nm(i,r,o){var u=Xt;Xt|=2;var f=$0(),g=K0();(re!==i||Ft!==r)&&(gh=null,_o(i,r)),r=!1;var b=ge;t:do try{if(Wt!==0&&Nt!==null){var w=Nt,O=In;switch(Wt){case 8:tm(),b=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var F=Wt;if(Wt=0,In=null,bo(i,w,O,F),o&&mo){b=0;break t}break;default:F=Wt,Wt=0,In=null,bo(i,w,O,F)}}i2(),b=ge;break}catch(W){Q0(i,W)}while(!0);return r&&i.shellSuspendCounter++,Zi=ra=null,Xt=u,X.H=f,X.A=g,Nt===null&&(re=null,Ft=0,Uc()),b}function i2(){for(;Nt!==null;)X0(Nt)}function s2(i,r){var o=Xt;Xt|=2;var u=$0(),f=K0();re!==i||Ft!==r?(gh=null,mh=Pn()+500,_o(i,r)):mo=Lr(i,r);t:do try{if(Wt!==0&&Nt!==null){r=Nt;var g=In;e:switch(Wt){case 1:Wt=0,In=null,bo(i,r,g,1);break;case 2:case 9:if(l_(g)){Wt=0,In=null,W0(r);break}r=function(){Wt!==2&&Wt!==9||re!==i||(Wt=7),wi(i)},g.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:l_(g)?(Wt=0,In=null,W0(r)):(Wt=0,In=null,bo(i,r,g,7));break;case 5:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var w=Nt;if(!b||Mb(b)){Wt=0,In=null;var O=w.sibling;if(O!==null)Nt=O;else{var F=w.return;F!==null?(Nt=F,vh(F)):Nt=null}break e}}Wt=0,In=null,bo(i,r,g,5);break;case 6:Wt=0,In=null,bo(i,r,g,6);break;case 8:tm(),ge=6;break t;default:throw Error(s(462))}}r2();break}catch(W){Q0(i,W)}while(!0);return Zi=ra=null,X.H=u,X.A=f,Xt=o,Nt!==null?0:(re=null,Ft=0,Uc(),ge)}function r2(){for(;Nt!==null&&!cl();)X0(Nt)}function X0(i){var r=w0(i.alternate,i,as);i.memoizedProps=i.pendingProps,r===null?vh(i):Nt=r}function W0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=y0(o,r,r.pendingProps,r.type,void 0,Ft);break;case 11:r=y0(o,r,r.pendingProps,r.type.render,r.ref,Ft);break;case 5:yp(r);default:A0(o,r),r=Nt=Zv(r,as),r=w0(o,r,as)}i.memoizedProps=i.pendingProps,r===null?vh(i):Nt=r}function bo(i,r,o,u){Zi=ra=null,yp(r),co=null,Xl=0;var f=r.return;try{if($R(i,f,r,o,Ft)){ge=1,uh(i,Un(o,i.current)),Nt=null;return}}catch(g){if(f!==null)throw Nt=f,g;ge=1,uh(i,Un(o,i.current)),Nt=null;return}r.flags&32768?(Yt||u===1?i=!0:mo||(Ft&536870912)!==0?i=!1:(Fs=i=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z0(r,i)):vh(r)}function vh(i){var r=i;do{if((r.flags&32768)!==0){Z0(r,Fs);return}i=r.return;var o=XR(r.alternate,r,as);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);ge===0&&(ge=5)}function Z0(i,r){do{var o=WR(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);ge=6,Nt=null}function J0(i,r,o,u,f,g,b,w,O){i.cancelPendingCommit=null;do _h();while(Ye!==0);if((Xt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Yd,gl(i,o,g,b,w,O),i===re&&(Nt=re=null,Ft=0),yo=r,Gs=i,vo=o,Wp=g,Zp=f,q0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u2(Pr,function(){return sb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ht.p,ht.p=2,b=Xt,Xt|=4;try{ZR(i,r,o)}finally{Xt=b,ht.p=f,X.T=u}}Ye=1,tb(),eb(),nb()}}function tb(){if(Ye===1){Ye=0;var i=Gs,r=yo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ht.p;ht.p=2;var f=Xt;Xt|=4;try{V0(r,i);var g=pm,b=Fv(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&Bv(w.ownerDocument.documentElement,w)){if(O!==null&&Bd(w)){var F=O.start,W=O.end;if(W===void 0&&(W=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(W,w.value.length);else{var J=w.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),At=w.textContent.length,Et=Math.min(O.start,At),ee=O.end===void 0?Et:Math.min(O.end,At);!G.extend&&Et>ee&&(b=ee,ee=Et,Et=b);var z=jv(w,Et),k=jv(w,ee);if(z&&k&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var B=J.createRange();B.setStart(z.node,z.offset),G.removeAllRanges(),Et>ee?(G.addRange(B),G.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),G.addRange(B))}}}}for(J=[],G=w;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<J.length;w++){var Z=J[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Dh=!!dm,pm=dm=null}finally{Xt=f,ht.p=u,X.T=o}}i.current=r,Ye=2}}function eb(){if(Ye===2){Ye=0;var i=Gs,r=yo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ht.p;ht.p=2;var f=Xt;Xt|=4;try{M0(i,r.alternate,r)}finally{Xt=f,ht.p=u,X.T=o}}Ye=3}}function nb(){if(Ye===4||Ye===3){Ye=0,pc();var i=Gs,r=yo,o=vo,u=q0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ye=5:(Ye=0,yo=Gs=null,ib(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Hs=null),Va(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(pe,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,f=ht.p,ht.p=2,X.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{X.T=r,ht.p=f}}(vo&3)!==0&&_h(),wi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Jp?ru++:(ru=0,Jp=i):ru=0,au(0)}}function ib(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ul(r)))}function _h(i){return tb(),eb(),nb(),sb()}function sb(){if(Ye!==5)return!1;var i=Gs,r=Wp;Wp=0;var o=Va(vo),u=X.T,f=ht.p;try{ht.p=32>o?32:o,X.T=null,o=Zp,Zp=null;var g=Gs,b=vo;if(Ye=0,yo=Gs=null,vo=0,(Xt&6)!==0)throw Error(s(331));var w=Xt;if(Xt|=4,B0(g.current),z0(g,g.current,b,o),Xt=w,au(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(pe,g)}catch{}return!0}finally{ht.p=f,X.T=u,ib(i,r)}}function rb(i,r,o){r=Un(o,r),r=Dp(i.stateNode,r,2),i=ks(i,r,2),i!==null&&(zi(i,2),wi(i))}function ie(i,r,o){if(i.tag===3)rb(i,i,o);else for(;r!==null;){if(r.tag===3){rb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hs===null||!Hs.has(u))){i=Un(o,i),o=u0(2),u=ks(r,o,2),u!==null&&(c0(o,u,r,i),zi(u,2),wi(u));break}}r=r.return}}function im(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new e2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Qp=!0,f.add(o),i=a2.bind(null,i,r,o),r.then(i,i))}function a2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,re===i&&(Ft&o)===o&&(ge===4||ge===3&&(Ft&62914560)===Ft&&300>Pn()-Xp?(Xt&2)===0&&_o(i,0):$p|=o,go===Ft&&(go=0)),wi(i)}function ab(i,r){r===0&&(r=ml()),i=to(i,r),i!==null&&(zi(i,r),wi(i))}function o2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),ab(i,o)}function l2(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),ab(i,o)}function u2(i,r){return Dr(i,r)}var bh=null,Eo=null,sm=!1,Eh=!1,rm=!1,fa=0;function wi(i){i!==Eo&&i.next===null&&(Eo===null?bh=Eo=i:Eo=Eo.next=i),Eh=!0,sm||(sm=!0,h2())}function au(i,r){if(!rm&&Eh){rm=!0;do for(var o=!1,u=bh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Ze(42|i)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cb(u,g))}else g=Ft,g=ka(u,u===re?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Lr(u,g)||(o=!0,cb(u,g));u=u.next}while(o);rm=!1}}function c2(){ob()}function ob(){Eh=sm=!1;var i=0;fa!==0&&(_2()&&(i=fa),fa=0);for(var r=Pn(),o=null,u=bh;u!==null;){var f=u.next,g=lb(u,r);g===0?(u.next=null,o===null?bh=f:o.next=f,f===null&&(Eo=o)):(o=u,(i!==0||(g&3)!==0)&&(Eh=!0)),u=f}au(i)}function lb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Ze(g),w=1<<b,O=f[b];O===-1?((w&o)===0||(w&u)!==0)&&(f[b]=dl(w,r)):O<=r&&(i.expiredLanes|=w),g&=~w}if(r=re,o=Ft,o=ka(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Mr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Lr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Mr(u),Va(o)){case 2:case 8:o=Pa;break;case 32:o=Pr;break;case 268435456:o=Na;break;default:o=Pr}return u=ub.bind(null,i),o=Dr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Mr(u),i.callbackPriority=2,i.callbackNode=null,2}function ub(i,r){if(Ye!==0&&Ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_h()&&i.callbackNode!==o)return null;var u=Ft;return u=ka(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(G0(i,u,r),lb(i,Pn()),i.callbackNode!=null&&i.callbackNode===o?ub.bind(null,i):null)}function cb(i,r){if(_h())return null;G0(i,r,!0)}function h2(){E2(function(){(Xt&6)!==0?Dr(hl,c2):ob()})}function am(){return fa===0&&(fa=pl()),fa}function hb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Fa(""+i)}function fb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function f2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=hb((f[Ee]||null).action),b=u.submitter;b&&(r=(r=b[Ee]||null)?hb(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new qa("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var O=b?fb(f,b):new FormData(f);Rp(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=b?fb(f,b):new FormData(f),Rp(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var om=0;om<Gd.length;om++){var lm=Gd[om],d2=lm.toLowerCase(),p2=lm[0].toUpperCase()+lm.slice(1);Zn(d2,"on"+p2)}Zn(Gv,"onAnimationEnd"),Zn(Yv,"onAnimationIteration"),Zn(Qv,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(DR,"onTransitionRun"),Zn(MR,"onTransitionStart"),Zn(PR,"onTransitionCancel"),Zn($v,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function db(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],O=w.instance,F=w.currentTarget;if(w=w.listener,O!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=F;try{g(f)}catch(W){lh(W)}f.currentTarget=null,g=O}else for(b=0;b<u.length;b++){if(w=u[b],O=w.instance,F=w.currentTarget,w=w.listener,O!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=F;try{g(f)}catch(W){lh(W)}f.currentTarget=null,g=O}}}}function kt(i,r){var o=r[vl];o===void 0&&(o=r[vl]=new Set);var u=i+"__bubble";o.has(u)||(pb(r,i,2,!1),o.add(u))}function um(i,r,o){var u=0;r&&(u|=4),pb(o,i,u,r)}var Th="_reactListening"+Math.random().toString(36).slice(2);function cm(i){if(!i[Th]){i[Th]=!0,_l.forEach(function(o){o!=="selectionchange"&&(m2.has(o)||um(o,!1,i),um(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Th]||(r[Th]=!0,um("selectionchange",!1,r))}}function pb(i,r,o,u){switch(zb(r)){case 2:var f=F2;break;case 8:f=q2;break;default:f=Sm}o=f.bind(null,r,o,i),f=void 0,!Ln||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function hm(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Ui(w),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=g=b;continue t}w=w.parentNode}}u=u.return}Sc(function(){var F=g,W=Vn(o),J=[];t:{var H=Kv.get(i);if(H!==void 0){var G=qa,At=i;switch(i){case"keypress":if(pi(o)===0)break t;case"keydown":case"keyup":G=Ka;break;case"focusin":At="focus",G=Ya;break;case"focusout":At="blur",G=Ya;break;case"beforeblur":case"afterblur":G=Ya;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Mc;break;case Gv:case Yv:case Qv:G=Qa;break;case $v:G=Nc;break;case"scroll":case"scrollend":G=Ac;break;case"wheel":G=Xa;break;case"copy":case"cut":case"paste":G=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Dl;break;case"toggle":case"beforetoggle":G=Vc}var Et=(r&4)!==0,ee=!Et&&(i==="scroll"||i==="scrollend"),z=Et?H!==null?H+"Capture":null:H;Et=[];for(var k=F,B;k!==null;){var Z=k;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||z===null||(Z=Gr(k,z),Z!=null&&Et.push(lu(k,Z,B))),ee)break;k=k.return}0<Et.length&&(H=new G(H,At,null,o,W),J.push({event:H,listeners:Et}))}}if((r&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",H&&o!==qi&&(At=o.relatedTarget||o.fromElement)&&(Ui(At)||At[Nn]))break t;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(At=o.relatedTarget||o.toElement,G=F,At=At?Ui(At):null,At!==null&&(ee=l(At),Et=At.tag,At!==ee||Et!==5&&Et!==27&&Et!==6)&&(At=null)):(G=null,At=F),G!==At)){if(Et=zn,Z="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(Et=Dl,Z="onPointerLeave",z="onPointerEnter",k="pointer"),ee=G==null?H:ci(G),B=At==null?H:ci(At),H=new Et(Z,k+"leave",G,o,W),H.target=ee,H.relatedTarget=B,Z=null,Ui(W)===F&&(Et=new Et(z,k+"enter",At,o,W),Et.target=B,Et.relatedTarget=ee,Z=Et),ee=Z,G&&At)e:{for(Et=G,z=At,k=0,B=Et;B;B=To(B))k++;for(B=0,Z=z;Z;Z=To(Z))B++;for(;0<k-B;)Et=To(Et),k--;for(;0<B-k;)z=To(z),B--;for(;k--;){if(Et===z||z!==null&&Et===z.alternate)break e;Et=To(Et),z=To(z)}Et=null}else Et=null;G!==null&&mb(J,H,G,Et,!1),At!==null&&ee!==null&&mb(J,ee,At,Et,!0)}}t:{if(H=F?ci(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var mt=Nv;else if(xe(H))if(kv)mt=CR;else{mt=RR;var Pt=AR}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Sl(F.elementType)&&(mt=Nv):mt=IR;if(mt&&(mt=mt(i,F))){$i(J,mt,o,W);break t}Pt&&Pt(i,H,F),i==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Os(H,"number",H.value)}switch(Pt=F?ci(F):window,i){case"focusin":(xe(Pt)||Pt.contentEditable==="true")&&(Wa=Pt,Fd=F,Nl=null);break;case"focusout":Nl=Fd=Wa=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,qv(J,o,W);break;case"selectionchange":if(OR)break;case"keydown":case"keyup":qv(J,o,W)}var vt;if(yi)t:{switch(i){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else jt?Y(i,o)&&(Tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&o.locale!=="ko"&&(jt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jt&&(vt=Rl()):(di=W,Ds="value"in di?di.value:di.textContent,jt=!0)),Pt=wh(F,Tt),0<Pt.length&&(Tt=new xl(Tt,i,null,o,W),J.push({event:Tt,listeners:Pt}),vt?Tt.data=vt:(vt=ct(o),vt!==null&&(Tt.data=vt)))),(vt=y?Ce(i,o):Bt(i,o))&&(Tt=wh(F,"onBeforeInput"),0<Tt.length&&(Pt=new xl("onBeforeInput","beforeinput",null,o,W),J.push({event:Pt,listeners:Tt}),Pt.data=vt)),f2(J,i,F,o,W)}db(J,r)})}function lu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function wh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Gr(i,o),f!=null&&u.unshift(lu(i,f,g)),f=Gr(i,r),f!=null&&u.push(lu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function To(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function mb(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,O=w.alternate,F=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||F===null||(O=F,f?(F=Gr(o,g),F!=null&&b.unshift(lu(o,F,O))):f||(F=Gr(o,g),F!=null&&b.push(lu(o,F,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function gb(i){return(typeof i=="string"?i:""+i).replace(g2,`
`).replace(y2,"")}function yb(i,r){return r=gb(r),gb(i)===r}function Sh(){}function te(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||kn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&kn(i,""+u);break;case"className":hi(i,"class",u);break;case"tabIndex":hi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(i,o,u);break;case"style":wl(i,u,g);break;case"data":if(r!=="object"){hi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Fa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&te(i,r,"name",f.name,f,null),te(i,r,"formEncType",f.formEncType,f,null),te(i,r,"formMethod",f.formMethod,f,null),te(i,r,"formTarget",f.formTarget,f,null)):(te(i,r,"encType",f.encType,f,null),te(i,r,"method",f.method,f,null),te(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Fa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Sh);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Fa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),xs(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kd.get(o)||o,xs(i,o,u))}}function fm(i,r,o,u,f,g){switch(o){case"style":wl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?kn(i,u):(typeof u=="number"||typeof u=="bigint")&&kn(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Ee]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):xs(i,o,u)}}}function Qe(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,g,b,o,null)}}f&&te(i,r,"srcSet",o.srcSet,o,null),u&&te(i,r,"src",o.src,o,null);return;case"input":kt("invalid",i);var w=g=b=f=null,O=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":b=W;break;case"checked":O=W;break;case"defaultChecked":F=W;break;case"value":g=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:te(i,r,u,W,o,null)}}Fr(i,g,w,O,F,b,f,!1),Ba(i);return;case"select":kt("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:te(i,r,f,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Fi(i,!!u,r,!1):o!=null&&Fi(i,!!u,o,!0);return;case"textarea":kt("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:te(i,r,b,w,o,null)}qr(i,u,f,g),Ba(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,r,O,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<ou.length;u++)kt(ou[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,F,u,o,null)}return;default:if(Sl(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&fm(i,r,W,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&te(i,r,w,u,o,null))}function v2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,O=null,F=null,W=null;for(G in o){var J=o[G];if(o.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=J;default:u.hasOwnProperty(G)||te(i,r,G,null,u,J)}}for(var H in u){var G=u[H];if(J=o[H],u.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":g=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":W=G;break;case"value":b=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&te(i,r,H,G,u,J)}}Tn(i,b,w,O,F,W,g,f);return;case"select":G=b=w=H=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":G=O;default:u.hasOwnProperty(g)||te(i,r,g,null,u,O)}for(f in u)if(g=u[f],O=o[f],u.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":H=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==O&&te(i,r,f,g,u,O)}r=w,o=b,u=G,H!=null?Fi(i,!!o,H,!1):!!u!=!!o&&(r!=null?Fi(i,!!o,r,!0):Fi(i,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(i,r,w,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&te(i,r,b,f,u,g)}Zt(i,H,G);return;case"option":for(var At in o)if(H=o[At],o.hasOwnProperty(At)&&H!=null&&!u.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:te(i,r,At,null,u,H)}for(O in u)if(H=u[O],G=o[O],u.hasOwnProperty(O)&&H!==G&&(H!=null||G!=null))switch(O){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(i,r,O,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)H=o[Et],o.hasOwnProperty(Et)&&H!=null&&!u.hasOwnProperty(Et)&&te(i,r,Et,null,u,H);for(F in u)if(H=u[F],G=o[F],u.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:te(i,r,F,H,u,G)}return;default:if(Sl(r)){for(var ee in o)H=o[ee],o.hasOwnProperty(ee)&&H!==void 0&&!u.hasOwnProperty(ee)&&fm(i,r,ee,void 0,u,H);for(W in u)H=u[W],G=o[W],!u.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||fm(i,r,W,H,u,G);return}}for(var z in o)H=o[z],o.hasOwnProperty(z)&&H!=null&&!u.hasOwnProperty(z)&&te(i,r,z,null,u,H);for(J in u)H=u[J],G=o[J],!u.hasOwnProperty(J)||H===G||H==null&&G==null||te(i,r,J,H,u,G)}var dm=null,pm=null;function Ah(i){return i.nodeType===9?i:i.ownerDocument}function vb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _b(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function mm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gm=null;function _2(){var i=window.event;return i&&i.type==="popstate"?i===gm?!1:(gm=i,!0):(gm=null,!1)}var bb=typeof setTimeout=="function"?setTimeout:void 0,b2=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(i){return Eb.resolve(null).then(i).catch(T2)}:bb;function T2(i){setTimeout(function(){throw i})}function Qs(i){return i==="head"}function Tb(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&uu(b.documentElement),o&2&&uu(b.body),o&4)for(o=b.head,uu(o),b=o.firstChild;b;){var w=b.nextSibling,O=b.nodeName;b[zr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){i.removeChild(g),yu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);yu(r)}function ym(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ym(o),Cs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function w2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[zr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function S2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ti(i.nextSibling),i===null))return null;return i}function vm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function A2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ti(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var _m=null;function wb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function Sb(i,r,o){switch(r=Ah(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function uu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Cs(i)}var Gn=new Map,Ab=new Set;function Rh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var os=ht.d;ht.d={f:R2,r:I2,D:C2,C:x2,L:O2,m:D2,X:P2,S:M2,M:N2};function R2(){var i=os.f(),r=yh();return i||r}function I2(i){var r=ui(i);r!==null&&r.tag===5&&r.type==="form"?G_(r):os.r(i)}var wo=typeof document>"u"?null:document;function Rb(i,r,o){var u=wo;if(u&&typeof r=="string"&&r){var f=Te(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Ab.has(f)||(Ab.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Qe(r,"link",i),ye(r),u.head.appendChild(r)))}}function C2(i){os.D(i),Rb("dns-prefetch",i,null)}function x2(i,r){os.C(i,r),Rb("preconnect",i,r)}function O2(i,r,o){os.L(i,r,o);var u=wo;if(u&&i&&r){var f='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Te(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Te(o.imageSizes)+'"]')):f+='[href="'+Te(i)+'"]';var g=f;switch(r){case"style":g=So(i);break;case"script":g=Ao(i)}Gn.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Gn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(cu(g))||r==="script"&&u.querySelector(hu(g))||(r=u.createElement("link"),Qe(r,"link",i),ye(r),u.head.appendChild(r)))}}function D2(i,r){os.m(i,r);var o=wo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Te(u)+'"][href="'+Te(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ao(i)}if(!Gn.has(g)&&(i=v({rel:"modulepreload",href:i},r),Gn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hu(g)))return}u=o.createElement("link"),Qe(u,"link",i),ye(u),o.head.appendChild(u)}}}function M2(i,r,o){os.S(i,r,o);var u=wo;if(u&&i){var f=cn(u).hoistableStyles,g=So(i);r=r||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(cu(g)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Gn.get(g))&&bm(i,o);var O=b=u.createElement("link");ye(O),Qe(O,"link",i),O._p=new Promise(function(F,W){O.onload=F,O.onerror=W}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ih(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function P2(i,r){os.X(i,r);var o=wo;if(o&&i){var u=cn(o).hoistableScripts,f=Ao(i),g=u.get(f);g||(g=o.querySelector(hu(f)),g||(i=v({src:i,async:!0},r),(r=Gn.get(f))&&Em(i,r),g=o.createElement("script"),ye(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function N2(i,r){os.M(i,r);var o=wo;if(o&&i){var u=cn(o).hoistableScripts,f=Ao(i),g=u.get(f);g||(g=o.querySelector(hu(f)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Gn.get(f))&&Em(i,r),g=o.createElement("script"),ye(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Ib(i,r,o,u){var f=(f=Rt.current)?Rh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=So(o.href),o=cn(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=So(o.href);var g=cn(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(cu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Gn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(i,o),g||k2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ao(o),o=cn(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function So(i){return'href="'+Te(i)+'"'}function cu(i){return'link[rel="stylesheet"]['+i+"]"}function Cb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function k2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Qe(r,"link",o),ye(r),i.head.appendChild(r))}function Ao(i){return'[src="'+Te(i)+'"]'}function hu(i){return"script[async]"+i}function xb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Te(o.href)+'"]');if(u)return r.instance=u,ye(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ye(u),Qe(u,"style",f),Ih(u,o.precedence,i),r.instance=u;case"stylesheet":f=So(o.href);var g=i.querySelector(cu(f));if(g)return r.state.loading|=4,r.instance=g,ye(g),g;u=Cb(o),(f=Gn.get(f))&&bm(u,f),g=(i.ownerDocument||i).createElement("link"),ye(g);var b=g;return b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),Qe(g,"link",u),r.state.loading|=4,Ih(g,o.precedence,i),r.instance=g;case"script":return g=Ao(o.src),(f=i.querySelector(hu(g)))?(r.instance=f,ye(f),f):(u=o,(f=Gn.get(g))&&(u=v({},o),Em(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ye(f),Qe(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ih(u,o.precedence,i));return r.instance}function Ih(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function bm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Em(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ch=null;function Ob(i,r,o){if(Ch===null){var u=new Map,f=Ch=new Map;f.set(o,u)}else f=Ch,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[zr]||g[Ie]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function Db(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function V2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Mb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var fu=null;function L2(){}function z2(i,r,o){if(fu===null)throw Error(s(475));var u=fu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=So(o.href),g=i.querySelector(cu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=xh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,ye(g);return}g=i.ownerDocument||i,o=Cb(o),(f=Gn.get(f))&&bm(o,f),g=g.createElement("link"),ye(g);var b=g;b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),Qe(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=xh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function U2(){if(fu===null)throw Error(s(475));var i=fu;return i.stylesheets&&i.count===0&&Tm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Tm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Oh=null;function Tm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Oh=new Map,r.forEach(j2,i),Oh=null,xh.call(i))}function j2(i,r){if(!(r.state.loading&4)){var o=Oh.get(i);if(o)var u=o.get(null);else{o=new Map,Oh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=xh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var du={$$typeof:$,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function B2(i,r,o,u,f,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Pb(i,r,o,u,f,g,b,w,O,F,W,J){return i=new B2(i,r,o,b,w,O,F,J),r=1,g===!0&&(r|=24),g=Sn(3,null,null,r),i.current=g,g.stateNode=i,r=ip(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},op(g),i}function Nb(i){return i?(i=eo,i):eo}function kb(i,r,o,u,f,g){f=Nb(f),u.context===null?u.context=f:u.pendingContext=f,u=Ns(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ks(i,u,r),o!==null&&(xn(o,i,r),ql(o,i,r))}function Vb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function wm(i,r){Vb(i,r),(i=i.alternate)&&Vb(i,r)}function Lb(i){if(i.tag===13){var r=to(i,67108864);r!==null&&xn(r,i,67108864),wm(i,67108864)}}var Dh=!0;function F2(i,r,o,u){var f=X.T;X.T=null;var g=ht.p;try{ht.p=2,Sm(i,r,o,u)}finally{ht.p=g,X.T=f}}function q2(i,r,o,u){var f=X.T;X.T=null;var g=ht.p;try{ht.p=8,Sm(i,r,o,u)}finally{ht.p=g,X.T=f}}function Sm(i,r,o,u){if(Dh){var f=Am(u);if(f===null)hm(i,r,u,Mh,o),Ub(i,u);else if(G2(f,i,r,o,u))u.stopPropagation();else if(Ub(i,u),r&4&&-1<H2.indexOf(i)){for(;f!==null;){var g=ui(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Kn(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var O=1<<31-Ze(b);w.entanglements[1]|=O,b&=~O}wi(g),(Xt&6)===0&&(mh=Pn()+500,au(0))}}break;case 13:w=to(g,2),w!==null&&xn(w,g,2),yh(),wm(g,2)}if(g=Am(u),g===null&&hm(i,r,u,Mh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else hm(i,r,u,null,o)}}function Am(i){return i=Vn(i),Rm(i)}var Mh=null;function Rm(i){if(Mh=null,i=Ui(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Mh=i,null}function zb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xd()){case hl:return 2;case Pa:return 8;case Pr:case Od:return 32;case Na:return 268435456;default:return 32}default:return 32}}var Im=!1,$s=null,Ks=null,Xs=null,pu=new Map,mu=new Map,Ws=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ub(i,r){switch(i){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":pu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(r.pointerId)}}function gu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ui(r),r!==null&&Lb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function G2(i,r,o,u,f){switch(r){case"focusin":return $s=gu($s,i,r,o,u,f),!0;case"dragenter":return Ks=gu(Ks,i,r,o,u,f),!0;case"mouseover":return Xs=gu(Xs,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return pu.set(g,gu(pu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,mu.set(g,gu(mu.get(g)||null,i,r,o,u,f)),!0}return!1}function jb(i){var r=Ui(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,yc(i.priority,function(){if(o.tag===13){var u=Cn();u=As(u);var f=to(o,u);f!==null&&xn(f,o,u),wm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Am(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);qi=u,o.target.dispatchEvent(u),qi=null}else return r=ui(o),r!==null&&Lb(r),i.blockedOn=o,!1;r.shift()}return!0}function Bb(i,r,o){Ph(i)&&o.delete(r)}function Y2(){Im=!1,$s!==null&&Ph($s)&&($s=null),Ks!==null&&Ph(Ks)&&(Ks=null),Xs!==null&&Ph(Xs)&&(Xs=null),pu.forEach(Bb),mu.forEach(Bb)}function Nh(i,r){i.blockedOn===r&&(i.blockedOn=null,Im||(Im=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y2)))}var kh=null;function Fb(i){kh!==i&&(kh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kh===i&&(kh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Rm(u||o)===null)continue;break}var g=ui(o);g!==null&&(i.splice(r,3),r-=3,Rp(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function yu(i){function r(O){return Nh(O,i)}$s!==null&&Nh($s,i),Ks!==null&&Nh(Ks,i),Xs!==null&&Nh(Xs,i),pu.forEach(r),mu.forEach(r);for(var o=0;o<Ws.length;o++){var u=Ws[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)jb(o),o.blockedOn===null&&Ws.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[Ee]||null;if(typeof g=="function")b||Fb(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Ee]||null)w=b.formAction;else if(Rm(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Fb(o)}}}function Cm(i){this._internalRoot=i}Vh.prototype.render=Cm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Cn();kb(o,u,i,r,null,null)},Vh.prototype.unmount=Cm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;kb(i.current,2,null,i,null,null),yh(),r[Nn]=null}};function Vh(i){this._internalRoot=i}Vh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Rs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ws.length&&r!==0&&r<Ws[o].priority;o++);Ws.splice(o,0,i),o===0&&jb(i)}};var qb=t.version;if(qb!=="19.1.0")throw Error(s(527,qb,"19.1.0"));ht.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Q2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{pe=Lh.inject(Q2),Kt=Lh}catch{}}return _u.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=r0,g=a0,b=o0,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Pb(i,1,!1,null,null,o,u,f,g,b,w,null),i[Nn]=r.current,cm(i),new Cm(r)},_u.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=r0,b=a0,w=o0,O=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),r=Pb(i,1,!0,r,o??null,u,f,g,b,w,O,F),r.context=Nb(null),o=r.current,u=Cn(),u=As(u),f=Ns(u),f.callback=null,ks(o,f,u),o=u,r.current.lanes=o,zi(r,o),wi(r),i[Nn]=r.current,cm(i),new Vh(r)},_u.version="19.1.0",_u}var Jb;function iI(){if(Jb)return Dm.exports;Jb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dm.exports=nI(),Dm.exports}var sI=iI();const Iu="generated",rI="pointerdown",aI="pointerup",t1="pointerleave",oI="pointerout",e1="pointermove",lI="touchstart",n1="touchend",uI="touchmove",cI="touchcancel",hI="resize",fI="visibilitychange",_a="tsParticles - Error";class On{constructor(t,e,s){if(this._updateFromAngle=(a,l)=>{this.x=Math.cos(a)*l,this.y=Math.sin(a)*l},!si(t)&&t){this.x=t.x,this.y=t.y;const a=t;this.z=a.z?a.z:0}else if(t!==void 0&&e!==void 0)this.x=t,this.y=e,this.z=s??0;else throw new Error(`${_a} Vector3d not initialized correctly`)}static get origin(){return On.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return On.create(t.x,t.y,t.z)}static create(t,e,s){return new On(t,e,s)}add(t){return On.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return On.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return On.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return On.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;t!=0&&this.multTo(1/t)}rotate(t){return On.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),0)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}sub(t){return On.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class ii extends On{constructor(t,e){super(t,e,0)}static get origin(){return ii.create(0,0)}static clone(t){return ii.create(t.x,t.y)}static create(t,e){return new ii(t,e)}}let dI=Math.random;function Me(){return qo(dI(),0,1-1e-16)}function qo(n,t,e){return Math.min(Math.max(n,t),e)}function ei(n){const t=Gf(n);let e=by(n);return t===e&&(e=0),Me()*(t-e)+e}function Ut(n){return si(n)?n:ei(n)}function by(n){return si(n)?n:n.min}function Gf(n){return si(n)?n:n.max}function Gt(n,t){if(n===t||t===void 0&&si(n))return n;const e=by(n),s=Gf(n);return t!==void 0?{min:Math.min(e,t),max:Math.max(s,t)}:Gt(e,s)}function Ey(n){const t=n.random,{enable:e,minimumValue:s}=or(t)?{enable:t,minimumValue:0}:t;return Ut(e?Gt(n.value,s):n.value)}function Vo(n,t){const e=n.x-t.x,s=n.y-t.y;return{dx:e,dy:s,distance:Math.sqrt(e**2+s**2)}}function Yf(n,t){return Vo(n,t).distance}function pI(n,t,e){if(si(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(e.y-t.y,e.x-t.x);case"outside":return Math.atan2(t.y-e.y,t.x-e.x);default:return Me()*Math.PI*2}}function mI(n){const t=ii.origin;return t.length=1,t.angle=n,t}function gI(n){var t,e;return{x:((t=n.position)==null?void 0:t.x)??Me()*n.size.width,y:((e=n.position)==null?void 0:e.y)??Me()*n.size.height}}function HT(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const yI={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function zu(){return yI}function Qf(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function vI(){return!Qf()&&typeof matchMedia<"u"}function GT(n){if(vI())return matchMedia(n)}function _I(n){if(!(Qf()||typeof MutationObserver>"u"))return new MutationObserver(n)}function bI(n,t){return n===t||xi(t)&&t.indexOf(n)>-1}function EI(n){return Math.floor(Me()*n.length)}function Ty(n,t,e=!0){return n[t!==void 0&&e?t%n.length:EI(n)]}function wy(n,t,e,s,a){return TI(Sy(n,s??0),t,e,a)}function TI(n,t,e,s){let a=!0;return(!s||s==="bottom")&&(a=n.top<t.height+e.x),a&&(!s||s==="left")&&(a=n.right>e.x),a&&(!s||s==="right")&&(a=n.left<t.width+e.y),a&&(!s||s==="top")&&(a=n.bottom>e.y),a}function Sy(n,t){return{bottom:n.y+t,left:n.x-t,right:n.x+t,top:n.y-t}}function rn(n,...t){for(const e of t){if(e==null)continue;if(!Do(e)){n=e;continue}const s=Array.isArray(e);s&&(Do(n)||!n||!Array.isArray(n))?n=[]:!s&&(Do(n)||!n||Array.isArray(n))&&(n={});for(const a in e){if(a==="__proto__")continue;const l=e,c=l[a],d=n;d[a]=Do(c)&&Array.isArray(c)?c.map(p=>rn(d[a],p)):rn(d[a],c)}}return n}function ba(n,t){return xi(n)?n.map((e,s)=>t(e,s)):t(n,0)}function Cu(n,t,e){return xi(n)?Ty(n,t,e):n}function YT(n,t){const e=n.value,s=n.animation,a={delayTime:Ut(s.delay)*1e3,enable:s.enable,value:Ut(n.value)*t,max:Gf(e)*t,min:by(e)*t,loops:0,maxLoops:Ut(s.count),time:0};if(s.enable){switch(a.decay=1-Ut(s.decay),s.mode){case"increase":a.status="increasing";break;case"decrease":a.status="decreasing";break;case"random":a.status=Me()>=.5?"increasing":"decreasing";break}const l=s.mode==="auto";switch(s.startValue){case"min":a.value=a.min,l&&(a.status="increasing");break;case"max":a.value=a.max,l&&(a.status="decreasing");break;case"random":default:a.value=ei(a),l&&(a.status=Me()>=.5?"increasing":"decreasing");break}}return a.initialValue=a.value,a}function wI(n,t){if(!(n.mode==="percent")){const{mode:a,...l}=n;return l}return"x"in n?{x:n.x/100*t.width,y:n.y/100*t.height}:{width:n.width/100*t.width,height:n.height/100*t.height}}function QT(n,t){return wI(n,t)}function or(n){return typeof n=="boolean"}function Ci(n){return typeof n=="string"}function si(n){return typeof n=="number"}function $T(n){return typeof n=="function"}function Do(n){return typeof n=="object"&&n!==null}function xi(n){return Array.isArray(n)}const SI="random",$f=new Map;function i1(n){$f.set(n.key,n)}function km(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function AI(n){for(const[,l]of $f)if(n.startsWith(l.stringPrefix))return l.parseString(n);const t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,e=n.replace(t,(l,c,d,p,m)=>c+c+d+d+p+p+(m!==void 0?m+m:"")),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,a=s.exec(e);return a?{a:a[4]!==void 0?parseInt(a[4],16)/255:1,b:parseInt(a[3],16),g:parseInt(a[2],16),r:parseInt(a[1],16)}:void 0}function Lo(n,t,e=!0){if(!n)return;const s=Ci(n)?{value:n}:n;if(Ci(s.value))return KT(s.value,t,e);if(xi(s.value))return Lo({value:Ty(s.value,t,e)});for(const[,a]of $f){const l=a.handleRangeColor(s);if(l)return l}}function KT(n,t,e=!0){if(!n)return;const s=Ci(n)?{value:n}:n;if(Ci(s.value))return s.value===SI?xI():II(s.value);if(xi(s.value))return KT({value:Ty(s.value,t,e)});for(const[,a]of $f){const l=a.handleColor(s);if(l)return l}}function _g(n,t,e=!0){const s=Lo(n,t,e);return s?RI(s):void 0}function RI(n){const t=n.r/255,e=n.g/255,s=n.b/255,a=Math.max(t,e,s),l=Math.min(t,e,s),c={h:0,l:(a+l)/2,s:0};return a!==l&&(c.s=c.l<.5?(a-l)/(a+l):(a-l)/(2-a-l),c.h=t===a?(e-s)/(a-l):c.h=e===a?2+(s-t)/(a-l):4+(t-e)/(a-l)),c.l*=100,c.s*=100,c.h*=60,c.h<0&&(c.h+=360),c.h>=360&&(c.h-=360),c}function II(n){return AI(n)}function bg(n){const t={b:0,g:0,r:0},e={h:n.h/360,l:n.l/100,s:n.s/100};if(!e.s)t.r=t.g=t.b=e.l;else{const s=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,a=2*e.l-s;t.r=km(a,s,e.h+1/3),t.g=km(a,s,e.h),t.b=km(a,s,e.h-1/3)}return t.r=Math.floor(t.r*255),t.g=Math.floor(t.g*255),t.b=Math.floor(t.b*255),t}function CI(n){const t=bg(n);return{a:n.a,b:t.b,g:t.g,r:t.r}}function xI(n){return{b:Math.floor(ei(Gt(0,256))),g:Math.floor(ei(Gt(0,256))),r:Math.floor(ei(Gt(0,256)))}}function nf(n,t){return`rgba(${n.r}, ${n.g}, ${n.b}, ${t??1})`}function s1(n,t){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${t??1})`}function r1(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function OI(n,t,e){const s={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return t&&(Vm(s.h,t.h,e),Vm(s.s,t.s,e),Vm(s.l,t.l,e)),s}function Vm(n,t,e){n.enable=t.enable,n.enable?(n.velocity=Ut(t.speed)/100*e,n.decay=1-Ut(t.decay),n.status="increasing",n.loops=0,n.maxLoops=Ut(t.count),n.time=0,n.delayTime=Ut(t.delay)*1e3,t.sync||(n.velocity*=Me(),n.value*=Me()),n.initialValue=n.value):n.velocity=0}function DI(n,t,e){n.fillStyle=e??"rgba(0,0,0,0)",n.fillRect(0,0,t.width,t.height)}function MI(n,t,e,s){e&&(n.globalAlpha=s,n.drawImage(e,0,0,t.width,t.height),n.globalAlpha=1)}function Lm(n,t){n.clearRect(0,0,t.width,t.height)}function PI(n){const{container:t,context:e,particle:s,delta:a,colorStyles:l,backgroundMask:c,composite:d,radius:p,opacity:m,shadow:v,transform:E}=n,T=s.getPosition(),R=s.rotation+(s.pathRotation?s.velocity.angle:0),V={sin:Math.sin(R),cos:Math.cos(R)},q={a:V.cos*(E.a??1),b:V.sin*(E.b??1),c:-V.sin*(E.c??1),d:V.cos*(E.d??1)};e.setTransform(q.a,q.b,q.c,q.d,T.x,T.y),e.beginPath(),c&&(e.globalCompositeOperation=d);const U=s.shadowColor;v.enable&&U&&(e.shadowBlur=v.blur,e.shadowColor=nf(U),e.shadowOffsetX=v.offset.x,e.shadowOffsetY=v.offset.y),l.fill&&(e.fillStyle=l.fill);const K=s.strokeWidth??0;e.lineWidth=K,l.stroke&&(e.strokeStyle=l.stroke),NI(t,e,s,p,m,a),K>0&&e.stroke(),s.close&&e.closePath(),s.fill&&e.fill(),kI(t,e,s,p,m,a),e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0)}function NI(n,t,e,s,a,l){if(!e.shape)return;const c=n.drawers.get(e.shape);c&&c.draw(t,e,s,a,l,n.retina.pixelRatio)}function kI(n,t,e,s,a,l){if(!e.shape)return;const c=n.drawers.get(e.shape);!c||!c.afterEffect||c.afterEffect(t,e,s,a,l,n.retina.pixelRatio)}function VI(n,t,e){t.draw&&t.draw(n,e)}function LI(n,t,e,s){t.drawParticle&&t.drawParticle(n,e,s)}function zI(n,t,e){return{h:n.h,s:n.s,l:n.l+(t==="darken"?-1:1)*e}}function UI(n,t,e){const s=t[e];s!==void 0&&(n[e]=(n[e]??1)*s)}class jI{constructor(t){this.container=t,this._applyPostDrawUpdaters=e=>{for(const s of this._postDrawUpdaters)s.afterDraw&&s.afterDraw(e)},this._applyPreDrawUpdaters=(e,s,a,l,c,d)=>{for(const p of this._preDrawUpdaters){if(p.getColorStyles){const{fill:m,stroke:v}=p.getColorStyles(s,e,a,l);m&&(c.fill=m),v&&(c.stroke=v)}if(p.getTransformValues){const m=p.getTransformValues(s);for(const v in m)UI(d,m,v)}p.beforeDraw&&p.beforeDraw(s)}},this._applyResizePlugins=()=>{for(const e of this._resizePlugins)e.resize&&e.resize()},this._getPluginParticleColors=e=>{let s,a;for(const l of this._colorPlugins)if(!s&&l.particleFillColor&&(s=_g(l.particleFillColor(e))),!a&&l.particleStrokeColor&&(a=_g(l.particleStrokeColor(e))),s&&a)break;return[s,a]},this._initCover=()=>{const e=this.container.actualOptions,s=e.backgroundMask.cover,a=s.color,l=Lo(a);if(l){const c={...l,a:s.opacity};this._coverColorStyle=nf(c,c.a)}},this._initStyle=()=>{const e=this.element,s=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=rn({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const a in s.style){if(!a||!s.style)continue;const l=s.style[a];l&&e.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const e=this.container.actualOptions,s=e.particles.move.trail,a=s.fill;if(s.enable)if(a.color){const l=Lo(a.color);if(!l)return;const c=e.particles.move.trail;this._trailFill={color:{...l},opacity:1/c.length}}else await new Promise((l,c)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:1/s.length},l()}),d.addEventListener("error",p=>{c(p.error)}),d.src=a.image})},this._paintBase=e=>{this.draw(s=>DI(s,this.size,e))},this._paintImage=(e,s)=>{this.draw(a=>MI(a,this.size,e,s))},this._repairStyle=()=>{const e=this.element;e&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>s.observe(e,{attributes:!0})))},this._resetOriginalStyle=()=>{const e=this.element,s=this._originalStyle;if(!(e&&s))return;const a=e.style;a.position=s.position,a.zIndex=s.zIndex,a.top=s.top,a.left=s.left,a.width=s.width,a.height=s.height},this._safeMutationObserver=e=>{this._mutationObserver&&e(this._mutationObserver)},this._setFullScreenStyle=()=>{const e=this.element;if(!e)return;const s="important",a=e.style;a.setProperty("position","fixed",s),a.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),a.setProperty("top","0",s),a.setProperty("left","0",s),a.setProperty("width","100%",s),a.setProperty("height","100%",s)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,s=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&s?s.color?this._paintBase(nf(s.color,s.opacity)):s.image&&this._paintImage(s.image,s.opacity):this.draw(a=>{Lm(a,this.size)})}destroy(){if(this.stop(),this._generated){const t=this.element;t&&t.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){if(t.spawning||t.destroyed)return;const s=t.getRadius();if(s<=0)return;const a=t.getFillColor(),l=t.getStrokeColor()??a;let[c,d]=this._getPluginParticleColors(t);c||(c=a),d||(d=l),!(!c&&!d)&&this.draw(p=>{var $;const m=this.container,v=m.actualOptions,E=t.options.zIndex,T=(1-t.zIndexFactor)**E.opacityRate,R=t.bubble.opacity??(($=t.opacity)==null?void 0:$.value)??1,V=t.strokeOpacity??R,q=R*T,U=V*T,K={},Q={fill:c?s1(c,q):void 0};Q.stroke=d?s1(d,U):Q.fill,this._applyPreDrawUpdaters(p,t,s,q,Q,K),PI({container:m,context:p,particle:t,delta:e,colorStyles:Q,backgroundMask:v.backgroundMask.enable,composite:v.backgroundMask.composite,radius:s*(1-t.zIndexFactor)**E.sizeRate,opacity:q,shadow:t.options.shadow,transform:K}),this._applyPostDrawUpdaters(t)})}drawParticlePlugin(t,e,s){this.draw(a=>LI(a,t,e,s))}drawPlugin(t,e){this.draw(s=>VI(s,t,e))}async init(){this._safeMutationObserver(t=>t.disconnect()),this._mutationObserver=_I(t=>{for(const e of t)e.type==="attributes"&&e.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(t){zu().error(t)}this.initBackground(),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions,e=t.background,s=this.element;if(!s)return;const a=s.style;if(a){if(e.color){const l=Lo(e.color);a.backgroundColor=l?nf(l,e.opacity):""}else a.backgroundColor="";a.backgroundImage=e.image||"",a.backgroundPosition=e.position||"",a.backgroundRepeat=e.repeat||"",a.backgroundSize=e.size||""}}initPlugins(){this._resizePlugins=[];for(const[,t]of this.container.plugins)t.resize&&this._resizePlugins.push(t),(t.particleFillColor||t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles||t.getTransformValues||t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&Iu in t.dataset?t.dataset[Iu]==="true":this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=rn({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw(e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(Lm(e,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,s=t.canvas.size,a={width:this.element.offsetWidth*e,height:this.element.offsetHeight*e};if(a.height===s.height&&a.width===s.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const l={...s};return this.element.width=s.width=this.element.offsetWidth*e,this.element.height=s.height=this.element.offsetHeight*e,this.container.started&&(this.resizeFactor={width:s.width/l.width,height:s.height/l.height}),!0}stop(){this._safeMutationObserver(t=>t.disconnect()),this._mutationObserver=void 0,this.draw(t=>Lm(t,this.size))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}function Yn(n,t,e,s,a){if(s){let l={passive:!0};or(a)?l.capture=a:a!==void 0&&(l=a),n.addEventListener(t,e,l)}else{const l=a;n.removeEventListener(t,e,l)}}class BI{constructor(t){this.container=t,this._doMouseTouchClick=e=>{const s=this.container,a=s.actualOptions;if(this._canPush){const l=s.interactivity.mouse,c=l.position;if(!c)return;l.clickPosition={...c},l.clickTime=new Date().getTime();const d=a.interactivity.events.onClick;ba(d.mode,p=>this.container.handleClickMode(p))}e.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=e=>{const s=e,a=this.container,l=a.options,c=l.defaultThemes,d=s.matches?c.dark:c.light,p=l.themes.find(m=>m.name===d);p&&p.default.auto&&a.loadTheme(d)},this._handleVisibilityChange=()=>{const e=this.container,s=e.actualOptions;this._mouseTouchFinish(),s.pauseOnBlur&&(document&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const e=this.container.canvas;e&&await e.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(e,s)=>{const a=this._handlers,l=this.container,c=l.actualOptions,d=l.interactivity.element;if(!d)return;const p=d,m=l.canvas.element;m&&(m.style.pointerEvents=p===m?"initial":"none"),(c.interactivity.events.onHover.enable||c.interactivity.events.onClick.enable)&&(Yn(d,e1,a.mouseMove,s),Yn(d,lI,a.touchStart,s),Yn(d,uI,a.touchMove,s),c.interactivity.events.onClick.enable?(Yn(d,n1,a.touchEndClick,s),Yn(d,aI,a.mouseUp,s),Yn(d,rI,a.mouseDown,s)):Yn(d,n1,a.touchEnd,s),Yn(d,e,a.mouseLeave,s),Yn(d,cI,a.touchCancel,s))},this._manageListeners=e=>{const s=this._handlers,a=this.container,l=a.actualOptions,c=l.interactivity.detectsOn,d=a.canvas.element;let p=t1;c==="window"?(a.interactivity.element=window,p=oI):c==="parent"&&d?a.interactivity.element=d.parentElement??d.parentNode:a.interactivity.element=d,this._manageMediaMatch(e),this._manageResize(e),this._manageInteractivityListeners(p,e),document&&Yn(document,fI,s.visibilityChange,e,!1)},this._manageMediaMatch=e=>{const s=this._handlers,a=GT("(prefers-color-scheme: dark)");if(a){if(a.addEventListener!==void 0){Yn(a,"change",s.themeChange,e);return}a.addListener!==void 0&&(e?a.addListener(s.oldThemeChange):a.removeListener(s.oldThemeChange))}},this._manageResize=e=>{const s=this._handlers,a=this.container;if(!a.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Yn(window,hI,s.resize,e);return}const c=a.canvas.element;this._resizeObserver&&!e?(c&&this._resizeObserver.unobserve(c),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&e&&c&&(this._resizeObserver=new ResizeObserver(async d=>{d.find(m=>m.target===c)&&await this._handleWindowResize()}),this._resizeObserver.observe(c))},this._mouseDown=()=>{const{interactivity:e}=this.container;if(!e)return;const{mouse:s}=e;s.clicking=!0,s.downPosition=s.position},this._mouseTouchClick=e=>{const s=this.container,a=s.actualOptions,{mouse:l}=s.interactivity;l.inside=!0;let c=!1;const d=l.position;if(!(!d||!a.interactivity.events.onClick.enable)){for(const[,p]of s.plugins)if(p.clickPositionValid&&(c=p.clickPositionValid(d),c))break;c||this._doMouseTouchClick(e),l.clicking=!1}},this._mouseTouchFinish=()=>{const e=this.container.interactivity;if(!e)return;const s=e.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,e.status=t1,s.inside=!1,s.clicking=!1},this._mouseTouchMove=e=>{const s=this.container,a=s.actualOptions,l=s.interactivity,c=s.canvas.element;if(!l||!l.element)return;l.mouse.inside=!0;let d;if(e.type.startsWith("pointer")){this._canPush=!0;const m=e;if(l.element===window){if(c){const v=c.getBoundingClientRect();d={x:m.clientX-v.left,y:m.clientY-v.top}}}else if(a.interactivity.detectsOn==="parent"){const v=m.target,E=m.currentTarget;if(v&&E&&c){const T=v.getBoundingClientRect(),R=E.getBoundingClientRect(),V=c.getBoundingClientRect();d={x:m.offsetX+2*T.left-(R.left+V.left),y:m.offsetY+2*T.top-(R.top+V.top)}}else d={x:m.offsetX??m.clientX,y:m.offsetY??m.clientY}}else m.target===c&&(d={x:m.offsetX??m.clientX,y:m.offsetY??m.clientY})}else if(this._canPush=e.type!=="touchmove",c){const m=e,v=m.touches[m.touches.length-1],E=c.getBoundingClientRect();d={x:v.clientX-(E.left??0),y:v.clientY-(E.top??0)}}const p=s.retina.pixelRatio;d&&(d.x*=p,d.y*=p),l.mouse.position=d,l.status=e1},this._touchEnd=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchFinish()},this._touchEndClick=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.delete(l.identifier);this._mouseTouchClick(e)},this._touchStart=e=>{const s=e,a=Array.from(s.changedTouches);for(const l of a)this._touches.set(l.identifier,performance.now());this._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:e=>this._mouseTouchMove(e),mouseUp:e=>this._mouseTouchClick(e),touchStart:e=>this._touchStart(e),touchMove:e=>this._mouseTouchMove(e),touchEnd:e=>this._touchEnd(e),touchCancel:e=>this._touchEnd(e),touchEndClick:e=>this._touchEndClick(e),visibilityChange:()=>this._handleVisibilityChange(),themeChange:e=>this._handleThemeChange(e),oldThemeChange:e=>this._handleThemeChange(e),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Ni{constructor(){this.value=""}static create(t,e){const s=new Ni;return s.load(t),e!==void 0&&(Ci(e)||xi(e)?s.load({value:e}):s.load(e)),s}load(t){(t==null?void 0:t.value)!==void 0&&(this.value=t.value)}}class FI{constructor(){this.color=new Ni,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=Ni.create(this.color,t.color)),t.image!==void 0&&(this.image=t.image),t.position!==void 0&&(this.position=t.position),t.repeat!==void 0&&(this.repeat=t.repeat),t.size!==void 0&&(this.size=t.size),t.opacity!==void 0&&(this.opacity=t.opacity))}}class qI{constructor(){this.color=new Ni,this.color.value="#fff",this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=Ni.create(this.color,t.color)),t.opacity!==void 0&&(this.opacity=t.opacity))}}class HI{constructor(){this.composite="destination-out",this.cover=new qI,this.enable=!1}load(t){if(t){if(t.composite!==void 0&&(this.composite=t.composite),t.cover!==void 0){const e=t.cover,s=Ci(t.cover)?{color:t.cover}:t.cover;this.cover.load(e.color!==void 0?e:{color:s})}t.enable!==void 0&&(this.enable=t.enable)}}}class GI{constructor(){this.enable=!0,this.zIndex=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.zIndex!==void 0&&(this.zIndex=t.zIndex))}}class YI{constructor(){this.enable=!1,this.mode=[]}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode))}}class a1{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(t){this.elementId=t}get elementId(){return this.ids}set elementId(t){this.ids=t}get ids(){return ba(this.selectors,t=>t.replace("#",""))}set ids(t){this.selectors=ba(t,e=>`#${e}`)}load(t){if(!t)return;const e=t.ids??t.elementId??t.el;e!==void 0&&(this.ids=e),t.selectors!==void 0&&(this.selectors=t.selectors),t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode),t.type!==void 0&&(this.type=t.type)}}class QI{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.force!==void 0&&(this.force=t.force),t.smooth!==void 0&&(this.smooth=t.smooth))}}class $I{constructor(){this.enable=!1,this.mode=[],this.parallax=new QI}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.mode!==void 0&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class KI{constructor(){this.delay=.5,this.enable=!0}load(t){t!==void 0&&(t.delay!==void 0&&(this.delay=t.delay),t.enable!==void 0&&(this.enable=t.enable))}}class XI{constructor(){this.onClick=new YI,this.onDiv=new a1,this.onHover=new $I,this.resize=new KI}get onclick(){return this.onClick}set onclick(t){this.onClick=t}get ondiv(){return this.onDiv}set ondiv(t){this.onDiv=t}get onhover(){return this.onHover}set onhover(t){this.onHover=t}load(t){if(!t)return;this.onClick.load(t.onClick??t.onclick);const e=t.onDiv??t.ondiv;e!==void 0&&(this.onDiv=ba(e,s=>{const a=new a1;return a.load(s),a})),this.onHover.load(t.onHover??t.onhover),or(t.resize)?this.resize.enable=t.resize:this.resize.load(t.resize)}}class WI{constructor(t,e){this._engine=t,this._container=e}load(t){if(!t||!this._container)return;const e=this._engine.plugins.interactors.get(this._container);if(e)for(const s of e)s.loadModeOptions&&s.loadModeOptions(this,t)}}class XT{constructor(t,e){this.detectsOn="window",this.events=new XI,this.modes=new WI(t,e)}get detect_on(){return this.detectsOn}set detect_on(t){this.detectsOn=t}load(t){if(!t)return;const e=t.detectsOn??t.detect_on;e!==void 0&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class ZI{load(t){t&&(t.position&&(this.position={x:t.position.x??50,y:t.position.y??50,mode:t.position.mode??"percent"}),t.options&&(this.options=rn({},t.options)))}}class JI{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(t){t&&(t.maxWidth!==void 0&&(this.maxWidth=t.maxWidth),t.mode!==void 0&&(t.mode==="screen"?this.mode="screen":this.mode="canvas"),t.options!==void 0&&(this.options=rn({},t.options)))}}class tC{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(t){t&&(t.auto!==void 0&&(this.auto=t.auto),t.mode!==void 0&&(this.mode=t.mode),t.value!==void 0&&(this.value=t.value))}}class eC{constructor(){this.name="",this.default=new tC}load(t){t&&(t.name!==void 0&&(this.name=t.name),this.default.load(t.default),t.options!==void 0&&(this.options=rn({},t.options)))}}class zm{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(t){t&&(t.count!==void 0&&(this.count=Gt(t.count)),t.enable!==void 0&&(this.enable=t.enable),t.offset!==void 0&&(this.offset=Gt(t.offset)),t.speed!==void 0&&(this.speed=Gt(t.speed)),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.delay!==void 0&&(this.delay=Gt(t.delay)),t.sync!==void 0&&(this.sync=t.sync))}}class nC{constructor(){this.h=new zm,this.s=new zm,this.l=new zm}load(t){t&&(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class Uu extends Ni{constructor(){super(),this.animation=new nC}static create(t,e){const s=new Uu;return s.load(t),e!==void 0&&(Ci(e)||xi(e)?s.load({value:e}):s.load(e)),s}load(t){if(super.load(t),!t)return;const e=t.animation;e!==void 0&&(e.enable!==void 0?this.animation.h.load(e):this.animation.load(t.animation))}}class iC{constructor(){this.speed=2}load(t){t&&t.speed!==void 0&&(this.speed=t.speed)}}class sC{constructor(){this.enable=!0,this.retries=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.retries!==void 0&&(this.retries=t.retries))}}class rC{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){t&&(t.count!==void 0&&(this.count=Gt(t.count)),t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0&&(this.speed=Gt(t.speed)),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.delay!==void 0&&(this.delay=Gt(t.delay)),t.sync!==void 0&&(this.sync=t.sync))}}class WT extends rC{constructor(){super(),this.mode="auto",this.startValue="random"}load(t){super.load(t),t&&(t.minimumValue!==void 0&&(this.minimumValue=t.minimumValue),t.mode!==void 0&&(this.mode=t.mode),t.startValue!==void 0&&(this.startValue=t.startValue))}}class aC{constructor(){this.enable=!1,this.minimumValue=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.minimumValue!==void 0&&(this.minimumValue=t.minimumValue))}}class Zu{constructor(){this.random=new aC,this.value=0}load(t){t&&(or(t.random)?this.random.enable=t.random:this.random.load(t.random),t.value!==void 0&&(this.value=Gt(t.value,this.random.enable?this.random.minimumValue:void 0)))}}class o1 extends Zu{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class ZT{constructor(){this.horizontal=new o1,this.vertical=new o1}load(t){t&&(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class oC{constructor(){this.absorb=new iC,this.bounce=new ZT,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new sC}load(t){t&&(this.absorb.load(t.absorb),this.bounce.load(t.bounce),t.enable!==void 0&&(this.enable=t.enable),t.maxSpeed!==void 0&&(this.maxSpeed=Gt(t.maxSpeed)),t.mode!==void 0&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class lC{constructor(){this.offset=0,this.value=90}load(t){t&&(t.offset!==void 0&&(this.offset=Gt(t.offset)),t.value!==void 0&&(this.value=Gt(t.value)))}}class uC{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(t){this.rotate.x=t}get rotateY(){return this.rotate.y}set rotateY(t){this.rotate.y=t}load(t){var a,l;if(!t)return;t.distance!==void 0&&(this.distance=Gt(t.distance)),t.enable!==void 0&&(this.enable=t.enable);const e=((a=t.rotate)==null?void 0:a.x)??t.rotateX;e!==void 0&&(this.rotate.x=e);const s=((l=t.rotate)==null?void 0:l.y)??t.rotateY;s!==void 0&&(this.rotate.y=s)}}class cC{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(t){t&&(t.x!==void 0&&(this.x=t.x),t.y!==void 0&&(this.y=t.y),t.mode!==void 0&&(this.mode=t.mode),t.radius!==void 0&&(this.radius=t.radius))}}class hC{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){t&&(t.acceleration!==void 0&&(this.acceleration=Gt(t.acceleration)),t.enable!==void 0&&(this.enable=t.enable),t.inverse!==void 0&&(this.inverse=t.inverse),t.maxSpeed!==void 0&&(this.maxSpeed=Gt(t.maxSpeed)))}}class fC{constructor(){this.clamp=!0,this.delay=new Zu,this.enable=!1,this.options={}}load(t){t&&(t.clamp!==void 0&&(this.clamp=t.clamp),this.delay.load(t.delay),t.enable!==void 0&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=rn(this.options,t.options)))}}class dC{load(t){t&&(t.color!==void 0&&(this.color=Ni.create(this.color,t.color)),t.image!==void 0&&(this.image=t.image))}}class pC{constructor(){this.enable=!1,this.length=10,this.fill=new dC}get fillColor(){return this.fill.color}set fillColor(t){this.fill.load({color:t})}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),(t.fill!==void 0||t.fillColor!==void 0)&&this.fill.load(t.fill||{color:t.fillColor}),t.length!==void 0&&(this.length=t.length))}}class mC{constructor(){this.default="out"}load(t){t&&(t.default!==void 0&&(this.default=t.default),this.bottom=t.bottom??t.default,this.left=t.left??t.default,this.right=t.right??t.default,this.top=t.top??t.default)}}class gC{constructor(){this.acceleration=0,this.enable=!1}load(t){t&&(t.acceleration!==void 0&&(this.acceleration=Gt(t.acceleration)),t.enable!==void 0&&(this.enable=t.enable),t.position&&(this.position=rn({},t.position)))}}class yC{constructor(){this.angle=new lC,this.attract=new uC,this.center=new cC,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new hC,this.path=new fC,this.outModes=new mC,this.random=!1,this.size=!1,this.speed=2,this.spin=new gC,this.straight=!1,this.trail=new pC,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(t){this.collisions=t}get collisions(){return!1}set collisions(t){}get noise(){return this.path}set noise(t){this.path=t}get outMode(){return this.outModes.default}set outMode(t){this.outModes.default=t}get out_mode(){return this.outMode}set out_mode(t){this.outMode=t}load(t){if(!t)return;this.angle.load(si(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),t.decay!==void 0&&(this.decay=Gt(t.decay)),t.direction!==void 0&&(this.direction=t.direction),t.distance!==void 0&&(this.distance=si(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),t.drift!==void 0&&(this.drift=Gt(t.drift)),t.enable!==void 0&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes??t.outMode??t.out_mode;e!==void 0&&(Do(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path??t.noise),t.random!==void 0&&(this.random=t.random),t.size!==void 0&&(this.size=t.size),t.speed!==void 0&&(this.speed=Gt(t.speed)),this.spin.load(t.spin),t.straight!==void 0&&(this.straight=t.straight),this.trail.load(t.trail),t.vibrate!==void 0&&(this.vibrate=t.vibrate),t.warp!==void 0&&(this.warp=t.warp)}}class vC extends WT{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(t){this.minimumValue=t}load(t){(t==null?void 0:t.opacity_min)!==void 0&&t.minimumValue===void 0&&(t.minimumValue=t.opacity_min),super.load(t),t&&t.destroy!==void 0&&(this.destroy=t.destroy)}}class _C extends Zu{constructor(){super(),this.animation=new vC,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(!t)return;super.load(t);const e=t.animation??t.anim;e!==void 0&&(this.animation.load(e),this.value=Gt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class bC{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(t){this.width=t}get factor(){return this.height}set factor(t){this.height=t}get value_area(){return this.area}set value_area(t){this.area=t}load(t){if(!t)return;t.enable!==void 0&&(this.enable=t.enable);const e=t.width??t.area??t.value_area;e!==void 0&&(this.width=e);const s=t.height??t.factor;s!==void 0&&(this.height=s)}}class EC{constructor(){this.density=new bC,this.limit=0,this.value=0}get max(){return this.limit}set max(t){this.limit=t}load(t){if(!t)return;this.density.load(t.density);const e=t.limit??t.max;e!==void 0&&(this.limit=e),t.value!==void 0&&(this.value=t.value)}}class TC{constructor(){this.blur=0,this.color=new Ni,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){t&&(t.blur!==void 0&&(this.blur=t.blur),this.color=Ni.create(this.color,t.color),t.enable!==void 0&&(this.enable=t.enable),t.offset!==void 0&&(t.offset.x!==void 0&&(this.offset.x=t.offset.x),t.offset.y!==void 0&&(this.offset.y=t.offset.y)))}}const Um="character",jm="char",Bm="image",Fm="images",qm="polygon",Hm="star";class wC{constructor(){this.loadShape=(t,e,s,a)=>{if(!t)return;const l=xi(t),c=l?[]:{},d=l!==xi(this.options[e]),p=l!==xi(this.options[s]);d&&(this.options[e]=c),p&&a&&(this.options[s]=c),this.options[e]=rn(this.options[e]??c,t),(!this.options[s]||a)&&(this.options[s]=rn(this.options[s]??c,t))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Um]??this.options[jm]}set character(t){this.options[jm]=this.options[Um]=t}get custom(){return this.options}set custom(t){this.options=t}get image(){return this.options[Bm]??this.options[Fm]}set image(t){this.options[Fm]=this.options[Bm]=t}get images(){return this.image}set images(t){this.image=t}get polygon(){return this.options[qm]??this.options[Hm]}set polygon(t){this.options[Hm]=this.options[qm]=t}get stroke(){return[]}set stroke(t){}load(t){if(!t)return;const e=t.options??t.custom;if(e!==void 0)for(const s in e){const a=e[s];a&&(this.options[s]=rn(this.options[s]??{},a))}this.loadShape(t.character,Um,jm,!0),this.loadShape(t.polygon,qm,Hm,!1),this.loadShape(t.image??t.images,Bm,Fm,!0),t.close!==void 0&&(this.close=t.close),t.fill!==void 0&&(this.fill=t.fill),t.type!==void 0&&(this.type=t.type)}}class SC extends WT{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(t){this.minimumValue=t}load(t){(t==null?void 0:t.size_min)!==void 0&&t.minimumValue===void 0&&(t.minimumValue=t.size_min),super.load(t),t&&t.destroy!==void 0&&(this.destroy=t.destroy)}}class AC extends Zu{constructor(){super(),this.animation=new SC,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(t){this.animation=t}load(t){if(super.load(t),!t)return;const e=t.animation??t.anim;e!==void 0&&(this.animation.load(e),this.value=Gt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class l1{constructor(){this.width=0}load(t){t&&(t.color!==void 0&&(this.color=Uu.create(this.color,t.color)),t.width!==void 0&&(this.width=Gt(t.width)),t.opacity!==void 0&&(this.opacity=Gt(t.opacity)))}}class RC extends Zu{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),t&&(t.opacityRate!==void 0&&(this.opacityRate=t.opacityRate),t.sizeRate!==void 0&&(this.sizeRate=t.sizeRate),t.velocityRate!==void 0&&(this.velocityRate=t.velocityRate))}}class IC{constructor(t,e){this._engine=t,this._container=e,this.bounce=new ZT,this.collisions=new oC,this.color=new Uu,this.color.value="#fff",this.groups={},this.move=new yC,this.number=new EC,this.opacity=new _C,this.reduceDuplicates=!1,this.shadow=new TC,this.shape=new wC,this.size=new AC,this.stroke=new l1,this.zIndex=new RC}load(t){var a,l,c;if(!t)return;if(this.bounce.load(t.bounce),this.color.load(Uu.create(this.color,t.color)),t.groups!==void 0)for(const d in t.groups){const p=t.groups[d];p!==void 0&&(this.groups[d]=rn(this.groups[d]??{},p))}this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),t.reduceDuplicates!==void 0&&(this.reduceDuplicates=t.reduceDuplicates),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex);const e=((a=t.move)==null?void 0:a.collisions)??((l=t.move)==null?void 0:l.bounce);e!==void 0&&(this.collisions.enable=e),this.collisions.load(t.collisions),t.interactivity!==void 0&&(this.interactivity=rn({},t.interactivity));const s=t.stroke??((c=t.shape)==null?void 0:c.stroke);if(s&&(this.stroke=ba(s,d=>{const p=new l1;return p.load(d),p})),this._container){const d=this._engine.plugins.updaters.get(this._container);if(d)for(const m of d)m.loadOptions&&m.loadOptions(this,t);const p=this._engine.plugins.interactors.get(this._container);if(p)for(const m of p)m.loadParticlesOptions&&m.loadParticlesOptions(this,t)}}}function JT(n,...t){for(const e of t)n.load(e)}function tw(n,t,...e){const s=new IC(n,t);return JT(s,...e),s}class CC{constructor(t,e){this._findDefaultTheme=s=>this.themes.find(a=>a.default.value&&a.default.mode===s)??this.themes.find(a=>a.default.value&&a.default.mode==="any"),this._importPreset=s=>{this.load(this._engine.plugins.getPreset(s))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new FI,this.backgroundMask=new HI,this.defaultThemes={},this.delay=0,this.fullScreen=new GI,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new XT(t,e),this.manualParticles=[],this.particles=tw(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(t){this.fullScreen.load(t)}get fps_limit(){return this.fpsLimit}set fps_limit(t){this.fpsLimit=t}get retina_detect(){return this.detectRetina}set retina_detect(t){this.detectRetina=t}load(t){var c,d;if(!t)return;t.preset!==void 0&&ba(t.preset,p=>this._importPreset(p)),t.autoPlay!==void 0&&(this.autoPlay=t.autoPlay),t.delay!==void 0&&(this.delay=Gt(t.delay));const e=t.detectRetina??t.retina_detect;e!==void 0&&(this.detectRetina=e),t.duration!==void 0&&(this.duration=Gt(t.duration));const s=t.fpsLimit??t.fps_limit;s!==void 0&&(this.fpsLimit=s),t.pauseOnBlur!==void 0&&(this.pauseOnBlur=t.pauseOnBlur),t.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),t.zLayers!==void 0&&(this.zLayers=t.zLayers),this.background.load(t.background);const a=t.fullScreen??t.backgroundMode;or(a)?this.fullScreen.enable=a:this.fullScreen.load(a),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map(p=>{const m=new ZI;return m.load(p),m})),this.particles.load(t.particles),this.style=rn(this.style,t.style),this._engine.plugins.loadOptions(this,t),t.smooth!==void 0&&(this.smooth=t.smooth);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const p of l)p.loadOptions&&p.loadOptions(this,t);if(t.responsive!==void 0)for(const p of t.responsive){const m=new JI;m.load(p),this.responsive.push(m)}if(this.responsive.sort((p,m)=>p.maxWidth-m.maxWidth),t.themes!==void 0)for(const p of t.themes){const m=this.themes.find(v=>v.name===p.name);if(m)m.load(p);else{const v=new eC;v.load(p),this.themes.push(v)}}this.defaultThemes.dark=(c=this._findDefaultTheme("dark"))==null?void 0:c.name,this.defaultThemes.light=(d=this._findDefaultTheme("light"))==null?void 0:d.name}setResponsive(t,e,s){this.load(s);const a=this.responsive.find(l=>l.mode==="screen"&&screen?l.maxWidth>screen.availWidth:l.maxWidth*e>t);return this.load(a==null?void 0:a.options),a==null?void 0:a.maxWidth}setTheme(t){if(t){const e=this.themes.find(s=>s.name===t);e&&this.load(e.options)}else{const e=GT("(prefers-color-scheme: dark)"),s=e&&e.matches,a=this._findDefaultTheme(s?"dark":"light");a&&this.load(a.options)}}}class xC{constructor(t,e){this.container=e,this._engine=t,this._interactors=t.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&await e.interact(t)}handleClickMode(t){for(const e of this._externalInteractors)e.handleClickMode&&e.handleClickMode(t)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case"external":this._externalInteractors.push(t);break;case"particles":this._particleInteractors.push(t);break}t.init()}}async particlesInteract(t,e){for(const s of this._externalInteractors)s.clear(t,e);for(const s of this._particleInteractors)s.isEnabled(t)&&await s.interact(t,e)}async reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}const u1=n=>{if(!bI(n.outMode,n.checkModes))return;const t=n.radius*2;n.coord>n.maxCoord-t?n.setCb(-n.radius):n.coord<t&&n.setCb(n.radius)};class OC{constructor(t,e,s,a,l,c){this.container=s,this._calcPosition=(d,p,m,v=0)=>{for(const[,Q]of d.plugins){const $=Q.particlePosition!==void 0?Q.particlePosition(p,this):void 0;if($)return On.create($.x,$.y,m)}const E=d.canvas.size,T=gI({size:E,position:p}),R=On.create(T.x,T.y,m),V=this.getRadius(),q=this.options.move.outModes,U=Q=>{u1({outMode:Q,checkModes:["bounce","bounce-horizontal"],coord:R.x,maxCoord:d.canvas.size.width,setCb:$=>R.x+=$,radius:V})},K=Q=>{u1({outMode:Q,checkModes:["bounce","bounce-vertical"],coord:R.y,maxCoord:d.canvas.size.height,setCb:$=>R.y+=$,radius:V})};return U(q.left??q.default),U(q.right??q.default),K(q.top??q.default),K(q.bottom??q.default),this._checkOverlap(R,v)?this._calcPosition(d,void 0,m,v+1):R},this._calculateVelocity=()=>{const d=mI(this.direction),p=d.copy(),m=this.options.move;if(m.direction==="inside"||m.direction==="outside")return p;const v=Math.PI/180*Ut(m.angle.value),E=Math.PI/180*Ut(m.angle.offset),T={left:E-v/2,right:E+v/2};return m.straight||(p.angle+=ei(Gt(T.left,T.right))),m.random&&typeof m.speed=="number"&&(p.length*=Me()),p},this._checkOverlap=(d,p=0)=>{const m=this.options.collisions,v=this.getRadius();if(!m.enable)return!1;const E=m.overlap;if(E.enable)return!1;const T=E.retries;if(T>=0&&p>T)throw new Error(`${_a} particle is overlapping and can't be placed`);return!!this.container.particles.find(R=>Yf(d,R.position)<v+R.getRadius())},this._getRollColor=d=>{if(!d||!this.roll||!this.backColor&&!this.roll.alter)return d;const p=this.roll.horizontal&&this.roll.vertical?2:1,m=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+m)/(Math.PI/p))%2?this.backColor?this.backColor:this.roll.alter?zI(d,this.roll.alter.type,this.roll.alter.value):d:d},this._initPosition=d=>{const p=this.container,m=Ut(this.options.zIndex.value);this.position=this._calcPosition(p,d,qo(m,0,p.zLayers)),this.initialPosition=this.position.copy();const v=p.canvas.size;switch(this.moveCenter={...QT(this.options.move.center,v),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=pI(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=ii.origin},this._loadShapeData=(d,p)=>{const m=d.options[this.shape];if(m)return rn({close:d.close,fill:d.fill},Cu(m,this.id,p))},this._engine=t,this.init(e,a,l,c)}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const e=this.container,s=this.pathGenerator;for(const[,a]of e.plugins)a.particleDestroyed&&a.particleDestroyed(this,t);for(const a of e.particles.updaters)a.particleDestroyed&&a.particleDestroyed(this,t);s&&s.reset(this)}draw(t){const e=this.container;for(const[,s]of e.plugins)e.canvas.drawParticlePlugin(s,this,t);e.canvas.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??r1(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??r1(this.strokeColor))}init(t,e,s,a){const l=this.container,c=this._engine;this.id=t,this.group=a,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const d=l.retina.pixelRatio,p=l.actualOptions,m=tw(this._engine,l,p.particles),v=m.shape.type,{reduceDuplicates:E}=m;this.shape=Cu(v,this.id,E);const T=m.shape;if(s&&s.shape&&s.shape.type){const $=s.shape.type,ut=Cu($,this.id,E);ut&&(this.shape=ut,T.load(s.shape))}this.shapeData=this._loadShapeData(T,E),m.load(s);const R=this.shapeData;R&&m.load(R.particles);const V=new XT(c,l);V.load(l.actualOptions.interactivity),V.load(m.interactivity),this.interactivity=V,this.fill=(R==null?void 0:R.fill)??m.shape.fill,this.close=(R==null?void 0:R.close)??m.shape.close,this.options=m;const q=this.options.move.path;this.pathDelay=Ey(q.delay)*1e3,q.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(q.generator),this.pathGenerator&&l.addPath(q.generator,this.pathGenerator)&&this.pathGenerator.init(l)),l.retina.initParticle(this),this.size=YT(this.options.size,d),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Ut(this.options.move.decay);const U=l.particles;U.needsSort=U.needsSort||U.lastZIndex<this.position.z,U.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/l.zLayers,this.sides=24;let K=l.drawers.get(this.shape);K||(K=this._engine.plugins.getShapeDrawer(this.shape),K&&l.drawers.set(this.shape,K)),K&&K.loadShape&&K.loadShape(this);const Q=K==null?void 0:K.getSidesCount;Q&&(this.sides=Q(this)),this.spawning=!1,this.shadowColor=Lo(this.options.shadow.color);for(const $ of l.particles.updaters)$.init(this);for(const $ of l.particles.movers)$.init&&$.init(this);K&&K.particleInit&&K.particleInit(l,this);for(const[,$]of l.plugins)$.particleCreated&&$.particleCreated(this)}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,s=this.position;return s.x>=-t&&s.y>=-t&&s.y<=e.height+t&&s.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset&&t.reset(this)}}class DC{constructor(t,e){this.position=t,this.particle=e}}class ew{constructor(t,e){this.position={x:t,y:e}}}class Ho extends ew{constructor(t,e,s,a){super(t,e),this.size={height:a,width:s}}contains(t){const e=this.size.width,s=this.size.height,a=this.position;return t.x>=a.x&&t.x<=a.x+e&&t.y>=a.y&&t.y<=a.y+s}intersects(t){t instanceof Kf&&t.intersects(this);const e=this.size.width,s=this.size.height,a=this.position,l=t.position,c=t instanceof Ho?t.size:{width:0,height:0},d=c.width,p=c.height;return l.x<a.x+e&&l.x+d>a.x&&l.y<a.y+s&&l.y+p>a.y}}class Kf extends ew{constructor(t,e,s){super(t,e),this.radius=s}contains(t){return Yf(t,this.position)<=this.radius}intersects(t){const e=this.position,s=t.position,a={x:Math.abs(s.x-e.x),y:Math.abs(s.y-e.y)},l=this.radius;if(t instanceof Kf){const c=l+t.radius,d=Math.sqrt(a.x**2+a.y**2);return c>d}else if(t instanceof Ho){const{width:c,height:d}=t.size;return Math.pow(a.x-c,2)+Math.pow(a.y-d,2)<=l**2||a.x<=l+c&&a.y<=l+d||a.x<=c||a.y<=d}return!1}}class vf{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:s,y:a}=this.rectangle.position,{width:l,height:c}=this.rectangle.size,{capacity:d}=this;for(let p=0;p<4;p++)this._subs.push(new vf(new Ho(s+l/2*(p%2),a+c/2*(Math.round(p/2)-p%2),l/2,c/2),d));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return this.rectangle.contains(t.position)?this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some(e=>e.insert(t))):!1}query(t,e,s){const a=s||[];if(!t.intersects(this.rectangle))return[];for(const l of this._points)!t.contains(l.position)&&Yf(t.position,l.position)>l.particle.getRadius()&&(!e||e(l.particle))||a.push(l.particle);if(this._divided)for(const l of this._subs)l.query(t,e,a);return a}queryCircle(t,e,s){return this.query(new Kf(t.x,t.y,e),s)}queryRectangle(t,e,s){return this.query(new Ho(t.x,t.y,e.width,e.height),s)}}const c1=4,h1=n=>new Ho(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let MC=class{constructor(t,e){this._applyDensity=(a,l,c)=>{var R;if(!((R=a.number.density)!=null&&R.enable))return;const d=a.number,p=this._initDensityFactor(d.density),m=d.value,v=d.limit>0?d.limit:m,E=Math.min(m,v)*p+l,T=Math.min(this.count,this.filter(V=>V.group===c).length);this.limit=d.limit*p,T<E?this.push(Math.abs(E-T),void 0,a,c):T>E&&this.removeQuantity(T-E,c)},this._initDensityFactor=a=>{const l=this._container;if(!l.canvas.element||!a.enable)return 1;const c=l.canvas.element,d=l.retina.pixelRatio;return c.width*c.height/(a.factor*d**2*a.area)},this._pushParticle=(a,l,c,d)=>{try{let p=this.pool.pop();p?p.init(this._nextId,a,l,c):p=new OC(this._engine,this._nextId,this._container,a,l,c);let m=!0;return d&&(m=d(p)),m?(this._array.push(p),this._zArray.push(p),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:p}}),p):void 0}catch(p){zu().warning(`${_a} adding particle: ${p}`);return}},this._removeParticle=(a,l,c)=>{const d=this._array[a];if(!d||d.group!==l)return!1;d.destroy(c);const p=this._zArray.indexOf(d);return this._array.splice(a,1),this._zArray.splice(p,1),this.pool.push(d),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:d}}),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new xC(t,e);const s=e.canvas.size;this.quadTree=new vf(h1(s),c1),this.movers=this._engine.plugins.getMovers(e,!0),this.updaters=this._engine.plugins.getUpdaters(e,!0)}get count(){return this._array.length}addManualParticles(){const t=this._container,e=t.actualOptions;for(const s of e.manualParticles)this.addParticle(s.position?QT(s.position,t.canvas.size):void 0,s.options)}addParticle(t,e,s,a){const l=this._container,c=l.actualOptions,d=c.particles.number.limit;if(d>0){const p=this.count+1-d;p>0&&this.removeQuantity(p)}return this._pushParticle(t,e,s,a)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(t){const e=this._container;e.canvas.clear(),await this.update(t);for(const[,s]of e.plugins)e.canvas.drawPlugin(s,t);for(const s of this._zArray)s.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}handleClickMode(t){this._interactionManager.handleClickMode(t)}init(){var a;const t=this._container,e=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let s=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this._interactionManager.init();for(const[,l]of t.plugins)if(l.particlesInitialization!==void 0&&(s=l.particlesInitialization()),s)break;this._interactionManager.init();for(const[,l]of t.pathGenerators)l.init(t);if(this.addManualParticles(),!s){for(const l in e.particles.groups){const c=e.particles.groups[l];for(let d=this.count,p=0;p<((a=c.number)==null?void 0:a.value)&&d<e.particles.number.value;d++,p++)this.addParticle(void 0,c,l)}for(let l=this.count;l<e.particles.number.value;l++)this.addParticle()}}push(t,e,s,a){this.pushing=!0;for(let l=0;l<t;l++)this.addParticle(e==null?void 0:e.position,s,a);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(t,e,s){this.removeAt(this._array.indexOf(t),void 0,e,s)}removeAt(t,e=1,s,a){if(t<0||t>this.count)return;let l=0;for(let c=t;l<e&&c<this.count;c++)this._removeParticle(c--,s,a)&&l++}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const s in e)this._applyDensity(e[s],0,s);this._applyDensity(t.particles,t.manualParticles.length)}async update(t){const e=this._container,s=new Set;this.quadTree=new vf(h1(e.canvas.size),c1);for(const[,a]of e.pathGenerators)a.update();for(const[,a]of e.plugins)a.update&&a.update(t);for(const a of this._array){const l=e.canvas.resizeFactor;l&&!a.ignoresResizeRatio&&(a.position.x*=l.width,a.position.y*=l.height,a.initialPosition.x*=l.width,a.initialPosition.y*=l.height),a.ignoresResizeRatio=!1,await this._interactionManager.reset(a);for(const[,c]of this._container.plugins){if(a.destroyed)break;c.particleUpdate&&c.particleUpdate(a,t)}for(const c of this.movers)c.isEnabled(a)&&c.move(a,t);if(a.destroyed){s.add(a);continue}this.quadTree.insert(new DC(a.getPosition(),a))}if(s.size){const a=l=>!s.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a),this.pool.push(...s)}await this._interactionManager.externalInteract(t);for(const a of this._array){for(const l of this.updaters)l.update(a,t);!a.destroyed&&!a.spawning&&await this._interactionManager.particlesInteract(a,t)}if(delete e.canvas.resizeFactor,this.needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this.lastZIndex=a[a.length-1].position.z,this.needsSort=!1}}};class PC{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||Qf()?1:window.devicePixelRatio,this.reduceFactor=1;const s=this.pixelRatio;if(t.canvas.element){const c=t.canvas.element;t.canvas.size.width=c.offsetWidth*s,t.canvas.size.height=c.offsetHeight*s}const a=e.particles,l=a.move;this.attractDistance=Ut(l.attract.distance)*s,this.maxSpeed=Ut(l.gravity.maxSpeed)*s,this.sizeAnimationSpeed=Ut(a.size.animation.speed)*s}initParticle(t){const e=t.options,s=this.pixelRatio,a=e.move,l=a.distance,c=t.retina;c.attractDistance=Ut(a.attract.distance)*s,c.moveDrift=Ut(a.drift)*s,c.moveSpeed=Ut(a.speed)*s,c.sizeAnimationSpeed=Ut(e.size.animation.speed)*s;const d=c.maxDistance;d.horizontal=l.horizontal!==void 0?l.horizontal*s:void 0,d.vertical=l.vertical!==void 0?l.vertical*s:void 0,c.maxSpeed=Ut(a.gravity.maxSpeed)*s}}function fe(n){return n&&!n.destroyed}function NC(n,t=60,e=!1){return{value:n,factor:e?60/t:60*n/1e3}}function Ro(n,t,...e){const s=new CC(n,t);return JT(s,...e),s}const kC="default",f1={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class VC{constructor(t,e,s){this.id=e,this._intersectionManager=a=>{if(!(!fe(this)||!this.actualOptions.pauseOnOutsideViewport))for(const l of a)l.target===this.interactivity.element&&(l.isIntersecting?this.play:this.pause)()},this._nextFrame=async a=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&a<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=a);const l=NC(a-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(l.value),this.lastFrameTime=a,l.value>1e3){this.draw(!1);return}if(await this.particles.draw(l),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(l){zu().error(`${_a} in animation loop`,l)}},this._engine=t,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=s,this._initialSourceOptions=s,this.retina=new PC(this),this.canvas=new jI(this),this.particles=new MC(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Ro(this._engine,this),this.actualOptions=Ro(this._engine,this),this._eventListeners=new BI(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(a=>this._intersectionManager(a))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!fe(this))return;const e=this.interactivity.element;if(!e)return;const s=(E,T,R)=>{if(!fe(this))return;const V=this.retina.pixelRatio,q={x:T.x*V,y:T.y*V},U=this.particles.quadTree.queryCircle(q,R*V);t(E,U)},a=E=>{if(!fe(this))return;const T=E,R={x:T.offsetX||T.clientX,y:T.offsetY||T.clientY};s(E,R,1)},l=()=>{fe(this)&&(m=!0,v=!1)},c=()=>{fe(this)&&(v=!0)},d=E=>{if(fe(this)){if(m&&!v){const T=E;let R=T.touches[T.touches.length-1];if(!R&&(R=T.changedTouches[T.changedTouches.length-1],!R))return;const V=this.canvas.element,q=V?V.getBoundingClientRect():void 0,U={x:R.clientX-(q?q.left:0),y:R.clientY-(q?q.top:0)};s(E,U,Math.max(R.radiusX,R.radiusY))}m=!1,v=!1}},p=()=>{fe(this)&&(m=!1,v=!1)};let m=!1,v=!1;e.addEventListener("click",a),e.addEventListener("touchstart",l),e.addEventListener("touchmove",c),e.addEventListener("touchend",d),e.addEventListener("touchcancel",p)}addLifeTime(t){this._lifeTime+=t}addPath(t,e,s=!1){return!fe(this)||!s&&this.pathGenerators.has(t)?!1:(this.pathGenerators.set(t,e??f1),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!fe(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.drawers)s.destroy&&s.destroy(this);for(const s of this.drawers.keys())this.drawers.delete(s);this._engine.plugins.destroy(this),this.destroyed=!0;const t=this._engine.dom(),e=t.findIndex(s=>s===this);e>=0&&t.splice(e,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(t){if(!fe(this))return;let e=t;this._drawAnimationFrame=requestAnimationFrame(async s=>{e&&(this.lastFrameTime=void 0,e=!1),await this._nextFrame(s)})}async export(t,e={}){for(const[,s]of this.plugins){if(!s.export)continue;const a=await s.export(t,e);if(a.supported)return a.blob}zu().error(`${_a} - Export plugin with type ${t} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&fe(this)}handleClickMode(t){if(fe(this)){this.particles.handleClickMode(t);for(const[,e]of this.plugins)e.handleClickMode&&e.handleClickMode(t)}}async init(){if(!fe(this))return;const t=this._engine.plugins.getSupportedShapes();for(const s of t){const a=this._engine.plugins.getShapeDrawer(s);a&&this.drawers.set(s,a)}this._options=Ro(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Ro(this._engine,this,this._options);const e=this._engine.plugins.getAvailablePlugins(this);for(const[s,a]of e)this.plugins.set(s,a);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Ut(this.actualOptions.duration)*1e3,this._delay=Ut(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,s]of this.drawers)s.init&&await s.init(this);for(const[,s]of this.plugins)s.init&&await s.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup&&s.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(t){fe(this)&&(this._currentTheme=t,await this.refresh())}pause(){if(fe(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,t]of this.plugins)t.pause&&t.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(t){if(!fe(this))return;const e=this._paused||t;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),e)for(const[,s]of this.plugins)s.play&&s.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(e||!1)}async refresh(){if(fe(this))return this.stop(),this.start()}async reset(){if(fe(this))return this._initialSourceOptions=void 0,this._options=Ro(this._engine,this),this.actualOptions=Ro(this._engine,this,this._options),this.refresh()}setNoise(t,e,s){fe(this)&&this.setPath(t,e,s)}setPath(t,e,s){if(!t||!fe(this))return;const a={...f1};if($T(t))a.generate=t,e&&(a.init=e),s&&(a.update=s);else{const l=a;a.generate=t.generate||l.generate,a.init=t.init||l.init,a.update=t.update||l.update}this.addPath(kC,a,!0)}async start(){!fe(this)||this.started||(await this.init(),this.started=!0,await new Promise(t=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,e]of this.plugins)e.start&&await e.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),t()},this._delay)}))}stop(){if(!(!fe(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,t]of this.plugins)t.stop&&t.stop();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===t?!1:(this.responsiveMaxWidth=t,!0)}}class LC{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let s=this._listeners.get(t);s||(s=[],this._listeners.set(t,s)),s.push(e)}dispatchEvent(t,e){const s=this._listeners.get(t);s&&s.forEach(a=>a(e))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const s=this._listeners.get(t);if(!s)return;const a=s.length,l=s.indexOf(e);l<0||(a===1?this._listeners.delete(t):s.splice(l,1))}}function Gm(n,t,e,s=!1){let a=t.get(n);return(!a||s)&&(a=[...e.values()].map(l=>l(n)),t.set(n,a)),a}class zC{constructor(t){this._engine=t,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(t,e){this._initializers.interactors.set(t,e)}addParticleMover(t,e){this._initializers.movers.set(t,e)}addParticleUpdater(t,e){this._initializers.updaters.set(t,e)}addPathGenerator(t,e){!this.getPathGenerator(t)&&this.pathGenerators.set(t,e)}addPlugin(t){!this.getPlugin(t.id)&&this.plugins.push(t)}addPreset(t,e,s=!1){(s||!this.getPreset(t))&&this.presets.set(t,e)}addShapeDrawer(t,e){ba(t,s=>{!this.getShapeDrawer(s)&&this.drawers.set(s,e)})}destroy(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}getAvailablePlugins(t){const e=new Map;for(const s of this.plugins)s.needsPlugin(t.actualOptions)&&e.set(s.id,s.getPlugin(t));return e}getInteractors(t,e=!1){return Gm(t,this.interactors,this._initializers.interactors,e)}getMovers(t,e=!1){return Gm(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find(e=>e.id===t)}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.drawers.get(t)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(t,e=!1){return Gm(t,this.updaters,this._initializers.updaters,e)}loadOptions(t,e){for(const s of this.plugins)s.loadOptions(t,e)}loadParticlesOptions(t,e,...s){const a=this.updaters.get(t);if(a)for(const l of a)l.loadOptions&&l.loadOptions(e,...s)}}async function UC(n){const t=Cu(n.url,n.index);if(!t)return n.fallback;const e=await fetch(t);return e.ok?e.json():(zu().error(`${_a} ${e.status} while retrieving config file`),n.fallback)}function jC(n){return!n.id&&!n.element&&!n.url&&!n.options}function BC(n){return!jC(n)}class FC{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new LC,this._initialized=!1,this.plugins=new zC(this)}get configs(){const t={};for(const[e,s]of this._configs)t[e]=s;return t}get version(){return"2.12.0"}addConfig(t,e){Ci(t)?e&&(e.name=t,this._configs.set(t,e)):this._configs.set(t.name??"default",t)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e,s=!0){this.plugins.addInteractor(t,e),await this.refresh(s)}async addMover(t,e,s=!0){this.plugins.addParticleMover(t,e),await this.refresh(s)}async addParticleUpdater(t,e,s=!0){this.plugins.addParticleUpdater(t,e),await this.refresh(s)}async addPathGenerator(t,e,s=!0){this.plugins.addPathGenerator(t,e),await this.refresh(s)}async addPlugin(t,e=!0){this.plugins.addPlugin(t),await this.refresh(e)}async addPreset(t,e,s=!1,a=!0){this.plugins.addPreset(t,e,s),await this.refresh(a)}async addShape(t,e,s,a,l,c=!0){let d,p=c,m,v,E;or(s)?(p=s,m=void 0):m=s,or(a)?(p=a,v=void 0):v=a,or(l)?(p=l,E=void 0):E=l,$T(e)?d={afterEffect:v,destroy:E,draw:e,init:m}:d=e,this.plugins.addShapeDrawer(t,d),await this.refresh(p)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this._domArray}domItem(t){const e=this.dom(),s=e[t];if(!s||s.destroyed){e.splice(t,1);return}return s}init(){this._initialized||(this._initialized=!0)}async load(t,e){return this.loadFromArray(t,e)}async loadFromArray(t,e,s){let a;return BC(t)?a=t:(a={},Ci(t)?a.id=t:a.options=t,si(e)?a.index=e:a.options=e??a.options,a.index=s??a.index),this._loadParams(a)}async loadJSON(t,e,s){let a,l;return si(e)||e===void 0?a=t:(l=t,a=e),this._loadParams({id:l,url:a,index:s})}async refresh(t=!0){t&&this.dom().forEach(e=>e.refresh())}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}async set(t,e,s,a){const l={index:a};return Ci(t)?l.id=t:l.element=t,e instanceof HTMLElement?l.element=e:l.options=e,si(s)?l.index=s:l.options=s??l.options,this._loadParams(l)}async setJSON(t,e,s,a){const l={};return t instanceof HTMLElement?(l.element=t,l.url=e,l.index=s):(l.id=t,l.element=e,l.url=s,l.index=a),this._loadParams(l)}setOnClickHandler(t){const e=this.dom();if(!e.length)throw new Error(`${_a} can only set click handlers after calling tsParticles.load()`);for(const s of e)s.addClickHandler(t)}async _loadParams(t){const e=t.id??`tsparticles${Math.floor(Me()*1e4)}`,{index:s,url:a}=t,l=a?await UC({fallback:t.options,url:a,index:s}):t.options;let c=t.element??document.getElementById(e);c||(c=document.createElement("div"),c.id=e,document.body.append(c));const d=Cu(l,s),p=this.dom(),m=p.findIndex(T=>T.id===e);if(m>=0){const T=this.domItem(m);T&&!T.destroyed&&(T.destroy(),p.splice(m,1))}let v;if(c.tagName.toLowerCase()==="canvas")v=c,v.dataset[Iu]="false";else{const T=c.getElementsByTagName("canvas");T.length?(v=T[0],v.dataset[Iu]="false"):(v=document.createElement("canvas"),v.dataset[Iu]="true",c.appendChild(v))}v.style.width||(v.style.width="100%"),v.style.height||(v.style.height="100%");const E=new VC(this,e,d);return m>=0?p.splice(m,0,E):p.push(E),E.canvas.loadCanvas(v),await E.start(),E}}class qC{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){const e=t.value,s=e.hsl??t.value;if(s.h!==void 0&&s.s!==void 0&&s.l!==void 0)return bg(s)}handleRangeColor(t){const e=t.value,s=e.hsl??t.value;if(s.h!==void 0&&s.l!==void 0)return bg({h:Ut(s.h),l:Ut(s.l),s:Ut(s.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,s=e.exec(t);return s?CI({a:s.length>4?HT(s[5]):1,h:parseInt(s[1],10),l:parseInt(s[3],10),s:parseInt(s[2],10)}):void 0}}class HC{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){const e=t.value,s=e.rgb??t.value;if(s.r!==void 0)return s}handleRangeColor(t){const e=t.value,s=e.rgb??t.value;if(s.r!==void 0)return{r:Ut(s.r),g:Ut(s.g),b:Ut(s.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,s=e.exec(t);return s?{a:s.length>4?HT(s[5]):1,b:parseInt(s[3],10),g:parseInt(s[2],10),r:parseInt(s[1],10)}:void 0}}function GC(){const n=new HC,t=new qC;i1(n),i1(t);const e=new FC;return e.init(),e}const Eg=GC();Qf()||(window.tsParticles=Eg);const Mo=n=>typeof n=="object"&&n!==null;function _f(n,t,e=()=>!1){if(!Mo(n)||!Mo(t))return n===t;const s=Object.keys(n).filter(l=>!e(l)),a=Object.keys(t).filter(l=>!e(l));if(s.length!==a.length)return!1;for(const l of s){const c=n[l],d=t[l];if(Mo(c)&&Mo(d)){if(c===t&&d===n)continue;if(!_f(c,d,e))return!1}else if(Array.isArray(c)&&Array.isArray(d)){if(!nw(c,d,e))return!1}else if(c!==d)return!1}return!0}function nw(n,t,e){if(n.length!==t.length)return!1;for(let s=0;s<n.length;s++){const a=n[s],l=t[s];if(Array.isArray(a)&&Array.isArray(l)){if(!nw(a,l,e))return!1}else if(Mo(a)&&Mo(l)){if(!_f(a,l,e))return!1}else if(a!==l)return!1}return!0}const iw="tsparticles";class pa extends at.Component{constructor(t){super(t),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(t){const e=t.options??t.params,s=this.props.options??this.props.params;return t.url!==this.props.url||t.id!==this.props.id||t.canvasClassName!==this.props.canvasClassName||t.className!==this.props.className||t.height!==this.props.height||t.width!==this.props.width||!_f(t.style,this.props.style)||t.init!==this.props.init||t.loaded!==this.props.loaded||!_f(e,s,a=>a.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Eg),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:t,height:e,className:s,canvasClassName:a,id:l}=this.props;return va.createElement("div",{className:s,id:l},va.createElement("canvas",{className:a,style:{...this.props.style,width:t,height:e}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const t=this.props.id??pa.defaultProps.id??iw,e=await Eg.load({url:this.props.url,id:t,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=e),this.setState({library:e}),this.props.loaded&&await this.props.loaded(e)}}pa.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:iw};function YC(n){const t=n.initialPosition,{dx:e,dy:s}=Vo(t,n.position),a=Math.abs(e),l=Math.abs(s),{maxDistance:c}=n.retina,d=c.horizontal,p=c.vertical;if(!(!d&&!p)){if((d&&a>=d||p&&l>=p)&&!n.misplaced)n.misplaced=!!d&&a>d||!!p&&l>p,d&&(n.velocity.x=n.velocity.y/2-n.velocity.x),p&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!d||a<d)&&(!p||l<p)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const m=n.position,v=n.velocity;d&&(m.x<t.x&&v.x<0||m.x>t.x&&v.x>0)&&(v.x*=-Me()),p&&(m.y<t.y&&v.y<0||m.y>t.y&&v.y>0)&&(v.y*=-Me())}}}function QC(n,t,e,s,a,l){KC(n,l);const c=n.gravity,d=c!=null&&c.enable&&c.inverse?-1:1;a&&e&&(n.velocity.x+=a*l.factor/(60*e)),c!=null&&c.enable&&e&&(n.velocity.y+=d*(c.acceleration*l.factor)/(60*e));const p=n.moveDecay;n.velocity.multTo(p);const m=n.velocity.mult(e);c!=null&&c.enable&&s>0&&(!c.inverse&&m.y>=0&&m.y>=s||c.inverse&&m.y<=0&&m.y<=-s)&&(m.y=d*s,e&&(n.velocity.y=m.y/e));const v=n.options.zIndex,E=(1-n.zIndexFactor)**v.velocityRate;m.multTo(E);const{position:T}=n;T.addTo(m),t.vibrate&&(T.x+=Math.sin(T.x*Math.cos(T.y)),T.y+=Math.cos(T.y*Math.sin(T.x)))}function $C(n,t){const e=n.container;if(!n.spin)return;const s={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const a=Math.max(e.canvas.size.width,e.canvas.size.height);n.spin.radius>a/2?(n.spin.radius=a/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=t/100*(1-n.spin.radius/a)}function KC(n,t){var c;const e=n.options,s=e.move.path;if(!s.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=t.value;return}const l=(c=n.pathGenerator)==null?void 0:c.generate(n,t);l&&n.velocity.addTo(l),s.clamp&&(n.velocity.x=qo(n.velocity.x,-1,1),n.velocity.y=qo(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function XC(n){return n.slow.inRange?n.slow.factor:1}const WC=2;class ZC{constructor(){this._initSpin=t=>{const e=t.container,s=t.options,a=s.move.spin;if(!a.enable)return;const l=a.position??{x:50,y:50},c={x:l.x/100*e.canvas.size.width,y:l.y/100*e.canvas.size.height},d=t.getPosition(),p=Yf(d,c),m=Ut(a.acceleration);t.retina.spinAcceleration=m*e.retina.pixelRatio,t.spin={center:c,direction:t.velocity.x>=0?"clockwise":"counter-clockwise",angle:t.velocity.angle,radius:p,acceleration:t.retina.spinAcceleration}}}init(t){const e=t.options,s=e.move.gravity;t.gravity={enable:s.enable,acceleration:Ut(s.acceleration),inverse:s.inverse},this._initSpin(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){var V,q;const s=t.options,a=s.move;if(!a.enable)return;const l=t.container,c=l.retina.pixelRatio,d=XC(t),p=((V=t.retina).moveSpeed??(V.moveSpeed=Ut(a.speed)*c))*l.retina.reduceFactor,m=(q=t.retina).moveDrift??(q.moveDrift=Ut(t.options.move.drift)*c),v=Gf(s.size.value)*c,E=a.size?t.getRadius()/v:1,T=p*E*d*(e.factor||1)/WC,R=t.retina.maxSpeed??l.retina.maxSpeed;a.spin.enable?$C(t,T):QC(t,a,T,R,m,e),YC(t)}}async function JC(n,t=!0){await n.addMover("base",()=>new ZC,t)}class tx{draw(t,e,s){e.circleRange||(e.circleRange={min:0,max:Math.PI*2});const a=e.circleRange;t.arc(0,0,s,a.min,a.max,!1)}getSidesCount(){return 12}particleInit(t,e){const s=e.shapeData,a=(s==null?void 0:s.angle)??{max:360,min:0};e.circleRange=Do(a)?{min:a.min*Math.PI/180,max:a.max*Math.PI/180}:{min:0,max:a*Math.PI/180}}}async function ex(n,t=!0){await n.addShape("circle",new tx,t)}function Ym(n,t,e,s,a){if(!t||!e.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=n.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const l=ei(e.offset),c=(t.velocity??0)*n.factor+l*3.6,d=t.decay??1;!a||t.status==="increasing"?(t.value+=c,t.value>s&&(t.loops||(t.loops=0),t.loops++,a&&(t.status="decreasing",t.value-=t.value%s))):(t.value-=c,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status="increasing",t.value+=t.value)),t.velocity&&d!==1&&(t.velocity*=d),t.value>s&&(t.value%=s)}function nx(n,t){const{h:e,s,l:a}=n.options.color.animation,{color:l}=n;if(!l)return;const{h:c,s:d,l:p}=l;c&&Ym(t,c,e,360,!1),d&&Ym(t,d,s,100,!0),p&&Ym(t,p,a,100,!0)}class ix{constructor(t){this.container=t}init(t){const e=_g(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=OI(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s,l:a}=t.options.color.animation,{color:l}=t;return!t.destroyed&&!t.spawning&&((l==null?void 0:l.h.value)!==void 0&&e.enable||(l==null?void 0:l.s.value)!==void 0&&s.enable||(l==null?void 0:l.l.value)!==void 0&&a.enable)}update(t,e){nx(t,e)}}async function sx(n,t=!0){await n.addParticleUpdater("color",e=>new ix(e),t)}function rx(n,t,e,s){switch(n.options.opacity.animation.destroy){case"max":t>=s&&n.destroy();break;case"min":t<=e&&n.destroy();break}}function ax(n,t){const e=n.opacity;if(n.destroyed||!(e!=null&&e.enable)||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const s=e.min,a=e.max,l=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case"increasing":e.value>=a?(e.status="decreasing",e.loops||(e.loops=0),e.loops++):e.value+=(e.velocity??0)*t.factor;break;case"decreasing":e.value<=s?(e.status="increasing",e.loops||(e.loops=0),e.loops++):e.value-=(e.velocity??0)*t.factor;break}e.velocity&&e.decay!==1&&(e.velocity*=l),rx(n,e.value,s,a),n.destroyed||(e.value=qo(e.value,s,a))}}class ox{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=YT(e,1);const s=e.animation;s.enable&&(t.opacity.velocity=Ut(s.speed)/100*this.container.retina.reduceFactor,s.sync||(t.opacity.velocity*=Me()))}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((t.opacity.maxLoops??0)<=0||(t.opacity.maxLoops??0)>0&&(t.opacity.loops??0)<(t.opacity.maxLoops??0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&ax(t,e)}}async function lx(n,t=!0){await n.addParticleUpdater("opacity",e=>new ox(e),t)}function ux(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const t=n.particle.velocity.x;let e=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&t>0||n.direction==="left"&&n.bounds.left<=0&&t<0){const a=Ey(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-a,e=!0}if(!e)return;const s=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-s:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=s),n.outMode==="split"&&n.particle.destroy()}function cx(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const t=n.particle.velocity.y;let e=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&t>0||n.direction==="top"&&n.bounds.top<=0&&t<0){const a=Ey(n.particle.options.bounce.vertical);n.particle.velocity.y*=-a,e=!0}if(!e)return;const s=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-s:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=s),n.outMode==="split"&&n.particle.destroy()}class hx{constructor(t){this.container=t,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;let c=!1;for(const[,T]of l.plugins)if(T.particleBounce!==void 0&&(c=T.particleBounce(t,s,e)),c)break;if(c)return;const d=t.getPosition(),p=t.offset,m=t.getRadius(),v=Sy(d,m),E=l.canvas.size;ux({particle:t,outMode:a,direction:e,bounds:v,canvasSize:E,offset:p,size:m}),cx({particle:t,outMode:a,direction:e,bounds:v,canvasSize:E,offset:p,size:m})}}class fx{constructor(t){this.container=t,this.modes=["destroy"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(t.outType){case"normal":case"outside":if(wy(t.position,l.canvas.size,ii.origin,t.getRadius(),e))return;break;case"inside":{const{dx:c,dy:d}=Vo(t.position,t.moveCenter),{x:p,y:m}=t.velocity;if(p<0&&c>t.moveCenter.radius||m<0&&d>t.moveCenter.radius||p>=0&&c<-t.moveCenter.radius||m>=0&&d<-t.moveCenter.radius)return;break}}l.particles.remove(t,void 0,!0)}}class dx{constructor(t){this.container=t,this.modes=["none"]}update(t,e,s,a){if(!this.modes.includes(a)||t.options.move.distance.horizontal&&(e==="left"||e==="right")||t.options.move.distance.vertical&&(e==="top"||e==="bottom"))return;const l=t.options.move.gravity,c=this.container,d=c.canvas.size,p=t.getRadius();if(l.enable){const m=t.position;(!l.inverse&&m.y>d.height+p&&e==="bottom"||l.inverse&&m.y<-p&&e==="top")&&c.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=d.height+p||t.velocity.y<0&&t.position.y>=-p||t.velocity.x>0&&t.position.x<=d.width+p||t.velocity.x<0&&t.position.x>=-p)return;wy(t.position,c.canvas.size,ii.origin,p,e)||c.particles.remove(t)}}}class px{constructor(t){this.container=t,this.modes=["out"]}update(t,e,s,a){if(!this.modes.includes(a))return;const l=this.container;switch(t.outType){case"inside":{const{x:c,y:d}=t.velocity,p=ii.origin;p.length=t.moveCenter.radius,p.angle=t.velocity.angle+Math.PI,p.addTo(ii.create(t.moveCenter));const{dx:m,dy:v}=Vo(t.position,p);if(c<=0&&m>=0||d<=0&&v>=0||c>=0&&m<=0||d>=0&&v<=0)return;t.position.x=Math.floor(ei({min:0,max:l.canvas.size.width})),t.position.y=Math.floor(ei({min:0,max:l.canvas.size.height}));const{dx:E,dy:T}=Vo(t.position,t.moveCenter);t.direction=Math.atan2(-T,-E),t.velocity.angle=t.direction;break}default:{if(wy(t.position,l.canvas.size,ii.origin,t.getRadius(),e))return;switch(t.outType){case"outside":{t.position.x=Math.floor(ei({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(ei({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:c,dy:d}=Vo(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(d,c),t.velocity.angle=t.direction);break}case"normal":{const c=t.options.move.warp,d=l.canvas.size,p={bottom:d.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:d.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},m=t.getRadius(),v=Sy(t.position,m);e==="right"&&v.left>d.width+t.offset.x?(t.position.x=p.left,t.initialPosition.x=t.position.x,c||(t.position.y=Me()*d.height,t.initialPosition.y=t.position.y)):e==="left"&&v.right<-t.offset.x&&(t.position.x=p.right,t.initialPosition.x=t.position.x,c||(t.position.y=Me()*d.height,t.initialPosition.y=t.position.y)),e==="bottom"&&v.top>d.height+t.offset.y?(c||(t.position.x=Me()*d.width,t.initialPosition.x=t.position.x),t.position.y=p.top,t.initialPosition.y=t.position.y):e==="top"&&v.bottom<-t.offset.y&&(c||(t.position.x=Me()*d.width,t.initialPosition.x=t.position.x),t.position.y=p.bottom,t.initialPosition.y=t.position.y);break}}break}}}}class mx{constructor(t){this.container=t,this._updateOutMode=(e,s,a,l)=>{for(const c of this.updaters)c.update(e,l,s,a)},this.updaters=[new hx(t),new fx(t),new px(t),new dx(t)]}init(){}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){const s=t.options.move.outModes;this._updateOutMode(t,e,s.bottom??s.default,"bottom"),this._updateOutMode(t,e,s.left??s.default,"left"),this._updateOutMode(t,e,s.right??s.default,"right"),this._updateOutMode(t,e,s.top??s.default,"top")}}async function gx(n,t=!0){await n.addParticleUpdater("outModes",e=>new mx(e),t)}function yx(n,t,e,s){switch(n.options.size.animation.destroy){case"max":t>=s&&n.destroy();break;case"min":t<=e&&n.destroy();break}}function vx(n,t){const e=n.size;if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const s=(e.velocity??0)*t.factor,a=e.min,l=e.max,c=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case"increasing":e.value>=l?(e.status="decreasing",e.loops||(e.loops=0),e.loops++):e.value+=s;break;case"decreasing":e.value<=a?(e.status="increasing",e.loops||(e.loops=0),e.loops++):e.value-=s}e.velocity&&c!==1&&(e.velocity*=c),yx(n,e.value,a,l),n.destroyed||(e.value=qo(e.value,a,l))}}class _x{init(t){const e=t.container,s=t.options.size,a=s.animation;a.enable&&(t.size.velocity=(t.retina.sizeAnimationSpeed??e.retina.sizeAnimationSpeed)/100*e.retina.reduceFactor,a.sync||(t.size.velocity*=Me()))}isEnabled(t){return!t.destroyed&&!t.spawning&&t.size.enable&&((t.size.maxLoops??0)<=0||(t.size.maxLoops??0)>0&&(t.size.loops??0)<(t.size.maxLoops??0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&vx(t,e)}}async function bx(n,t=!0){await n.addParticleUpdater("size",()=>new _x,t)}async function Ex(n,t=!0){await JC(n,!1),await ex(n,!1),await sx(n,!1),await lx(n,!1),await gx(n,!1),await bx(n,!1),await n.refresh(t)}const Tx={background:{color:"#000"},particles:{number:{value:100},move:{direction:"none",enable:!0,outModes:{default:"out"},random:!0,speed:.1,straight:!1},opacity:{animation:{enable:!0,speed:1,sync:!1},value:{min:0,max:1}},size:{value:{min:1,max:3}}}};async function wx(n,t=!0){await Ex(n,!1),await n.addPreset("stars",Tx,t)}function Sx(){const n=at.useCallback(async t=>{await wx(t)},[]);return L.jsxs(L.Fragment,{children:[L.jsx(pa,{id:"nebula",options:{fullScreen:{enable:!0,zIndex:0},background:{color:"black"},particles:{number:{value:10,density:{enable:!1}},color:{value:["#0b0c40","#1b1b5e","#301934"]},opacity:{value:.2,random:{enable:!0,minimumValue:.1},animation:{enable:!0,speed:.1,minimumValue:.1,sync:!1}},size:{value:450,random:{enable:!0,minimumValue:250},animation:{enable:!0,speed:.8,minimumValue:250,sync:!1}},move:{enable:!0,speed:.1,direction:"none",outModes:{default:"out"},random:!0,straight:!1},shape:{type:"circle"}},detectRetina:!0},style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,filter:"blur(45px)",pointerEvents:"none"}}),L.jsx(pa,{id:"tsparticles",init:n,options:{preset:"stars",fullScreen:{enable:!0,zIndex:1},background:{color:"black"},detectRetina:!0,interactivity:{detectsOn:"canvas",events:{onHover:{enable:!0,mode:"parallax"},resize:!0},modes:{parallax:{enable:!0,force:30,smooth:10}}},particles:{number:{value:150,density:{enable:!0,area:800}},color:{value:["#ffffff","#a3c9ff","#0f52ba","#6ec1e4","#7f00ff"]},opacity:{value:1,random:{enable:!0,minimumValue:.3},animation:{enable:!0,speed:2,minimumValue:.3,sync:!1}},size:{value:{min:.5,max:2}},move:{enable:!0,speed:.6,direction:"none",outModes:"out"},rotate:{value:0,random:!0,direction:"clockwise",animation:{enable:!0,speed:2}},twinkle:{particles:{enable:!0,frequency:.3,color:"#ffffff",opacity:1}}}},style:{position:"fixed",top:0,left:0,zIndex:1}}),L.jsx(pa,{id:"foreground-stars",options:{fullScreen:{enable:!0,zIndex:2},background:{color:"black"},detectRetina:!0,particles:{number:{value:80,density:{enable:!0,area:600}},color:{value:"#ffffff"},size:{value:{min:.3,max:1.2}},move:{enable:!0,speed:1.2,direction:"none",outModes:"out"},opacity:{value:.9,random:!0}}},style:{position:"fixed",top:0,left:0,zIndex:2}}),L.jsx(pa,{id:"comets",options:{fullScreen:{enable:!0,zIndex:3},background:{color:"black"},detectRetina:!0,particles:{number:{value:2},shape:{type:"triangle"},size:{value:2},move:{enable:!0,speed:2,direction:"right",straight:!0,outModes:"out"},opacity:{value:.8,animation:{enable:!0,speed:.3,minimumValue:.2,sync:!1}},life:{duration:{value:2,sync:!1},count:1},color:{value:["#ffffff","#a3c9ff"]}}},style:{position:"fixed",top:0,left:0,zIndex:3}})]})}function Ax(){const[n,t]=at.useState(null),[e,s]=at.useState("Unknown location"),[a,l]=at.useState(null),[c,d]=at.useState("km/h"),[p,m]=at.useState("°F"),v=K=>p==="°F"?(K*9/5+32).toFixed(1):K.toFixed(1),E=K=>{switch(c){case"mph":return(K*.621371).toFixed(1);case"knots":return(K*.539957).toFixed(1);default:return K.toFixed(1)}};if(at.useEffect(()=>{let K,Q;async function $(rt,x){try{const I=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${rt}&longitude=${x}&current_weather=true&hourly=precipitation_probability`)).json();I.current_weather?t(I):l("Weather data unavailable")}catch{l("Failed to fetch weather data")}}async function ut(rt,x){try{const I=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${rt}&lon=${x}`,{headers:{"User-Agent":"MyVoiceAssistantApp/1.0 (your-email@example.com)"}})).json();s(I.address.city||I.address.town||I.address.village||I.address.county||"Unknown location")}catch{s("Unknown location")}}function lt(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(rt=>{const{latitude:x,longitude:A}=rt.coords;$(x,A),Q&&clearTimeout(Q),Q=setTimeout(()=>{ut(x,A)},1e3)},()=>l("Location permission denied")):l("Geolocation not supported")}return lt(),K=setInterval(lt,18e4),()=>{clearInterval(K),clearTimeout(Q)}},[]),a)return L.jsx("div",{style:Qm,children:a});if(!n)return L.jsx("div",{style:Qm,children:"Loading weather..."});const T=n.current_weather,R=n.hourly||{};function V(K,Q){const $=new Date(K),ut=new Date($.toISOString().slice(0,13)+":00:00");return Q==null?void 0:Q.findIndex(lt=>lt===ut.toISOString().slice(0,13)+":00")}const q=V(T.time,R.time||[]),U=q!==-1&&R.precipitation_probability?R.precipitation_probability[q]:"N/A";return L.jsxs("div",{style:Qm,children:[L.jsx("h3",{style:{margin:"0 0 10px 0"},children:e}),L.jsxs("p",{children:[L.jsx("strong",{children:"Temp:"})," ",v(T.temperature),L.jsxs("select",{value:p,onChange:K=>m(K.target.value),style:d1,"aria-label":"Select temperature unit",children:[L.jsx("option",{value:"°F",children:"°F"}),L.jsx("option",{value:"°C",children:"°C"})]})]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Wind:"})," ",E(T.windspeed),L.jsxs("select",{value:c,onChange:K=>d(K.target.value),style:d1,"aria-label":"Select wind speed unit",children:[L.jsx("option",{value:"km/h",children:"km/h"}),L.jsx("option",{value:"mph",children:"mph"}),L.jsx("option",{value:"knots",children:"knots"})]})]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Chance of Rain:"})," ",U,"%"]})]})}const Qm={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},d1={backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",border:"1px solid #444",borderRadius:4,padding:"2px 24px 2px 6px",fontSize:"inherit",fontWeight:"bold",marginLeft:4,appearance:"auto",cursor:"pointer"},Rx=()=>{};var p1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Ix=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|m>>6,R=m&63;p||(R=64,c||(T=64)),s.push(e[v],e[E],e[T],e[R])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(sw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Ix(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||E==null)throw new Cx;const T=l<<2|d>>4;if(s.push(T),m!==64){const R=d<<4&240|m>>2;if(s.push(R),E!==64){const V=m<<6&192|E;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(n){const t=sw(n);return rw.encodeByteArray(t,!0)},bf=function(n){return xx(n).replace(/\./g,"")},aw=function(n){try{return rw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=()=>Ox().__FIREBASE_DEFAULTS__,Mx=()=>{if(typeof process>"u"||typeof p1>"u")return;const n=p1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Px=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&aw(n[1]);return t&&JSON.parse(t)},Xf=()=>{try{return Rx()||Dx()||Mx()||Px()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ow=n=>{var t,e;return(e=(t=Xf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},Nx=n=>{const t=ow(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},lw=()=>{var n;return(n=Xf())===null||n===void 0?void 0:n.config},uw=n=>{var t;return(t=Xf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){return n.endsWith(".cloudworkstations.dev")}async function cw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bf(JSON.stringify(e)),bf(JSON.stringify(c)),""].join(".")}const xu={};function Lx(){const n={prod:[],emulator:[]};for(const t of Object.keys(xu))xu[t]?n.emulator.push(t):n.prod.push(t);return n}function zx(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let m1=!1;function hw(n,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||xu[n]===t||xu[n]||m1)return;xu[n]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=Lx().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{m1=!0,c()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=zx(s),R=e("text"),V=document.getElementById(R)||document.createElement("span"),q=e("learnmore"),U=document.getElementById(q)||document.createElement("a"),K=e("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;d($),v(U,q);const ut=m();p(Q,K),$.append(Q,V,U,ut),document.body.appendChild($)}l?(V.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ux(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function jx(){var n;const t=(n=Xf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hx(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Gx(){return!jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yx(){try{return typeof indexedDB=="object"}catch{return!1}}function Qx(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="FirebaseError";class Es extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=$x,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?Kx(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Es(a,d,s)}}function Kx(n,t){return n.replace(Xx,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const Xx=/\{\$([^}]+)}/g;function Wx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ea(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],c=t[a];if(g1(l)&&g1(c)){if(!Ea(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function g1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function bu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Eu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function Zx(n,t){const e=new Jx(n,t);return e.subscribe.bind(e)}class Jx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");tO(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=$m),a.error===void 0&&(a.error=$m),a.complete===void 0&&(a.complete=$m);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n){return n&&n._delegate?n._delegate:n}class Ta{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new kx;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iO(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nO(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nO(n){return n===da?void 0:n}function iO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new eO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const rO={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},aO=Vt.INFO,oO={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},lO=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=oO[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ay{constructor(t){this.name=t,this._logLevel=aO,this._logHandler=lO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const uO=(n,t)=>t.some(e=>n instanceof e);let y1,v1;function cO(){return y1||(y1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return v1||(v1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,Tg=new WeakMap,dw=new WeakMap,Km=new WeakMap,Ry=new WeakMap;function fO(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(lr(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&fw.set(e,n)}).catch(()=>{}),Ry.set(t,n),t}function dO(n){if(Tg.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Tg.set(n,t)}let wg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Tg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return lr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function pO(n){wg=n(wg)}function mO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Xm(this),t,...e);return dw.set(s,t.sort?t.sort():[t]),lr(s)}:hO().includes(n)?function(...t){return n.apply(Xm(this),t),lr(fw.get(this))}:function(...t){return lr(n.apply(Xm(this),t))}}function gO(n){return typeof n=="function"?mO(n):(n instanceof IDBTransaction&&dO(n),uO(n,cO())?new Proxy(n,wg):n)}function lr(n){if(n instanceof IDBRequest)return fO(n);if(Km.has(n))return Km.get(n);const t=gO(n);return t!==n&&(Km.set(n,t),Ry.set(t,n)),t}const Xm=n=>Ry.get(n);function yO(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=lr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(lr(c.result),p.oldVersion,p.newVersion,lr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const vO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],Wm=new Map;function _1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Wm.get(t))return Wm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=_O.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||vO.includes(e)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[e](...d),a&&p.done]))[0]};return Wm.set(t,l),l}pO(n=>({...n,get:(t,e,s)=>_1(t,e)||n.get(t,e,s),has:(t,e)=>!!_1(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(EO(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function EO(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sg="@firebase/app",b1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Ay("@firebase/app"),TO="@firebase/app-compat",wO="@firebase/analytics-compat",SO="@firebase/analytics",AO="@firebase/app-check-compat",RO="@firebase/app-check",IO="@firebase/auth",CO="@firebase/auth-compat",xO="@firebase/database",OO="@firebase/data-connect",DO="@firebase/database-compat",MO="@firebase/functions",PO="@firebase/functions-compat",NO="@firebase/installations",kO="@firebase/installations-compat",VO="@firebase/messaging",LO="@firebase/messaging-compat",zO="@firebase/performance",UO="@firebase/performance-compat",jO="@firebase/remote-config",BO="@firebase/remote-config-compat",FO="@firebase/storage",qO="@firebase/storage-compat",HO="@firebase/firestore",GO="@firebase/ai",YO="@firebase/firestore-compat",QO="firebase",$O="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",KO={[Sg]:"fire-core",[TO]:"fire-core-compat",[SO]:"fire-analytics",[wO]:"fire-analytics-compat",[RO]:"fire-app-check",[AO]:"fire-app-check-compat",[IO]:"fire-auth",[CO]:"fire-auth-compat",[xO]:"fire-rtdb",[OO]:"fire-data-connect",[DO]:"fire-rtdb-compat",[MO]:"fire-fn",[PO]:"fire-fn-compat",[NO]:"fire-iid",[kO]:"fire-iid-compat",[VO]:"fire-fcm",[LO]:"fire-fcm-compat",[zO]:"fire-perf",[UO]:"fire-perf-compat",[jO]:"fire-rc",[BO]:"fire-rc-compat",[FO]:"fire-gcs",[qO]:"fire-gcs-compat",[HO]:"fire-fst",[YO]:"fire-fst-compat",[GO]:"fire-vertex","fire-js":"fire-js",[QO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,XO=new Map,Rg=new Map;function E1(n,t){try{n.container.addComponent(t)}catch(e){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Go(n){const t=n.name;if(Rg.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;Rg.set(t,n);for(const e of Ef.values())E1(e,n);for(const e of XO.values())E1(e,n);return!0}function Iy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Ju("app","Firebase",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=$O;function pw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ag,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw ur.create("bad-app-name",{appName:String(a)});if(e||(e=lw()),!e)throw ur.create("no-options");const l=Ef.get(a);if(l){if(Ea(e,l.options)&&Ea(s,l.config))return l;throw ur.create("duplicate-app",{appName:a})}const c=new sO(a);for(const p of Rg.values())c.addComponent(p);const d=new ZO(e,s,c);return Ef.set(a,d),d}function mw(n=Ag){const t=Ef.get(n);if(!t&&n===Ag&&lw())return pw();if(!t)throw ur.create("no-app",{appName:n});return t}function cr(n,t,e){var s;let a=(s=KO[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}Go(new Ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="firebase-heartbeat-database",tD=1,ju="firebase-heartbeat-store";let Zm=null;function gw(){return Zm||(Zm=yO(JO,tD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ju)}catch(e){console.warn(e)}}}}).catch(n=>{throw ur.create("idb-open",{originalErrorMessage:n.message})})),Zm}async function eD(n){try{const e=(await gw()).transaction(ju),s=await e.objectStore(ju).get(yw(n));return await e.done,s}catch(t){if(t instanceof Es)ds.warn(t.message);else{const e=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ds.warn(e.message)}}}async function T1(n,t){try{const s=(await gw()).transaction(ju,"readwrite");await s.objectStore(ju).put(t,yw(n)),await s.done}catch(e){if(e instanceof Es)ds.warn(e.message);else{const s=ur.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ds.warn(s.message)}}}function yw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1024,iD=30;class sD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new aD(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=w1();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>iD){const c=oD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ds.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w1(),{heartbeatsToSend:s,unsentEntries:a}=rD(this._heartbeatsCache.heartbeats),l=bf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ds.warn(e),""}}}function w1(){return new Date().toISOString().substring(0,10)}function rD(n,t=nD){const e=[];let s=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),S1(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),S1(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class aD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yx()?Qx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await eD(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return T1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return T1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function S1(n){return bf(JSON.stringify({version:2,heartbeats:n})).length}function oD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){Go(new Ta("platform-logger",t=>new bO(t),"PRIVATE")),Go(new Ta("heartbeat",t=>new sD(t),"PRIVATE")),cr(Sg,b1,n),cr(Sg,b1,"esm2017"),cr("fire-js","")}lD("");function Cy(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function vw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uD=vw,_w=new Ju("auth","Firebase",vw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Ay("@firebase/auth");function cD(n,...t){Tf.logLevel<=Vt.WARN&&Tf.warn(`Auth (${el}): ${n}`,...t)}function sf(n,...t){Tf.logLevel<=Vt.ERROR&&Tf.error(`Auth (${el}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...t){throw xy(n,...t)}function Oi(n,...t){return xy(n,...t)}function bw(n,t,e){const s=Object.assign(Object.assign({},uD()),{[t]:e});return new Ju("auth","Firebase",s).create(t,{appName:n.name})}function hs(n){return bw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return _w.create(n,...t)}function wt(n,t,...e){if(!n)throw xy(t,...e)}function us(n){const t="INTERNAL ASSERTION FAILED: "+n;throw sf(t),new Error(t)}function ps(n,t){n||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hD(){return A1()==="http:"||A1()==="https:"}function A1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hD()||Fx()||"connection"in navigator)?navigator.onLine:!0}function dD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,e){this.shortDelay=t,this.longDelay=e,ps(e>t,"Short delay should be less than long delay!"),this.isMobile=Ux()||qx()}get(){return fD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,t){ps(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gD=new ec(3e4,6e4);function Sr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Ar(n,t,e,s,a={}){return Tw(n,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=tc(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:p},l);return Bx()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&tl(n.emulatorConfig.host)&&(m.credentials="include"),Ew.fetch()(await ww(n,n.config.apiHost,e,d),m)})}async function Tw(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},pD),t);try{const a=new vD(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw zh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw zh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw zh(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw bw(n,v,m);ri(n,v)}}catch(a){if(a instanceof Es)throw a;ri(n,"network-request-failed",{message:String(a)})}}async function nc(n,t,e,s,a={}){const l=await Ar(n,t,e,s,a);return"mfaPendingCredential"in l&&ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ww(n,t,e,s){const a=`${t}${e}?${s}`,l=n,c=l.config.emulator?Oy(n.config,a):`${n.config.apiScheme}://${a}`;return mD.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function yD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),gD.get())})}}function zh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=Oi(n,t,s);return a.customData._tokenResponse=e,a}function R1(n){return n!==void 0&&n.enterprise!==void 0}class _D{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return yD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bD(n,t){return Ar(n,"GET","/v2/recaptchaConfig",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(n,t){return Ar(n,"POST","/v1/accounts:delete",t)}async function wf(n,t){return Ar(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function TD(n,t=!1){const e=Fe(n),s=await e.getIdToken(t),a=Dy(s);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ou(Jm(a.auth_time)),issuedAtTime:Ou(Jm(a.iat)),expirationTime:Ou(Jm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Jm(n){return Number(n)*1e3}function Dy(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=aw(e);return a?JSON.parse(a):(sf("Failed to decode base64 JWT payload"),null)}catch(a){return sf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function I1(n){const t=Dy(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Es&&wD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function wD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(n){var t;const e=n.auth,s=await n.getIdToken(),a=await Bu(n,wf(e,{idToken:s}));wt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Sw(l.providerUserInfo):[],d=RD(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?m:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Cg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function AD(n){const t=Fe(n);await Sf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RD(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Sw(n){return n.map(t=>{var{providerId:e}=t,s=Cy(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(n,t){const e=await Tw(n,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await ww(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&tl(n.emulatorConfig.host)&&(p.credentials="include"),Ew.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function CD(n,t){return Ar(n,"POST","/v2/accounts:revokeToken",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=I1(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await ID(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,c=new zo;return s&&(wt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ni{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,l=Cy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Bu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return TD(this,t)}reload(){return AD(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ni(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await Bu(this,ED(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,l,c,d,p,m,v;const E=(s=e.displayName)!==null&&s!==void 0?s:void 0,T=(a=e.email)!==null&&a!==void 0?a:void 0,R=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=e.photoURL)!==null&&c!==void 0?c:void 0,q=(d=e.tenantId)!==null&&d!==void 0?d:void 0,U=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,K=(m=e.createdAt)!==null&&m!==void 0?m:void 0,Q=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:ut,isAnonymous:lt,providerData:rt,stsTokenManager:x}=e;wt($&&x,t,"internal-error");const A=zo.fromJSON(this.name,x);wt(typeof $=="string",t,"internal-error"),Js(E,t.name),Js(T,t.name),wt(typeof ut=="boolean",t,"internal-error"),wt(typeof lt=="boolean",t,"internal-error"),Js(R,t.name),Js(V,t.name),Js(q,t.name),Js(U,t.name),Js(K,t.name),Js(Q,t.name);const I=new ni({uid:$,auth:t,email:T,emailVerified:ut,displayName:E,isAnonymous:lt,photoURL:V,phoneNumber:R,tenantId:q,stsTokenManager:A,createdAt:K,lastLoginAt:Q});return rt&&Array.isArray(rt)&&(I.providerData=rt.map(D=>Object.assign({},D))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(t,e,s=!1){const a=new zo;a.updateFromServerResponse(e);const l=new ni({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Sf(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Sw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new zo;d.updateFromIdToken(s);const p=new ni({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;function cs(n){ps(n instanceof Function,"Expected a class definition");let t=C1.get(n);return t?(ps(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,C1.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Aw.type="NONE";const x1=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(n,t,e){return`firebase:${n}:${t}:${e}`}class Uo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=rf(this.userKey,a.apiKey,l),this.fullPersistenceKey=rf("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await wf(this.auth,{idToken:t}).catch(()=>{});return e?ni._fromGetAccountInfoResponse(this.auth,e,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Uo(cs(x1),t,s);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||cs(x1);const c=rf(s,t.config.apiKey,t.name);let d=null;for(const m of e)try{const v=await m._get(c);if(v){let E;if(typeof v=="string"){const T=await wf(t,{idToken:v}).catch(()=>{});if(!T)break;E=await ni._fromGetAccountInfoResponse(t,T,v)}else E=ni._fromJSON(t,v);m!==l&&(d=E),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Uo(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Uo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Dw(t))return"Blackberry";if(Mw(t))return"Webos";if(Iw(t))return"Safari";if((t.includes("chrome/")||Cw(t))&&!t.includes("edge/"))return"Chrome";if(Ow(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Rw(n=ln()){return/firefox\//i.test(n)}function Iw(n=ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cw(n=ln()){return/crios\//i.test(n)}function xw(n=ln()){return/iemobile/i.test(n)}function Ow(n=ln()){return/android/i.test(n)}function Dw(n=ln()){return/blackberry/i.test(n)}function Mw(n=ln()){return/webos/i.test(n)}function My(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xD(n=ln()){var t;return My(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function OD(){return Hx()&&document.documentMode===10}function Pw(n=ln()){return My(n)||Ow(n)||Mw(n)||Dw(n)||/windows phone/i.test(n)||xw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n,t=[]){let e;switch(n){case"Browser":e=O1(ln());break;case"Worker":e=`${O1(ln())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${el}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,t={}){return Ar(n,"GET","/v2/passwordPolicy",Sr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=6;class ND{constructor(t){var e,s,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:PD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D1(this),this.idTokenSubscription=new D1(this),this.beforeStateQueue=new DD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cs(e)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await wf(this,{idToken:t}),s=await ni._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Sf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(hs(this));const e=t?Fe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MD(this),e=new ND(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ju("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await CD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cs(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&cD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xa(n){return Fe(n)}class D1{constructor(t){this.auth=t,this.observer=null,this.addObserver=Zx(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VD(n){Wf=n}function kw(n){return Wf.loadJS(n)}function LD(){return Wf.recaptchaEnterpriseScript}function zD(){return Wf.gapiScript}function UD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jD{constructor(){this.enterprise=new BD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class BD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const FD="recaptcha-enterprise",Vw="NO_RECAPTCHA";class qD{constructor(t){this.type=FD,this.auth=xa(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{bD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new _D(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;R1(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(m=>{c(m)}).catch(()=>{c(Vw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!e&&R1(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LD();p.length!==0&&(p+=d),kw(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function M1(n,t,e,s=!1,a=!1){const l=new qD(n);let c;if(a)c=Vw;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function xg(n,t,e,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await M1(n,t,e,e==="getOobCode");return s(n,c)}else return s(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await M1(n,t,e,e==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n,t){const e=Iy(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ea(l,t??{}))return a;ri(a,"already-initialized")}return e.initialize({options:t})}function GD(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(cs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function YD(n,t,e){const s=xa(n);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Lw(t),{host:c,port:d}=QD(t),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Ea(m,s.config.emulator)&&Ea(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,tl(c)?(cw(`${l}//${c}${p}`),hw("Auth",!0)):$D()}function Lw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function QD(n){const t=Lw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:P1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:P1(c)}}}function P1(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function $D(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,e){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function KD(n,t){return Ar(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,t){return nc(n,"POST","/v1/accounts:signInWithPassword",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,t){return nc(n,"POST","/v1/accounts:signInWithEmailLink",Sr(n,t))}async function ZD(n,t){return nc(n,"POST","/v1/accounts:signInWithEmailLink",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Py{constructor(t,e,s,a=null){super("password",s),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Fu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Fu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(t,e,"signInWithPassword",XD);case"emailLink":return WD(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(t,s,"signUpPassword",KD);case"emailLink":return ZD(t,{idToken:e,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,t){return nc(n,"POST","/v1/accounts:signInWithIdp",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="http://localhost";class wa extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ri("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,l=Cy(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new wa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return jo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,jo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,jo(t,e)}buildRequest(){const t={requestUri:JD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=tc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eM(n){const t=bu(Eu(n)).link,e=t?bu(Eu(t)).deep_link_id:null,s=bu(Eu(n)).deep_link_id;return(s?bu(Eu(s)).link:null)||s||e||t||n}class Ny{constructor(t){var e,s,a,l,c,d;const p=bu(Eu(t)),m=(e=p.apiKey)!==null&&e!==void 0?e:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,E=tM((a=p.mode)!==null&&a!==void 0?a:null);wt(m&&v&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=eM(t);try{return new Ny(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(t,e){return Fu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=Ny.parseLink(e);return wt(s,"argument-error"),Fu._fromEmailAndCode(t,s.code,s.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends zw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends ic{constructor(){super("facebook.com")}static credential(t){return wa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return wa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return nr.credential(e,s)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends ic{constructor(){super("github.com")}static credential(t){return wa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends ic{constructor(){super("twitter.com")}static credential(t,e){return wa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return sr.credential(e,s)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(n,t){return nc(n,"POST","/v1/accounts:signUp",Sr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await ni._fromIdTokenResponse(t,s,a),c=N1(s);return new Sa({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=N1(s);return new Sa({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function N1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Es{constructor(t,e,s,a){var l;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Af(t,e,s,a)}}function Uw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,l,t,s):l})}async function iM(n,t,e=!1){const s=await Bu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Sa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(n,t,e=!1){const{auth:s}=n;if(Qn(s.app))return Promise.reject(hs(s));const a="reauthenticate";try{const l=await Bu(n,Uw(s,a,t,n),e);wt(l.idToken,s,"internal-error");const c=Dy(l.idToken);wt(c,s,"internal-error");const{sub:d}=c;return wt(n.uid===d,s,"user-mismatch"),Sa._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(n,t,e=!1){if(Qn(n.app))return Promise.reject(hs(n));const s="signIn",a=await Uw(n,s,t),l=await Sa._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}async function rM(n,t){return jw(xa(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(n){const t=xa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function aM(n,t,e){if(Qn(n.app))return Promise.reject(hs(n));const s=xa(n),c=await xg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Bw(n),p}),d=await Sa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function oM(n,t,e){return Qn(n.app)?Promise.reject(hs(n)):rM(Fe(n),nl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Bw(n),s})}function lM(n,t,e,s){return Fe(n).onIdTokenChanged(t,e,s)}function uM(n,t,e){return Fe(n).beforeAuthStateChanged(t,e)}function Fw(n,t,e,s){return Fe(n).onAuthStateChanged(t,e,s)}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=1e3,hM=10;class Hw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);OD()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,hM):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},cM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Hw.type="LOCAL";const fM=Hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Gw.type="SESSION";const Yw=Gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new Zf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async m=>m(e.origin,l)),p=await dM(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=ky("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function mM(n){Di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function gM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vM(){return Qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firebaseLocalStorageDb",_M=1,If="firebaseLocalStorage",Kw="fbase_key";class sc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Jf(n,t){return n.transaction([If],t?"readwrite":"readonly").objectStore(If)}function bM(){const n=indexedDB.deleteDatabase($w);return new sc(n).toPromise()}function Og(){const n=indexedDB.open($w,_M);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(If,{keyPath:Kw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(If)?t(s):(s.close(),await bM(),t(await Og()))})})}async function k1(n,t,e){const s=Jf(n,!0).put({[Kw]:t,value:e});return new sc(s).toPromise()}async function EM(n,t){const e=Jf(n,!1).get(t),s=await new sc(e).toPromise();return s===void 0?null:s.value}function V1(n,t){const e=Jf(n,!0).delete(t);return new sc(e).toPromise()}const TM=800,wM=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>wM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(vM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await gM(),!this.activeServiceWorker)return;this.sender=new pM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Og();return await k1(t,Rf,"1"),await V1(t,Rf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>k1(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>EM(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>V1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Jf(a,!1).getAll();return new sc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const SM=Xw;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n,t){return t?cs(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Py{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return jo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function RM(n){return jw(n.auth,new Vy(n),n.bypassAuthState)}function IM(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),sM(e,new Vy(n),n.bypassAuthState)}async function CM(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),iM(e,new Vy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RM;case"linkViaPopup":case"linkViaRedirect":return CM;case"reauthViaPopup":case"reauthViaRedirect":return IM;default:ri(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new ec(2e3,1e4);class Po extends Ww{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xM.get())};t()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="pendingRedirect",af=new Map;class DM extends Ww{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const s=await MM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MM(n,t){const e=kM(t),s=NM(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function PM(n,t){af.set(n._key(),t)}function NM(n){return cs(n._redirectPersistence)}function kM(n){return rf(OM,n.config.apiKey,n.name)}async function VM(n,t,e=!1){if(Qn(n.app))return Promise.reject(hs(n));const s=xa(n),a=AM(s,t),c=await new DM(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=10*60*1e3;class zM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!Zw(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Oi(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LM&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(t))}saveEventToCache(t){this.cachedEventUids.add(L1(t)),this.lastProcessedEventTime=Date.now()}}function L1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Zw({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function UM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n,t={}){return Ar(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FM=/^https?/;async function qM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await jM(n);for(const e of t)try{if(HM(e))return}catch{}ri(n,"unauthorized-domain")}function HM(n){const t=Ig(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!FM.test(e))return!1;if(BM.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new ec(3e4,6e4);function z1(){const n=Di().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function YM(n){return new Promise((t,e)=>{var s,a,l;function c(){z1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{z1(),e(Oi(n,"network-request-failed"))},timeout:GM.get()})}if(!((a=(s=Di().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Di().gapi)===null||l===void 0)&&l.load)c();else{const d=UD("iframefcb");return Di()[d]=()=>{gapi.load?c():e(Oi(n,"network-request-failed"))},kw(`${zD()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw of=null,t})}let of=null;function QM(n){return of=of||YM(n),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new ec(5e3,15e3),KM="__/auth/iframe",XM="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JM(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Oy(t,XM):`https://${n.config.authDomain}/${KM}`,s={apiKey:t.apiKey,appName:n.name,v:el},a=ZM.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${tc(s).slice(1)}`}async function tP(n){const t=await QM(n),e=Di().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:JM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Oi(n,"network-request-failed"),d=Di().setTimeout(()=>{l(c)},$M.get());function p(){Di().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nP=500,iP=600,sP="_blank",rP="http://localhost";class U1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aP(n,t,e,s=nP,a=iP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},eP),{width:s.toString(),height:a.toString(),top:l,left:c}),m=ln().toLowerCase();e&&(d=Cw(m)?sP:e),Rw(m)&&(t=t||rP,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[R,V])=>`${T}${R}=${V},`,"");if(xD(m)&&d!=="_self")return oP(t||"",d),new U1(null);const E=window.open(t||"",d,v);wt(E,n,"popup-blocked");try{E.focus()}catch{}return new U1(E)}function oP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="__/auth/handler",uP="emulator/auth/handler",cP=encodeURIComponent("fac");async function j1(n,t,e,s,a,l){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:el,eventId:a};if(t instanceof zw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",Wx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof ic){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),m=p?`#${cP}=${encodeURIComponent(p)}`:"";return`${hP(n)}?${tc(d).slice(1)}${m}`}function hP({config:n}){return n.emulator?Oy(n,uP):`https://${n.authDomain}/${lP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class fP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=VM,this._overrideRedirectResult=PM}async _openPopup(t,e,s,a){var l;ps((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await j1(t,e,s,Ig(),a);return aP(t,c,ky())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await j1(t,e,s,Ig(),a);return mM(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(ps(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await tP(t),s=new zM(t);return e.register("authEvent",a=>(wt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(tg,{type:tg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[tg];c!==void 0&&e(!!c),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=qM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Pw()||Iw()||My()}}const dP=fP;var B1="@firebase/auth",F1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gP(n){Go(new Ta("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nw(n)},m=new kD(s,a,l,p);return GD(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Go(new Ta("auth-internal",t=>{const e=xa(t.getProvider("auth").getImmediate());return(s=>new pP(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(B1,F1,mP(n)),cr(B1,F1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=5*60,vP=uw("authIdTokenMaxAge")||yP;let q1=null;const _P=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>vP)return;const a=e==null?void 0:e.token;q1!==a&&(q1=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function bP(n=mw()){const t=Iy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=HD(n,{popupRedirectResolver:dP,persistence:[SM,fM,Yw]}),s=uw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=_P(l.toString());uM(e,c,()=>c(e.currentUser)),lM(e,d=>c(d))}}const a=ow("auth");return a&&YD(e,`http://${a}`),e}function EP(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}VD({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=Oi("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",EP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gP("Browser");var TP="firebase",wP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(TP,wP,"app");var H1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,Jw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,A){function I(){}I.prototype=A.prototype,x.D=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(D,P,N){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return A.prototype[P].apply(D,C)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,I){I||(I=0);var D=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)D[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;16>P;++P)D[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],P=x.g[2];var N=x.g[3],C=A+(N^I&(P^N))+D[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=N+(P^A&(I^P))+D[1]+3905402710&4294967295,N=A+(C<<12&4294967295|C>>>20),C=P+(I^N&(A^I))+D[2]+606105819&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(A^P&(N^A))+D[3]+3250441966&4294967295,I=P+(C<<22&4294967295|C>>>10),C=A+(N^I&(P^N))+D[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=N+(P^A&(I^P))+D[5]+1200080426&4294967295,N=A+(C<<12&4294967295|C>>>20),C=P+(I^N&(A^I))+D[6]+2821735955&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(A^P&(N^A))+D[7]+4249261313&4294967295,I=P+(C<<22&4294967295|C>>>10),C=A+(N^I&(P^N))+D[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=N+(P^A&(I^P))+D[9]+2336552879&4294967295,N=A+(C<<12&4294967295|C>>>20),C=P+(I^N&(A^I))+D[10]+4294925233&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(A^P&(N^A))+D[11]+2304563134&4294967295,I=P+(C<<22&4294967295|C>>>10),C=A+(N^I&(P^N))+D[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=N+(P^A&(I^P))+D[13]+4254626195&4294967295,N=A+(C<<12&4294967295|C>>>20),C=P+(I^N&(A^I))+D[14]+2792965006&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(A^P&(N^A))+D[15]+1236535329&4294967295,I=P+(C<<22&4294967295|C>>>10),C=A+(P^N&(I^P))+D[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(A^I))+D[6]+3225465664&4294967295,N=A+(C<<9&4294967295|C>>>23),C=P+(A^I&(N^A))+D[11]+643717713&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^A&(P^N))+D[0]+3921069994&4294967295,I=P+(C<<20&4294967295|C>>>12),C=A+(P^N&(I^P))+D[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(A^I))+D[10]+38016083&4294967295,N=A+(C<<9&4294967295|C>>>23),C=P+(A^I&(N^A))+D[15]+3634488961&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^A&(P^N))+D[4]+3889429448&4294967295,I=P+(C<<20&4294967295|C>>>12),C=A+(P^N&(I^P))+D[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(A^I))+D[14]+3275163606&4294967295,N=A+(C<<9&4294967295|C>>>23),C=P+(A^I&(N^A))+D[3]+4107603335&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^A&(P^N))+D[8]+1163531501&4294967295,I=P+(C<<20&4294967295|C>>>12),C=A+(P^N&(I^P))+D[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(A^I))+D[2]+4243563512&4294967295,N=A+(C<<9&4294967295|C>>>23),C=P+(A^I&(N^A))+D[7]+1735328473&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^A&(P^N))+D[12]+2368359562&4294967295,I=P+(C<<20&4294967295|C>>>12),C=A+(I^P^N)+D[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=N+(A^I^P)+D[8]+2272392833&4294967295,N=A+(C<<11&4294967295|C>>>21),C=P+(N^A^I)+D[11]+1839030562&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^A)+D[14]+4259657740&4294967295,I=P+(C<<23&4294967295|C>>>9),C=A+(I^P^N)+D[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=N+(A^I^P)+D[4]+1272893353&4294967295,N=A+(C<<11&4294967295|C>>>21),C=P+(N^A^I)+D[7]+4139469664&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^A)+D[10]+3200236656&4294967295,I=P+(C<<23&4294967295|C>>>9),C=A+(I^P^N)+D[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=N+(A^I^P)+D[0]+3936430074&4294967295,N=A+(C<<11&4294967295|C>>>21),C=P+(N^A^I)+D[3]+3572445317&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^A)+D[6]+76029189&4294967295,I=P+(C<<23&4294967295|C>>>9),C=A+(I^P^N)+D[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=N+(A^I^P)+D[12]+3873151461&4294967295,N=A+(C<<11&4294967295|C>>>21),C=P+(N^A^I)+D[15]+530742520&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^A)+D[2]+3299628645&4294967295,I=P+(C<<23&4294967295|C>>>9),C=A+(P^(I|~N))+D[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=N+(I^(A|~P))+D[7]+1126891415&4294967295,N=A+(C<<10&4294967295|C>>>22),C=P+(A^(N|~I))+D[14]+2878612391&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~A))+D[5]+4237533241&4294967295,I=P+(C<<21&4294967295|C>>>11),C=A+(P^(I|~N))+D[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=N+(I^(A|~P))+D[3]+2399980690&4294967295,N=A+(C<<10&4294967295|C>>>22),C=P+(A^(N|~I))+D[10]+4293915773&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~A))+D[1]+2240044497&4294967295,I=P+(C<<21&4294967295|C>>>11),C=A+(P^(I|~N))+D[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=N+(I^(A|~P))+D[15]+4264355552&4294967295,N=A+(C<<10&4294967295|C>>>22),C=P+(A^(N|~I))+D[6]+2734768916&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~A))+D[13]+1309151649&4294967295,I=P+(C<<21&4294967295|C>>>11),C=A+(P^(I|~N))+D[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=N+(I^(A|~P))+D[11]+3174756917&4294967295,N=A+(C<<10&4294967295|C>>>22),C=P+(A^(N|~I))+D[2]+718787259&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~A))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+N&4294967295}s.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var I=A-this.blockSize,D=this.B,P=this.h,N=0;N<A;){if(P==0)for(;N<=I;)a(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<A;)if(D[P++]=x.charCodeAt(N++),P==this.blockSize){a(this,D),P=0;break}}else for(;N<A;)if(D[P++]=x[N++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var I=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=I&255,I/=256;for(this.u(x),x=Array(16),A=I=0;4>A;++A)for(var D=0;32>D;D+=8)x[I++]=this.g[A]>>>D&255;return x};function l(x,A){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function c(x,A){this.h=A;for(var I=[],D=!0,P=x.length-1;0<=P;P--){var N=x[P]|0;D&&N==A||(I[P]=N,D=!1)}this.g=I}var d={};function p(x){return-128<=x&&128>x?l(x,function(A){return new c([A|0],0>A?-1:0)}):new c([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return U(m(-x));for(var A=[],I=1,D=0;x>=I;D++)A[D]=x/I|0,I*=4294967296;return new c(A,0)}function v(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return U(v(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(A,8)),D=E,P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P),C=parseInt(x.substring(P,P+N),A);8>N?(N=m(Math.pow(A,N)),D=D.j(N).add(m(C))):(D=D.j(I),D=D.add(m(C)))}return D}var E=p(0),T=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(q(this))return-U(this).m();for(var x=0,A=1,I=0;I<this.g.length;I++){var D=this.i(I);x+=(0<=D?D:4294967296+D)*A,A*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(q(this))return"-"+U(this).toString(x);for(var A=m(Math.pow(x,6)),I=this,D="";;){var P=ut(I,A).g;I=K(I,P.j(A));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=P,V(I))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function q(x){return x.h==-1}n.l=function(x){return x=K(this,x),q(x)?-1:V(x)?0:1};function U(x){for(var A=x.g.length,I=[],D=0;D<A;D++)I[D]=~x.g[D];return new c(I,~x.h).add(T)}n.abs=function(){return q(this)?U(this):this},n.add=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],D=0,P=0;P<=A;P++){var N=D+(this.i(P)&65535)+(x.i(P)&65535),C=(N>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);D=C>>>16,N&=65535,C&=65535,I[P]=C<<16|N}return new c(I,I[I.length-1]&-2147483648?-1:0)};function K(x,A){return x.add(U(A))}n.j=function(x){if(V(this)||V(x))return E;if(q(this))return q(x)?U(this).j(U(x)):U(U(this).j(x));if(q(x))return U(this.j(U(x)));if(0>this.l(R)&&0>x.l(R))return m(this.m()*x.m());for(var A=this.g.length+x.g.length,I=[],D=0;D<2*A;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<x.g.length;P++){var N=this.i(D)>>>16,C=this.i(D)&65535,le=x.i(P)>>>16,ne=x.i(P)&65535;I[2*D+2*P]+=C*ne,Q(I,2*D+2*P),I[2*D+2*P+1]+=N*ne,Q(I,2*D+2*P+1),I[2*D+2*P+1]+=C*le,Q(I,2*D+2*P+1),I[2*D+2*P+2]+=N*le,Q(I,2*D+2*P+2)}for(D=0;D<A;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=A;D<2*A;D++)I[D]=0;return new c(I,0)};function Q(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function $(x,A){this.g=x,this.h=A}function ut(x,A){if(V(A))throw Error("division by zero");if(V(x))return new $(E,E);if(q(x))return A=ut(U(x),A),new $(U(A.g),U(A.h));if(q(A))return A=ut(x,U(A)),new $(U(A.g),A.h);if(30<x.g.length){if(q(x)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,D=A;0>=D.l(x);)I=lt(I),D=lt(D);var P=rt(I,1),N=rt(D,1);for(D=rt(D,2),I=rt(I,2);!V(D);){var C=N.add(D);0>=C.l(x)&&(P=P.add(I),N=C),D=rt(D,1),I=rt(I,1)}return A=K(x,P.j(A)),new $(P,A)}for(P=E;0<=x.l(A);){for(I=Math.max(1,Math.floor(x.m()/A.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=m(I),C=N.j(A);q(C)||0<C.l(x);)I-=D,N=m(I),C=N.j(A);V(N)&&(N=T),P=P.add(N),x=K(x,C)}return new $(P,x)}n.A=function(x){return ut(this,x).h},n.and=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],D=0;D<A;D++)I[D]=this.i(D)&x.i(D);return new c(I,this.h&x.h)},n.or=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],D=0;D<A;D++)I[D]=this.i(D)|x.i(D);return new c(I,this.h|x.h)},n.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),I=[],D=0;D<A;D++)I[D]=this.i(D)^x.i(D);return new c(I,this.h^x.h)};function lt(x){for(var A=x.g.length+1,I=[],D=0;D<A;D++)I[D]=x.i(D)<<1|x.i(D-1)>>>31;return new c(I,x.h)}function rt(x,A){var I=A>>5;A%=32;for(var D=x.g.length-I,P=[],N=0;N<D;N++)P[N]=0<A?x.i(N+I)>>>A|x.i(N+I+1)<<32-A:x.i(N+I);return new c(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Jw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,hr=c}).apply(typeof H1<"u"?H1:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tS,Tu,eS,lf,Dg,nS,iS,sS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function a(h,y){if(y)t:{var _=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var j=h[S];if(!(j in _))break t;_=_[j]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,j={next:function(){if(!S&&_<h.length){var Y=_++;return{value:y(Y,h[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),h.apply(y,j)}}return function(){return h.apply(y,arguments)}}function T(h,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function R(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function V(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,j,Y){for(var ct=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ct[jt-2]=arguments[jt];return y.prototype[j].apply(S,ct)}}function q(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function U(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=h.length||0,Y=S.length||0;h.length=j+Y;for(let ct=0;ct<Y;ct++)h[j+ct]=S[ct]}else h.push(S)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ut(h){return ut[" "](h),h}ut[" "]=function(){};var lt=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function rt(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function x(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function A(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)h[_]=S[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function N(h){d.setTimeout(()=>{throw h},0)}function C(){var h=zt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class le{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new K(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,gt=!1,zt=new le,M=()=>{const h=d.Promise.resolve(void 0);ht=()=>{h.then(it)}};var it=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(_){N(_)}var y=ne;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}gt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Mt(h,y){if(st.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(lt){t:{try{ut(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Mt.aa.h.call(this)}}V(Mt,st);var Rt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),se=0;function oi(h,y,_,S,j){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++se,this.da=this.fa=!1}function Ss(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vi(h){this.src=h,this.g={},this.h=0}Vi.prototype.add=function(h,y,_,S,j){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var ct=Dr(h,y,S,j);return-1<ct?(y=h[ct],_||(y.fa=!1)):(y=new oi(y,this.src,Y,!!S,j),y.fa=_,h.push(y)),y};function Or(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],j=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(S,j,1),Y&&(Ss(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Dr(h,y,_,S){for(var j=0;j<h.length;++j){var Y=h[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==S)return j}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),cl={};function pc(h,y,_,S,j){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)pc(h,y[Y],_,S,j);return null}return _=mc(_),h&&h[ke]?h.K(y,_,m(S)?!!S.capture:!1,j):Pn(h,y,_,!1,S,j)}function Pn(h,y,_,S,j,Y){if(!y)throw Error("Invalid event type");var ct=m(j)?!!j.capture:!!j,jt=Na(h);if(jt||(h[Mr]=jt=new Vi(h)),_=jt.add(y,_,S,ct,Y),_.proxy)return _;if(S=xd(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)ft||(j=ct),j===void 0&&(j=!1),h.addEventListener(y.toString(),S,j);else if(h.attachEvent)h.attachEvent(Pr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xd(){function h(_){return y.call(h.src,h.listener,_)}const y=Od;return h}function hl(h,y,_,S,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)hl(h,y[Y],_,S,j);else S=m(S)?!!S.capture:!!S,_=mc(_),h&&h[ke]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],_=Dr(Y,_,S,j),-1<_&&(Ss(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=Na(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dr(y,_,S,j)),(_=-1<h?y[h]:null)&&Pa(_))}function Pa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ke])Or(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(Pr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Na(y))?(Or(_,h),_.h==0&&(_.src=null,y[Mr]=null)):Ss(h)}}}function Pr(h){return h in cl?cl[h]:cl[h]="on"+h}function Od(h,y){if(h.da)h=!0;else{y=new Mt(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&Pa(h),h=_.call(S,y)}return h}function Na(h){return h=h[Mr],h instanceof Vi?h:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function mc(h){return typeof h=="function"?h:(h[fl]||(h[fl]=function(y){return h.handleEvent(y)}),h[fl])}function pe(){nt.call(this),this.i=new Vi(this),this.M=this,this.F=null}V(pe,nt),pe.prototype[ke]=!0,pe.prototype.removeEventListener=function(h,y,_,S){hl(this,h,y,_,S)};function Kt(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new st(y,h);else if(y instanceof st)y.target=y.target||h;else{var j=y;y=new st(S,h),D(y,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ct=y.g=_[Y];j=En(ct,S,!0,y)&&j}if(ct=y.g=h,j=En(ct,S,!0,y)&&j,j=En(ct,S,!1,y)&&j,_)for(Y=0;Y<_.length;Y++)ct=y.g=_[Y],j=En(ct,S,!1,y)&&j}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)Ss(_[S]);delete h.g[y],h.h--}}this.F=null},pe.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},pe.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function En(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Y=0;Y<y.length;++Y){var ct=y[Y];if(ct&&!ct.da&&ct.capture==_){var jt=ct.listener,Ce=ct.ha||ct.src;ct.fa&&Or(h.i,ct),j=jt.call(Ce,S)!==!1&&j}}return j&&!S.defaultPrevented}function Ze(h,y,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function gc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,gc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Dd extends nt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(h){nt.call(this),this.h=h,this.g={}}V(Nr,nt);var kr=[];function Vr(h){rt(h.g,function(y,_){this.g.hasOwnProperty(_)&&Pa(y)},h),h.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Vr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,ka=d.JSON.parse,Lr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function dl(){}dl.prototype.h=null;function pl(h){return h.h||(h.h=h.i())}function ml(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){st.call(this,"d")}V(zi,st);function gl(){st.call(this,"c")}V(gl,st);var li={},yl=null;function As(){return yl=yl||new pe}li.La="serverreachability";function Va(h){st.call(this,li.La,h)}V(Va,st);function Rs(h){const y=As();Kt(y,new Va(y))}li.STAT_EVENT="statevent";function yc(h,y){st.call(this,li.STAT_EVENT,h),this.stat=y}V(yc,st);function ue(h){const y=As();Kt(y,new yc(y,h))}li.Ma="timingevent";function Ie(h,y){st.call(this,li.Ma,h),this.size=y}V(Ie,st);function Ee(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function vl(h,y,_,S,j,Y){h.info(function(){if(h.g)if(Y)for(var ct="",jt=Y.split("&"),Ce=0;Ce<jt.length;Ce++){var Bt=jt[Ce].split("=");if(1<Bt.length){var Le=Bt[0];Bt=Bt[1];var xe=Le.split("_");ct=2<=xe.length&&xe[1]=="type"?ct+(Le+"="+Bt+"&"):ct+(Le+"=redacted&")}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+ct})}function Md(h,y,_,S,j,Y,ct){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+ct})}function Is(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+zr(h,_)+(S?" "+S:"")})}function vc(h,y){h.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function zr(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ct=1;ct<j.length;ct++)j[ct]=""}}}}return Kn(_)}catch{return y}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}V(ci,dl),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function cn(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var _l={},La={};function Xn(h,y,_){h.L=1,h.v=qr(Tn(y)),h.m=_,h.P=!0,ji(h,null)}function ji(h,y){h.F=Date.now(),Ur(h),h.A=Tn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Al(_.i,"t",S),h.C=0,_=h.j.J,h.h=new ye,h.g=Nc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Dd(T(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(kr[0]=j.toString()),j=kr);for(var Y=0;Y<j.length;Y++){var ct=pc(_,j[Y],S||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Rs(),vl(h.i,h.u,h.A,h.l,h.R,h.m)}cn.prototype.ca=function(h){h=h.target;const y=this.M;y&&zn(h)==3?y.j():this.Y(h)},cn.prototype.Y=function(h){try{if(h==this.g)t:{const xe=zn(this.g);var y=this.g.Ba();const $i=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||xe!=4||y==7||(y==8||0>=$i?Rs(3):Rs(2)),xs(this);var _=this.g.Z();this.X=_;e:if(_c(this)){var S=Rc(this.g);h="";var j=S.length,Y=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),hi(this);var ct="";break e}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(Y&&y==j-1)});S.length=0,this.h.g+=h,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=_==200,Md(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ce=this.g;if((jt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(jt)){var Bt=jt;break e}}Bt=null}if(_=Bt)Is(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jr(this,_);else{this.o=!1,this.s=3,ue(12),qe(this),hi(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ct.length;)if(He=bc(this,ct),He==La){xe==4&&(this.s=4,ue(14),_=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}else if(He==_l){this.s=4,ue(15),Is(this.i,this.l,ct,"[Invalid Chunk]"),_=!1;break}else Is(this.i,this.l,He,null),jr(this,He);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||ct.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)Is(this.i,this.l,ct,"[Invalid Chunked Response]"),qe(this),hi(this);else if(0<ct.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Wr(Le),Le.M=!0,ue(11))}}else Is(this.i,this.l,ct,null),jr(this,ct);xe==4&&qe(this),this.o&&!this.J&&(xe==4?Dc(this.j,this):(this.o=!1,Ur(this)))}else Ld(this.g),_==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),qe(this),hi(this)}}}catch{}finally{}};function _c(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function bc(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?La:(_=Number(y.substring(_,S)),isNaN(_)?_l:(S+=1,S+_>y.length?La:(y=y.slice(S,S+_),h.C=S+_,y)))}cn.prototype.cancel=function(){this.J=!0,qe(this)};function Ur(h){h.S=Date.now()+h.I,Ec(h,h.I)}function Ec(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(T(h.ba,h),y)}function xs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}cn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vc(this.i,this.A),this.L!=2&&(Rs(),ue(17)),qe(this),this.s=2,hi(this)):Ec(this,this.S-h)};function hi(h){h.j.G==0||h.J||Dc(h.j,h)}function qe(h){xs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Vr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function jr(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||bl(_.h,h))){if(!h.K&&bl(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ka(_),Qa(_);else break t;Ol(_),ue(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(T(_.Za,_),6e3));if(1>=Ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((h.K||_.g==h)&&Ka(_),!Q(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Bt=j[y];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const Le=Bt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const xe=Bt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const $i=Bt[5];$i!=null&&typeof $i=="number"&&0<$i&&(S=1.5*$i,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const He=h.g;if(He){const vi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var Y=S.h;Y.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ja(Y,Y.h),Y.h=null))}if(S.D){const Ml=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(S.ya=Ml,Zt(S.I,S.D,Ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ct=h;if(S.qa=Pc(S,S.J?S.ia:null,S.W),ct.K){hn(S.h,ct);var jt=ct,Ce=S.L;Ce&&(jt.I=Ce),jt.B&&(xs(jt),Ur(jt)),S.g=ct}else xc(S);0<_.i.length&&$a(_)}else Bt[0]!="stop"&&Bt[0]!="close"||Qi(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Qi(_,7):Cl(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}Rs(4)}catch{}}var Tc=class{constructor(h,y){this.g=h,this.map=y}};function Bi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ua(h){return h.h?1:h.g?h.g.size:0}function bl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ja(h,y){h.g?h.g.add(y):h.h=y}function hn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function El(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return q(h.i)}function Pd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function Ba(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function Tl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ba(h),S=Pd(h),j=S.length,Y=0;Y<j;Y++)y.call(void 0,S[Y],_&&_[Y],h)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),j=null;if(0<=S){var Y=h[_].substring(0,S);j=h[_].substring(S+1)}else Y=h[_];y(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Te(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Te){this.h=h.h,Fr(this,h.j),this.o=h.o,this.g=h.g,Os(this,h.s),this.l=h.l;var y=h.i,_=new qi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fi(this,_),this.m=h.m}else h&&(y=String(h).match(Br))?(this.h=!1,Fr(this,y[1]||"",!0),this.o=kn(y[2]||""),this.g=kn(y[3]||"",!0),Os(this,y[4]),this.l=kn(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=kn(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Te.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Hr(y,wl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Hr(y,wl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Hr(_,_.charAt(0)=="/"?kd:Sl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Hr(_,Fa)),h.join("")};function Tn(h){return new Te(h)}function Fr(h,y,_){h.j=_?kn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Os(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Fi(h,y,_){y instanceof qi?(h.i=y,Sc(h.i,h.h)):(_||(y=Hr(y,Vd)),h.i=new qi(y,h.h))}function Zt(h,y,_){h.i.set(y,_)}function qr(h){return Zt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function kn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,wc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wl=/[#\/\?@]/g,Sl=/[#\?:]/g,kd=/[#\?]/g,Vd=/[#\?@]/g,Fa=/#/g;function qi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Nd(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=qi.prototype,n.add=function(h,y){Vn(this),this.i=null,h=fi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Hi(h,y){Vn(h),y=fi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Gi(h,y){return Vn(h),y=fi(h,y),h.g.has(y)}n.forEach=function(h,y){Vn(this),this.g.forEach(function(_,S){_.forEach(function(j){h.call(y,j,S,this)},this)},this)},n.na=function(){Vn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const j=h[S];for(let Y=0;Y<j.length;Y++)_.push(y[S])}return _},n.V=function(h){Vn(this);let y=[];if(typeof h=="string")Gi(this,h)&&(y=y.concat(this.g.get(fi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Vn(this),this.i=null,h=fi(this,h),Gi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Al(h,y,_){Hi(h,y),0<_.length&&(h.i=null,h.g.set(fi(h,y),q(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Y=encodeURIComponent(String(S)),ct=this.V(S);for(S=0;S<ct.length;S++){var j=Y;ct[S]!==""&&(j+="="+encodeURIComponent(String(ct[S]))),h.push(j)}}return this.i=h.join("&")};function fi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Sc(h,y){y&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(Hi(this,S),Al(this,j,_))},h)),h.j=y}function Gr(h,y){const _=new Nn;if(d.Image){const S=new Image;S.onload=R(Ln,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(Ln,_,"TestLoadImage: error",!1,y,S),S.onabort=R(Ln,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(Ln,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Wn(h,y){const _=new Nn,S=new AbortController,j=setTimeout(()=>{S.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(j),Y.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Ln(_,"TestPingServer: error",!1,y)})}function Ln(h,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function Yr(){this.g=new Lr}function di(h,y,_){const S=_||"";try{Tl(h,function(j,Y){let ct=j;m(j)&&(ct=Kn(j)),y.push(S+Y+"="+encodeURIComponent(ct))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function Ds(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Ds,dl),Ds.prototype.g=function(){return new Yi(this.l,this.j)},Ds.prototype.i=function(h){return function(){return h}}({});function Yi(h,y){pe.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Yi,pe),n=Yi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,mi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?pi(this):mi(this),this.readyState==3&&Rl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},n.Qa=function(h){this.g&&(this.response=h,pi(this))},n.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,mi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Il(h){let y="";return rt(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ve(h,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Il(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Zt(h,y,_))}function Qt(h){pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Qt,pe);var qa=/^https?$/i,Qr=["POST","PUT"];n=Qt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?pl(this.o):pl(ui),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Ac(this,Y);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qr,y,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of _)this.g.setRequestHeader(Y,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Ac(this,Y)}};function Ac(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ha(h),gi(h)}function Ha(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},n.bb=function(){Ga(this)};function Ga(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)Ze(h.Ea,0,h);else if(Kt(h,"readystatechange"),zn(h)==4){h.h=!1;try{const ct=h.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=ct===0){var j=String(h.D).match(Br)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!qa.test(j?j.toLowerCase():"")}_=S}if(_)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var Y=2<zn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Ha(h)}}finally{gi(h)}}}}function gi(h,y){if(h.g){$r(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Kt(h,"ready");try{_.onreadystatechange=S}catch{}}}function $r(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ka(y)}};function Rc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ld(h){const y={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(Q(h[S]))continue;var _=P(h[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}x(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ya(h){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,h),this.cb=Kr("retryDelaySeedMs",1e4,h),this.Wa=Kr("forwardChannelMaxRetries",2,h),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Yr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ya.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,S){ue(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Pc(this,null,this.W),$a(this)};function Cl(h){if(Ic(h),h.G==3){var y=h.U++,_=Tn(h.I);if(Zt(_,"SID",h.K),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),Xr(h,_),y=new cn(h,h.j,y),y.L=2,y.v=qr(Tn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ur(y)}Mc(h)}function Qa(h){h.g&&(Wr(h),h.g.cancel(),h.g=null)}function Ic(h){Qa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function $a(h){if(!za(h.h)&&!h.s){h.s=!0;var y=h.Ga;ht||M(),gt||(ht(),gt=!0),zt.add(y,h),h.B=0}}function zd(h,y){return Ua(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(T(h.Ga,h,y),Dl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new cn(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=A(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Cc(this,j,y),_=Tn(this.I),Zt(_,"RID",h),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Xr(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Il(Y)))+"&"+y:this.m&&Ve(_,this.m,Y)),ja(this.h,j),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",y),Zt(_,"SID","null"),j.T=!0,Xn(j,_,null)):Xn(j,_,y),this.G=2}}else this.G==3&&(h?xl(this,h):this.i.length==0||za(this.h)||xl(this))};function xl(h,y){var _;y?_=y.l:_=h.U++;const S=Tn(h.I);Zt(S,"SID",h.K),Zt(S,"RID",_),Zt(S,"AID",h.T),Xr(h,S),h.m&&h.o&&Ve(S,h.m,h.o),_=new cn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Cc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ja(h.h,_),Xn(_,S,y)}function Xr(h,y){h.H&&rt(h.H,function(_,S){Zt(y,S,_)}),h.l&&Tl({},function(_,S){Zt(y,S,_)})}function Cc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?T(h.l.Na,h.l,h):null;t:{var j=h.i;let Y=-1;for(;;){const ct=["count="+_];Y==-1?0<_?(Y=j[0].g,ct.push("ofs="+Y)):Y=0:ct.push("ofs="+Y);let jt=!0;for(let Ce=0;Ce<_;Ce++){let Bt=j[Ce].g;const Le=j[Ce].map;if(Bt-=Y,0>Bt)Y=Math.max(0,j[Ce].g-100),jt=!1;else try{di(Le,ct,"req"+Bt+"_")}catch{S&&S(Le)}}if(jt){S=ct.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,S}function xc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ht||M(),gt||(ht(),gt=!0),zt.add(y,h),h.v=0}}function Ol(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(T(h.Fa,h),Dl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Qa(this),Oc(this))};function Wr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Oc(h){h.g=new cn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Tn(h.qa);Zt(y,"RID","rpc"),Zt(y,"SID",h.K),Zt(y,"AID",h.T),Zt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Zt(y,"TO",h.ja),Zt(y,"TYPE","xmlhttp"),Xr(h,y),h.m&&h.o&&Ve(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=qr(Tn(y)),_.m=null,_.P=!0,ji(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Qa(this),Ol(this),ue(19))};function Ka(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Dc(h,y){var _=null;if(h.g==y){Ka(h),Wr(h),h.g=null;var S=2}else if(bl(h.h,y))_=y.D,hn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=h.B;S=As(),Kt(S,new Ie(S,_)),$a(h)}else xc(h);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&zd(h,y)||S==2&&Ol(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),j){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function Dl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Qi(h,y){if(h.j.info("Error code "+y),y==2){var _=T(h.fb,h),S=h.Xa;const j=!S;S=new Te(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fr(S,"https"),qr(S),j?Gr(S.toString(),_):Wn(S.toString(),_)}else ue(2);h.G=0,h.l&&h.l.sa(y),Mc(h),Ic(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Mc(h){if(h.G=0,h.ka=[],h.l){const y=El(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ka,y),U(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function Pc(h,y,_){var S=_ instanceof Te?Tn(_):new Te(_);if(S.g!="")y&&(S.g=y+"."+S.g),Os(S,S.s);else{var j=d.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Y=new Te(null);S&&Fr(Y,S),y&&(Y.g=y),j&&Os(Y,j),_&&(Y.l=_),S=Y}return _=h.D,y=h.ya,_&&y&&Zt(S,_,y),Zt(S,"VER",h.la),Xr(h,S),S}function Nc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Qt(new Ds({eb:_})):new Qt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xa(){}Xa.prototype.g=function(h,y){return new fn(h,y)};function fn(h,y){pe.call(this),this.g=new Ya(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!Q(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new yi(this)}V(fn,pe),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Cl(this.g)},fn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Kn(h),h=_);y.i.push(new Tc(y.Ya++,h)),y.G==3&&$a(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,fn.aa.N.call(this)};function Vc(h){zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}V(Vc,zi);function Lc(){gl.call(this),this.status=1}V(Lc,gl);function yi(h){this.g=h}V(yi,kc),yi.prototype.ua=function(){Kt(this.g,"a")},yi.prototype.ta=function(h){Kt(this.g,new Vc(h))},yi.prototype.sa=function(h){Kt(this.g,new Lc)},yi.prototype.ra=function(){Kt(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,sS=function(){return new Xa},iS=function(){return As()},nS=li,Dg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,lf=Cs,Ui.COMPLETE="complete",eS=Ui,ml.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Tu=ml,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,tS=Qt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const G1="@firebase/firestore",Y1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Ay("@firebase/firestore");function Io(){return Aa.logLevel}function dt(n,...t){if(Aa.logLevel<=Vt.DEBUG){const e=t.map(Ly);Aa.debug(`Firestore (${il}): ${n}`,...e)}}function ms(n,...t){if(Aa.logLevel<=Vt.ERROR){const e=t.map(Ly);Aa.error(`Firestore (${il}): ${n}`,...e)}}function Yo(n,...t){if(Aa.logLevel<=Vt.WARN){const e=t.map(Ly);Aa.warn(`Firestore (${il}): ${n}`,...e)}}function Ly(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,rS(n,s,e)}function rS(n,t,e){let s=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ms(s),new Error(s)}function $t(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||rS(t,a,s)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(nn.UNAUTHENTICATED))}shutdown(){}}class AP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class RP{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new aS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class IP{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CP{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new IP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Q1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=OP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function Dt(n,t){return n<t?-1:n>t?1:0}function Mg(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Dt(s,a);{const l=oS(),c=DP(l.encode($1(n,e)),l.encode($1(t,e)));return c!==0?c:Dt(s,a)}}e+=s>65535?2:1}return Dt(n.length,t.length)}function $1(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function DP(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Dt(n[e],t[e]);return Dt(n.length,t.length)}function Qo(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=-62135596800,X1=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(t){return Pe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*X1);return new Pe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<K1)throw new pt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X1}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-K1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Pe(0,0))}static max(){return new It(new Pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="__name__";class Si{constructor(t,e,s){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&St(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=Si.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Dt(t.length,e.length)}static compareSegments(t,e){const s=Si.isNumericId(t),a=Si.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Si.extractNumericId(t).compare(Si.extractNumericId(e)):Mg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hr.fromString(t.substring(4,t.length-2))}}class ae extends Si{construct(t,e,s){return new ae(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const MP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Si{construct(t,e,s){return new Ke(t,e,s)}static isValidIdentifier(t){return MP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W1}static keyField(){return new Ke([W1])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new pt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new pt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new pt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(e)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(ae.fromString(t))}static fromName(t){return new bt(ae.fromString(t).popFirst(5))}static empty(){return new bt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function PP(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=It.fromTimestamp(s===1e9?new Pe(e+1,0):new Pe(e,s));return new dr(a,bt.empty(),t)}function NP(n){return new dr(n.readTime,n.key,qu)}class dr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new dr(It.min(),bt.empty(),qu)}static max(){return new dr(It.max(),bt.empty(),qu)}}function kP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=bt.comparator(n.documentKey,t.documentKey),e!==0?e:Dt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==VP)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,s)=>{e(t)})}static reject(t){return new et((e,s)=>{s(t)})}static waitFor(t){return new et((e,s)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},p=>s(p))}),c=!0,l===a&&e()})}static or(t){let e=et.resolve(!1);for(const s of t)e=e.next(a=>a?et.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,l)=>{s.push(e.call(this,a,l))}),this.waitFor(s)}static mapArray(t,e){return new et((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;e(t[m]).next(v=>{c[m]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(t,e){return new et((s,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):s()};l()})}}function zP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function rl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}td.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function ed(n){return n==null}function Cf(n){return n===0&&1/n==-1/0}function UP(n){return typeof n=="number"&&Number.isInteger(n)&&!Cf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="";function jP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Z1(t)),t=BP(n.get(e),t);return Z1(t)}function BP(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case uS:e+="";break;default:e+=l}}return e}function Z1(n){return n+uS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Rr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function cS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||$e.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jh(this.root,t,this.comparator,!0)}}class jh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??$e.RED,this.left=a??$e.EMPTY,this.right=l??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new $e(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return $e.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new $e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(t){return new tE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class tE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Dn([])}unionWith(t){let e=new Ne(Ke.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Dn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Qo(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hS("Invalid base64 string: "+l):l}}(t);return new We(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new We(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const FP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if($t(!!n,39018),typeof n=="string"){let t=0;const e=FP.exec(n);if($t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="server_timestamp",dS="__type__",pS="__previous_value__",mS="__local_write_time__";function Uy(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[dS])===null||e===void 0?void 0:e.stringValue)===fS}function nd(n){const t=n.mapValue.fields[pS];return Uy(t)?nd(t):t}function Hu(n){const t=pr(n.mapValue.fields[mS].timestampValue);return new Pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t,e,s,a,l,c,d,p,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const xf="(default)";class Gu{constructor(t,e){this.projectId=t,this.database=e||xf}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(t){return t instanceof Gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__type__",HP="__max__",Bh={mapValue:{}},yS="__vector__",Of="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:YP(n)?9007199254740991:GP(n)?10:11:St(28295,{value:n})}function ki(n,t){if(n===t)return!0;const e=gr(n);if(e!==gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hu(n).isEqual(Hu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=pr(a.timestampValue),d=pr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return mr(a.bytesValue).isEqual(mr(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),d=be(l.doubleValue);return c===d?Cf(c)===Cf(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Qo(n.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(J1(c)!==J1(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ki(c[p],d[p])))return!1;return!0}(n,t);default:return St(52216,{left:n})}}function Yu(n,t){return(n.values||[]).find(e=>ki(e,t))!==void 0}function $o(n,t){if(n===t)return 0;const e=gr(n),s=gr(t);if(e!==s)return Dt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=be(l.integerValue||l.doubleValue),p=be(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return eE(n.timestampValue,t.timestampValue);case 4:return eE(Hu(n),Hu(t));case 5:return Mg(n.stringValue,t.stringValue);case 6:return function(l,c){const d=mr(l),p=mr(c);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=Dt(d[m],p[m]);if(v!==0)return v}return Dt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Dt(be(l.latitude),be(c.latitude));return d!==0?d:Dt(be(l.longitude),be(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return nE(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,p,m,v;const E=l.fields||{},T=c.fields||{},R=(d=E[Of])===null||d===void 0?void 0:d.arrayValue,V=(p=T[Of])===null||p===void 0?void 0:p.arrayValue,q=Dt(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:nE(R,V)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===Bh.mapValue&&c===Bh.mapValue)return 0;if(l===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=Mg(p[E],v[E]);if(T!==0)return T;const R=$o(d[p[E]],m[v[E]]);if(R!==0)return R}return Dt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw St(23264,{Pe:e})}}function eE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Dt(n,t);const e=pr(n),s=pr(t),a=Dt(e.seconds,s.seconds);return a!==0?a:Dt(e.nanos,s.nanos)}function nE(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=$o(e[a],s[a]);if(l)return l}return Dt(e.length,s.length)}function Ko(n){return Pg(n)}function Pg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=pr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return mr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return bt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=Pg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Pg(e.fields[c])}`;return a+"}"}(n.mapValue):St(61005,{value:n})}function uf(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nd(n);return t?16+uf(t):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+uf(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Rr(s.fields,(l,c)=>{a+=l.length+uf(c)}),a}(n.mapValue);default:throw St(13486,{value:n})}}function iE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ng(n){return!!n&&"integerValue"in n}function jy(n){return!!n&&"arrayValue"in n}function sE(n){return!!n&&"nullValue"in n}function rE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cf(n){return!!n&&"mapValue"in n}function GP(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[gS])===null||e===void 0?void 0:e.stringValue)===yS}function Du(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Rr(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Du(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Du(n.arrayValue.values[e]);return t}return Object.assign({},n)}function YP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!cf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Du(e)}setAll(t){let e=Ke.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=Du(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());cf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Rr(e,(a,l)=>t[a]=l);for(const a of s)delete t[a]}clone(){return new _n(Du(this.value))}}function vS(n){const t=[];return Rr(n.fields,(e,s)=>{const a=new Ke([e]);if(cf(s)){const l=vS(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,e,s,a,l,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,It.min(),It.min(),It.min(),_n.empty(),0)}static newFoundDocument(t,e,s,a){return new sn(t,1,e,It.min(),s,a,0)}static newNoDocument(t,e){return new sn(t,2,e,It.min(),It.min(),_n.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,It.min(),It.min(),_n.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,e){this.position=t,this.inclusive=e}}function aE(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?s=bt.comparator(bt.fromName(c.referenceValue),e.key):s=$o(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function oE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ki(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e="asc"){this.field=t,this.dir=e}}function QP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class Re extends _S{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new KP(t,e,s):e==="array-contains"?new ZP(t,s):e==="in"?new JP(t,s):e==="not-in"?new tN(t,s):e==="array-contains-any"?new eN(t,s):new Re(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new XP(t,s):new WP(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison($o(e,this.value)):e!==null&&gr(this.value)===gr(e)&&this.matchesComparison($o(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends _S{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ai(t,e)}matches(t){return bS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bS(n){return n.op==="and"}function ES(n){return $P(n)&&bS(n)}function $P(n){for(const t of n.filters)if(t instanceof ai)return!1;return!0}function kg(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(ES(n))return n.filters.map(t=>kg(t)).join(",");{const t=n.filters.map(e=>kg(e)).join(",");return`${n.op}(${t})`}}function TS(n,t){return n instanceof Re?function(s,a){return a instanceof Re&&s.op===a.op&&s.field.isEqual(a.field)&&ki(s.value,a.value)}(n,t):n instanceof ai?function(s,a){return a instanceof ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&TS(c,a.filters[d]),!0):!1}(n,t):void St(19439)}function wS(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Ko(e.value)}`}(n):n instanceof ai?function(e){return e.op.toString()+" {"+e.getFilters().map(wS).join(" ,")+"}"}(n):"Filter"}class KP extends Re{constructor(t,e,s){super(t,e,s),this.key=bt.fromName(s.referenceValue)}matches(t){const e=bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class XP extends Re{constructor(t,e){super(t,"in",e),this.keys=SS("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class WP extends Re{constructor(t,e){super(t,"not-in",e),this.keys=SS("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function SS(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>bt.fromName(s.referenceValue))}class ZP extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jy(e)&&Yu(e.arrayValue,this.value)}}class JP extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Yu(this.value.arrayValue,e)}}class tN extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Yu(this.value.arrayValue,e)}}class eN extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,e=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function lE(n,t=null,e=[],s=[],a=null,l=null,c=null){return new nN(n,t,e,s,a,l,c)}function By(n){const t=Ct(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>kg(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Ko(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Ko(s)).join(",")),t.Ie=e}return t.Ie}function Fy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!QP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!TS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oE(n.startAt,t.startAt)&&oE(n.endAt,t.endAt)}function Vg(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,e=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function iN(n,t,e,s,a,l,c,d){return new al(n,t,e,s,a,l,c,d)}function id(n){return new al(n)}function uE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AS(n){return n.collectionGroup!==null}function Mu(n){const t=Ct(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ne(Ke.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Qu(l,s))}),e.has(Ke.keyField().canonicalString())||t.Ee.push(new Qu(Ke.keyField(),s))}return t.Ee}function Mi(n){const t=Ct(n);return t.de||(t.de=sN(t,Mu(n))),t.de}function sN(n,t){if(n.limitType==="F")return lE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)});const e=n.endAt?new Df(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Df(n.startAt.position,n.startAt.inclusive):null;return lE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Lg(n,t){const e=n.filters.concat([t]);return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function zg(n,t,e){return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sd(n,t){return Fy(Mi(n),Mi(t))&&n.limitType===t.limitType}function RS(n){return`${By(Mi(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>wS(a)).join(", ")}]`),ed(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>Ko(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>Ko(a)).join(",")),`Target(${s})`}(Mi(n))}; limitType=${n.limitType})`}function rd(n,t){return t.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):bt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,t)&&function(s,a){for(const l of Mu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(c,d,p){const m=aE(c,d,p);return c.inclusive?m<=0:m<0}(s.startAt,Mu(s),a)||s.endAt&&!function(c,d,p){const m=aE(c,d,p);return c.inclusive?m>=0:m>0}(s.endAt,Mu(s),a))}(n,t)}function rN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IS(n){return(t,e)=>{let s=!1;for(const a of Mu(n)){const l=aN(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function aN(n,t,e){const s=n.field.isKeyField()?bt.comparator(t.key,e.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?$o(p,m):St(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,(e,s)=>{for(const[a,l]of s)t(a,l)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new de(bt.comparator);function gs(){return oN}const CS=new de(bt.comparator);function wu(...n){let t=CS;for(const e of n)t=t.insert(e.key,e);return t}function xS(n){let t=CS;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function ma(){return Pu()}function OS(){return Pu()}function Pu(){return new Oa(n=>n.toString(),(n,t)=>n.isEqual(t))}const lN=new de(bt.comparator),uN=new Ne(bt.comparator);function Lt(...n){let t=uN;for(const e of n)t=t.add(e);return t}const cN=new Ne(Dt);function hN(){return cN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(t)?"-0":t}}function DS(n){return{integerValue:""+n}}function fN(n,t){return UP(t)?DS(t):qy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function dN(n,t,e){return n instanceof Mf?function(a,l){const c={fields:{[dS]:{stringValue:fS},[mS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uy(l)&&(l=nd(l)),l&&(c.fields[pS]=l),{mapValue:c}}(e,t):n instanceof $u?PS(n,t):n instanceof Ku?NS(n,t):function(a,l){const c=MS(a,l),d=cE(c)+cE(a.Re);return Ng(c)&&Ng(a.Re)?DS(d):qy(a.serializer,d)}(n,t)}function pN(n,t,e){return n instanceof $u?PS(n,t):n instanceof Ku?NS(n,t):e}function MS(n,t){return n instanceof Pf?function(s){return Ng(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Mf extends ad{}class $u extends ad{constructor(t){super(),this.elements=t}}function PS(n,t){const e=kS(t);for(const s of n.elements)e.some(a=>ki(a,s))||e.push(s);return{arrayValue:{values:e}}}class Ku extends ad{constructor(t){super(),this.elements=t}}function NS(n,t){let e=kS(t);for(const s of n.elements)e=e.filter(a=>!ki(a,s));return{arrayValue:{values:e}}}class Pf extends ad{constructor(t,e){super(),this.serializer=t,this.Re=e}}function cE(n){return be(n.integerValue||n.doubleValue)}function kS(n){return jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mN(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof $u&&a instanceof $u||s instanceof Ku&&a instanceof Ku?Qo(s.elements,a.elements,ki):s instanceof Pf&&a instanceof Pf?ki(s.Re,a.Re):s instanceof Mf&&a instanceof Mf}(n.transform,t.transform)}class gN{constructor(t,e){this.version=t,this.transformResults=e}}class $n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class od{}function VS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Hy(n.key,$n.none()):new rc(n.key,n.data,$n.none());{const e=n.data,s=_n.empty();let a=new Ne(Ke.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ir(n.key,s,new Dn(a.toArray()),$n.none())}}function yN(n,t,e){n instanceof rc?function(a,l,c){const d=a.value.clone(),p=fE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Ir?function(a,l,c){if(!hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=fE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(LS(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Nu(n,t,e,s){return n instanceof rc?function(l,c,d,p){if(!hf(l.precondition,c))return d;const m=l.value.clone(),v=dE(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,s):n instanceof Ir?function(l,c,d,p){if(!hf(l.precondition,c))return d;const m=dE(l.fieldTransforms,p,c),v=c.data;return v.setAll(LS(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(l,c,d){return hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function vN(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=MS(s.transform,a||null);l!=null&&(e===null&&(e=_n.empty()),e.set(s.field,l))}return e||null}function hE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Qo(s,a,(l,c)=>mN(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class rc extends od{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ir extends od{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LS(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function fE(n,t,e){const s=new Map;$t(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,pN(c,d,e[a]))}return s}function dE(n,t,e){const s=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);s.set(a.field,dN(l,c,t))}return s}class Hy extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&yN(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Nu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Nu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=OS();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const p=VS(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Qo(this.mutations,t.mutations,(e,s)=>hE(e,s))&&Qo(this.baseMutations,t.baseMutations,(e,s)=>hE(e,s))}}class Gy{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){$t(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let a=function(){return lN}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Gy(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,qt;function wN(n){switch(n){case tt.OK:return St(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function zS(n){if(n===void 0)return ms("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Ae.OK:return tt.OK;case Ae.CANCELLED:return tt.CANCELLED;case Ae.UNKNOWN:return tt.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return tt.INTERNAL;case Ae.UNAVAILABLE:return tt.UNAVAILABLE;case Ae.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ae.NOT_FOUND:return tt.NOT_FOUND;case Ae.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ae.ABORTED:return tt.ABORTED;case Ae.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ae.DATA_LOSS:return tt.DATA_LOSS;default:return St(39323,{code:n})}}(qt=Ae||(Ae={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new hr([4294967295,4294967295],0);function pE(n){const t=oS().encode(n),e=new Jw;return e.update(t),new Uint8Array(e.digest())}function mE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new hr([e,s],0),new hr([a,l],0)]}class Yy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Su(`Invalid padding: ${e}`);if(s<0)throw new Su(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Su(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=hr.fromNumber(this.pe)}we(t,e,s){let a=t.add(e.multiply(hr.fromNumber(s)));return a.compare(SN)===1&&(a=new hr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=pE(t),[s,a]=mE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Yy(l,a,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=pE(t),[s,a]=mE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,ac.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new ld(It.min(),a,new de(Dt),gs(),Lt())}}class ac{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new ac(s,e,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,e,s,a){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=a}}class US{constructor(t,e){this.targetId=t,this.Ce=e}}class jS{constructor(t,e,s=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class gE{constructor(){this.Fe=0,this.Me=yE(),this.xe=We.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),e=Lt(),s=Lt();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:St(38017,{changeType:l})}}),new ac(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=yE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,$t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AN{constructor(t){this.ze=t,this.je=new Map,this.He=gs(),this.Je=Fh(),this.Ye=Fh(),this.Ze=new de(Dt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,s=t.Ce.count,a=this._t(e);if(a){const l=a.target;if(Vg(l))if(s===0){const c=new bt(l.path);this.tt(e,c,sn.newNoDocument(c,It.min()))}else $t(s===1,20013,{expectedCount:s});else{const c=this.ut(e);if(c!==s){const d=this.ct(t),p=d?this.lt(d,t,c):1;if(p!==0){this.st(e);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=mr(s).toUint8Array()}catch(p){if(p instanceof hS)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Yy(c,a,l)}catch(p){return Yo(p instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),a++)}),a}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Vg(d.target)){const p=new bt(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,sn.newNoDocument(p,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let s=Lt();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new ld(t,e,this.Ze,this.He,s);return this.He=gs(),this.Je=Fh(),this.Ye=Fh(),this.Ze=new de(Dt),a}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new gE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ne(Dt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ne(Dt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new gE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Fh(){return new de(bt.comparator)}function yE(){return new de(bt.comparator)}const RN={asc:"ASCENDING",desc:"DESCENDING"},IN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CN={and:"AND",or:"OR"};class xN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ug(n,t){return n.useProto3Json||ed(t)?t:{value:t}}function Nf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ON(n,t){return Nf(n,t.toTimestamp())}function Pi(n){return $t(!!n,49232),It.fromTimestamp(function(e){const s=pr(e);return new Pe(s.seconds,s.nanos)}(n))}function Qy(n,t){return jg(n,t).canonicalString()}function jg(n,t){const e=function(a){return new ae(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function FS(n){const t=ae.fromString(n);return $t(QS(t),10190,{key:t.toString()}),t}function Bg(n,t){return Qy(n.databaseId,t.path)}function eg(n,t){const e=FS(t);if(e.get(1)!==n.databaseId.projectId)throw new pt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new bt(HS(e))}function qS(n,t){return Qy(n.databaseId,t)}function DN(n){const t=FS(n);return t.length===4?ae.emptyPath():HS(t)}function Fg(n){return new ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HS(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vE(n,t,e){return{name:Bg(n,t),fields:e.value.mapValue.fields}}function MN(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:St(39313,{state:m})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?($t(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):($t(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(m){const v=m.code===void 0?tt.UNKNOWN:zS(m.code);return new pt(v,m.message||"")}(c);e=new jS(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=eg(n,s.document.name),l=Pi(s.document.updateTime),c=s.document.createTime?Pi(s.document.createTime):It.min(),d=new _n({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(a,l,c,d),m=s.targetIds||[],v=s.removedTargetIds||[];e=new ff(m,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=eg(n,s.document),l=s.readTime?Pi(s.readTime):It.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];e=new ff([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=eg(n,s.document),l=s.removedTargetIds||[];e=new ff([],l,a,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new TN(a,l),d=s.targetId;e=new US(d,c)}}return e}function PN(n,t){let e;if(t instanceof rc)e={update:vE(n,t.key,t.value)};else if(t instanceof Hy)e={delete:Bg(n,t.key)};else if(t instanceof Ir)e={update:vE(n,t.key,t.data),updateMask:FN(t.fieldMask)};else{if(!(t instanceof _N))return St(16599,{ft:t.type});e={verify:Bg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Mf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw St(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ON(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:St(27497)}(n,t.precondition)),e}function NN(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map(e=>function(a,l){let c=a.updateTime?Pi(a.updateTime):Pi(l);return c.isEqual(It.min())&&(c=Pi(l)),new gN(c,a.transformResults||[])}(e,t))):[]}function kN(n,t){return{documents:[qS(n,t.path)]}}function VN(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=qS(n,a);const l=function(m){if(m.length!==0)return YS(ai.create(m,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:xo(T.field),direction:UN(T.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Ug(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{gt:e,parent:a}}function LN(n){let t=DN(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){$t(s===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=function(E){const T=GS(E);return T instanceof ai&&ES(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(T=>function(V){return new Qu(Oo(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(T))}(e.orderBy));let d=null;e.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,ed(T)?null:T}(e.limit));let p=null;e.startAt&&(p=function(E){const T=!!E.before,R=E.values||[];return new Df(R,T)}(e.startAt));let m=null;return e.endAt&&(m=function(E){const T=!E.before,R=E.values||[];return new Df(R,T)}(e.endAt)),iN(t,a,c,l,d,"F",p,m)}function zN(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function GS(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Oo(e.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(e.unaryFilter.field);return Re.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(e.unaryFilter.field);return Re.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(e.unaryFilter.field);return Re.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Oo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ai.create(e.compositeFilter.filters.map(s=>GS(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(e.compositeFilter.op))}(n):St(30097,{filter:n})}function UN(n){return RN[n]}function jN(n){return IN[n]}function BN(n){return CN[n]}function xo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return Ke.fromServerFormat(n.fieldPath)}function YS(n){return n instanceof Re?function(e){if(e.op==="=="){if(rE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NAN"}};if(sE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NAN"}};if(sE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(e.field),op:jN(e.op),value:e.value}}}(n):n instanceof ai?function(e){const s=e.getFilters().map(a=>YS(a));return s.length===1?s[0]:{compositeFilter:{op:BN(e.op),filters:s}}}(n):St(54877,{filter:n})}function FN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function QS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,e,s,a,l=It.min(),c=It.min(),d=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.wt=t}}function HN(n){const t=LN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.Cn=new YN}addToCollectionParentIndex(t,e){return this.Cn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(dr.min())}updateCollectionGroup(t,e,s){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class YN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Ne(ae.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ne(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn($S,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",QN=1048576;function EE([n,t],[e,s]){const a=Dt(n,e);return a===0?Dt(t,s):a}class $N{constructor(t){this.Er=t,this.buffer=new Ne(EE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();EE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class KN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt(bE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rl(e)?dt(bE,"Ignoring IndexedDB error during garbage collection: ",e):await sl(e)}await this.mr(3e5)})}}class XN{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return et.resolve(td.le);const s=new $N(e);return this.gr.forEachTarget(t,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(_E)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,a,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(m=Date.now(),Io()<=Vt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function WN(n,t){return new XN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.changes=new Oa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?et.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&Nu(s.mutation,a,Dn.empty(),Pe.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Lt()){const a=ma();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(l=>{let c=wu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=ma();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Lt()))}populateOverlays(t,e,s){const a=[];return s.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,a){let l=gs();const c=Pu(),d=function(){return Pu()}();return e.forEach((p,m)=>{const v=s.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Ir)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Nu(v.mutation,m,v.mutation.getFieldMask(),Pe.now())):c.set(m.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((m,v)=>c.set(m,v)),e.forEach((m,v)=>{var E;return d.set(m,new JN(v,(E=c.get(m))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,e){const s=Pu();let a=new de((c,d)=>c-d),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=e.get(p);if(m===null)return;let v=s.get(p)||Dn.empty();v=d.applyToLocalView(m,v),s.set(p,v);const E=(a.get(d.batchId)||Lt()).add(p);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,E=OS();v.forEach(T=>{if(!l.has(T)){const R=VS(e.get(T),s.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,E))}return et.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(c){return bt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):AS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):et.resolve(ma());let d=qu,p=l;return c.next(m=>et.forEach(m,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(t,m,l)).next(()=>this.computeViews(t,p,m,Lt())).next(v=>({batchId:d,changes:xS(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new bt(e)).next(s=>{let a=wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(t,l).next(d=>et.forEach(d,p=>{const m=function(E,T){return new al(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,s,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a))).next(c=>{l.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))});let d=wu();return c.forEach((p,m)=>{const v=l.get(p);v!==void 0&&Nu(v.mutation,m,Dn.empty(),Pe.now()),rd(e,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return et.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Pi(a.createTime)}}(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:HN(a.bundledQuery),readTime:Pi(a.readTime)}}(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.overlays=new de(bt.comparator),this.Qr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ma();return et.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,l)=>{this.St(t,e,l)}),et.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),et.resolve()}getOverlaysForCollection(t,e,s){const a=ma(),l=e.length+1,c=new bt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new de((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>s){let v=l.get(m.largestBatchId);v===null&&(v=ma(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ma(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=a)););return et.resolve(d)}St(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new EN(e,s));let l=this.Qr.get(e);l===void 0&&(l=Lt(),this.Qr.set(e,l)),this.Qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.$r=new Ne(Be.Ur),this.Kr=new Ne(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Be(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Be(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new bt(new ae([])),s=new Be(e,t),a=new Be(e,t+1),l=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new bt(new ae([])),s=new Be(e,t),a=new Be(e,t+1);let l=Lt();return this.Kr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Be(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return bt.comparator(t.key,e.key)||Dt(t.Zr,e.Zr)}static Wr(t,e){return Dt(t.Zr,e.Zr)||bt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ne(Be.Ur)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bN(l,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Be(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.ti(s),l=a<0?0:a;return et.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?zy:this.nr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Be(e,0),a=new Be(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);l.push(d)}),et.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ne(Dt);return e.forEach(a=>{const l=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{s=s.add(d.Zr)})}),et.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;bt.isDocumentKey(l)||(l=l.child(""));const c=new Be(new bt(l),0);let d=new Ne(Dt);return this.Xr.forEachWhile(p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Zr)),!0)},c),et.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const a=this.ei(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){$t(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return et.forEach(e.mutations,a=>{const l=new Be(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Be(e,0),a=this.Xr.firstAfterOrEqual(s);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t){this.ii=t,this.docs=function(){return new de(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return et.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let s=gs();return e.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))}),et.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=gs();const c=e.path,d=new bt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||kP(NP(v),s)<=0||(a.has(v.key)||rd(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return et.resolve(l)}getAllFromCollectionGroup(t,e,s,a){St(9500)}si(t,e){return et.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new ak(this)}getSize(t){return et.resolve(this.size)}}class ak extends ZN{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(s)}),et.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.persistence=t,this.oi=new Oa(e=>By(e),Fy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this._i=0,this.ai=new $y,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(t,e){return this.oi.forEach((s,a)=>e(a)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),et.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Xo(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.Tr(e),et.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),et.waitFor(l).next(()=>a)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return et.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),et.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),et.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return et.resolve(s)}containsKey(t,e){return et.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,e){this.ci={},this.overlays={},this.li=new td(0),this.hi=!1,this.hi=!0,this.Pi=new ik,this.referenceDelegate=t(this),this.Ti=new ok(this),this.indexManager=new GN,this.remoteDocumentCache=function(a){return new rk(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new qN(e),this.Ei=new ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new sk(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const a=new lk(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,e){return et.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class lk extends LP{constructor(t){super(),this.currentSequenceNumber=t}}class Ky{constructor(t){this.persistence=t,this.Vi=new $y,this.mi=null}static fi(t){return new Ky(t)}get gi(){if(this.mi)return this.mi;throw St(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),et.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.gi,s=>{const a=bt.fromPath(s);return this.pi(t,a).next(l=>{l||e.removeEntry(a,It.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return et.or([()=>et.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class kf{constructor(t,e){this.persistence=t,this.yi=new Oa(s=>jP(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=WN(this,e)}static fi(t,e){return new kf(t,e)}di(){}Ai(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return et.forEach(this.yi,(s,a)=>this.Dr(t,s,a).next(l=>l?et.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(s++,l.removeEntry(c,It.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),et.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=uf(t.data.value)),e}Dr(t,e,s){return et.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return et.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.ds=s,this.As=a}static Rs(t,e){let s=Lt(),a=Lt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xy(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Gx()?8:zP(ln())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.ws(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(t,e,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new uk;return this.Ss(t,e,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>l.result)}Ds(t,e,s,a){return s.documentReadCount<this.gs?(Io()<=Vt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Co(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),et.resolve()):(Io()<=Vt.DEBUG&&dt("QueryEngine","Query:",Co(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Io()<=Vt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Co(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(e))):et.resolve())}ws(t,e){if(uE(e))return et.resolve(null);let s=Mi(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=zg(e,null,"F"),s=Mi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=Lt(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const m=this.vs(e,d);return this.Cs(e,m,c,p.readTime)?this.ws(t,zg(e,null,"F")):this.Fs(t,m,e,p)}))})))}bs(t,e,s,a){return uE(e)||a.isEqual(It.min())?et.resolve(null):this.ys.getDocuments(t,s).next(l=>{const c=this.vs(e,l);return this.Cs(e,c,s,a)?et.resolve(null):(Io()<=Vt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(e)),this.Fs(t,c,e,PP(a,qu)).next(d=>d))})}vs(t,e){let s=new Ne(IS(t));return e.forEach((a,l)=>{rd(t,l)&&(s=s.add(l))}),s}Cs(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,s){return Io()<=Vt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Co(e)),this.ys.getDocumentsMatchingQuery(t,e,dr.min(),s)}Fs(t,e,s,a){return this.ys.getDocumentsMatchingQuery(t,s,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",hk=3e8;class fk{constructor(t,e,s,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new de(Dt),this.Os=new Oa(l=>By(l),Fy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function dk(n,t,e,s){return new fk(n,t,e,s)}async function XS(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let p=Lt();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:d}))})})}function pk(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,v){const E=m.batch,T=E.keys();let R=et.resolve();return T.forEach(V=>{R=R.next(()=>v.getEntry(p,V)).next(q=>{const U=m.docVersions.get(V);$t(U!==null,48541),q.version.compareTo(U)<0&&(E.applyToRemoteDocument(q,m),q.isValidDocument()&&(q.setReadTime(m.commitVersion),v.addEntry(q)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(e,s,t,l).next(()=>l.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Lt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function WS(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function mk(n,t){const e=Ct(n),s=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;d.push(e.Ti.removeMatchingKeys(l,v.removedDocuments,E).next(()=>e.Ti.addMatchingKeys(l,v.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(We.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(E,R),function(q,U,K){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=hk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(T,R,v)&&d.push(e.Ti.updateTargetData(l,R))});let p=gs(),m=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(gk(l,c,t.documentUpdates).next(v=>{p=v.qs,m=v.Qs})),!s.isEqual(It.min())){const v=e.Ti.getLastRemoteSnapshotVersion(l).next(E=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return et.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(e.xs=a,l))}function gk(n,t,e){let s=Lt(),a=Lt();return e.forEach(l=>s=s.add(l)),t.getEntries(n,s).next(l=>{let c=gs();return e.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):dt(Wy,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{qs:c,Qs:a}})}function yk(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=zy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function vk(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Ti.getTargetData(s,t).next(l=>l?(a=l,et.resolve(a)):e.Ti.allocateTargetId(s).next(c=>(a=new ar(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function qg(n,t,e){const s=Ct(n),a=s.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!rl(c))throw c;dt(Wy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.xs=s.xs.remove(t),s.Os.delete(a.target)}function TE(n,t,e){const s=Ct(n);let a=It.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const E=Ct(p),T=E.Os.get(v);return T!==void 0?et.resolve(E.xs.get(T)):E.Ti.getTargetData(m,v)}(s,c,Mi(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,t,e?a:It.min(),e?l:Lt())).next(d=>(_k(s,rN(t),d),{documents:d,$s:l})))}function _k(n,t,e){let s=n.Ns.get(t)||It.min();e.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Ns.set(t,s)}class wE{constructor(){this.activeTargetIds=hN()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bk{constructor(){this.xo=new wE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new wE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="ConnectivityMonitor";class AE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(SE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(SE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function Hg(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wk{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===xf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(t,e,s,a,l){const c=Hg(),d=this.jo(t,e.toUriEncodedString());dt(ng,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:m}=new URL(d),v=tl(m);return this.Jo(t,d,p,s,v).then(E=>(dt(ng,`Received RPC '${t}' ${c}: `,E),E),E=>{throw Yo(ng,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Yo(t,e,s,a,l,c){return this.zo(t,e,s,a,l)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}jo(t,e){const s=Tk[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class Ak extends wk{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,a,l){const c=Hg();return new Promise((d,p)=>{const m=new tS;m.setWithCredentials(!0),m.listenOnce(eS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case lf.NO_ERROR:const E=m.getResponseJson();dt(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case lf.TIMEOUT:dt(en,`RPC '${t}' ${c} timed out`),p(new pt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const T=m.getStatus();if(dt(en,`RPC '${t}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R==null?void 0:R.error;if(V&&V.status&&V.message){const q=function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Q)>=0?Q:tt.UNKNOWN}(V.status);p(new pt(q,V.message))}else p(new pt(tt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new pt(tt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{h_:t,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{dt(en,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(a);dt(en,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",v,s,15)})}I_(t,e,s){const a=Hg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=sS(),d=iS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=l.join("");dt(en,`Creating RPC '${t}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);this.E_(E);let T=!1,R=!1;const V=new Sk({Zo:U=>{R?dt(en,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(T||(dt(en,`Opening RPC '${t}' stream ${a} transport.`),E.open(),T=!0),dt(en,`RPC '${t}' stream ${a} sending:`,U),E.send(U))},Xo:()=>E.close()}),q=(U,K,Q)=>{U.listen(K,$=>{try{Q($)}catch(ut){setTimeout(()=>{throw ut},0)}})};return q(E,Tu.EventType.OPEN,()=>{R||(dt(en,`RPC '${t}' stream ${a} transport opened.`),V.__())}),q(E,Tu.EventType.CLOSE,()=>{R||(R=!0,dt(en,`RPC '${t}' stream ${a} transport closed`),V.u_(),this.d_(E))}),q(E,Tu.EventType.ERROR,U=>{R||(R=!0,Yo(en,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),V.u_(new pt(tt.UNAVAILABLE,"The operation could not be completed")))}),q(E,Tu.EventType.MESSAGE,U=>{var K;if(!R){const Q=U.data[0];$t(!!Q,16349);const $=Q,ut=($==null?void 0:$.error)||((K=$[0])===null||K===void 0?void 0:K.error);if(ut){dt(en,`RPC '${t}' stream ${a} received error:`,ut);const lt=ut.status;let rt=function(I){const D=Ae[I];if(D!==void 0)return zS(D)}(lt),x=ut.message;rt===void 0&&(rt=tt.INTERNAL,x="Unknown error status: "+lt+" with message "+ut.message),R=!0,V.u_(new pt(rt,x)),E.close()}else dt(en,`RPC '${t}' stream ${a} received:`,Q),V.c_(Q)}}),q(d,nS.STAT_EVENT,U=>{U.stat===Dg.PROXY?dt(en,`RPC '${t}' stream ${a} detected buffering proxy`):U.stat===Dg.NOPROXY&&dt(en,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){return new xN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,e,s=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,e-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="PersistentStream";class JS{constructor(t,e,s,a,l,c,d,p){this.xi=t,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ZS(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(ms(e.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===e&&this.z_(s,a)},s=>{t(()=>{const a=new pt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return dt(RE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(dt(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rk extends JS{constructor(t,e,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=MN(this.serializer,t),s=function(l){if(!("targetChange"in l))return It.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?Pi(c.readTime):It.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Fg(this.serializer),e.addTarget=function(l,c){let d;const p=c.target;if(d=Vg(p)?{documents:kN(l,p)}:{query:VN(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=BS(l,c.resumeToken);const m=Ug(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=Nf(l,c.snapshotVersion.toTimestamp());const m=Ug(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,t);const s=zN(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Fg(this.serializer),e.removeTarget=t,this.Q_(e)}}class Ik extends JS{constructor(t,e,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=NN(t.writeResults,t.commitTime),s=Pi(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Fg(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>PN(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{}class xk extends Ck{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new pt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,jg(e,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(tt.UNKNOWN,l.toString())})}Yo(t,e,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,jg(e,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(tt.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Ok{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ms(e),this.ua=!1):dt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class Dk{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{s.enqueueAndForget(async()=>{Da(this)&&(dt(Ra,"Restarting streams for network reachability change."),await async function(p){const m=Ct(p);m.da.add(4),await oc(m),m.Va.set("Unknown"),m.da.delete(4),await cd(m)}(this))})}),this.Va=new Ok(s,a)}}async function cd(n){if(Da(n))for(const t of n.Aa)await t(!0)}async function oc(n){for(const t of n.Aa)await t(!1)}function tA(n,t){const e=Ct(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),ev(e)?tv(e):ol(e).N_()&&Jy(e,t))}function Zy(n,t){const e=Ct(n),s=ol(e);e.Ea.delete(t),s.N_()&&eA(e,t),e.Ea.size===0&&(s.N_()?s.k_():Da(e)&&e.Va.set("Unknown"))}function Jy(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ol(n).Z_(t)}function eA(n,t){n.ma.Ke(t),ol(n).X_(t)}function tv(n){n.ma=new AN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),ol(n).start(),n.Va.ca()}function ev(n){return Da(n)&&!ol(n).O_()&&n.Ea.size>0}function Da(n){return Ct(n).da.size===0}function nA(n){n.ma=void 0}async function Mk(n){n.Va.set("Online")}async function Pk(n){n.Ea.forEach((t,e)=>{Jy(n,t)})}async function Nk(n,t){nA(n),ev(n)?(n.Va.Pa(t),tv(n)):n.Va.set("Unknown")}async function kk(n,t,e){if(n.Va.set("Online"),t instanceof jS&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,t)}catch(s){dt(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vf(n,s)}else if(t instanceof ff?n.ma.Xe(t):t instanceof US?n.ma.ot(t):n.ma.nt(t),!e.isEqual(It.min()))try{const s=await WS(n.localStore);e.compareTo(s)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ea.get(m);v&&l.Ea.set(m,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const v=l.Ea.get(p);if(!v)return;l.Ea.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),eA(l,p);const E=new ar(v.target,p,m,v.sequenceNumber);Jy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){dt(Ra,"Failed to raise snapshot:",s),await Vf(n,s)}}async function Vf(n,t,e){if(!rl(t))throw t;n.da.add(1),await oc(n),n.Va.set("Offline"),e||(e=()=>WS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(Ra,"Retrying IndexedDB access"),await e(),n.da.delete(1),await cd(n)})}function iA(n,t){return t().catch(e=>Vf(n,e,t))}async function hd(n){const t=Ct(n),e=yr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:zy;for(;Vk(t);)try{const a=await yk(t.localStore,s);if(a===null){t.Ia.length===0&&e.k_();break}s=a.batchId,Lk(t,a)}catch(a){await Vf(t,a)}sA(t)&&rA(t)}function Vk(n){return Da(n)&&n.Ia.length<10}function Lk(n,t){n.Ia.push(t);const e=yr(n);e.N_()&&e.ea&&e.ta(t.mutations)}function sA(n){return Da(n)&&!yr(n).O_()&&n.Ia.length>0}function rA(n){yr(n).start()}async function zk(n){yr(n).ia()}async function Uk(n){const t=yr(n);for(const e of n.Ia)t.ta(e.mutations)}async function jk(n,t,e){const s=n.Ia.shift(),a=Gy.from(s,t,e);await iA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await hd(n)}async function Bk(n,t){t&&yr(n).ea&&await async function(s,a){if(function(c){return wN(c)&&c!==tt.ABORTED}(a.code)){const l=s.Ia.shift();yr(s).L_(),await iA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await hd(s)}}(n,t),sA(n)&&rA(n)}async function IE(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),dt(Ra,"RemoteStore received new credentials");const s=Da(e);e.da.add(3),await oc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await cd(e)}async function Fk(n,t){const e=Ct(n);t?(e.da.delete(2),await cd(e)):t||(e.da.add(2),await oc(e),e.Va.set("Unknown"))}function ol(n){return n.fa||(n.fa=function(e,s,a){const l=Ct(e);return l.oa(),new Rk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:Mk.bind(null,n),n_:Pk.bind(null,n),i_:Nk.bind(null,n),Y_:kk.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),ev(n)?tv(n):n.Va.set("Unknown")):(await n.fa.stop(),nA(n))})),n.fa}function yr(n){return n.ga||(n.ga=function(e,s,a){const l=Ct(e);return l.oa(),new Ik(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:zk.bind(null,n),i_:Bk.bind(null,n),na:Uk.bind(null,n),ra:jk.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await hd(n)):(await n.ga.stop(),n.Ia.length>0&&(dt(Ra,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const c=Date.now()+s,d=new nv(t,e,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,t){if(ms("AsyncQueue",`${t}: ${n}`),rl(n))return new pt(tt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||bt.comparator(e.key,s.key):(e,s)=>bt.comparator(e.key,s.key),this.keyedMap=wu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.pa=new de(bt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):St(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class Wo{constructor(t,e,s,a,l,c,d,p,m){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,e,s,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Wo(t,e,Bo.emptySet(e),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class Hk{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Ct(e),l=a.queries;a.queries=xE(),l.forEach((c,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new pt(tt.ABORTED,"Firestore shutting down"))}}function xE(){return new Oa(n=>RS(n),sd)}async function sv(n,t){const e=Ct(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Da()&&t.va()&&(s=2):(l=new qk,s=t.va()?0:1);try{switch(s){case 0:l.ba=await e.onListen(a,!0);break;case 1:l.ba=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=iv(c,`Initialization of query '${Co(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Sa.push(t),t.Fa(e.onlineState),l.ba&&t.Ma(l.ba)&&av(e)}async function rv(n,t){const e=Ct(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.va()?0:1:!l.Da()&&t.va()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Gk(n,t){const e=Ct(n);let s=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(s=!0);c.ba=a}}s&&av(e)}function Yk(n,t,e){const s=Ct(n),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);s.queries.delete(t)}function av(n){n.Ca.forEach(t=>{t.next()})}var Gg,OE;(OE=Gg||(Gg={})).xa="default",OE.Cache="cache";class ov{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.key=t}}class oA{constructor(t){this.key=t}}class Qk{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.Za=IS(t),this.Xa=new Bo(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new CE,a=e?e.Xa:this.Xa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const T=a.get(v),R=rd(this.query,E)?E:null,V=!!T&&this.mutatedKeys.has(T.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let U=!1;T&&R?T.data.isEqual(R.data)?V!==q&&(s.track({type:3,doc:R}),U=!0):this.ru(T,R)||(s.track({type:2,doc:R}),U=!0,(p&&this.Za(R,p)>0||m&&this.Za(R,m)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),U=!0):T&&!R&&(s.track({type:1,doc:T}),U=!0,(p||m)&&(d=!0)),U&&(R?(c=c.add(R),l=q?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Xa:c,nu:s,Cs:d,mutatedKeys:l}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((v,E)=>function(R,V){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:U})}};return q(R)-q(V)}(v.type,E.type)||this.Za(v.doc,E.doc)),this.iu(s),a=a!=null&&a;const d=e&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Ja;return this.Ja=p,c.length!==0||m?{snapshot:new Wo(this.query,t.Xa,l,c,t.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new CE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new oA(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new aA(s))}),e}au(t){this.Ha=t.$s,this.Ya=Lt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Wo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const lv="SyncEngine";class $k{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class Kk{constructor(t){this.key=t,this.cu=!1}}class Xk{constructor(t,e,s,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Oa(d=>RS(d),sd),this.Pu=new Map,this.Tu=new Set,this.Iu=new de(bt.comparator),this.Eu=new Map,this.du=new $y,this.Au={},this.Ru=new Map,this.Vu=Xo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Wk(n,t,e=!0){const s=dA(n);let a;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await lA(s,t,e,!0),a}async function Zk(n,t){const e=dA(n);await lA(e,t,!0,!1)}async function lA(n,t,e,s){const a=await vk(n.localStore,Mi(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await Jk(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&tA(n.remoteStore,a),d}async function Jk(n,t,e,s,a){n.fu=(E,T,R)=>async function(q,U,K,Q){let $=U.view.tu(K);$.Cs&&($=await TE(q.localStore,U.query,!1).then(({documents:x})=>U.view.tu(x,$)));const ut=Q&&Q.targetChanges.get(U.targetId),lt=Q&&Q.targetMismatches.get(U.targetId)!=null,rt=U.view.applyChanges($,q.isPrimaryClient,ut,lt);return ME(q,U.targetId,rt.ou),rt.snapshot}(n,E,T,R);const l=await TE(n.localStore,t,!0),c=new Qk(t,l.$s),d=c.tu(l.documents),p=ac.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),m=c.applyChanges(d,n.isPrimaryClient,p);ME(n,e,m.ou);const v=new $k(t,e,c);return n.hu.set(t,v),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),m.snapshot}async function t4(n,t,e){const s=Ct(n),a=s.hu.get(t),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(c=>!sd(c,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await qg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&Zy(s.remoteStore,a.targetId),Yg(s,a.targetId)}).catch(sl)):(Yg(s,a.targetId),await qg(s.localStore,a.targetId,!0))}async function e4(n,t){const e=Ct(n),s=e.hu.get(t),a=e.Pu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Zy(e.remoteStore,s.targetId))}async function n4(n,t,e){const s=u4(n);try{const a=await function(c,d){const p=Ct(c),m=Pe.now(),v=d.reduce((R,V)=>R.add(V.key),Lt());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let V=gs(),q=Lt();return p.Bs.getEntries(R,v).next(U=>{V=U,V.forEach((K,Q)=>{Q.isValidDocument()||(q=q.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,V)).next(U=>{E=U;const K=[];for(const Q of d){const $=vN(Q,E.get(Q.key).overlayedDocument);$!=null&&K.push(new Ir(Q.key,$,vS($.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(R,m,K,d)}).next(U=>{T=U;const K=U.applyToLocalDocumentSet(E,q);return p.documentOverlayCache.saveOverlays(R,U.batchId,K)})}).then(()=>({batchId:T.batchId,changes:xS(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Au[c.currentUser.toKey()];m||(m=new de(Dt)),m=m.insert(d,p),c.Au[c.currentUser.toKey()]=m}(s,a.batchId,e),await lc(s,a.changes),await hd(s.remoteStore)}catch(a){const l=iv(a,"Failed to persist write");e.reject(l)}}async function uA(n,t){const e=Ct(n);try{const s=await mk(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Eu.get(l);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?$t(c.cu,14607):a.removedDocuments.size>0&&($t(c.cu,42227),c.cu=!1))}),await lc(e,s,t)}catch(s){await sl(s)}}function DE(n,t,e){const s=Ct(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.hu.forEach((l,c)=>{const d=c.view.Fa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ct(c);p.onlineState=d;let m=!1;p.queries.forEach((v,E)=>{for(const T of E.Sa)T.Fa(d)&&(m=!0)}),m&&av(p)}(s.eventManager,t),a.length&&s.lu.Y_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function i4(n,t,e){const s=Ct(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Eu.get(t),l=a&&a.key;if(l){let c=new de(bt.comparator);c=c.insert(l,sn.newNoDocument(l,It.min()));const d=Lt().add(l),p=new ld(It.min(),new Map,new de(Dt),c,d);await uA(s,p),s.Iu=s.Iu.remove(l),s.Eu.delete(t),uv(s)}else await qg(s.localStore,t,!1).then(()=>Yg(s,t,e)).catch(sl)}async function s4(n,t){const e=Ct(n),s=t.batch.batchId;try{const a=await pk(e.localStore,t);hA(e,s,null),cA(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await lc(e,a)}catch(a){await sl(a)}}async function r4(n,t,e){const s=Ct(n);try{const a=await function(c,d){const p=Ct(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next(E=>($t(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(m,E))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(s.localStore,t);hA(s,t,e),cA(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await lc(s,a)}catch(a){await sl(a)}}function cA(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function hA(n,t,e){const s=Ct(n);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.Au[s.currentUser.toKey()]=a}}function Yg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Pu.get(t))n.hu.delete(s),e&&n.lu.gu(s,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(s=>{n.du.containsKey(s)||fA(n,s)})}function fA(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(Zy(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),uv(n))}function ME(n,t,e){for(const s of e)s instanceof aA?(n.du.addReference(s.key,t),a4(n,s)):s instanceof oA?(dt(lv,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,t),n.du.containsKey(s.key)||fA(n,s.key)):St(19791,{pu:s})}function a4(n,t){const e=t.key,s=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(s)||(dt(lv,"New document in limbo: "+e),n.Tu.add(s),uv(n))}function uv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new bt(ae.fromString(t)),s=n.Vu.next();n.Eu.set(s,new Kk(e)),n.Iu=n.Iu.insert(e,s),tA(n.remoteStore,new ar(Mi(id(e.path)),s,"TargetPurposeLimboResolution",td.le))}}async function lc(n,t,e){const s=Ct(n),a=[],l=[],c=[];s.hu.isEmpty()||(s.hu.forEach((d,p)=>{c.push(s.fu(p,t,e).then(m=>{var v;if((m||e)&&s.isPrimaryClient){const E=m?!m.fromCache:(v=e==null?void 0:e.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(m){a.push(m);const E=Xy.Rs(p.targetId,m);l.push(E)}}))}),await Promise.all(c),s.lu.Y_(a),await async function(p,m){const v=Ct(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>et.forEach(m,T=>et.forEach(T.ds,R=>v.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>et.forEach(T.As,R=>v.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!rl(E))throw E;dt(Wy,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const R=v.xs.get(T),V=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(V);v.xs=v.xs.insert(T,q)}}}(s.localStore,l))}async function o4(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){dt(lv,"User change. New user:",t.toKey());const s=await XS(e.localStore,t);e.currentUser=t,function(l,c){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new pt(tt.CANCELLED,c))})}),l.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await lc(e,s.ks)}}function l4(n,t){const e=Ct(n),s=e.Eu.get(t);if(s&&s.cu)return Lt().add(s.key);{let a=Lt();const l=e.Pu.get(t);if(!l)return a;for(const c of l){const d=e.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function dA(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=i4.bind(null,t),t.lu.Y_=Gk.bind(null,t.eventManager),t.lu.gu=Yk.bind(null,t.eventManager),t}function u4(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,t),t}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ud(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return dk(this.persistence,new ck,t.initialUser,this.serializer)}Su(t){return new KS(Ky.fi,this.serializer)}bu(t){return new bk}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class c4 extends Lf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){$t(this.persistence.referenceDelegate instanceof kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KN(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new KS(s=>kf.fi(s,e),this.serializer)}}class Qg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=o4.bind(null,this.syncEngine),await Fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Hk}()}createDatastore(t){const e=ud(t.databaseInfo.databaseId),s=function(l){return new Ak(l)}(t.databaseInfo);return function(l,c,d,p){return new xk(l,c,d,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,l,c,d){return new Dk(s,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>DE(this.syncEngine,e,0),function(){return AE.C()?new AE:new Ek}())}createSyncEngine(t,e){return function(a,l,c,d,p,m,v){const E=new Xk(a,l,c,d,p,m);return v&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=Ct(a);dt(Ra,"RemoteStore shutting down."),l.da.add(5),await oc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class h4{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=lS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{dt(vr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(dt(vr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=iv(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function sg(n,t){n.asyncQueue.verifyOperationInProgress(),dt(vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await XS(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function PE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await f4(n);dt(vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>IE(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>IE(t.remoteStore,a)),n._onlineComponents=t}async function f4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(vr,"Using user provided OfflineComponentProvider");try{await sg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Yo("Error using user provided cache. Falling back to memory cache: "+e),await sg(n,new Lf)}}else dt(vr,"Using default OfflineComponentProvider"),await sg(n,new c4(void 0));return n._offlineComponents}async function pA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(vr,"Using user provided OnlineComponentProvider"),await PE(n,n._uninitializedComponentsProvider._online)):(dt(vr,"Using default OnlineComponentProvider"),await PE(n,new Qg))),n._onlineComponents}function d4(n){return pA(n).then(t=>t.syncEngine)}async function zf(n){const t=await pA(n),e=t.eventManager;return e.onListen=Wk.bind(null,t.syncEngine),e.onUnlisten=t4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Zk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=e4.bind(null,t.syncEngine),e}function p4(n,t,e={}){const s=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new cv({next:T=>{v.xu(),c.enqueueAndForget(()=>rv(l,E));const R=T.docs.has(d);!R&&T.fromCache?m.reject(new pt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&p&&p.source==="server"?m.reject(new pt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new ov(id(d.path),v,{includeMetadataChanges:!0,Qa:!0});return sv(l,E)}(await zf(n),n.asyncQueue,t,e,s)),s.promise}function m4(n,t,e={}){const s=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new cv({next:T=>{v.xu(),c.enqueueAndForget(()=>rv(l,E)),T.fromCache&&p.source==="server"?m.reject(new pt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new ov(d,v,{includeMetadataChanges:!0,Qa:!0});return sv(l,E)}(await zf(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n,t,e){if(!e)throw new pt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function g4(n,t,e,s){if(t===!0&&s===!0)throw new pt(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function kE(n){if(!bt.isDocumentKey(n))throw new pt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VE(n){if(bt.isDocumentKey(n))throw new pt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function bn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=fd(n);throw new pt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",LE=!0;class zE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=LE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:LE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QN)throw new pt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dd{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SP;switch(s.type){case"firstParty":return new CP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=NE.get(e);s&&(dt("ComponentProvider","Removing Datastore"),NE.delete(e),s.terminate())}(this),Promise.resolve()}}function y4(n,t,e,s={}){var a;n=bn(n,dd);const l=tl(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${t}:${e}`;l&&(cw(`https://${p}`),hw("Firestore",!0)),c.host!==yA&&c.host!==p&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:s});if(!Ea(m,d)&&(n._setSettings(m),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=nn.MOCK_USER;else{v=Vx(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(T)}n._authCredentials=new AP(new aS(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cr(this.firestore,t,this._query)}}class an{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new an(this.firestore,t,this._key)}}class fr extends Cr{constructor(t,e,s){super(t,e,id(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new an(this.firestore,null,new bt(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function Ts(n,t,...e){if(n=Fe(n),gA("collection","path",t),n instanceof dd){const s=ae.fromString(t,...e);return VE(s),new fr(n,null,s)}{if(!(n instanceof an||n instanceof fr))throw new pt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return VE(s),new fr(n.firestore,null,s)}}function _r(n,t,...e){if(n=Fe(n),arguments.length===1&&(t=lS.newId()),gA("doc","path",t),n instanceof dd){const s=ae.fromString(t,...e);return kE(s),new an(n,null,new bt(s))}{if(!(n instanceof an||n instanceof fr))throw new pt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return kE(s),new an(n.firestore,n instanceof fr?n.converter:null,new bt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class jE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ZS(this,"async_queue_retry"),this.rc=()=>{const s=ig();s&&dt(UE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=ig();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new fs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!rl(t))throw t;dt(UE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,ms("INTERNAL UNHANDLED ERROR: ",BE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const a=nv.createAndSchedule(this,t,e,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&St(47125,{cc:BE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function BE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ys extends dd{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new jE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jE(t),this._firestoreClient=void 0,await t}}}function v4(n,t){const e=typeof n=="object"?n:mw(),s=typeof n=="string"?n:xf,a=Iy(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Nx("firestore");l&&y4(a,...l)}return a}function pd(n){if(n._terminated)throw new pt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_4(n),n._firestoreClient}function _4(n){var t,e,s;const a=n._freezeSettings(),l=function(d,p,m,v){return new qP(d,p,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,mA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new h4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zo(We.fromBase64String(t))}catch(e){throw new pt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zo(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^__.*__$/;class E4{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms):new rc(t,this.data,e,this.fieldTransforms)}}class vA{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _A(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ic:n})}}class pv{constructor(t,e,s,a,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new pv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:s,Rc:!1});return a.Vc(t),a}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Uf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(_A(this.Ic)&&b4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class T4{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||ud(t)}bc(t,e,s,a=!1){return new pv({Ic:t,methodName:e,wc:s,path:Ke.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(n){const t=n._freezeSettings(),e=ud(n._databaseId);return new T4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function bA(n,t,e,s,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,t,e,a);mv("Data must be an object, but it was:",c,s);const d=EA(s,c);let p,m;if(l.merge)p=new Dn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=$g(t,E,e);if(!c.contains(T))throw new pt(tt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);wA(v,T)||v.push(T)}p=new Dn(v),m=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,m=c.fieldTransforms;return new E4(new _n(d),p,m)}class yd extends hv{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yd}}function w4(n,t,e,s){const a=n.bc(1,t,e);mv("Data must be an object, but it was:",a,s);const l=[],c=_n.empty();Rr(s,(p,m)=>{const v=gv(t,p,e);m=Fe(m);const E=a.mc(v);if(m instanceof yd)l.push(v);else{const T=uc(m,E);T!=null&&(l.push(v),c.set(v,T))}});const d=new Dn(l);return new vA(c,d,a.fieldTransforms)}function S4(n,t,e,s,a,l){const c=n.bc(1,t,e),d=[$g(t,s,e)],p=[a];if(l.length%2!=0)throw new pt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push($g(t,l[T])),p.push(l[T+1]);const m=[],v=_n.empty();for(let T=d.length-1;T>=0;--T)if(!wA(m,d[T])){const R=d[T];let V=p[T];V=Fe(V);const q=c.mc(R);if(V instanceof yd)m.push(R);else{const U=uc(V,q);U!=null&&(m.push(R),v.set(R,U))}}const E=new Dn(m);return new vA(v,E,c.fieldTransforms)}function A4(n,t,e,s=!1){return uc(e,n.bc(s?4:3,t))}function uc(n,t){if(TA(n=Fe(n)))return mv("Unsupported field value:",t,n),EA(n,t);if(n instanceof hv)return function(s,a){if(!_A(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let p=uc(d,a.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,t)}return function(s,a){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Pe.fromDate(s);return{timestampValue:Nf(a.serializer,l)}}if(s instanceof Pe){const l=new Pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nf(a.serializer,l)}}if(s instanceof fv)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zo)return{bytesValue:BS(a.serializer,s._byteString)};if(s instanceof an){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof dv)return function(c,d){return{mapValue:{fields:{[gS]:{stringValue:yS},[Of]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return qy(d.serializer,m)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${fd(s)}`)}(n,t)}function EA(n,t){const e={};return cS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(n,(s,a)=>{const l=uc(a,t.Ac(s));l!=null&&(e[s]=l)}),{mapValue:{fields:e}}}function TA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pe||n instanceof fv||n instanceof Zo||n instanceof an||n instanceof hv||n instanceof dv)}function mv(n,t,e){if(!TA(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=fd(e);throw s==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+s)}}function $g(n,t,e){if((t=Fe(t))instanceof md)return t._internalPath;if(typeof t=="string")return gv(n,t);throw Uf("Field path arguments must be of type string or ",n,!1,void 0,e)}const R4=new RegExp("[~\\*/\\[\\]]");function gv(n,t,e){if(t.search(R4)>=0)throw Uf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new md(...t.split("."))._internalPath}catch{throw Uf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Uf(n,t,e,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new pt(tt.INVALID_ARGUMENT,d+n+p)}function wA(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class I4 extends SA{data(){return super.data()}}function vd(n,t){return typeof t=="string"?gv(n,t):t instanceof md?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class RA extends yv{}function ll(n,t,...e){let s=[];t instanceof yv&&s.push(t),s=s.concat(e),function(l){const c=l.filter(p=>p instanceof vv).length,d=l.filter(p=>p instanceof _d).length;if(c>1||c>0&&d>0)throw new pt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class _d extends RA{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new _d(t,e,s)}_apply(t){const e=this._parse(t);return IA(t._query,e),new Cr(t.firestore,t.converter,Lg(t._query,e))}_parse(t){const e=gd(t.firestore);return function(l,c,d,p,m,v,E){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){HE(E,v);const V=[];for(const q of E)V.push(qE(p,l,q));T={arrayValue:{values:V}}}else T=qE(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||HE(E,v),T=A4(d,c,E,v==="in"||v==="not-in");return Re.create(m,v,T)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function br(n,t,e){const s=t,a=vd("where",n);return _d._create(a,s,e)}class vv extends yv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new vv(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ai.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)IA(c,p),c=Lg(c,p)}(t._query,e),new Cr(t.firestore,t.converter,Lg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _v extends RA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _v(t,e)}_apply(t){const e=function(a,l,c){if(a.startAt!==null)throw new pt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)}(t._query,this._field,this._direction);return new Cr(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new al(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function C4(n,t="asc"){const e=t,s=vd("orderBy",n);return _v._create(s,e)}function qE(n,t,e){if(typeof(e=Fe(e))=="string"){if(e==="")throw new pt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(t)&&e.indexOf("/")!==-1)throw new pt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ae.fromString(e));if(!bt.isDocumentKey(s))throw new pt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iE(n,new bt(s))}if(e instanceof an)return iE(n,e._key);throw new pt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(e)}.`)}function HE(n,t){if(!Array.isArray(n)||n.length===0)throw new pt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IA(n,t){const e=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new pt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class x4{convertValue(t,e="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Rr(t,(a,l)=>{s[a]=this.convertValue(l,e)}),s}convertVectorValue(t){var e,s,a;const l=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[Of].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>be(c.doubleValue));return new dv(l)}convertGeoPoint(t){return new fv(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=nd(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Hu(t));default:return null}}convertTimestamp(t){const e=pr(t);return new Pe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ae.fromString(t);$t(QS(s),9688,{name:t});const a=new Gu(s.get(1),s.get(3)),l=new bt(s.popFirst(5));return a.isEqual(e)||ms(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xA extends SA{constructor(t,e,s,a,l,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(vd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class df extends xA{data(t={}){return super.data(t)}}class OA{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new df(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:O4(d.type),doc:p,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function O4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){n=bn(n,an);const t=bn(n.firestore,ys);return p4(pd(t),n._key).then(e=>NA(t,n,e))}class bv extends x4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new an(this.firestore,null,e)}}function cc(n){n=bn(n,Cr);const t=bn(n.firestore,ys),e=pd(t),s=new bv(t);return AA(n._query),m4(e,n._query).then(a=>new OA(t,s,n,a))}function MA(n,t,e){n=bn(n,an);const s=bn(n.firestore,ys),a=CA(n.converter,t,e);return bd(s,[bA(gd(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,$n.none())])}function PA(n,t,e,...s){n=bn(n,an);const a=bn(n.firestore,ys),l=gd(a);let c;return c=typeof(t=Fe(t))=="string"||t instanceof md?S4(l,"updateDoc",n._key,t,e,s):w4(l,"updateDoc",n._key,t),bd(a,[c.toMutation(n._key,$n.exists(!0))])}function Ev(n){return bd(bn(n.firestore,ys),[new Hy(n._key,$n.none())])}function Tv(n,t){const e=bn(n.firestore,ys),s=_r(n),a=CA(n.converter,t);return bd(e,[bA(gd(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}function D4(n,...t){var e,s,a;n=Fe(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||FE(t[c])||(l=t[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(FE(t[c])){const E=t[c];t[c]=(e=E.next)===null||e===void 0?void 0:e.bind(E),t[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),t[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let p,m,v;if(n instanceof an)m=bn(n.firestore,ys),v=id(n._key.path),p={next:E=>{t[c]&&t[c](NA(m,n,E))},error:t[c+1],complete:t[c+2]};else{const E=bn(n,Cr);m=bn(E.firestore,ys),v=E._query;const T=new bv(m);p={next:R=>{t[c]&&t[c](new OA(m,T,E,R))},error:t[c+1],complete:t[c+2]},AA(n._query)}return function(T,R,V,q){const U=new cv(q),K=new ov(R,U,V);return T.asyncQueue.enqueueAndForget(async()=>sv(await zf(T),K)),()=>{U.xu(),T.asyncQueue.enqueueAndForget(async()=>rv(await zf(T),K))}}(pd(m),v,d,p)}function bd(n,t){return function(s,a){const l=new fs;return s.asyncQueue.enqueueAndForget(async()=>n4(await d4(s),a,l)),l.promise}(pd(n),t)}function NA(n,t,e){const s=e.docs.get(t._key),a=new bv(n);return new xA(n,a,t._key,s,new Au(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){il=a})(el),Go(new Ta("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ys(new RP(s.getProvider("auth-internal")),new xP(c,s.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(m.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),cr(G1,Y1,t),cr(G1,Y1,"esm2017")})();const M4={apiKey:"AIzaSyBXLIIMWQj3KFQEUs4lcvk6NeR8Gr8zAbQ",authDomain:"project-sapphire-d8da8.firebaseapp.com",projectId:"project-sapphire-d8da8",appId:"1:641315751166:web:a06da9ec60ee071028d1af"},kA=pw(M4),Xe=bP(kA),on=v4(kA);function P4({mode:n,onClose:t}){const[e,s]=at.useState(""),[a,l]=at.useState(""),[c,d]=at.useState(""),p=async m=>{m.preventDefault(),d("");try{n==="signup"?await aM(Xe,e,a):await oM(Xe,e,a),t()}catch(v){d(v.message)}};return L.jsx("div",{className:"auth-modal-overlay",children:L.jsxs("div",{className:"auth-modal",children:[L.jsx("button",{className:"close-btn",onClick:t,children:"×"}),L.jsx("h2",{children:n==="signup"?"Sign Up":"Sign In"}),L.jsxs("form",{onSubmit:p,children:[L.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:m=>s(m.target.value),required:!0}),L.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:m=>l(m.target.value),required:!0}),c&&L.jsx("p",{className:"auth-error",children:c}),L.jsx("button",{type:"submit",children:n==="signup"?"Create Account":"Login"})]})]})})}function N4({onClose:n}){const[t,e]=at.useState([]),[s,a]=at.useState("all");at.useEffect(()=>{(async()=>{const p=Xe.currentUser;if(!p)return;const m=ll(Ts(on,"chats"),br("uid","==",p.uid)),E=(await cc(m)).docs.map(T=>({id:T.id,...T.data()}));e(E)})()},[]);const l=async(d,p)=>{const m=_r(on,"chats",d);await PA(m,{favorite:!p}),e(v=>v.map(E=>E.id===d?{...E,favorite:!p}:E))},c=s==="favorites"?t.filter(d=>d.favorite):t;return L.jsx("div",{className:"auth-modal-overlay",children:L.jsxs("div",{className:"auth-modal",children:[L.jsx("button",{className:"close-btn",onClick:n,children:"×"}),L.jsx("h2",{children:"Chat History"}),L.jsxs("div",{className:"tabs",children:[L.jsx("button",{className:`tab-button ${s==="all"?"active":""}`,onClick:()=>a("all"),children:"All Chats"}),L.jsx("button",{className:`tab-button ${s==="favorites"?"active":""}`,onClick:()=>a("favorites"),children:L.jsxs("span",{className:"favorites-tab-label",children:["Favorites ",L.jsx("span",{className:"star",children:"★"})]})})]}),c.length===0?L.jsx("p",{children:"No messages yet."}):L.jsx("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:c.map((d,p)=>L.jsxs("li",{style:{marginBottom:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[L.jsxs("div",{children:[L.jsx("strong",{children:"You:"})," ",d.userMessage,L.jsx("br",{}),L.jsx("strong",{children:"AI:"})," ",d.assistantMessage]}),L.jsx("button",{onClick:()=>l(d.id,d.favorite),style:{border:"none",background:"none",fontSize:d.favorite?"1.5rem":"1.25rem",cursor:"pointer",color:d.favorite?"#0a84ff":"#888",textShadow:d.favorite?"0 0 6px #0a84ff":"none",transition:"all 0.2s ease"},title:d.favorite?"Unfavorite":"Favorite",children:d.favorite?"★":"☆"})]},p))})]})})}function VA({userAvatar:n,assistantAvatar:t,userName:e="",assistantName:s="",onAvatarChange:a,onNameChange:l,onClose:c}){const[d,p]=at.useState(n),[m,v]=at.useState(t),[E,T]=at.useState(e),[R,V]=at.useState(s),q=()=>{d&&a("user",d),m&&a("assistant",m),E&&l("user",E),R&&l("assistant",R),c()};return L.jsx("div",{className:"profile-modal-overlay",children:L.jsxs("div",{className:"profile-modal",children:[L.jsx("h2",{children:"Customize Profile"}),L.jsxs("div",{className:"avatar-section",children:[L.jsx("label",{children:"User Avatar:"}),L.jsx("img",{src:d,alt:"User",className:"avatar-preview"}),L.jsx("input",{type:"text",value:d,onChange:U=>p(U.target.value),placeholder:"Image URL or /path/to/image.png"})]}),L.jsxs("div",{className:"avatar-section",children:[L.jsx("label",{children:"Assistant Avatar:"}),L.jsx("img",{src:m,alt:"Assistant",className:"avatar-preview"}),L.jsx("input",{type:"text",value:m,onChange:U=>v(U.target.value),placeholder:"Image URL or /path/to/image.png"})]}),L.jsxs("div",{className:"name-section",children:[L.jsx("label",{children:"User Name:"}),L.jsx("input",{type:"text",value:E,onChange:U=>T(U.target.value),placeholder:"Your name"})]}),L.jsxs("div",{className:"name-section",children:[L.jsx("label",{children:"Assistant Name:"}),L.jsx("input",{type:"text",value:R,onChange:U=>V(U.target.value),placeholder:"Assistant's name"})]}),L.jsxs("div",{className:"modal-buttons",children:[L.jsx("button",{onClick:q,children:"Save"}),L.jsx("button",{onClick:c,className:"cancel-button",children:"Cancel"})]})]})})}function k4({userAvatar:n,assistantAvatar:t,userName:e,assistantName:s,onAvatarChange:a,onNameChange:l}){const[c,d]=at.useState(!1),[p,m]=at.useState(null),[v,E]=at.useState(!1),[T,R]=at.useState(!1),[V,q]=at.useState(null);at.useEffect(()=>Xe.onAuthStateChanged(Q=>{q(Q)}),[]);const U=K=>{K==="Sign up"?m("signup"):K==="Sign in"?m("signin"):K==="Chat History"?E(!0):K==="Sign out"&&(Xe.signOut(),q(null),d(!1)),d(!1)};return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"sidebar-toggle-wrapper",children:[L.jsx("button",{className:"menu-toggle",onClick:()=>d(!c),children:"☰ Menu"}),c&&L.jsxs("div",{className:"sidebar",children:[V&&L.jsxs("div",{className:"user-info",children:["Signed in as ",L.jsx("strong",{children:V.email})]}),!V&&L.jsxs(L.Fragment,{children:[L.jsx("button",{className:"sidebar-button",onClick:()=>U("Sign up"),children:"Sign up"}),L.jsx("button",{className:"sidebar-button",onClick:()=>U("Sign in"),children:"Sign in"})]}),V&&L.jsxs(L.Fragment,{children:[L.jsx("button",{className:"sidebar-button",onClick:()=>U("Sign out"),children:"Sign out"}),L.jsx("button",{className:"sidebar-button",onClick:()=>R(!0),children:"Profile"}),L.jsx("button",{className:"sidebar-button",onClick:()=>E(!0),children:"Chat History"})]})]})]}),p&&L.jsx(P4,{mode:p,onClose:()=>m(null)}),v&&L.jsx(N4,{onClose:()=>E(!1)}),T&&L.jsx(VA,{userAvatar:n,assistantAvatar:t,userName:e,assistantName:s,onAvatarChange:a,onNameChange:l,onClose:()=>R(!1)})]})}function V4({audioRef:n,isSpeaking:t}){const e=at.useRef(null),s=at.useRef(null),a=at.useRef(null),l=at.useRef(null),c=at.useRef(null),d=at.useRef(null),p=at.useRef(0);return at.useEffect(()=>{const m=e.current,v=m.getContext("2d"),E=m.width,T=m.height,R=E/2,V=T/2,q=60,U=64;if(a.current||(a.current=new(window.AudioContext||window.webkitAudioContext),l.current=a.current.createAnalyser(),l.current.fftSize=128,c.current=new Uint8Array(l.current.frequencyBinCount)),n.current&&!d.current)try{d.current=a.current.createMediaElementSource(n.current),d.current.connect(l.current),l.current.connect(a.current.destination)}catch(Q){console.warn("Assistant audio source already connected or failed:",Q)}const K=()=>{s.current=requestAnimationFrame(K),v.clearRect(0,0,E,T),l.current.getByteFrequencyData(c.current);let Q=c.current.reduce((lt,rt)=>lt+rt,0)/c.current.length;Q<2&&(Q=Math.sin(Date.now()/600)*10+12),p.current+=.05;const $=q+Q*.2;v.beginPath();for(let lt=0;lt<=U;lt++){const rt=lt/U*Math.PI*2,x=Math.sin(rt*4+p.current)*(Q/6),A=$+x,I=R+A*Math.cos(rt),D=V+A*Math.sin(rt);lt===0?v.moveTo(I,D):v.lineTo(I,D)}v.closePath();const ut=v.createRadialGradient(R,V,$*.4,R,V,$);ut.addColorStop(0,"rgba(15,82,186, 0.9)"),ut.addColorStop(1,"rgba(15,82,186,0.2)"),v.fillStyle=ut,v.shadowColor="rgba(15,82,186, 0.9)",v.shadowBlur=30,v.fill()};return K(),()=>{cancelAnimationFrame(s.current),v&&v.clearRect(0,0,E,T)}},[n]),L.jsx("canvas",{ref:e,width:300,height:300,style:{display:"block",margin:"40px auto"}})}let L4={data:""},z4=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||L4,U4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,j4=/\/\*[^]*?\*\/|  +/g,GE=/\n+/g,rr=(n,t)=>{let e="",s="",a="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+c+";":s+=l[1]=="f"?rr(c,l):l+"{"+rr(c,l[1]=="k"?"":t)+"}":typeof c=="object"?s+=rr(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=rr.p?rr.p(l,c):l+":"+c+";")}return e+(t&&a?t+"{"+a+"}":a)+s},ls={},LA=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+LA(n[e]);return t}return n},B4=(n,t,e,s,a)=>{let l=LA(n),c=ls[l]||(ls[l]=(p=>{let m=0,v=11;for(;m<p.length;)v=101*v+p.charCodeAt(m++)>>>0;return"go"+v})(l));if(!ls[c]){let p=l!==n?n:(m=>{let v,E,T=[{}];for(;v=U4.exec(m.replace(j4,""));)v[4]?T.shift():v[3]?(E=v[3].replace(GE," ").trim(),T.unshift(T[0][E]=T[0][E]||{})):T[0][v[1]]=v[2].replace(GE," ").trim();return T[0]})(n);ls[c]=rr(a?{["@keyframes "+c]:p}:p,e?"":"."+c)}let d=e&&ls.g?ls.g:null;return e&&(ls.g=ls[c]),((p,m,v,E)=>{E?m.data=m.data.replace(E,p):m.data.indexOf(p)===-1&&(m.data=v?p+m.data:m.data+p)})(ls[c],t,s,d),c},F4=(n,t,e)=>n.reduce((s,a,l)=>{let c=t[l];if(c&&c.call){let d=c(e),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=p?"."+p:d&&typeof d=="object"?d.props?"":rr(d,""):d===!1?"":d}return s+a+(c??"")},"");function Ed(n){let t=this||{},e=n.call?n(t.p):n;return B4(e.unshift?e.raw?F4(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,z4(t.target),t.g,t.o,t.k)}let zA,Kg,Xg;Ed.bind({g:1});let vs=Ed.bind({k:1});function q4(n,t,e,s){rr.p=t,zA=n,Kg=e,Xg=s}function xr(n,t){let e=this||{};return function(){let s=arguments;function a(l,c){let d=Object.assign({},l),p=d.className||a.className;e.p=Object.assign({theme:Kg&&Kg()},d),e.o=/ *go\d+/.test(p),d.className=Ed.apply(e,s)+(p?" "+p:"");let m=n;return n[0]&&(m=d.as||n,delete d.as),Xg&&m[0]&&Xg(d),zA(m,d)}return a}}var H4=n=>typeof n=="function",jf=(n,t)=>H4(n)?n(t):n,G4=(()=>{let n=0;return()=>(++n).toString()})(),UA=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Y4=20,jA=(n,t)=>{switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,Y4)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:e}=t;return jA(n,{type:n.toasts.find(l=>l.id===e.id)?1:0,toast:e});case 3:let{toastId:s}=t;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let a=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},pf=[],ga={toasts:[],pausedAt:void 0},Ma=n=>{ga=jA(ga,n),pf.forEach(t=>{t(ga)})},Q4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$4=(n={})=>{let[t,e]=at.useState(ga),s=at.useRef(ga);at.useEffect(()=>(s.current!==ga&&e(ga),pf.push(e),()=>{let l=pf.indexOf(e);l>-1&&pf.splice(l,1)}),[]);let a=t.toasts.map(l=>{var c,d,p;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((d=n[l.type])==null?void 0:d.duration)||(n==null?void 0:n.duration)||Q4[l.type],style:{...n.style,...(p=n[l.type])==null?void 0:p.style,...l.style}}});return{...t,toasts:a}},K4=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||G4()}),hc=n=>(t,e)=>{let s=K4(t,n,e);return Ma({type:2,toast:s}),s.id},pn=(n,t)=>hc("blank")(n,t);pn.error=hc("error");pn.success=hc("success");pn.loading=hc("loading");pn.custom=hc("custom");pn.dismiss=n=>{Ma({type:3,toastId:n})};pn.remove=n=>Ma({type:4,toastId:n});pn.promise=(n,t,e)=>{let s=pn.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?jf(t.success,a):void 0;return l?pn.success(l,{id:s,...e,...e==null?void 0:e.success}):pn.dismiss(s),a}).catch(a=>{let l=t.error?jf(t.error,a):void 0;l?pn.error(l,{id:s,...e,...e==null?void 0:e.error}):pn.dismiss(s)}),n};var X4=(n,t)=>{Ma({type:1,toast:{id:n,height:t}})},W4=()=>{Ma({type:5,time:Date.now()})},ku=new Map,Z4=1e3,J4=(n,t=Z4)=>{if(ku.has(n))return;let e=setTimeout(()=>{ku.delete(n),Ma({type:4,toastId:n})},t);ku.set(n,e)},t6=n=>{let{toasts:t,pausedAt:e}=$4(n);at.useEffect(()=>{if(e)return;let l=Date.now(),c=t.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(p<0){d.visible&&pn.dismiss(d.id);return}return setTimeout(()=>pn.dismiss(d.id),p)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[t,e]);let s=at.useCallback(()=>{e&&Ma({type:6,time:Date.now()})},[e]),a=at.useCallback((l,c)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:m}=c||{},v=t.filter(R=>(R.position||m)===(l.position||m)&&R.height),E=v.findIndex(R=>R.id===l.id),T=v.filter((R,V)=>V<E&&R.visible).length;return v.filter(R=>R.visible).slice(...d?[T+1]:[0,T]).reduce((R,V)=>R+(V.height||0)+p,0)},[t]);return at.useEffect(()=>{t.forEach(l=>{if(l.dismissed)J4(l.id,l.removeDelay);else{let c=ku.get(l.id);c&&(clearTimeout(c),ku.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:X4,startPause:W4,endPause:s,calculateOffset:a}}},e6=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,n6=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,i6=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,s6=xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${n6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${i6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,r6=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a6=xr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${r6} 1s linear infinite;
`,o6=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,l6=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,u6=xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${l6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,c6=xr("div")`
  position: absolute;
`,h6=xr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f6=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,d6=xr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,p6=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?at.createElement(d6,null,t):t:e==="blank"?null:at.createElement(h6,null,at.createElement(a6,{...s}),e!=="loading"&&at.createElement(c6,null,e==="error"?at.createElement(s6,{...s}):at.createElement(u6,{...s})))},m6=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,g6=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,y6="0%{opacity:0;} 100%{opacity:1;}",v6="0%{opacity:1;} 100%{opacity:0;}",_6=xr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,b6=xr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,E6=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=UA()?[y6,v6]:[m6(e),g6(e)];return{animation:t?`${vs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},T6=at.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?E6(n.position||t||"top-center",n.visible):{opacity:0},l=at.createElement(p6,{toast:n}),c=at.createElement(b6,{...n.ariaProps},jf(n.message,n));return at.createElement(_6,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:l,message:c}):at.createElement(at.Fragment,null,l,c))});q4(at.createElement);var w6=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let l=at.useCallback(c=>{if(c){let d=()=>{let p=c.getBoundingClientRect().height;s(n,p)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return at.createElement("div",{ref:l,className:t,style:e},a)},S6=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},A6=Ed`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hh=16,R6=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:p}=t6(e);return at.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Hh,left:Hh,right:Hh,bottom:Hh,pointerEvents:"none",...l},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(m=>{let v=m.position||t,E=p.calculateOffset(m,{reverseOrder:n,gutter:s,defaultPosition:t}),T=S6(v,E);return at.createElement(w6,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?A6:"",style:T},m.type==="custom"?jf(m.message,m):a?a(m):at.createElement(T6,{toast:m,position:v}))}))},I6=pn;function C6({voiceEnabled:n,setVoiceEnabled:t,user:e}){const s=()=>{if(!e&&!n){I6("Please sign in to enable voice.",{icon:L.jsx("span",{style:{animation:"flash 1s infinite",fontSize:"20px"},children:"⬆️"})});return}t(!n)};return L.jsxs("div",{className:"voice-toggle-wrapper",children:[L.jsxs("label",{className:"toggle-switch",children:[L.jsx("input",{type:"checkbox",checked:n,onChange:s}),L.jsx("span",{className:"slider"})]}),L.jsx("span",{className:"toggle-label",children:n?"Voice Enabled":"Voice Disabled"})]})}function x6(n,t){const[e,s]=at.useState(!1),a=at.useRef([]),l=at.useRef(!1),c=at.useRef(new Audio),d=async m=>{a.current.push(m),l.current||p()},p=async()=>{if(a.current.length===0){l.current=!1,s(!1);return}l.current=!0,s(!0);const m=a.current.shift();try{const v=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${t}`,{method:"POST",headers:{"xi-api-key":n,"Content-Type":"application/json"},body:JSON.stringify({text:m,voice_settings:{stability:.5,similarity_boost:.75}})});if(!v.ok){console.error("TTS error",await v.text()),p();return}const E=await v.blob(),T=URL.createObjectURL(E),R=c.current;R.src=T,R.onended=()=>p(),R.onerror=()=>p(),R.load(),await R.play()}catch(v){console.error("TTS playback error:",v),p()}};return{speakIncrementally:d,isSpeaking:e,audioRef:c}}function O6({onResult:n,onError:t,onStart:e,onEnd:s,enabled:a=!0}){const l=at.useRef(null);return at.useEffect(()=>{if(!a)return;const d=window.SpeechRecognition||window.webkitSpeechRecognition;if(!d){console.warn("Speech Recognition API not supported.");return}const p=new d;return p.lang="en-US",p.interimResults=!1,p.maxAlternatives=1,p.onresult=m=>{const v=m.results[0][0].transcript;n&&n(v)},p.onerror=m=>{console.error("Speech recognition error:",m.error),t&&t(m.error)},p.onstart=()=>{e&&e()},p.onend=()=>{s&&s()},l.current=p,()=>{p.stop(),l.current=null}},[a,n,t,e,s]),{startListening:()=>{l.current&&l.current.start()}}}async function D6(n,t){t.trim()&&await Tv(Ts(on,"todos"),{uid:n,text:t.trim(),createdAt:new Date})}async function M6(n){const t=ll(Ts(on,"todos"),br("uid","==",n));return(await cc(t)).docs.map(s=>({id:s.id,...s.data()}))}async function P6(n,t){const e=ll(Ts(on,"todos"),br("uid","==",n),br("text","==",t.trim())),s=await cc(e);let a=!1;for(const l of s.docs)await Ev(l.ref),a=!0;return a}async function YE(n){const t=_r(on,"memories",n),e=await DA(t);return e.exists()?e.data():{facts:[]}}async function N6(n,t){const e=_r(on,"memories",n);await MA(e,t,{merge:!0})}async function BA(n,t,e){if(!t.trim()||!e){console.warn("❌ Missing title or date:",{title:t,date:e});return}const s=typeof e=="string"?new Date(e):e;if(isNaN(s)){console.error("❌ Invalid date passed to addCalendarEvent:",e);return}console.log("📅 Attempting to add event:",{uid:n,title:t,date:s}),await Tv(Ts(on,"calendarEvents"),{uid:n,title:t.trim(),date:s,createdAt:new Date}),console.log("✅ Successfully added event to Firestore.")}async function Wg(n){const t=ll(Ts(on,"calendarEvents"),br("uid","==",n));return(await cc(t)).docs.map(s=>({id:s.id,...s.data()}))}async function FA(n,t){const e=ll(Ts(on,"calendarEvents"),br("uid","==",n),br("title","==",t.trim())),s=await cc(e);for(const a of s.docs)await Ev(a.ref)}function k6(n){return["tonight","tomorrow","yesterday","next week","this weekend","today","in the morning","in the evening","at midnight","noon","later","soon","next","schedule","when does","what time","date","time","when"].some(e=>n.toLowerCase().includes(e))}function V6(){const n=new Date,t=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e=n.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return`The current local time is ${t}, and the date is ${e}.`}async function L6({userText:n,chatHistory:t,voiceEnabled:e,speakFn:s,setAssistantText:a,setChatHistory:l,CEREBRAS_API_KEY:c,userProfile:d}){var p,m,v,E;try{const T=n.toLowerCase(),R=Xe.currentUser;if(R&&/\bto[- ]?do\b/i.test(T)){if(T.startsWith("add")){const rt=n.toLowerCase().match(/add\s(.+?)(\s(to|into)?\s(my)?\s?to[- ]?do(\slist)?)?$/i),x=((p=rt==null?void 0:rt[1])==null?void 0:p.trim())||n.replace(/add\s?/i,"").trim();await D6(R.uid,x);const A=`I've added "${x}" to your to-do list.`;a(A),e&&await s(A);return}if(T.includes("list")){const rt=await M6(R.uid),x=rt.length>0?`Here are your tasks: ${rt.map(A=>A.text).join(", ")}.`:"You have no tasks.";a(x),e&&await s(x);return}if(T.startsWith("delete")){const rt=n.replace(/delete (to[- ]?do)?/i,"").trim(),A=await P6(R.uid,rt)?`Deleted "${rt}".`:`Couldn't find "${rt}".`;a(A),e&&await s(A);return}}if(R&&/(calendar|event|schedule)/i.test(T)){if(T.startsWith("add")||T.startsWith("schedule")){console.log("🧠 Calendar ADD attempt:",n);const rt=n.match(/(?:add|schedule)\s+(.+?)\s+on\s+([A-Za-z]+\s\d{1,2}(?:,\s*\d{4})?)\s+at\s+(\d{1,2}(?::\d{2})?\s*(?:am|pm)?)/i);if(rt){const[,A,I,D]=rt;let P;try{const C=/\d{4}/.test(I)?I:`${I}, ${new Date().getFullYear()}`;P=new Date(`${C} ${D}`)}catch(N){console.error("⛔ Date parsing failed:",N)}if(console.log("📅 Parsed values:",{title:A,dateStr:I,timeStr:D,dateTime:P}),!isNaN(P)){await BA(R.uid,A.trim(),P.toISOString());const N=`Scheduled "${A}" for ${P.toLocaleString()}.`;console.log("✅ Calendar event added:",N),a(N),e&&await s(N);return}console.warn("❌ Invalid dateTime after parsing:",`${I} ${D}`)}else console.warn("❌ Calendar prompt didn't match expected format.");const x=`Sorry, I couldn't understand the event. Try "Add lunch on July 4 at 2 PM".`;a(x),e&&await s(x);return}if(T.includes("what's on my calendar")||T.includes("list")||T.includes("show")){const rt=await Wg(R.uid),x=rt.length>0?`You have ${rt.length} event(s): ${rt.map(A=>`"${A.title}" on ${new Date(A.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}`).join(", ")}.`:"Your calendar is currently empty.";a(x),e&&await s(x);return}if(T.startsWith("delete")){const rt=n.match(/delete (.+)/i);if(rt){const x=rt[1];await FA(R.uid,x.trim());const A=`Deleted any events titled "${x}".`;a(A),e&&await s(A);return}}}a("");let V="",q=[];if(R&&(q=(await YE(R.uid)).facts.map(x=>({role:"system",content:x}))),d!=null&&d.userName||d!=null&&d.assistantName){const rt=`You are a helpful AI assistant named "${d.assistantName||"Assistant"}".
You are chatting with a user named "${d.userName||"User"}".
Always address the user by their name during the conversation when appropriate.
Respond in a friendly and conversational tone.`.trim();q.unshift({role:"system",content:rt})}k6(n)&&q.unshift({role:"system",content:V6()});const K=(await fetch("https://api.cerebras.ai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({model:"llama-4-scout-17b-16e-instruct",messages:[...q,...t,{role:"user",content:n}],stream:!0})})).body.getReader(),Q=new TextDecoder("utf-8");let $="",ut="";for(;;){const{value:rt,done:x}=await K.read();if(x)break;$+=Q.decode(rt,{stream:!0});const A=$.split(`
`).filter(Boolean);for(const I of A){if(!I.startsWith("data: "))continue;const D=I.replace("data: ","");try{const N=(E=(v=(m=JSON.parse(D).choices)==null?void 0:m[0])==null?void 0:v.delta)==null?void 0:E.content;N&&(a(C=>C+N),V+=N,ut+=N,(/[.!?]\s$/.test(ut)||ut.length>80)&&(e&&await s(ut.trim()),ut=""))}catch{console.warn("Skipping invalid JSON:",D)}}$=""}ut&&e&&await s(ut.trim());const lt=Date.now();if(l(rt=>[...rt,{role:"user",content:n,timestamp:lt},{role:"assistant",content:V.trim(),timestamp:lt}]),R){await Tv(Ts(on,"chats"),{uid:R.uid,userMessage:n,assistantMessage:V.trim(),timestamp:new Date});const rt=`${(d==null?void 0:d.userName)||"User"} said: "${n}". ${(d==null?void 0:d.assistantName)||"Assistant"} replied: "${V.trim()}"`,A=[...(await YE(R.uid)).facts.slice(-19),rt];await N6(R.uid,{facts:A})}}catch(T){console.error("❌ handleUserInput error:",T),a("Sorry, I had trouble understanding that.")}}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function z6(n,t,e){return(t=j6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function QE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function ot(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(e),!0).forEach(function(s){z6(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):QE(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function U6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function j6(n){var t=U6(n,"string");return typeof t=="symbol"?t:t+""}const $E=()=>{};let wv={},qA={},HA=null,GA={mark:$E,measure:$E};try{typeof window<"u"&&(wv=window),typeof document<"u"&&(qA=document),typeof MutationObserver<"u"&&(HA=MutationObserver),typeof performance<"u"&&(GA=performance)}catch{}const{userAgent:KE=""}=wv.navigator||{},Er=wv,oe=qA,XE=HA,Gh=GA;Er.document;const ws=!!oe.documentElement&&!!oe.head&&typeof oe.addEventListener=="function"&&typeof oe.createElement=="function",YA=~KE.indexOf("MSIE")||~KE.indexOf("Trident/");var B6=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,F6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,QA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},q6={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},$A=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],un="classic",Td="duotone",H6="sharp",G6="sharp-duotone",KA=[un,Td,H6,G6],Y6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Q6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},$6=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),K6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},X6=["fak","fa-kit","fakd","fa-kit-duotone"],WE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},W6=["kit"],Z6={kit:{"fa-kit":"fak"}},J6=["fak","fakd"],t3={kit:{fak:"fa-kit"}},ZE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Yh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},e3=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],n3=["fak","fa-kit","fakd","fa-kit-duotone"],i3={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},s3={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},r3={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Zg={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},a3=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Jg=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...e3,...a3],o3=["solid","regular","light","thin","duotone","brands"],XA=[1,2,3,4,5,6,7,8,9,10],l3=XA.concat([11,12,13,14,15,16,17,18,19,20]),u3=[...Object.keys(r3),...o3,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Yh.GROUP,Yh.SWAP_OPACITY,Yh.PRIMARY,Yh.SECONDARY].concat(XA.map(n=>"".concat(n,"x"))).concat(l3.map(n=>"w-".concat(n))),c3={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const _s="___FONT_AWESOME___",ty=16,WA="fa",ZA="svg-inline--fa",Ia="data-fa-i2svg",ey="data-fa-pseudo-element",h3="data-fa-pseudo-element-pending",Sv="data-prefix",Av="data-icon",JE="fontawesome-i2svg",f3="async",d3=["HTML","HEAD","STYLE","SCRIPT"],JA=(()=>{try{return!0}catch{return!1}})();function fc(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[un]}})}const tR=ot({},QA);tR[un]=ot(ot(ot(ot({},{"fa-duotone":"duotone"}),QA[un]),WE.kit),WE["kit-duotone"]);const p3=fc(tR),ny=ot({},K6);ny[un]=ot(ot(ot(ot({},{duotone:"fad"}),ny[un]),ZE.kit),ZE["kit-duotone"]);const tT=fc(ny),iy=ot({},Zg);iy[un]=ot(ot({},iy[un]),t3.kit);const Rv=fc(iy),sy=ot({},s3);sy[un]=ot(ot({},sy[un]),Z6.kit);fc(sy);const m3=B6,eR="fa-layers-text",g3=F6,y3=ot({},Y6);fc(y3);const v3=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],rg=q6,_3=[...W6,...u3],Vu=Er.FontAwesomeConfig||{};function b3(n){var t=oe.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function E3(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}oe&&typeof oe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,s]=t;const a=E3(b3(e));a!=null&&(Vu[s]=a)});const nR={styleDefault:"solid",familyDefault:un,cssPrefix:WA,replacementClass:ZA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Vu.familyPrefix&&(Vu.cssPrefix=Vu.familyPrefix);const Jo=ot(ot({},nR),Vu);Jo.autoReplaceSvg||(Jo.observeMutations=!1);const yt={};Object.keys(nR).forEach(n=>{Object.defineProperty(yt,n,{enumerable:!0,set:function(t){Jo[n]=t,Lu.forEach(e=>e(yt))},get:function(){return Jo[n]}})});Object.defineProperty(yt,"familyPrefix",{enumerable:!0,set:function(n){Jo.cssPrefix=n,Lu.forEach(t=>t(yt))},get:function(){return Jo.cssPrefix}});Er.FontAwesomeConfig=yt;const Lu=[];function T3(n){return Lu.push(n),()=>{Lu.splice(Lu.indexOf(n),1)}}const tr=ty,Ri={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function w3(n){if(!n||!ws)return;const t=oe.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;const e=oe.head.childNodes;let s=null;for(let a=e.length-1;a>-1;a--){const l=e[a],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(s=l)}return oe.head.insertBefore(t,s),n}const S3="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Xu(){let n=12,t="";for(;n-- >0;)t+=S3[Math.random()*62|0];return t}function ul(n){const t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function Iv(n){return n.classList?ul(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function iR(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A3(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(iR(n[e]),'" '),"").trim()}function wd(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function Cv(n){return n.size!==Ri.size||n.x!==Ri.x||n.y!==Ri.y||n.rotate!==Ri.rotate||n.flipX||n.flipY}function R3(n){let{transform:t,containerWidth:e,iconWidth:s}=n;const a={transform:"translate(".concat(e/2," 256)")},l="translate(".concat(t.x*32,", ").concat(t.y*32,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)"),p={transform:"".concat(l," ").concat(c," ").concat(d)},m={transform:"translate(".concat(s/2*-1," -256)")};return{outer:a,inner:p,path:m}}function I3(n){let{transform:t,width:e=ty,height:s=ty,startCentered:a=!1}=n,l="";return a&&YA?l+="translate(".concat(t.x/tr-e/2,"em, ").concat(t.y/tr-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/tr,"em), calc(-50% + ").concat(t.y/tr,"em)) "):l+="translate(".concat(t.x/tr,"em, ").concat(t.y/tr,"em) "),l+="scale(".concat(t.size/tr*(t.flipX?-1:1),", ").concat(t.size/tr*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var C3=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function sR(){const n=WA,t=ZA,e=yt.cssPrefix,s=yt.replacementClass;let a=C3;if(e!==n||s!==t){const l=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");a=a.replace(l,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(d,".".concat(s))}return a}let eT=!1;function ag(){yt.autoAddCss&&!eT&&(w3(sR()),eT=!0)}var x3={mixout(){return{dom:{css:sR,insertCss:ag}}},hooks(){return{beforeDOMElementCreation(){ag()},beforeI2svg(){ag()}}}};const bs=Er||{};bs[_s]||(bs[_s]={});bs[_s].styles||(bs[_s].styles={});bs[_s].hooks||(bs[_s].hooks={});bs[_s].shims||(bs[_s].shims=[]);var Ii=bs[_s];const rR=[],aR=function(){oe.removeEventListener("DOMContentLoaded",aR),Bf=1,rR.map(n=>n())};let Bf=!1;ws&&(Bf=(oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(oe.readyState),Bf||oe.addEventListener("DOMContentLoaded",aR));function O3(n){ws&&(Bf?setTimeout(n,0):rR.push(n))}function dc(n){const{tag:t,attributes:e={},children:s=[]}=n;return typeof n=="string"?iR(n):"<".concat(t," ").concat(A3(e),">").concat(s.map(dc).join(""),"</").concat(t,">")}function nT(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var og=function(t,e,s,a){var l=Object.keys(t),c=l.length,d=e,p,m,v;for(s===void 0?(p=1,v=t[l[0]]):(p=0,v=s);p<c;p++)m=l[p],v=d(v,t[m],m,t);return v};function D3(n){const t=[];let e=0;const s=n.length;for(;e<s;){const a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<s){const l=n.charCodeAt(e++);(l&64512)==56320?t.push(((a&1023)<<10)+(l&1023)+65536):(t.push(a),e--)}else t.push(a)}return t}function ry(n){const t=D3(n);return t.length===1?t[0].toString(16):null}function M3(n,t){const e=n.length;let s=n.charCodeAt(t),a;return s>=55296&&s<=56319&&e>t+1&&(a=n.charCodeAt(t+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}function iT(n){return Object.keys(n).reduce((t,e)=>{const s=n[e];return!!s.icon?t[s.iconName]=s.icon:t[e]=s,t},{})}function ay(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:s=!1}=e,a=iT(t);typeof Ii.hooks.addPack=="function"&&!s?Ii.hooks.addPack(n,iT(t)):Ii.styles[n]=ot(ot({},Ii.styles[n]||{}),a),n==="fas"&&ay("fa",t)}const{styles:Wu,shims:P3}=Ii,oR=Object.keys(Rv),N3=oR.reduce((n,t)=>(n[t]=Object.keys(Rv[t]),n),{});let xv=null,lR={},uR={},cR={},hR={},fR={};function k3(n){return~_3.indexOf(n)}function V3(n,t){const e=t.split("-"),s=e[0],a=e.slice(1).join("-");return s===n&&a!==""&&!k3(a)?a:null}const dR=()=>{const n=s=>og(Wu,(a,l,c)=>(a[c]=og(l,s,{}),a),{});lR=n((s,a,l)=>(a[3]&&(s[a[3]]=l),a[2]&&a[2].filter(d=>typeof d=="number").forEach(d=>{s[d.toString(16)]=l}),s)),uR=n((s,a,l)=>(s[l]=l,a[2]&&a[2].filter(d=>typeof d=="string").forEach(d=>{s[d]=l}),s)),fR=n((s,a,l)=>{const c=a[2];return s[l]=l,c.forEach(d=>{s[d]=l}),s});const t="far"in Wu||yt.autoFetchSvg,e=og(P3,(s,a)=>{const l=a[0];let c=a[1];const d=a[2];return c==="far"&&!t&&(c="fas"),typeof l=="string"&&(s.names[l]={prefix:c,iconName:d}),typeof l=="number"&&(s.unicodes[l.toString(16)]={prefix:c,iconName:d}),s},{names:{},unicodes:{}});cR=e.names,hR=e.unicodes,xv=Sd(yt.styleDefault,{family:yt.familyDefault})};T3(n=>{xv=Sd(n.styleDefault,{family:yt.familyDefault})});dR();function Ov(n,t){return(lR[n]||{})[t]}function L3(n,t){return(uR[n]||{})[t]}function ya(n,t){return(fR[n]||{})[t]}function pR(n){return cR[n]||{prefix:null,iconName:null}}function z3(n){const t=hR[n],e=Ov("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Tr(){return xv}const mR=()=>({prefix:null,iconName:null,rest:[]});function U3(n){let t=un;const e=oR.reduce((s,a)=>(s[a]="".concat(yt.cssPrefix,"-").concat(a),s),{});return KA.forEach(s=>{(n.includes(e[s])||n.some(a=>N3[s].includes(a)))&&(t=s)}),t}function Sd(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=un}=t,s=p3[e][n];if(e===Td&&!n)return"fad";const a=tT[e][n]||tT[e][s],l=n in Ii.styles?n:null;return a||l||null}function j3(n){let t=[],e=null;return n.forEach(s=>{const a=V3(yt.cssPrefix,s);a?e=a:s&&t.push(s)}),{iconName:e,rest:t}}function sT(n){return n.sort().filter((t,e,s)=>s.indexOf(t)===e)}function Ad(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let s=null;const a=Jg.concat(n3),l=sT(n.filter(E=>a.includes(E))),c=sT(n.filter(E=>!Jg.includes(E))),d=l.filter(E=>(s=E,!$A.includes(E))),[p=null]=d,m=U3(l),v=ot(ot({},j3(c)),{},{prefix:Sd(p,{family:m})});return ot(ot(ot({},v),H3({values:n,family:m,styles:Wu,config:yt,canonical:v,givenPrefix:s})),B3(e,s,v))}function B3(n,t,e){let{prefix:s,iconName:a}=e;if(n||!s||!a)return{prefix:s,iconName:a};const l=t==="fa"?pR(a):{},c=ya(s,a);return a=l.iconName||c||a,s=l.prefix||s,s==="far"&&!Wu.far&&Wu.fas&&!yt.autoFetchSvg&&(s="fas"),{prefix:s,iconName:a}}const F3=KA.filter(n=>n!==un||n!==Td),q3=Object.keys(Zg).filter(n=>n!==un).map(n=>Object.keys(Zg[n])).flat();function H3(n){const{values:t,family:e,canonical:s,givenPrefix:a="",styles:l={},config:c={}}=n,d=e===Td,p=t.includes("fa-duotone")||t.includes("fad"),m=c.familyDefault==="duotone",v=s.prefix==="fad"||s.prefix==="fa-duotone";if(!d&&(p||m||v)&&(s.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(s.prefix="fab"),!s.prefix&&F3.includes(e)&&(Object.keys(l).find(T=>q3.includes(T))||c.autoFetchSvg)){const T=$6.get(e).defaultShortPrefixId;s.prefix=T,s.iconName=ya(s.prefix,s.iconName)||s.iconName}return(s.prefix==="fa"||a==="fa")&&(s.prefix=Tr()||"fas"),s}class G3{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const a=e.reduce(this._pullDefinitions,{});Object.keys(a).forEach(l=>{this.definitions[l]=ot(ot({},this.definitions[l]||{}),a[l]),ay(l,a[l]);const c=Rv[un][l];c&&ay(c,a[l]),dR()})}reset(){this.definitions={}}_pullDefinitions(t,e){const s=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(s).map(a=>{const{prefix:l,iconName:c,icon:d}=s[a],p=d[2];t[l]||(t[l]={}),p.length>0&&p.forEach(m=>{typeof m=="string"&&(t[l][m]=d)}),t[l][c]=d}),t}}let rT=[],No={};const Fo={},Y3=Object.keys(Fo);function Q3(n,t){let{mixoutsTo:e}=t;return rT=n,No={},Object.keys(Fo).forEach(s=>{Y3.indexOf(s)===-1&&delete Fo[s]}),rT.forEach(s=>{const a=s.mixout?s.mixout():{};if(Object.keys(a).forEach(l=>{typeof a[l]=="function"&&(e[l]=a[l]),typeof a[l]=="object"&&Object.keys(a[l]).forEach(c=>{e[l]||(e[l]={}),e[l][c]=a[l][c]})}),s.hooks){const l=s.hooks();Object.keys(l).forEach(c=>{No[c]||(No[c]=[]),No[c].push(l[c])})}s.provides&&s.provides(Fo)}),e}function oy(n,t){for(var e=arguments.length,s=new Array(e>2?e-2:0),a=2;a<e;a++)s[a-2]=arguments[a];return(No[n]||[]).forEach(c=>{t=c.apply(null,[t,...s])}),t}function Ca(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];(No[n]||[]).forEach(l=>{l.apply(null,e)})}function wr(){const n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Fo[n]?Fo[n].apply(null,t):void 0}function ly(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n;const e=n.prefix||Tr();if(t)return t=ya(e,t)||t,nT(gR.definitions,e,t)||nT(Ii.styles,e,t)}const gR=new G3,$3=()=>{yt.autoReplaceSvg=!1,yt.observeMutations=!1,Ca("noAuto")},K3={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ws?(Ca("beforeI2svg",n),wr("pseudoElements2svg",n),wr("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=n;yt.autoReplaceSvg===!1&&(yt.autoReplaceSvg=!0),yt.observeMutations=!0,O3(()=>{W3({autoReplaceSvgRoot:t}),Ca("watch",n)})}},X3={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:ya(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=Sd(n[0]);return{prefix:e,iconName:ya(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(yt.cssPrefix,"-"))>-1||n.match(m3))){const t=Ad(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||Tr(),iconName:ya(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){const t=Tr();return{prefix:t,iconName:ya(t,n)||n}}}},Mn={noAuto:$3,config:yt,dom:K3,parse:X3,library:gR,findIconDefinition:ly,toHtml:dc},W3=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=oe}=n;(Object.keys(Ii.styles).length>0||yt.autoFetchSvg)&&ws&&yt.autoReplaceSvg&&Mn.dom.i2svg({node:t})};function Rd(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>dc(e))}}),Object.defineProperty(n,"node",{get:function(){if(!ws)return;const e=oe.createElement("div");return e.innerHTML=n.html,e.children}}),n}function Z3(n){let{children:t,main:e,mask:s,attributes:a,styles:l,transform:c}=n;if(Cv(c)&&e.found&&!s.found){const{width:d,height:p}=e,m={x:d/p/2,y:.5};a.style=wd(ot(ot({},l),{},{"transform-origin":"".concat(m.x+c.x/16,"em ").concat(m.y+c.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}function J3(n){let{prefix:t,iconName:e,children:s,attributes:a,symbol:l}=n;const c=l===!0?"".concat(t,"-").concat(yt.cssPrefix,"-").concat(e):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ot(ot({},a),{},{id:c}),children:s}]}]}function Dv(n){const{icons:{main:t,mask:e},prefix:s,iconName:a,transform:l,symbol:c,title:d,maskId:p,titleId:m,extra:v,watchable:E=!1}=n,{width:T,height:R}=e.found?e:t,V=J6.includes(s),q=[yt.replacementClass,a?"".concat(yt.cssPrefix,"-").concat(a):""].filter(lt=>v.classes.indexOf(lt)===-1).filter(lt=>lt!==""||!!lt).concat(v.classes).join(" ");let U={children:[],attributes:ot(ot({},v.attributes),{},{"data-prefix":s,"data-icon":a,class:q,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(R)})};const K=V&&!~v.classes.indexOf("fa-fw")?{width:"".concat(T/R*16*.0625,"em")}:{};E&&(U.attributes[Ia]=""),d&&(U.children.push({tag:"title",attributes:{id:U.attributes["aria-labelledby"]||"title-".concat(m||Xu())},children:[d]}),delete U.attributes.title);const Q=ot(ot({},U),{},{prefix:s,iconName:a,main:t,mask:e,maskId:p,transform:l,symbol:c,styles:ot(ot({},K),v.styles)}),{children:$,attributes:ut}=e.found&&t.found?wr("generateAbstractMask",Q)||{children:[],attributes:{}}:wr("generateAbstractIcon",Q)||{children:[],attributes:{}};return Q.children=$,Q.attributes=ut,c?J3(Q):Z3(Q)}function aT(n){const{content:t,width:e,height:s,transform:a,title:l,extra:c,watchable:d=!1}=n,p=ot(ot(ot({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});d&&(p[Ia]="");const m=ot({},c.styles);Cv(a)&&(m.transform=I3({transform:a,startCentered:!0,width:e,height:s}),m["-webkit-transform"]=m.transform);const v=wd(m);v.length>0&&(p.style=v);const E=[];return E.push({tag:"span",attributes:p,children:[t]}),l&&E.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),E}function tV(n){const{content:t,title:e,extra:s}=n,a=ot(ot(ot({},s.attributes),e?{title:e}:{}),{},{class:s.classes.join(" ")}),l=wd(s.styles);l.length>0&&(a.style=l);const c=[];return c.push({tag:"span",attributes:a,children:[t]}),e&&c.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),c}const{styles:lg}=Ii;function uy(n){const t=n[0],e=n[1],[s]=n.slice(4);let a=null;return Array.isArray(s)?a={tag:"g",attributes:{class:"".concat(yt.cssPrefix,"-").concat(rg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(rg.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(rg.PRIMARY),fill:"currentColor",d:s[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:e,icon:a}}const eV={found:!1,width:512,height:512};function nV(n,t){!JA&&!yt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function cy(n,t){let e=t;return t==="fa"&&yt.styleDefault!==null&&(t=Tr()),new Promise((s,a)=>{if(e==="fa"){const l=pR(n)||{};n=l.iconName||n,t=l.prefix||t}if(n&&t&&lg[t]&&lg[t][n]){const l=lg[t][n];return s(uy(l))}nV(n,t),s(ot(ot({},eV),{},{icon:yt.showMissingIcons&&n?wr("missingIconAbstract")||{}:{}}))})}const oT=()=>{},hy=yt.measurePerformance&&Gh&&Gh.mark&&Gh.measure?Gh:{mark:oT,measure:oT},Ru='FA "6.7.2"',iV=n=>(hy.mark("".concat(Ru," ").concat(n," begins")),()=>yR(n)),yR=n=>{hy.mark("".concat(Ru," ").concat(n," ends")),hy.measure("".concat(Ru," ").concat(n),"".concat(Ru," ").concat(n," begins"),"".concat(Ru," ").concat(n," ends"))};var Mv={begin:iV,end:yR};const mf=()=>{};function lT(n){return typeof(n.getAttribute?n.getAttribute(Ia):null)=="string"}function sV(n){const t=n.getAttribute?n.getAttribute(Sv):null,e=n.getAttribute?n.getAttribute(Av):null;return t&&e}function rV(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(yt.replacementClass)}function aV(){return yt.autoReplaceSvg===!0?gf.replace:gf[yt.autoReplaceSvg]||gf.replace}function oV(n){return oe.createElementNS("http://www.w3.org/2000/svg",n)}function lV(n){return oe.createElement(n)}function vR(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=n.tag==="svg"?oV:lV}=t;if(typeof n=="string")return oe.createTextNode(n);const s=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){s.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){s.appendChild(vR(l,{ceFn:e}))}),s}function uV(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const gf={replace:function(n){const t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(vR(e),t)}),t.getAttribute(Ia)===null&&yt.keepOriginalSource){let e=oe.createComment(uV(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){const t=n[0],e=n[1];if(~Iv(t).indexOf(yt.replacementClass))return gf.replace(n);const s=new RegExp("".concat(yt.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const l=e[0].attributes.class.split(" ").reduce((c,d)=>(d===yt.replacementClass||d.match(s)?c.toSvg.push(d):c.toNode.push(d),c),{toNode:[],toSvg:[]});e[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",l.toNode.join(" "))}const a=e.map(l=>dc(l)).join(`
`);t.setAttribute(Ia,""),t.innerHTML=a}};function uT(n){n()}function _R(n,t){const e=typeof t=="function"?t:mf;if(n.length===0)e();else{let s=uT;yt.mutateApproach===f3&&(s=Er.requestAnimationFrame||uT),s(()=>{const a=aV(),l=Mv.begin("mutate");n.map(a),l(),e()})}}let Pv=!1;function bR(){Pv=!0}function fy(){Pv=!1}let Ff=null;function cT(n){if(!XE||!yt.observeMutations)return;const{treeCallback:t=mf,nodeCallback:e=mf,pseudoElementsCallback:s=mf,observeMutationsRoot:a=oe}=n;Ff=new XE(l=>{if(Pv)return;const c=Tr();ul(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!lT(d.addedNodes[0])&&(yt.searchPseudoElements&&s(d.target),t(d.target)),d.type==="attributes"&&d.target.parentNode&&yt.searchPseudoElements&&s(d.target.parentNode),d.type==="attributes"&&lT(d.target)&&~v3.indexOf(d.attributeName))if(d.attributeName==="class"&&sV(d.target)){const{prefix:p,iconName:m}=Ad(Iv(d.target));d.target.setAttribute(Sv,p||c),m&&d.target.setAttribute(Av,m)}else rV(d.target)&&e(d.target)})}),ws&&Ff.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function cV(){Ff&&Ff.disconnect()}function hV(n){const t=n.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((s,a)=>{const l=a.split(":"),c=l[0],d=l.slice(1);return c&&d.length>0&&(s[c]=d.join(":").trim()),s},{})),e}function fV(n){const t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),s=n.innerText!==void 0?n.innerText.trim():"";let a=Ad(Iv(n));return a.prefix||(a.prefix=Tr()),t&&e&&(a.prefix=t,a.iconName=e),a.iconName&&a.prefix||(a.prefix&&s.length>0&&(a.iconName=L3(a.prefix,n.innerText)||Ov(a.prefix,ry(n.innerText))),!a.iconName&&yt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=n.firstChild.data)),a}function dV(n){const t=ul(n.attributes).reduce((a,l)=>(a.name!=="class"&&a.name!=="style"&&(a[l.name]=l.value),a),{}),e=n.getAttribute("title"),s=n.getAttribute("data-fa-title-id");return yt.autoA11y&&(e?t["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(s||Xu()):(t["aria-hidden"]="true",t.focusable="false")),t}function pV(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ri,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function hT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:s,rest:a}=fV(n),l=dV(n),c=oy("parseNodeAttributes",{},n);let d=t.styleParser?hV(n):[];return ot({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:s,transform:Ri,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:d,attributes:l}},c)}const{styles:mV}=Ii;function ER(n){const t=yt.autoReplaceSvg==="nest"?hT(n,{styleParser:!1}):hT(n);return~t.extra.classes.indexOf(eR)?wr("generateLayersText",n,t):wr("generateSvgReplacementMutation",n,t)}function gV(){return[...X6,...Jg]}function fT(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ws)return Promise.resolve();const e=oe.documentElement.classList,s=v=>e.add("".concat(JE,"-").concat(v)),a=v=>e.remove("".concat(JE,"-").concat(v)),l=yt.autoFetchSvg?gV():$A.concat(Object.keys(mV));l.includes("fa")||l.push("fa");const c=[".".concat(eR,":not([").concat(Ia,"])")].concat(l.map(v=>".".concat(v,":not([").concat(Ia,"])"))).join(", ");if(c.length===0)return Promise.resolve();let d=[];try{d=ul(n.querySelectorAll(c))}catch{}if(d.length>0)s("pending"),a("complete");else return Promise.resolve();const p=Mv.begin("onTree"),m=d.reduce((v,E)=>{try{const T=ER(E);T&&v.push(T)}catch(T){JA||T.name==="MissingIcon"&&console.error(T)}return v},[]);return new Promise((v,E)=>{Promise.all(m).then(T=>{_R(T,()=>{s("active"),s("complete"),a("pending"),typeof t=="function"&&t(),p(),v()})}).catch(T=>{p(),E(T)})})}function yV(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ER(n).then(e=>{e&&_R([e],t)})}function vV(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(t||{}).icon?t:ly(t||{});let{mask:a}=e;return a&&(a=(a||{}).icon?a:ly(a||{})),n(s,ot(ot({},e),{},{mask:a}))}}const _V=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=Ri,symbol:s=!1,mask:a=null,maskId:l=null,title:c=null,titleId:d=null,classes:p=[],attributes:m={},styles:v={}}=t;if(!n)return;const{prefix:E,iconName:T,icon:R}=n;return Rd(ot({type:"icon"},n),()=>(Ca("beforeDOMElementCreation",{iconDefinition:n,params:t}),yt.autoA11y&&(c?m["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(d||Xu()):(m["aria-hidden"]="true",m.focusable="false")),Dv({icons:{main:uy(R),mask:a?uy(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:T,transform:ot(ot({},Ri),e),symbol:s,title:c,maskId:l,titleId:d,extra:{attributes:m,styles:v,classes:p}})))};var bV={mixout(){return{icon:vV(_V)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=fT,n.nodeCallback=yV,n}}},provides(n){n.i2svg=function(t){const{node:e=oe,callback:s=()=>{}}=t;return fT(e,s)},n.generateSvgReplacementMutation=function(t,e){const{iconName:s,title:a,titleId:l,prefix:c,transform:d,symbol:p,mask:m,maskId:v,extra:E}=e;return new Promise((T,R)=>{Promise.all([cy(s,c),m.iconName?cy(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(V=>{let[q,U]=V;T([t,Dv({icons:{main:q,mask:U},prefix:c,iconName:s,transform:d,symbol:p,maskId:v,title:a,titleId:l,extra:E,watchable:!0})])}).catch(R)})},n.generateAbstractIcon=function(t){let{children:e,attributes:s,main:a,transform:l,styles:c}=t;const d=wd(c);d.length>0&&(s.style=d);let p;return Cv(l)&&(p=wr("generateAbstractTransformGrouping",{main:a,transform:l,containerWidth:a.width,iconWidth:a.width})),e.push(p||a.icon),{children:e,attributes:s}}}},EV={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Rd({type:"layer"},()=>{Ca("beforeDOMElementCreation",{assembler:n,params:t});let s=[];return n(a=>{Array.isArray(a)?a.map(l=>{s=s.concat(l.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(yt.cssPrefix,"-layers"),...e].join(" ")},children:s}]})}}}},TV={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:s=[],attributes:a={},styles:l={}}=t;return Rd({type:"counter",content:n},()=>(Ca("beforeDOMElementCreation",{content:n,params:t}),tV({content:n.toString(),title:e,extra:{attributes:a,styles:l,classes:["".concat(yt.cssPrefix,"-layers-counter"),...s]}})))}}}},wV={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=Ri,title:s=null,classes:a=[],attributes:l={},styles:c={}}=t;return Rd({type:"text",content:n},()=>(Ca("beforeDOMElementCreation",{content:n,params:t}),aT({content:n,transform:ot(ot({},Ri),e),title:s,extra:{attributes:l,styles:c,classes:["".concat(yt.cssPrefix,"-layers-text"),...a]}})))}}},provides(n){n.generateLayersText=function(t,e){const{title:s,transform:a,extra:l}=e;let c=null,d=null;if(YA){const p=parseInt(getComputedStyle(t).fontSize,10),m=t.getBoundingClientRect();c=m.width/p,d=m.height/p}return yt.autoA11y&&!s&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,aT({content:t.innerHTML,width:c,height:d,transform:a,title:s,extra:l,watchable:!0})])}}};const SV=new RegExp('"',"ug"),dT=[1105920,1112319],pT=ot(ot(ot(ot({},{FontAwesome:{normal:"fas",400:"fas"}}),Q6),c3),i3),dy=Object.keys(pT).reduce((n,t)=>(n[t.toLowerCase()]=pT[t],n),{}),AV=Object.keys(dy).reduce((n,t)=>{const e=dy[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function RV(n){const t=n.replace(SV,""),e=M3(t,0),s=e>=dT[0]&&e<=dT[1],a=t.length===2?t[0]===t[1]:!1;return{value:ry(a?t[0]:t),isSecondary:s||a}}function IV(n,t){const e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(t),a=isNaN(s)?"normal":s;return(dy[e]||{})[a]||AV[e]}function mT(n,t){const e="".concat(h3).concat(t.replace(":","-"));return new Promise((s,a)=>{if(n.getAttribute(e)!==null)return s();const c=ul(n.children).filter(T=>T.getAttribute(ey)===t)[0],d=Er.getComputedStyle(n,t),p=d.getPropertyValue("font-family"),m=p.match(g3),v=d.getPropertyValue("font-weight"),E=d.getPropertyValue("content");if(c&&!m)return n.removeChild(c),s();if(m&&E!=="none"&&E!==""){const T=d.getPropertyValue("content");let R=IV(p,v);const{value:V,isSecondary:q}=RV(T),U=m[0].startsWith("FontAwesome");let K=Ov(R,V),Q=K;if(U){const $=z3(V);$.iconName&&$.prefix&&(K=$.iconName,R=$.prefix)}if(K&&!q&&(!c||c.getAttribute(Sv)!==R||c.getAttribute(Av)!==Q)){n.setAttribute(e,Q),c&&n.removeChild(c);const $=pV(),{extra:ut}=$;ut.attributes[ey]=t,cy(K,R).then(lt=>{const rt=Dv(ot(ot({},$),{},{icons:{main:lt,mask:mR()},prefix:R,iconName:Q,extra:ut,watchable:!0})),x=oe.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(x,n.firstChild):n.appendChild(x),x.outerHTML=rt.map(A=>dc(A)).join(`
`),n.removeAttribute(e),s()}).catch(a)}else s()}else s()})}function CV(n){return Promise.all([mT(n,"::before"),mT(n,"::after")])}function xV(n){return n.parentNode!==document.head&&!~d3.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(ey)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function gT(n){if(ws)return new Promise((t,e)=>{const s=ul(n.querySelectorAll("*")).filter(xV).map(CV),a=Mv.begin("searchPseudoElements");bR(),Promise.all(s).then(()=>{a(),fy(),t()}).catch(()=>{a(),fy(),e()})})}var OV={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=gT,n}}},provides(n){n.pseudoElements2svg=function(t){const{node:e=oe}=t;yt.searchPseudoElements&&gT(e)}}};let yT=!1;var DV={mixout(){return{dom:{unwatch(){bR(),yT=!0}}}},hooks(){return{bootstrap(){cT(oy("mutationObserverCallbacks",{}))},noAuto(){cV()},watch(n){const{observeMutationsRoot:t}=n;yT?fy():cT(oy("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const vT=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,s)=>{const a=s.toLowerCase().split("-"),l=a[0];let c=a.slice(1).join("-");if(l&&c==="h")return e.flipX=!0,e;if(l&&c==="v")return e.flipY=!0,e;if(c=parseFloat(c),isNaN(c))return e;switch(l){case"grow":e.size=e.size+c;break;case"shrink":e.size=e.size-c;break;case"left":e.x=e.x-c;break;case"right":e.x=e.x+c;break;case"up":e.y=e.y-c;break;case"down":e.y=e.y+c;break;case"rotate":e.rotate=e.rotate+c;break}return e},t)};var MV={mixout(){return{parse:{transform:n=>vT(n)}}},hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-transform");return e&&(n.transform=vT(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:s,containerWidth:a,iconWidth:l}=t;const c={transform:"translate(".concat(a/2," 256)")},d="translate(".concat(s.x*32,", ").concat(s.y*32,") "),p="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),m="rotate(".concat(s.rotate," 0 0)"),v={transform:"".concat(d," ").concat(p," ").concat(m)},E={transform:"translate(".concat(l/2*-1," -256)")},T={outer:c,inner:v,path:E};return{tag:"g",attributes:ot({},T.outer),children:[{tag:"g",attributes:ot({},T.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:ot(ot({},e.icon.attributes),T.path)}]}]}}}};const ug={x:0,y:0,width:"100%",height:"100%"};function _T(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function PV(n){return n.tag==="g"?n.children:[n]}var NV={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-mask"),s=e?Ad(e.split(" ").map(a=>a.trim())):mR();return s.prefix||(s.prefix=Tr()),n.mask=s,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:s,main:a,mask:l,maskId:c,transform:d}=t;const{width:p,icon:m}=a,{width:v,icon:E}=l,T=R3({transform:d,containerWidth:v,iconWidth:p}),R={tag:"rect",attributes:ot(ot({},ug),{},{fill:"white"})},V=m.children?{children:m.children.map(_T)}:{},q={tag:"g",attributes:ot({},T.inner),children:[_T(ot({tag:m.tag,attributes:ot(ot({},m.attributes),T.path)},V))]},U={tag:"g",attributes:ot({},T.outer),children:[q]},K="mask-".concat(c||Xu()),Q="clip-".concat(c||Xu()),$={tag:"mask",attributes:ot(ot({},ug),{},{id:K,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,U]},ut={tag:"defs",children:[{tag:"clipPath",attributes:{id:Q},children:PV(E)},$]};return e.push(ut,{tag:"rect",attributes:ot({fill:"currentColor","clip-path":"url(#".concat(Q,")"),mask:"url(#".concat(K,")")},ug)}),{children:e,attributes:s}}}},kV={provides(n){let t=!1;Er.matchMedia&&(t=Er.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const e=[],s={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:ot(ot({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=ot(ot({},a),{},{attributeName:"opacity"}),c={tag:"circle",attributes:ot(ot({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||c.children.push({tag:"animate",attributes:ot(ot({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ot(ot({},l),{},{values:"1;0;1;1;0;1;"})}),e.push(c),e.push({tag:"path",attributes:ot(ot({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ot(ot({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:ot(ot({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ot(ot({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},VV={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-symbol"),s=e===null?!1:e===""?!0:e;return n.symbol=s,n}}}},LV=[x3,bV,EV,TV,wV,OV,DV,MV,NV,kV,VV];Q3(LV,{mixoutsTo:Mn});Mn.noAuto;Mn.config;Mn.library;Mn.dom;const py=Mn.parse;Mn.findIconDefinition;Mn.toHtml;const zV=Mn.icon;Mn.layer;Mn.text;Mn.counter;var cg={exports:{}},hg,bT;function UV(){if(bT)return hg;bT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hg=n,hg}var fg,ET;function jV(){if(ET)return fg;ET=1;var n=UV();function t(){}function e(){}return e.resetWarningCache=t,fg=function(){function s(c,d,p,m,v,E){if(E!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},fg}var TT;function BV(){return TT||(TT=1,cg.exports=jV()()),cg.exports}var FV=BV();const _t=Hf(FV);function wT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function Ai(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(e),!0).forEach(function(s){ko(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wT(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function qf(n){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(n)}function ko(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function qV(n,t){if(n==null)return{};var e={},s=Object.keys(n),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function HV(n,t){if(n==null)return{};var e=qV(n,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(e[s]=n[s])}return e}function my(n){return GV(n)||YV(n)||QV(n)||$V()}function GV(n){if(Array.isArray(n))return gy(n)}function YV(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function QV(n,t){if(n){if(typeof n=="string")return gy(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gy(n,t)}}function gy(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}function $V(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(n){var t,e=n.beat,s=n.fade,a=n.beatFade,l=n.bounce,c=n.shake,d=n.flash,p=n.spin,m=n.spinPulse,v=n.spinReverse,E=n.pulse,T=n.fixedWidth,R=n.inverse,V=n.border,q=n.listItem,U=n.flip,K=n.size,Q=n.rotation,$=n.pull,ut=(t={"fa-beat":e,"fa-fade":s,"fa-beat-fade":a,"fa-bounce":l,"fa-shake":c,"fa-flash":d,"fa-spin":p,"fa-spin-reverse":v,"fa-spin-pulse":m,"fa-pulse":E,"fa-fw":T,"fa-inverse":R,"fa-border":V,"fa-li":q,"fa-flip":U===!0,"fa-flip-horizontal":U==="horizontal"||U==="both","fa-flip-vertical":U==="vertical"||U==="both"},ko(t,"fa-".concat(K),typeof K<"u"&&K!==null),ko(t,"fa-rotate-".concat(Q),typeof Q<"u"&&Q!==null&&Q!==0),ko(t,"fa-pull-".concat($),typeof $<"u"&&$!==null),ko(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(ut).map(function(lt){return ut[lt]?lt:null}).filter(function(lt){return lt})}function XV(n){return n=n-0,n===n}function TR(n){return XV(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var WV=["style"];function ZV(n){return n.charAt(0).toUpperCase()+n.slice(1)}function JV(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var s=e.indexOf(":"),a=TR(e.slice(0,s)),l=e.slice(s+1).trim();return a.startsWith("webkit")?t[ZV(a)]=l:t[a]=l,t},{})}function wR(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(p){return wR(n,p)}),a=Object.keys(t.attributes||{}).reduce(function(p,m){var v=t.attributes[m];switch(m){case"class":p.attrs.className=v,delete t.attributes.class;break;case"style":p.attrs.style=JV(v);break;default:m.indexOf("aria-")===0||m.indexOf("data-")===0?p.attrs[m.toLowerCase()]=v:p.attrs[TR(m)]=v}return p},{attrs:{}}),l=e.style,c=l===void 0?{}:l,d=HV(e,WV);return a.attrs.style=Ai(Ai({},a.attrs.style),c),n.apply(void 0,[t.tag,Ai(Ai({},a.attrs),d)].concat(my(s)))}var SR=!1;try{SR=!0}catch{}function t5(){if(!SR&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function ST(n){if(n&&qf(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(py.icon)return py.icon(n);if(n===null)return null;if(n&&qf(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function dg(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ko({},n,t):{}}var AT={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Id=va.forwardRef(function(n,t){var e=Ai(Ai({},AT),n),s=e.icon,a=e.mask,l=e.symbol,c=e.className,d=e.title,p=e.titleId,m=e.maskId,v=ST(s),E=dg("classes",[].concat(my(KV(e)),my((c||"").split(" ")))),T=dg("transform",typeof e.transform=="string"?py.transform(e.transform):e.transform),R=dg("mask",ST(a)),V=zV(v,Ai(Ai(Ai(Ai({},E),T),R),{},{symbol:l,title:d,titleId:p,maskId:m}));if(!V)return t5("Could not find icon",v),null;var q=V.abstract,U={ref:t};return Object.keys(e).forEach(function(K){AT.hasOwnProperty(K)||(U[K]=e[K])}),e5(q[0],U)});Id.displayName="FontAwesomeIcon";Id.propTypes={beat:_t.bool,border:_t.bool,beatFade:_t.bool,bounce:_t.bool,className:_t.string,fade:_t.bool,flash:_t.bool,mask:_t.oneOfType([_t.object,_t.array,_t.string]),maskId:_t.string,fixedWidth:_t.bool,inverse:_t.bool,flip:_t.oneOf([!0,!1,"horizontal","vertical","both"]),icon:_t.oneOfType([_t.object,_t.array,_t.string]),listItem:_t.bool,pull:_t.oneOf(["right","left"]),pulse:_t.bool,rotation:_t.oneOf([0,90,180,270]),shake:_t.bool,size:_t.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:_t.bool,spinPulse:_t.bool,spinReverse:_t.bool,symbol:_t.oneOfType([_t.bool,_t.string]),title:_t.string,titleId:_t.string,transform:_t.oneOfType([_t.string,_t.object]),swapOpacity:_t.bool};var e5=wR.bind(null,va.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const n5={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},i5={prefix:"fas",iconName:"circle-nodes",icon:[512,512,[],"e4e2","M418.4 157.9c35.3-8.3 61.6-40 61.6-77.9c0-44.2-35.8-80-80-80c-43.4 0-78.7 34.5-80 77.5L136.2 151.1C121.7 136.8 101.9 128 80 128c-44.2 0-80 35.8-80 80s35.8 80 80 80c12.2 0 23.8-2.7 34.1-7.6L259.7 407.8c-2.4 7.6-3.7 15.8-3.7 24.2c0 44.2 35.8 80 80 80s80-35.8 80-80c0-27.7-14-52.1-35.4-66.4l37.8-207.7zM156.3 232.2c2.2-6.9 3.5-14.2 3.7-21.7l183.8-73.5c3.6 3.5 7.4 6.7 11.6 9.5L317.6 354.1c-5.5 1.3-10.8 3.1-15.8 5.5L156.3 232.2z"]};function s5(){const[n,t]=at.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}));return at.useEffect(()=>{const e=setInterval(()=>{t(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>clearInterval(e)},[]),L.jsxs(L.Fragment,{children:[L.jsxs("h1",{style:{fontFamily:"'Orbitron', sans-serif",fontSize:"2.2rem",color:"#0f52ba",textAlign:"center",marginBottom:"1rem",letterSpacing:"1px",animation:"blip 0.3s ease-in-out"},children:[L.jsx(Id,{icon:i5,style:{marginRight:8}}),n]},n),L.jsx("style",{children:`
        @keyframes blip {
          0%   { transform: scale(1.05); opacity: 0.8; }
          50%  { transform: scale(1); opacity: 1; }
          100% { transform: scale(1.05); opacity: 0.9; }
        }

        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap');
      `})]})}function r5(){const[n,t]=at.useState([]);at.useEffect(()=>{const a=Fw(Xe,l=>{if(!l){t([]);return}const c=ll(Ts(on,"todos"),br("uid","==",l.uid),C4("createdAt","desc"));return D4(c,p=>{t(p.docs.map(m=>({id:m.id,...m.data()})))})});return()=>a()},[]);const e=async a=>{await PA(_r(on,"todos",a.id),{completed:!a.completed})},s=async a=>{await Ev(_r(on,"todos",a))};return L.jsxs("div",{style:a5,children:[L.jsx("h3",{style:{marginBottom:8},children:"📝 To‑Do List"}),n.length===0&&L.jsx("p",{style:{margin:0},children:"No tasks yet."}),L.jsx("ul",{style:o5,children:n.map(a=>L.jsxs("li",{style:l5,children:[L.jsx("input",{type:"checkbox",checked:!!a.completed,onChange:()=>e(a)}),L.jsx("span",{style:{marginLeft:8,textDecoration:a.completed?"line-through":"none",flex:1},children:a.text}),L.jsx("button",{onClick:()=>s(a.id),style:u5,title:"Delete task","aria-label":`Delete task "${a.text}"`,onMouseEnter:l=>l.currentTarget.style.color="#ff6b6b",onMouseLeave:l=>l.currentTarget.style.color="#f55",children:"✖"})]},a.id))})]})}const a5={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},o5={listStyle:"none",padding:0,margin:0},l5={display:"flex",alignItems:"center",padding:"4px 0"},u5={marginLeft:8,background:"transparent",border:"none",color:"#f55",fontSize:16,cursor:"pointer",transition:"color 0.2s ease"};function c5(n){return Object.fromEntries(Object.entries(n).filter(([t,e])=>e!==void 0))}async function h5(n,t){const e=c5(t),s=_r(on,"userProfiles",n);await MA(s,e,{merge:!0})}async function f5(n){const t=_r(on,"userProfiles",n),e=await DA(t);return e.exists()?e.data():{userName:"User",assistantName:"Assistant",userAvatar:"default-user.png",assistantAvatar:"default-assistant.png"}}const RT=[" Tip: You can ask the assistant to add things to your to-do list if signed in."," Tip: Signing in offers a more unique experience with the Assistant."," Tip: The profile option under menu offers customization options once signed in!"," Use the button to the right to mute or unmute background music."," Tip: The Show/Hide Tools button is a great way to uncramp the screen on mobile!"," Tip: You can add Events to your calendar by clicking the day under Tools!"," Tip: Under heavy construction....(Is it a bug or a feature?)"];function d5(){const[n,t]=at.useState(!1),[e,s]=at.useState(0),[a,l]=at.useState(!0);at.useEffect(()=>{const p=document.getElementById("bg-music");p&&t(p.muted);const m=setInterval(()=>{l(!1),setTimeout(()=>{s(v=>(v+1)%RT.length),l(!0)},600)},12e3);return()=>clearInterval(m)},[]);const c=()=>{const p=window.youtubePlayer;if(p){const m=!n;m?p.mute():p.unMute(),t(m)}},d=()=>{l(!1)};return L.jsxs(L.Fragment,{children:[L.jsx("footer",{onClick:c,title:"Click to toggle music mute",style:{position:"fixed",bottom:10,right:20,zIndex:100,backgroundColor:"#0f52ba",color:"#fff",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",cursor:"pointer",userSelect:"none",boxShadow:"0 0 15px #0f52ba",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",letterSpacing:"0.02em"},children:n?"🔇 Unmute Music":"🎵 Mute Music"}),a&&L.jsxs("div",{className:"footer-tip",children:[L.jsx("span",{className:"tip-icon",children:"💡"}),L.jsx("span",{children:RT[e]}),L.jsx("button",{onClick:d,"aria-label":"Dismiss tip",className:"tip-dismiss",children:"×"})]},e),L.jsx("style",{children:`
        .footer-tip {
          position: fixed;
          bottom: 50px;
          left: 50%;
          transform: translateX(-50%) translateY(0);
          background: rgba(15, 82, 186, 0.8);
          backdrop-filter: blur(6px);
          color: white;
          padding: 12px 20px;
          border-radius: 20px;
          font-size: 14px;
          max-width: 90vw;
          width: fit-content;
          display: flex;
          align-items: center;
          gap: 12px;
          box-shadow: 0 0 15px #0f52ba;
          animation: fadeSlideIn 0.6s ease forwards;
          user-select: none;
          font-weight: 600;
          letter-spacing: 0.02em;
        }

        .tip-icon {
          animation: pulse 2.5s infinite ease-in-out;
          font-size: 18px;
        }

        .tip-dismiss {
          background: transparent;
          border: none;
          color: #fff;
          font-size: 20px;
          cursor: pointer;
          user-select: none;
          font-weight: bold;
          padding: 0 4px;
          line-height: 1;
          transition: color 0.3s ease;
        }
        .tip-dismiss:hover {
          color: #ff6666;
        }

        @keyframes fadeSlideIn {
          from {
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }

        @keyframes pulse {
          0%, 100% {
            text-shadow: 0 0 6px #0f52ba;
          }
          50% {
            text-shadow: 0 0 12px #3ea6ff;
          }
        }

        @media (max-width: 480px) {
          .footer-tip {
            font-size: 12px;
            padding: 8px 16px;
            border-radius: 16px;
          }
          .tip-icon {
            font-size: 16px;
          }
          .tip-dismiss {
            font-size: 18px;
          }
        }
      `})]})}function p5(){const t=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});return L.jsxs(L.Fragment,{children:[L.jsxs("div",{style:{fontFamily:"'Orbitron', sans-serif",fontSize:"1.5rem",color:"#6ec1e4",textAlign:"center",letterSpacing:"1px",animation:"pulseGlow 3s ease-in-out infinite",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:[L.jsx(Id,{icon:n5}),t]}),L.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap');

        @keyframes pulseGlow {
          0%, 100% {
            text-shadow: 0 0 6px #6ec1e4, 0 0 12px #0f52ba;
          }
          50% {
            text-shadow: 0 0 10px #a3c9ff, 0 0 20px #7f00ff;
          }
        }
      `})]})}function m5({onConfirm:n}){return L.jsx("div",{style:pg.overlay,children:L.jsxs("div",{style:pg.modal,children:[L.jsx("h2",{children:"Welcome to Your Virtual Assistant"}),L.jsx("p",{children:"This assistant responds to your voice and text input, plays background music (and sometimes ads), and shows live tools like weather and to-do lists."}),L.jsx("p",{children:"Click the button below to start the experience. "}),L.jsx("p",{children:"Signing in Offers a unique memory experience.(You can use a made up email, this is just a fun project.)"}),L.jsx("button",{style:pg.button,onClick:n,children:"Start Assistant"})]})})}const pg={overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},modal:{background:"#111",color:"#fff",padding:"30px 40px",borderRadius:12,maxWidth:500,textAlign:"center",boxShadow:"0 0 10px #0f52ba"},button:{marginTop:20,padding:"12px 20px",backgroundColor:"#0f52ba",border:"none",color:"#fff",borderRadius:8,fontSize:16,cursor:"pointer"}};var mg,IT;function g5(){return IT||(IT=1,mg=function n(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var s,a,l;if(Array.isArray(t)){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!n(t[a],e[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(l=Object.keys(t),s=l.length,s!==Object.keys(e).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,l[a]))return!1;for(a=s;a--!==0;){var c=l[a];if(!n(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}),mg}var y5=g5();const v5=Hf(y5);var Qh={exports:{}},gg,CT;function _5(){if(CT)return gg;CT=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var t={},e={};return t.on=function(s,a){var l={name:s,handler:a};return e[s]=e[s]||[],e[s].unshift(l),l},t.off=function(s){var a=e[s.name].indexOf(s);a!==-1&&e[s.name].splice(a,1)},t.trigger=function(s,a){var l=e[s],c;if(l)for(c=l.length;c--;)l[c].handler(a)},t},gg=n,gg}var $h={exports:{}},yg,xT;function b5(){if(xT)return yg;xT=1,yg=function(a,l,c){var d=document.head||document.getElementsByTagName("head")[0],p=document.createElement("script");typeof l=="function"&&(c=l,l={}),l=l||{},c=c||function(){},p.type=l.type||"text/javascript",p.charset=l.charset||"utf8",p.async="async"in l?!!l.async:!0,p.src=a,l.attrs&&n(p,l.attrs),l.text&&(p.text=""+l.text);var m="onload"in p?t:e;m(p,c),p.onload||t(p,c),d.appendChild(p)};function n(s,a){for(var l in a)s.setAttribute(l,a[l])}function t(s,a){s.onload=function(){this.onerror=this.onload=null,a(null,s)},s.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),s)}}function e(s,a){s.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,s))}}return yg}var OT;function E5(){return OT||(OT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=b5(),s=a(e);function a(l){return l&&l.__esModule?l:{default:l}}t.default=function(l){var c=new Promise(function(d){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){d(window.YT);return}else{var p=window.location.protocol==="http:"?"http:":"https:";(0,s.default)(p+"//www.youtube.com/iframe_api",function(v){v&&l.trigger("error",v)})}var m=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){m&&m(),d(window.YT)}});return c},n.exports=t.default}($h,$h.exports)),$h.exports}var Kh={exports:{}},Xh={exports:{}},Wh={exports:{}},vg,DT;function T5(){if(DT)return vg;DT=1;var n=1e3,t=n*60,e=t*60,s=e*24,a=s*365.25;vg=function(m,v){v=v||{};var E=typeof m;if(E==="string"&&m.length>0)return l(m);if(E==="number"&&isNaN(m)===!1)return v.long?d(m):c(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function l(m){if(m=String(m),!(m.length>100)){var v=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(m);if(v){var E=parseFloat(v[1]),T=(v[2]||"ms").toLowerCase();switch(T){case"years":case"year":case"yrs":case"yr":case"y":return E*a;case"days":case"day":case"d":return E*s;case"hours":case"hour":case"hrs":case"hr":case"h":return E*e;case"minutes":case"minute":case"mins":case"min":case"m":return E*t;case"seconds":case"second":case"secs":case"sec":case"s":return E*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function c(m){return m>=s?Math.round(m/s)+"d":m>=e?Math.round(m/e)+"h":m>=t?Math.round(m/t)+"m":m>=n?Math.round(m/n)+"s":m+"ms"}function d(m){return p(m,s,"day")||p(m,e,"hour")||p(m,t,"minute")||p(m,n,"second")||m+" ms"}function p(m,v,E){if(!(m<v))return m<v*1.5?Math.floor(m/v)+" "+E:Math.ceil(m/v)+" "+E+"s"}return vg}var MT;function w5(){return MT||(MT=1,function(n,t){t=n.exports=a.debug=a.default=a,t.coerce=p,t.disable=c,t.enable=l,t.enabled=d,t.humanize=T5(),t.names=[],t.skips=[],t.formatters={};var e;function s(m){var v=0,E;for(E in m)v=(v<<5)-v+m.charCodeAt(E),v|=0;return t.colors[Math.abs(v)%t.colors.length]}function a(m){function v(){if(v.enabled){var E=v,T=+new Date,R=T-(e||T);E.diff=R,E.prev=e,E.curr=T,e=T;for(var V=new Array(arguments.length),q=0;q<V.length;q++)V[q]=arguments[q];V[0]=t.coerce(V[0]),typeof V[0]!="string"&&V.unshift("%O");var U=0;V[0]=V[0].replace(/%([a-zA-Z%])/g,function(Q,$){if(Q==="%%")return Q;U++;var ut=t.formatters[$];if(typeof ut=="function"){var lt=V[U];Q=ut.call(E,lt),V.splice(U,1),U--}return Q}),t.formatArgs.call(E,V);var K=v.log||t.log||console.log.bind(console);K.apply(E,V)}}return v.namespace=m,v.enabled=t.enabled(m),v.useColors=t.useColors(),v.color=s(m),typeof t.init=="function"&&t.init(v),v}function l(m){t.save(m),t.names=[],t.skips=[];for(var v=(typeof m=="string"?m:"").split(/[\s,]+/),E=v.length,T=0;T<E;T++)v[T]&&(m=v[T].replace(/\*/g,".*?"),m[0]==="-"?t.skips.push(new RegExp("^"+m.substr(1)+"$")):t.names.push(new RegExp("^"+m+"$")))}function c(){t.enable("")}function d(m){var v,E;for(v=0,E=t.skips.length;v<E;v++)if(t.skips[v].test(m))return!1;for(v=0,E=t.names.length;v<E;v++)if(t.names[v].test(m))return!0;return!1}function p(m){return m instanceof Error?m.stack||m.message:m}}(Wh,Wh.exports)),Wh.exports}var PT;function S5(){return PT||(PT=1,function(n,t){var e={};t=n.exports=w5(),t.log=l,t.formatArgs=a,t.save=c,t.load=d,t.useColors=s,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function s(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(m){try{return JSON.stringify(m)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}};function a(m){var v=this.useColors;if(m[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+m[0]+(v?"%c ":" ")+"+"+t.humanize(this.diff),!!v){var E="color: "+this.color;m.splice(1,0,E,"color: inherit");var T=0,R=0;m[0].replace(/%[a-zA-Z%]/g,function(V){V!=="%%"&&(T++,V==="%c"&&(R=T))}),m.splice(R,0,E)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(m){try{m==null?t.storage.removeItem("debug"):t.storage.debug=m}catch{}}function d(){var m;try{m=t.storage.debug}catch{}return!m&&typeof process<"u"&&"env"in process&&(m=e.DEBUG),m}t.enable(d());function p(){try{return window.localStorage}catch{}}}(Xh,Xh.exports)),Xh.exports}var Zh={exports:{}},NT;function A5(){return NT||(NT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=t.default}(Zh,Zh.exports)),Zh.exports}var Jh={exports:{}},kT;function R5(){return kT||(kT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=t.default}(Jh,Jh.exports)),Jh.exports}var tf={exports:{}},ef={exports:{}},VT;function I5(){return VT||(VT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=t.default}(ef,ef.exports)),ef.exports}var LT;function C5(){return LT||(LT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=I5(),s=a(e);function a(l){return l&&l.__esModule?l:{default:l}}t.default={pauseVideo:{acceptableStates:[s.default.ENDED,s.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[s.default.ENDED,s.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[s.default.ENDED,s.default.PLAYING,s.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=t.default}(tf,tf.exports)),tf.exports}var zT;function x5(){return zT||(zT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=S5(),s=v(e),a=A5(),l=v(a),c=R5(),d=v(c),p=C5(),m=v(p);function v(R){return R&&R.__esModule?R:{default:R}}var E=(0,s.default)("youtube-player"),T={};T.proxyEvents=function(R){var V={},q=function(x){var A="on"+x.slice(0,1).toUpperCase()+x.slice(1);V[A]=function(I){E('event "%s"',A,I),R.trigger(x,I)}},U=!0,K=!1,Q=void 0;try{for(var $=d.default[Symbol.iterator](),ut;!(U=(ut=$.next()).done);U=!0){var lt=ut.value;q(lt)}}catch(rt){K=!0,Q=rt}finally{try{!U&&$.return&&$.return()}finally{if(K)throw Q}}return V},T.promisifyPlayer=function(R){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q={},U=function(A){V&&m.default[A]?q[A]=function(){for(var I=arguments.length,D=Array(I),P=0;P<I;P++)D[P]=arguments[P];return R.then(function(N){var C=m.default[A],le=N.getPlayerState(),ne=N[A].apply(N,D);return C.stateChangeRequired||Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(le)===-1?new Promise(function(X){var ht=function gt(){var zt=N.getPlayerState(),M=void 0;typeof C.timeout=="number"&&(M=setTimeout(function(){N.removeEventListener("onStateChange",gt),X()},C.timeout)),Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(zt)!==-1&&(N.removeEventListener("onStateChange",gt),clearTimeout(M),X())};N.addEventListener("onStateChange",ht)}).then(function(){return ne}):ne})}:q[A]=function(){for(var I=arguments.length,D=Array(I),P=0;P<I;P++)D[P]=arguments[P];return R.then(function(N){return N[A].apply(N,D)})}},K=!0,Q=!1,$=void 0;try{for(var ut=l.default[Symbol.iterator](),lt;!(K=(lt=ut.next()).done);K=!0){var rt=lt.value;U(rt)}}catch(x){Q=!0,$=x}finally{try{!K&&ut.return&&ut.return()}finally{if(Q)throw $}}return q},t.default=T,n.exports=t.default}(Kh,Kh.exports)),Kh.exports}var UT;function O5(){return UT||(UT=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=_5(),a=m(s),l=E5(),c=m(l),d=x5(),p=m(d);function m(E){return E&&E.__esModule?E:{default:E}}var v=void 0;t.default=function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,V=(0,a.default)();if(v||(v=(0,c.default)(V)),T.events)throw new Error("Event handlers cannot be overwritten.");if(typeof E=="string"&&!document.getElementById(E))throw new Error('Element "'+E+'" does not exist.');T.events=p.default.proxyEvents(V);var q=new Promise(function(K){if((typeof E>"u"?"undefined":e(E))==="object"&&E.playVideo instanceof Function){var Q=E;K(Q)}else v.then(function($){var ut=new $.Player(E,T);return V.on("ready",function(){K(ut)}),null})}),U=p.default.promisifyPlayer(q,R);return U.on=V.on,U.off=V.off,U},n.exports=t.default}(Qh,Qh.exports)),Qh.exports}var D5=O5();const M5=Hf(D5);var P5=Object.defineProperty,N5=Object.defineProperties,k5=Object.getOwnPropertyDescriptors,jT=Object.getOwnPropertySymbols,V5=Object.prototype.hasOwnProperty,L5=Object.prototype.propertyIsEnumerable,BT=(n,t,e)=>t in n?P5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,yy=(n,t)=>{for(var e in t||(t={}))V5.call(t,e)&&BT(n,e,t[e]);if(jT)for(var e of jT(t))L5.call(t,e)&&BT(n,e,t[e]);return n},vy=(n,t)=>N5(n,k5(t)),z5=(n,t,e)=>new Promise((s,a)=>{var l=p=>{try{d(e.next(p))}catch(m){a(m)}},c=p=>{try{d(e.throw(p))}catch(m){a(m)}},d=p=>p.done?s(p.value):Promise.resolve(p.value).then(l,c);d((e=e.apply(n,t)).next())});function U5(n,t){var e,s;if(n.videoId!==t.videoId)return!0;const a=((e=n.opts)==null?void 0:e.playerVars)||{},l=((s=t.opts)==null?void 0:s.playerVars)||{};return a.start!==l.start||a.end!==l.end}function FT(n={}){return vy(yy({},n),{height:0,width:0,playerVars:vy(yy({},n.playerVars),{autoplay:0,start:0,end:0})})}function j5(n,t){return n.videoId!==t.videoId||!v5(FT(n.opts),FT(t.opts))}function B5(n,t){var e,s,a,l;return n.id!==t.id||n.className!==t.className||((e=n.opts)==null?void 0:e.width)!==((s=t.opts)==null?void 0:s.width)||((a=n.opts)==null?void 0:a.height)!==((l=t.opts)==null?void 0:l.height)||n.iframeClassName!==t.iframeClassName||n.title!==t.title}var F5={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},q5={videoId:_t.string,id:_t.string,className:_t.string,iframeClassName:_t.string,style:_t.object,title:_t.string,loading:_t.oneOf(["lazy","eager"]),opts:_t.objectOf(_t.any),onReady:_t.func,onError:_t.func,onPlay:_t.func,onPause:_t.func,onEnd:_t.func,onStateChange:_t.func,onPlaybackRateChange:_t.func,onPlaybackQualityChange:_t.func},yf=class extends va.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var e,s;return(s=(e=this.props).onReady)==null?void 0:s.call(e,t)},this.onPlayerError=t=>{var e,s;return(s=(e=this.props).onError)==null?void 0:s.call(e,t)},this.onPlayerStateChange=t=>{var e,s,a,l,c,d,p,m;switch((s=(e=this.props).onStateChange)==null||s.call(e,t),t.data){case yf.PlayerState.ENDED:(l=(a=this.props).onEnd)==null||l.call(a,t);break;case yf.PlayerState.PLAYING:(d=(c=this.props).onPlay)==null||d.call(c,t);break;case yf.PlayerState.PAUSED:(m=(p=this.props).onPause)==null||m.call(p,t);break}},this.onPlayerPlaybackRateChange=t=>{var e,s;return(s=(e=this.props).onPlaybackRateChange)==null?void 0:s.call(e,t)},this.onPlayerPlaybackQualityChange=t=>{var e,s;return(s=(e=this.props).onPlaybackQualityChange)==null?void 0:s.call(e,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=vy(yy({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=M5(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,e,s,a;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let l=!1;const c={videoId:this.props.videoId};if((e=this.props.opts)!=null&&e.playerVars&&(l=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(c.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(c.endSeconds=this.props.opts.playerVars.end)),l){(s=this.internalPlayer)==null||s.loadVideoById(c);return}(a=this.internalPlayer)==null||a.cueVideoById(c)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return z5(this,null,function*(){B5(n,this.props)&&this.updatePlayer(),j5(n,this.props)&&(yield this.resetPlayer()),U5(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return va.createElement("div",{className:this.props.className,style:this.props.style},va.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Cd=yf;Cd.propTypes=q5;Cd.defaultProps=F5;Cd.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var H5=Cd;function G5({date:n,events:t=[],onClose:e,onUpdate:s}){const[a,l]=at.useState(""),[c,d]=at.useState(!1),p=async()=>{!a.trim()||!Xe.currentUser||(d(!0),await BA(Xe.currentUser.uid,a.trim(),n),l(""),await s(),d(!1))},m=async v=>{Xe.currentUser&&(d(!0),await FA(Xe.currentUser.uid,v),await s(),d(!1))};return L.jsx("div",{className:"profile-modal-overlay",onClick:e,children:L.jsxs("div",{className:"profile-modal",onClick:v=>v.stopPropagation(),children:[L.jsx("h2",{style:{marginBottom:"12px"},children:"Schedule"}),t.length>0?L.jsx("ul",{style:{paddingLeft:0,listStyle:"none"},children:t.map((v,E)=>L.jsxs("li",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[L.jsx("span",{children:v.title}),L.jsx("button",{className:"cancel-button",onClick:()=>m(v.title),style:{marginLeft:"12px",padding:"4px 10px"},children:"Delete"})]},E))}):L.jsx("p",{children:"You're currently free for the day."}),L.jsxs("div",{style:{marginTop:"16px"},children:[L.jsx("input",{type:"text",placeholder:"Add event...",value:a,onChange:v=>l(v.target.value),disabled:c}),L.jsxs("div",{className:"modal-buttons",children:[L.jsx("button",{onClick:p,disabled:c,children:"Add"}),L.jsx("button",{onClick:e,className:"cancel-button",children:"Close"})]})]})]})})}function Y5(){const n=new Date,[t,e]=at.useState(n.getMonth()),[s,a]=at.useState(n.getFullYear()),[l,c]=at.useState(null),[d,p]=at.useState([]),m=async()=>{if(Xe.currentUser){const Q=await Wg(Xe.currentUser.uid);p(Q)}};at.useEffect(()=>{const Q=Fw(Xe,$=>{$&&Wg($.uid).then(p)});return()=>Q()},[]);const v=(Q,$)=>new Date(Q,$+1,0).getDate(),E=(Q,$)=>new Date(Q,$,1).getDay(),T=(Q,$,ut)=>{const lt=($+1).toString().padStart(2,"0"),rt=ut.toString().padStart(2,"0");return`${Q}-${lt}-${rt}`},R=()=>{const Q=v(s,t),$=E(s,t),ut=[];let lt=1;for(let rt=0;rt<6;rt++){const x=[];for(let A=0;A<7;A++)if(rt===0&&A<$||lt>Q)x.push(L.jsx("td",{},A));else{const I=new Date(s,t,lt),D=T(s,t,lt),P=lt===n.getDate()&&t===n.getMonth()&&s===n.getFullYear(),N=l&&l.toDateString()===I.toDateString(),C=d.some(le=>le.date===D);x.push(L.jsx("td",{onClick:()=>c(I),className:C?"flash-blue":"",style:{padding:"6px",borderRadius:"6px",textAlign:"center",cursor:"pointer",backgroundColor:P?"#0f52ba":N?"rgba(255,255,255,0.2)":"transparent",color:P?"#fff":"#e0e0e0",fontWeight:P||N?"bold":"normal"},children:lt},A)),lt++}ut.push(L.jsx("tr",{children:x},rt))}return ut},V=()=>{t===0?(e(11),a(s-1)):e(t-1)},q=()=>{t===11?(e(0),a(s+1)):e(t+1)},U=()=>{if(!l)return[];const Q=l.toISOString().split("T")[0];return d.filter($=>$.date===Q)},K=["January","February","March","April","May","June","July","August","September","October","November","December"];return L.jsxs("div",{style:Q5,children:[L.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[L.jsx("button",{onClick:V,style:qT,children:"‹"}),L.jsxs("span",{style:{fontWeight:"bold"},children:[K[t]," ",s]}),L.jsx("button",{onClick:q,style:qT,children:"›"})]}),L.jsxs("table",{style:{width:"100%",borderSpacing:"4px"},children:[L.jsx("thead",{children:L.jsxs("tr",{style:{color:"#0f52ba",fontSize:"12px"},children:[L.jsx("th",{children:"Su"}),L.jsx("th",{children:"Mo"}),L.jsx("th",{children:"Tu"}),L.jsx("th",{children:"We"}),L.jsx("th",{children:"Th"}),L.jsx("th",{children:"Fr"}),L.jsx("th",{children:"Sa"})]})}),L.jsx("tbody",{children:R()})]}),l&&L.jsx(G5,{date:l,events:U(),onClose:()=>c(null),onUpdate:m})]})}const Q5={padding:16,backgroundColor:"rgba(0,0,0,0.6)",color:"#e0e0e0",borderRadius:12,maxWidth:260,fontSize:14,fontFamily:"Arial, sans-serif",boxShadow:"0 0 15px rgba(15,82,186,0.7)"},qT={backgroundColor:"transparent",border:"1px solid #444",color:"#e0e0e0",padding:"2px 8px",borderRadius:4,cursor:"pointer"},$5="sk_b193185ff7e46dcc02ddff6ee5f634ef75973617bd8caefa",K5="7p1Ofvcwsv7UBPoFNcpI",X5="csk-h3cckk6vmk9nj3m383ceet2j9rrkcdr5w9yv3phn4tk449r3";function W5(){const[n,t]=at.useState(!1),[e,s]=at.useState(""),[a,l]=at.useState(""),[c,d]=at.useState(""),[p,m]=at.useState(!1),[v,E]=at.useState([]),[T,R]=at.useState(null),[V,q]=at.useState(!1),[U,K]=at.useState(!1),[Q,$]=at.useState("default-user.png"),[ut,lt]=at.useState("default-assistant.png"),[rt,x]=at.useState({userName:"",assistantName:"Assistant"}),[A,I]=at.useState(!0),D=at.useRef(null),P=()=>{K(nt=>!nt)},{speakIncrementally:N,isSpeaking:C,audioRef:le}=x6($5,K5),ne=nt=>Object.fromEntries(Object.entries(nt).filter(([st,ft])=>ft!==void 0));at.useEffect(()=>Xe.onAuthStateChanged(async st=>{if(R(st),st){const ft=await f5(st.uid);ft&&(ft.userAvatar&&$(ft.userAvatar),ft.assistantAvatar&&lt(ft.assistantAvatar),x({userName:ft.userName||"",assistantName:ft.assistantName||"Assistant"}))}}),[]),at.useEffect(()=>{if(Xe.currentUser){const nt=ne({userAvatar:Q,assistantAvatar:ut,...rt});h5(Xe.currentUser.uid,nt)}},[Q,ut,rt]),at.useEffect(()=>{D.current&&D.current.scrollIntoView({behavior:"smooth"})},[v]);const X=(nt,st)=>{nt==="user"?$(st):lt(st)},ht=(nt,st)=>{x(ft=>({...ft,[nt==="user"?"userName":"assistantName"]:st}))},gt=async nt=>{const st=await L6({userText:nt,chatHistory:v,voiceEnabled:p,speakFn:N,setAssistantText:d,setChatHistory:E,CEREBRAS_API_KEY:X5,userProfile:rt});st!=null&&st.error&&d(ft=>ft||"Sorry, I had trouble understanding that.")},{startListening:zt}=O6({enabled:!0,onResult:nt=>{l(nt),t(!1),gt(nt)},onError:()=>t(!1),onStart:()=>t(!0),onEnd:()=>t(!1)}),M=()=>{e.trim()&&(l(e),d(""),gt(e),s(""))},it=()=>{window.youtubePlayer&&window.youtubePlayer.unMute(),I(!1)};return L.jsxs(L.Fragment,{children:[A&&L.jsx(m5,{onConfirm:it}),L.jsx(R6,{position:"top-left",toastOptions:{style:{background:"#1a1a1a",color:"#fff",border:"1px solid #333",fontFamily:"Arial, sans-serif"},iconTheme:{primary:"#0f52ba",secondary:"#1a1a1a"},duration:4e3},containerStyle:{marginTop:"70px",marginLeft:"20px"}}),L.jsx(Sx,{}),L.jsx(k4,{userAvatar:Q,assistantAvatar:ut,onAvatarChange:X,userName:rt.userName,assistantName:rt.assistantName,onNameChange:ht}),L.jsxs("div",{className:`widget-panel ${U?"visible":"hidden"}`,children:[L.jsx(Ax,{}),L.jsx(r5,{}),L.jsx(Y5,{})]}),L.jsx("button",{className:"widget-toggle-btn",onClick:P,children:U?"Hide Tools":"Show Tools"}),L.jsxs("div",{style:{position:"relative",padding:20,paddingBottom:100,fontFamily:"Arial, sans-serif",color:"#e0e0e0",display:"flex",flexDirection:"column",alignItems:"center",zIndex:10},children:[L.jsx(s5,{}),L.jsx(p5,{}),L.jsx(V4,{audioRef:le,isSpeaking:C}),L.jsx(C6,{voiceEnabled:p,setVoiceEnabled:m,user:T}),L.jsxs("div",{style:{display:"flex",gap:8,maxWidth:600,width:"100%"},children:[L.jsx("input",{type:"text",placeholder:"Type your message here...",value:e,onChange:nt=>s(nt.target.value),disabled:n||C,onKeyDown:nt=>nt.key==="Enter"&&M(),style:{flexGrow:1,padding:10,fontSize:16,borderRadius:6,border:"1px solid #0f52ba",backgroundColor:"#111",color:"#e0e0e0"}}),L.jsx("button",{onClick:M,disabled:n||C||!e.trim(),style:{padding:"10px 16px",fontSize:16,borderRadius:6,border:"none",backgroundColor:"#0f52ba",color:"#fff",cursor:"pointer"},children:"Send"})]}),L.jsx("button",{onClick:zt,disabled:n||C,style:{marginTop:20,padding:"10px 20px",fontSize:16,borderRadius:6,backgroundColor:n?"#555":"#0f52ba",color:"#fff",border:"none",cursor:"pointer"},children:n?"Listening...":"Start Talking"}),L.jsxs("div",{style:{marginTop:40,maxWidth:600,width:"100%"},children:[L.jsx("h3",{style:{textAlign:"center",marginBottom:10},children:"Conversation History"}),L.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px 16px",borderRadius:8,maxHeight:"300px",overflowY:"auto",border:"1px solid #333"},children:[v.map((nt,st)=>{const ft=nt.timestamp?new Date(nt.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return L.jsxs("div",{style:{display:"flex",flexDirection:nt.role==="user"?"row-reverse":"row",alignItems:"flex-start",gap:"8px",marginBottom:"10px"},children:[L.jsx("img",{src:nt.role==="user"?Q:ut,alt:`${nt.role} avatar`,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover",border:"2px solid #555",flexShrink:0}}),L.jsxs("div",{style:{backgroundColor:nt.role==="user"?"#0f52ba":"#333",color:"#fff",padding:"10px 16px",borderRadius:"16px",maxWidth:"75%",wordWrap:"break-word",fontSize:"16px",position:"relative"},children:[L.jsx("div",{children:nt.content}),ft&&L.jsx("div",{style:{fontSize:"10px",color:"#ccc",marginTop:"4px",textAlign:"right",userSelect:"none"},children:ft})]})]},st)}),L.jsx("div",{ref:D})," "]})]}),L.jsx("button",{onClick:()=>E([]),style:{marginTop:10,padding:"6px 12px",backgroundColor:"#0f52ba",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"},children:"Clear Conversation"}),L.jsx("audio",{ref:le}),L.jsx(H5,{videoId:"am1VJP0RnmQ",opts:{height:"0",width:"0",playerVars:{autoplay:1,loop:1,playlist:"am1VJP0RnmQ"}},onReady:nt=>{window.youtubePlayer=nt.target,nt.target.mute()}}),V&&L.jsx(VA,{userAvatar:Q,assistantAvatar:ut,onAvatarChange:X,onClose:()=>q(!1),userName:rt.userName,assistantName:rt.assistantName,onNameChange:ht}),L.jsx(d5,{})]})]})}sI.createRoot(document.getElementById("root")).render(L.jsx(at.StrictMode,{children:L.jsx(W5,{})}));
